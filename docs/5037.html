<html>
<head>
<title>Why You Should Learn Typescript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么你应该学习打字稿</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/why-you-should-learn-typescript-4808211c6cac?source=collection_archive---------4-----------------------#2021-08-22">https://medium.com/nerd-for-tech/why-you-should-learn-typescript-4808211c6cac?source=collection_archive---------4-----------------------#2021-08-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6b01703245fed18ff96bf13ee53ff26a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-Poe_Wo0luO4U1ir"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@celinen?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">席琳·纳多</a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="e33d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我已经在编码生态系统中漫游了一段时间，我有一个我反复听说过的技术列表，但是从来没有坐下来研究过。打字稿排在最前面，本周，我有机会喝了一杯苦艾酒。</p><p id="305d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我是一名JavaScript/React开发人员，我总是试图在空闲时间阅读文档和学习课程，以保持我的技能敏锐并与当前技术保持同步。我从Udemy.com React课程中选了一个常见的项目，并决定继续学习，但是使用<strong class="ix hj"> NextJS </strong>和<strong class="ix hj"> TypeScript </strong>来构建我的版本，而不是普通的JavaScript/React。这给了我一个现实世界的游戏场来解决<strong class="ix hj"> TypeScript </strong>的基础问题，我很快意识到它给我的工作流程带来的巨大好处。</p><p id="a270" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我想向你展示我在学习基础知识时遇到的一些障碍，并分享一些“哦，见鬼，是的！”我拥有的时刻，并解释为什么我不想回到不使用<strong class="ix hj">打字稿</strong>的状态。</p><h2 id="300f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated"><strong class="ak">声明变量</strong></h2><p id="b4a8" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">如果您对TypeScript完全不熟悉，它是JavaScript的超集，这意味着它的特性在很大程度上是可选的，并且所有有效的JavaScript都已经是有效的TypeScript。也就是说，本质上，Typescript允许你使用强类型变量，类似于<strong class="ix hj"> C </strong>或<strong class="ix hj"> Java。这意味着当你声明一个变量时，你也声明了这个变量应该包含什么类型的数据。</strong></p><p id="99d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">声明变量的语法很简单，并且使用我们习惯于JavaScript的类型。</p><p id="3fe3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du kt ku kv kw b">&lt;declarative&gt; &lt;variable name&gt;: &lt;type&gt; = &lt;data&gt;</code></p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">Typescript基本变量</figcaption></figure><p id="2398" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在TypeScript中，一旦声明了变量，就不能更改其类型，也不能将不同类型的数据赋给该变量。如果我们试图将变量<code class="du kt ku kv kw b">num</code>赋给字符串<code class="du kt ku kv kw b">'10'</code>，TypeScript将抛出一个错误。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/a871ae5abd9545b3e5901df2b81f692d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*58jIAiMPhfGS2awynFOslA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">错误类型错误</figcaption></figure><p id="a852" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里，编译器知道<code class="du kt ku kv kw b">num</code>应该是一个<code class="du kt ku kv kw b">number</code>类型，并说“嘿，我不能给它分配一个字符串<code class="du kt ku kv kw b">'10'</code>我回过头来想想我处理来自DOM元素的数据的所有时间，例如，编写Redux动作时，我从来不知道我得到的是数字字符串还是实际数字，并且总是需要手动将我的数据转换为我需要的类型，以满足隐藏的错误。当您的编译器自动为您检查数据类型时，这项繁琐的工作就变得不那么痛苦了。</p><p id="679f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们也可以声明数组和对象。</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="40b2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">类型后面带括号<code class="du kt ku kv kw b">[]</code>表示用指定数据类型填充的数组。对于我们这里的<code class="du kt ku kv kw b">arrayOfNumbers</code>,我们不能向数组中添加另一个不是数字数据类型的元素。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/51ab6837be45e38eb77eaf4016c52512.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lZLSTg4R5ULg5a7N9y1lCQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">数字数组错误</figcaption></figure><p id="afec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里的<code class="du kt ku kv kw b">employee</code>变量也是如此。我们告诉编译器，这个变量应该包含一个对象，并且只有一个<code class="du kt ku kv kw b">name</code>属性、一个<code class="du kt ku kv kw b">string</code>和一个<code class="du kt ku kv kw b">age</code>属性、一个<code class="du kt ku kv kw b">number</code>，除此之外别无其他。尝试添加另一个属性将会引发错误。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/37bc8a99619411b357a2d0c2319e2a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RmEAvaZ-4c32f0161y928A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">对象错误</figcaption></figure><p id="44e8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">与此同时，当需要引用我们的employee对象时，我们现在可以获得intellisense建议，告诉我们该对象包含了什么。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/1a1ee330572e8028cf7c50a9c2ba3b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1B9Y2QpOBez2xzfvQKyBIQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">对象上的智能感知</figcaption></figure><p id="c51c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望您已经感觉到这些新错误有多有用。我花了一些时间来适应，但现在我只是本能地想知道，确切地说，变量是什么数据类型。TypeScript在开发过程中，在构建之前为我们带来了这种保证。</p><h2 id="e790" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">接口</h2><p id="4857" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">所以，我们可以在声明一个变量的时候明确我们的数据类型，但是当事情变得有点复杂的时候呢？大多数时候，我们希望使用数据库中的对象，该数据库可能包含许多数据类型和嵌套数据。我们如何处理更复杂的对象？</p><p id="92c3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们有一个来自TypeScript的新工具，叫做<strong class="ix hj">接口</strong>。现在你可能第一眼就觉得一个接口看起来很像一个类，你是对的，但是它们有一些明显的区别。</p><ol class=""><li id="109c" class="lh li hi ix b iy iz jc jd jg lj jk lk jo ll js lm ln lo lp bi translated">一个类是一个逻辑代码块，旨在<strong class="ix hj">可重用</strong>并基于原型构建对象的实例。</li><li id="608f" class="lh li hi ix b iy lq jc lr jg ls jk lt jo lu js lm ln lo lp bi translated">接口是我们代码的一个<strong class="ix hj">契约</strong>。可以检查和引用的一组规则，以确保对象中数据的完整性。接口不能创建对象，但是可以检查对象以确保它符合一组标准。</li></ol><p id="11e5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我将使用一个我目前正在做的项目中的例子。在这个项目中，我们将原始颜色数据组织成<code class="du kt ku kv kw b">Palette</code>对象。我创建了这个<strong class="ix hj">接口</strong>来检查我的调色板对象的正确性:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="95b7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在我可以在变量声明中引用这个<code class="du kt ku kv kw b">IsPalette</code>类型作为数据类型。如果某个对象的某个方面不符合这个契约的要求，TypeScript会让我知道。让我们获取一些种子数据，并使用这个接口:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="5894" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">根据我导入的接口，任何与该模式的偏差都将引发错误，并且需要在代码编译之前进行纠正。</p><p id="3ac7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，我有一个关于未知数据的问题，或者一次一部分地构建对象，因为你需要精确地匹配接口以避免任何错误。我们有一些有用的工具来帮助我们。首先是<code class="du kt ku kv kw b">any</code>型。你可以用它来告诉编译器代码应该允许任何类型的变量被赋值。</p><p id="415c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我需要使用我已经建立的调色板，并通过一组辅助函数对它们进行一些调整，以创建一个新的、更漂亮的调色板。所以我创建了一个中间接口和一个最终接口来检查我的数据。</p><p id="b49f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我需要让我的数据看起来像这样:</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="6543" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然而，我需要构建一个调色板，然后一点一点地添加<code class="du kt ku kv kw b">colors</code>数据。如果我使用这个接口作为数据类型，我会因为不完整的数据而得到错误。</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="eee4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以我的<code class="du kt ku kv kw b">generatePalette</code>函数在这里接受了一个<code class="du kt ku kv kw b">starterPalette</code>参数，它的类型是<code class="du kt ku kv kw b">IsPalette</code>(我的原始接口)。然后，该函数返回一个类型为<code class="du kt ku kv kw b">IsChromaPalette</code>的对象，其中包含了我们在函数中添加的所有数据。我需要创建一个对象来构建，并使用<code class="du kt ku kv kw b">IsNewPalette</code>类型来验证初始信息，并使用<code class="du kt ku kv kw b">any</code>关键字打开<code class="du kt ku kv kw b">colors</code>属性。</p><p id="75f0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同样，声明这些类型的额外工作的美妙之处在于，许多人为错误在开发的早期就被发现了。事实上，因为我使用的是TypeScript，所以当我创建我的项目版本时，我发现了一些老师没有注意到的错误。</p><h2 id="5171" class="jt ju hi bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">DOM交互</h2><p id="a42d" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">当我试图在我的项目中为颜色选择设置一个带有滑块的包时，我遇到了一个我起初不理解的错误。我最终意识到TypeScript错误确切地告诉了我需要做什么，并把我从后来的调试会话中解救了出来。</p><p id="1eeb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我知道这个新组件有一个<code class="du kt ku kv kw b">onAfterChange</code>属性，但是我不知道它的内部发生了什么，也不知道这个属性在回调中传递了什么。我假设这是一个标准的React合成事件，我也这样对待它，但是当它以这种方式设置时，我总是得到一个错误。</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="acde" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这又是错误的，因为我一直试图将来自<code class="du kt ku kv kw b">onAfterChange</code>的论点视为一个事件，但它绝对不是。尽管我当时并不知道，但错误消息告诉了我到底哪里出错了:</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/a73da6473ace66b7f199192966de247c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IWECsWIgtP9vI8qprGODTA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">滑块误差</figcaption></figure><p id="a6c3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本质上，这告诉我们,<code class="du kt ku kv kw b">onAfterChange</code>属性试图将一个参数传递给一个类型为<code class="du kt ku kv kw b">number</code>的回调函数<code class="du kt ku kv kw b">value</code>,我因为期待一个<code class="du kt ku kv kw b">SyntheticEvent</code>而变得愚蠢。好了，现在我们知道我们期待一个类型为<code class="du kt ku kv kw b">number</code>的<code class="du kt ku kv kw b">value</code>参数，我们可以解决这个问题了！</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="dbeb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好吧！没有错误，一切正常。我们知道我们将从<code class="du kt ku kv kw b">onAfterChange</code>接收到一个<code class="du kt ku kv kw b">number</code>，我们可以用它来直接设置我们的状态，这将选择组件上的颜色。</p><p id="e3ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同样，我可以设法让代码在没有所有这些类型检查的情况下工作，但是在早期确定数据为我节省了大量的调试时间。</p><h1 id="9b0c" class="lw ju hi bd jv lx ly lz jz ma mb mc kd md me mf kg mg mh mi kj mj mk ml km mm bi translated">结论</h1><p id="4972" class="pw-post-body-paragraph iv iw hi ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">我认为TypeScript最好的部分是它是可选的，并且是JavaScript的超集，这使得在您学习它们的时候很容易慢慢地实现它的特性，或者只在可以受益于类型检查的地方使用它。</p><p id="3d6e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就我个人而言，就当我皈依了。我会找借口在任何可能的地方使用TypeScript，并通过不断谈论它有多棒来惹恼聚会上的人。</p><p id="c69b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢您阅读本文，祝您编码愉快！！</p></div></div>    
</body>
</html>