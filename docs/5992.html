<html>
<head>
<title>Amdahl’s Law for Data Pipelines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据管道的阿姆达尔定律</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/amdahls-law-for-data-pipelines-8cd266bdad8c?source=collection_archive---------3-----------------------#2021-12-15">https://medium.com/nerd-for-tech/amdahls-law-for-data-pipelines-8cd266bdad8c?source=collection_archive---------3-----------------------#2021-12-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="954d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在过去的几个月和几年里，我开始注意到数据项目变得难以置信的困难或失败是多么频繁，因为数据管道没有正常工作。大多数情况下，这是因为在管道的某个点上，人工干预是必要的。</p><p id="7f34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">TL；博士</strong>:尽可能地让任何人为干预远离你的数据管道。这将使你的解决方案难以操作。</p><p id="ba00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我将在这一观察结果和阿姆达尔定律之间画出一些相似之处，阿姆达尔定律在谈论一个软件在多个CPU上运行时可以达到的最大速度时经常被引用。</p><h1 id="1a96" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">业务环境中数据的主要目标</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/832c2601a8fa4a5093585befe3955aba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N5AXFZ-LrgbQcUvZ"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">由<a class="ae kr" href="https://unsplash.com/@campaign_creators?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">活动创作者</a>在<a class="ae kr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="9880" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们首先澄清在一个非常普遍的业务环境中，数据的目标是什么。我有意把这个保持在一个很高的水平。</p><p id="8056" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个目标可以是存储数据。这可能是出于内部记录的目的，也可能是为了符合法规要求。您可以、必须以及应该存储什么数据是一个完全不同的主题，我们将把它留给另一篇文章。</p><p id="a8f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二个目标是创造价值。毕竟(我们可能喜欢或不喜欢这个事实)，大多数企业的存在是为了创造价值。因此，第二个目标符合企业的主要利益。</p><p id="8c47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，从数据产生和存储到数据提供任何价值还有很长的路要走。在这一过程中，各种工具与数据争论不休，最终，数据产生了一些价值:一个提供业务洞察力的仪表板，一个向客户推荐新文章的次优产品模型，一个帮助规划下一个业务年度的预测模型…</p><p id="d787" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在一个理想的世界里，数据从存储到价值，没有任何人为干预。这意味着(理论上)快速创造价值，快速洞察，减少员工的手动“数据工作”。最重要的是，我们在流程的自动化步骤中比手动步骤中得到更少的错误。让我们坚持这两个因素:速度和质量。</p><h1 id="30fb" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">阿姆达尔定律</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ks"><img src="../Images/bbff68f135bb5345673e9edd15bf7404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*v0aE24nOx77zv1Jg"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">安德鲁·希曼在<a class="ae kr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="5a7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，现实世界并不理想。从数据存储到数据价值的道路上存在障碍。现在，这些障碍有多“糟糕”？</p><p id="c033" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是我想与阿姆达尔定律进行类比的地方。该定律给出了在一定量的工作不能并行化的约束下，使用多个资源并行化的任务的加速的理论上限。它起源于高性能计算(HPC)领域，其中的“资源”是CPU或GPU。</p><p id="429a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一个例子:假设你有一个软件，用1个CPU在100小时内解决了一个问题。您想要并行化这个软件，但是您很快发现有一部分代码本来就是不可并行化的，例如一些复杂的算法。在这100个小时中，软件花费了5个小时(那“仅仅”是5%！)中的那部分代码。其余95个小时花在易于并行化的代码上。现在，无论你在你的问题上投入多少CPU，你都不可能在不到5个小时内解决问题，因为那是你在代码的串行部分花费的时间！因此，你将不能以大于20的因子来加速解决问题。即使你用了几千个(这在HPC中并不少见)甚至几百万个CPU。您在并行化95%的易于并行化的代码上投入的工作越多，不可并行化的代码就会变得越烦人。它成为你解决问题能力的瓶颈。</p><h1 id="eea5" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">数据管道中的阿姆达尔定律</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kt"><img src="../Images/4bb57e679d9f85d52ed3d8c79f5510d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CBxk9EPA-1vmHdpg"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">在<a class="ae kr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kr" href="https://unsplash.com/@selimarda?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">seli̇m·阿尔达·埃尔伊尔马兹</a>拍摄的照片</figcaption></figure><p id="3bcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看这是如何应用于我们从数据生成和存储到数据提供价值的漫长过程中的？！</p><p id="d992" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的例子中，代码的可并行化部分是您的仪表板、您的ML算法，或者更一般地说，您的“从数据生成值”工具。代码的不可并行部分是数据管道中的人工干预。</p><p id="a814" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你的“从数据中产生价值”的工具越好、越快，在循环中人为干预的烦恼就越大。</p><p id="e591" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">想象一下，有一个业务问题目前是由人们手动从不同的数据源收集数据，手动转换数据，然后手动为利益相关者整合转换后的数据来解决的。这整个过程需要6个月，相当烦人。现在，您编写了一个出色的软件，将“组装”部分从2个月缩短到1个小时，这是一个巨大的加速。但是你猜怎么着:从存储的数据到数据价值的整个过程仍然是4个月(又1个小时)长。此外，记住<strong class="ih hj">垃圾输入，垃圾输出</strong>规则:如果在数据的收集和转换中发生了(人为)错误，并且这些错误将会发生，那么您的软件将会产生垃圾。</p><h1 id="86b6" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">结论</h1><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ku"><img src="../Images/2182080b66d6cbeef031f8e681ffea36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_Snrw1FCWiqFcwVk"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">由<a class="ae kr" href="https://unsplash.com/@nasa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> NASA </a>在<a class="ae kr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="c50f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这对数据相关项目意味着什么？当然，情况大多不像我上面的例子那么简单。但我希望你能抓住要点——看到全局:</p><ol class=""><li id="0c47" class="kv kw hi ih b ii ij im in iq kx iu ky iy kz jc la lb lc ld bi translated">确保尽早发现数据管道中的薄弱环节:有人需要手动触发脚本吗？有人摆弄过最终在你的产品中使用的Excel文件吗，比如软件或仪表板？这些都是禁忌。在你的项目早期解决这些话题，让涉众意识到这些瓶颈将限制你的产品的影响。</li><li id="4003" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">大多数情况下，您无法自己解决这些瓶颈。不要试图绕过它们。请能修理它们的人来修理它们。同样，确保每个人都知道问题可能发生在哪里。</li><li id="9005" class="kv kw hi ih b ii le im lf iq lg iu lh iy li jc la lb lc ld bi translated">一旦发现瓶颈，它就不会停止。改进管道后，开始评估整个管道的下一个弱点。直到从存储数据到数据值的路径完全自动化。</li></ol><p id="9314" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请和我分享你的想法！你以前遇到过这个问题吗？它“仅仅”降低了你的产品的影响吗？还是项目失败了？好吧，这不是我们想谈的。-)你在哪里成功地自动化了事情？数据管道中是否存在无法自动化的东西？</p></div></div>    
</body>
</html>