<html>
<head>
<title>How to Create Custom Module in Magento 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Magento 2 中创建自定义模块</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-create-custom-module-in-magento-2-a193e6b76eb5?source=collection_archive---------5-----------------------#2021-06-24">https://medium.com/nerd-for-tech/how-to-create-custom-module-in-magento-2-a193e6b76eb5?source=collection_archive---------5-----------------------#2021-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es im"><img src="../Images/a49367b218ca4d5ea6faefac3e3042f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LAQInXfq70lVeLDwlFg09g.png"/></div><figcaption class="iu iv et er es iw ix bd b be z dx translated">如何在 Magento 2 中创建自定义模块</figcaption></figure><p id="a199" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">在本文中，我将向您解释如何在 Magento 2 中创建自定义模块。Magento 2 商店中的模块基本上是结构元素。</p><p id="ff6b" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">遵循以下步骤:</p><ol class=""><li id="5f37" class="jw jx hi ja b jb jc jf jg jj jy jn jz jr ka jv kb kc kd ke bi translated">创建模块文件夹</li><li id="6b68" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">创造 registration.php</li><li id="29da" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">创建 etc/module.xml 文件</li><li id="a42d" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">创建 etc/frontend/routes.xml</li><li id="d325" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">创建控制器</li><li id="22d0" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">创建模板文件</li></ol><h2 id="c3d0" class="kk kl hi bd km kn ko kp kq kr ks kt ku jj kv kw kx jn ky kz la jr lb lc ld le bi translated">你可能也会喜欢这篇文章:</h2><ol class=""><li id="8c53" class="jw jx hi ja b jb lf jf lg jj lh jn li jr lj jv kb kc kd ke bi translated"><a class="ae lk" rel="noopener" href="/nerd-for-tech/theme-concept-magento-2-b9a1fafc3590">Magento 2 中的主题概念</a></li><li id="1bf7" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated"><a class="ae lk" rel="noopener" href="/nerd-for-tech/add-and-customize-custom-tab-on-product-page-magento-2-428fc14e92df">在 Magento 2 </a>产品页面上添加并定制自定义标签</li></ol><h1 id="c222" class="ll kl hi bd km lm ln lo kq lp lq lr ku ls lt lu kx lv lw lx la ly lz ma ld mb bi translated">步骤 1:创建模块文件夹</h1><p id="cc13" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated">在 Magento 2 中，我们可以用两种方式存储新的模块文件夹。第一个是<strong class="ja hj"> app/code/ </strong>目录，第二个是<strong class="ja hj"> vendor/ </strong>目录。我将创建第一个，即<strong class="ja hj">应用程序/代码/。</strong></p><p id="be15" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">现在创建您的文件夹:</p><p id="9e02" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> app/code/ &lt;供应商名称&gt; / &lt;模块名称&gt; </strong></p><p id="d26f" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">其中，<vendor_name>是供应商的名称。在我的例子中，卖主的名字是 Aryan。</vendor_name></p><p id="c7c0" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><module_name>是模块的名称。在我的情况下，它是 HelloWorld。</module_name></p><p id="9f1b" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">我的文件夹结构是:</p><p id="97f1" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">app/code/Aryan/hello world/</strong></p><pre class="in io ip iq fd mf mg mh mi aw mj bi"><span id="2439" class="kk kl hi mg b fi mk ml l mm mn">app/code/<br/> ├── Aryan/<br/> │   │   ├──HelloWorld/<br/> │   │   │</span></pre><h1 id="824c" class="ll kl hi bd km lm ln lo kq lp lq lr ku ls lt lu kx lv lw lx la ly lz ma ld mb bi translated">步骤 2:创建 registration.php</h1><p id="9bf2" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated">我们需要 registration.php 文件在 Magento 系统中注册我们的新模块。模块注册成功后，可以在<strong class="ja hj"> app/etc/config.php </strong>文件中看到。</p><p id="a8ca" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">这里我将<strong class="ja hj"><em class="mo">registration.php</em></strong>文件添加到<strong class="ja hj">app/code/Aryan/hello world/</strong>下</p><pre class="in io ip iq fd mf mg mh mi aw mj bi"><span id="cd05" class="kk kl hi mg b fi mk ml l mm mn">&lt;?php</span><span id="4b2c" class="kk kl hi mg b fi mp ml l mm mn">\Magento\Framework\Component\ComponentRegistrar::register(<br/>    \Magento\Framework\Component\ComponentRegistrar::MODULE,<br/>    'Aryan_HelloWorld',<br/>    __DIR__<br/>);</span></pre><h1 id="2e4c" class="ll kl hi bd km lm ln lo kq lp lq lr ku ls lt lu kx lv lw lx la ly lz ma ld mb bi translated">步骤 3:创建 etc/module.xml 文件</h1><p id="2742" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated">这里我会在<strong class="ja hj">app/code/Aryan/hello world/etc/</strong>下添加<strong class="ja hj"> <em class="mo"> module.xml </em> </strong>文件</p><pre class="in io ip iq fd mf mg mh mi aw mj bi"><span id="e4d3" class="kk kl hi mg b fi mk ml l mm mn">&lt;?xml version="1.0"?&gt;<br/>&lt;config xmlns:xsi="<a class="ae lk" href="http://www.w3.org/2001/XMLSchema-instance" rel="noopener ugc nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:noNamespaceSchemaLocation="../../../../../lib/internal/Magento/Framework/Module/etc/module.xsd"&gt;<br/>    &lt;module name="Aryan_HelloWorld" setup_version="1.0.0" active="true"&gt;<br/>    &lt;/module&gt;<br/>&lt;/config&gt;</span></pre><h1 id="b0fe" class="ll kl hi bd km lm ln lo kq lp lq lr ku ls lt lu kx lv lw lx la ly lz ma ld mb bi translated">步骤 4:创建 etc/frontend/routes.xml</h1><p id="dcc9" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated">这里我将在<strong class="ja hj"><em class="mo">app/code/Aryan/hello world/etc/frontend/</em></strong>下创建<strong class="ja hj"> <em class="mo"> routes.xml </em> </strong></p><pre class="in io ip iq fd mf mg mh mi aw mj bi"><span id="0b99" class="kk kl hi mg b fi mk ml l mm mn">&lt;?xml version="1.0"?&gt;<br/>&lt;config xmlns:xsi="<a class="ae lk" href="http://www.w3.org/2001/XMLSchema-instance" rel="noopener ugc nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:noNamespaceSchemaLocation="urn:magento:framework:App/etc/routes.xsd"&gt;<br/> &lt;router id="standard"&gt;<br/>  &lt;route id="helloworld" frontName="helloworld"&gt;<br/>   &lt;module name="Aryan_HelloWorld" /&gt;<br/>  &lt;/route&gt;<br/> &lt;/router&gt;<br/>&lt;/config&gt;</span></pre><h1 id="b412" class="ll kl hi bd km lm ln lo kq lp lq lr ku ls lt lu kx lv lw lx la ly lz ma ld mb bi translated">步骤 5:创建一个控制器</h1><p id="8282" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated">在这里，我将创建控制器文件夹和控制器类。</p><ol class=""><li id="9118" class="jw jx hi ja b jb jc jf jg jj jy jn jz jr ka jv kb kc kd ke bi translated">在<strong class="ja hj">app/code/Aryan/hello world/</strong>下创建<strong class="ja hj"> <em class="mo">控制器</em> </strong>文件夹</li><li id="eae3" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">创建控制器名，在我的例子中，我把控制器名作为<strong class="ja hj">索引。</strong>在<strong class="ja hj">app/code/Aryan/hello world/Controller/Index 下创建<strong class="ja hj"> <em class="mo"> Index </em> </strong>文件夹。</strong></li><li id="4777" class="jw jx hi ja b jb kf jf kg jj kh jn ki jr kj jv kb kc kd ke bi translated">在<strong class="ja hj">app/code/Aryan/hello world/Controller/Index</strong>下创建控制器类<strong class="ja hj"><em class="mo">Index.php</em></strong><em class="mo"/></li></ol><p id="cd2f" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj">内容<em class="mo">Index.php</em>内容</strong></p><pre class="in io ip iq fd mf mg mh mi aw mj bi"><span id="38e5" class="kk kl hi mg b fi mk ml l mm mn">&lt;?php<br/>namespace Aryan\HelloWorld\Controller\Index;</span><span id="4d3d" class="kk kl hi mg b fi mp ml l mm mn">class Index extends \Magento\Framework\App\Action\Action<br/>{<br/>    protected $_pageFactory;<br/>    public function __construct(<br/>        \Magento\Framework\App\Action\Context $context,<br/>        \Magento\Framework\View\Result\PageFactory $pageFactory)<br/>    {<br/>        $this-&gt;_pageFactory = $pageFactory;<br/>        return parent::__construct($context);<br/>    }</span><span id="77f6" class="kk kl hi mg b fi mp ml l mm mn">public function execute()<br/>    {<br/>        return $this-&gt;_pageFactory-&gt;create();<br/>    }<br/>}</span></pre><h1 id="1a92" class="ll kl hi bd km lm ln lo kq lp lq lr ku ls lt lu kx lv lw lx la ly lz ma ld mb bi translated">步骤 5:创建模板文件</h1><p id="1ea0" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated">现在，是时候创建负责在前端呈现内容的<strong class="ja hj">视图</strong>文件夹了。该文件夹包含作为子文件夹的布局、模板和网站。所有布局句柄都在<strong class="ja hj">布局</strong>文件夹下，所有<strong class="ja hj">模板</strong>文件都在 templates 文件夹下，还有 CSS/LESS、images、js 等静态文件。转到<strong class="ja hj"> web </strong>文件夹下。</p><h2 id="d973" class="kk kl hi bd km kn ko kp kq kr ks kt ku jj kv kw kx jn ky kz la jr lb lc ld le bi translated"><strong class="ak"> 1。为我们的模块创建一个布局句柄</strong></h2><p id="5d86" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated">我会在<strong class="ja hj">app/code/Aryan/hello world/view/frontend/layout</strong>下创建<strong class="ja hj"><em class="mo">hello world _ index _ index . XML</em></strong></p><p id="b84e" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">这里，</p><p id="0eb2" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">helloworld 是我们在<strong class="ja hj"><em class="mo">app/code/Aryan/hello world/etc/frontend/routes . XML</em></strong>中声明的前置名</p><p id="7726" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">第一个<strong class="ja hj">索引</strong>是<strong class="ja hj">app/code/Aryan/hello world/Controller/</strong>下的控制器名称</p><p id="423e" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">第二个<strong class="ja hj">索引</strong>是<strong class="ja hj">app/code/Aryan/hello world/Controller/Index 下的类名。</strong></p><p id="395d" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated"><strong class="ja hj"> helloworld_index_index.xml 内容</strong></p><pre class="in io ip iq fd mf mg mh mi aw mj bi"><span id="faf5" class="kk kl hi mg b fi mk ml l mm mn">&lt;?xml version="1.0"?&gt;<br/>&lt;page xmlns:xsi="<a class="ae lk" href="http://www.w3.org/2001/XMLSchema-instance" rel="noopener ugc nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" layout="1column" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd"&gt;<br/>    &lt;referenceContainer name="content"&gt;<br/>        &lt;block class="Magento\Framework\View\Element\Template" name="helloworld.display" template="Aryan_HelloWorld::sayhello.phtml" /&gt;<br/>    &lt;/referenceContainer&gt;<br/>&lt;/page&gt;</span></pre><h2 id="f48b" class="kk kl hi bd km kn ko kp kq kr ks kt ku jj kv kw kx jn ky kz la jr lb lc ld le bi translated"><strong class="ak"> 2 </strong>。创建模板文件</h2><p id="a1f0" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated">我会在<em class="mo"/><strong class="ja hj"><em class="mo">app/code/Aryan/hello world/view/frontend/templates/</em></strong>下创建<strong class="ja hj"><em class="mo">say hello . phtml</em><em class="mo"/></strong></p><pre class="in io ip iq fd mf mg mh mi aw mj bi"><span id="16c5" class="kk kl hi mg b fi mk ml l mm mn">&lt;h2&gt;<br/>    &lt;?= __('Hello World')  ?&gt;<br/>&lt;/h2&gt;<br/>&lt;p&gt;<br/>    &lt;?= __('Lorem ipsum dolor sit, amet consectetur adipisicing elit.')  ?&gt;<br/>&lt;/p&gt;</span></pre><p id="2d13" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">现在，</p><p id="9465" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">需要执行命令:</p><pre class="in io ip iq fd mf mg mh mi aw mj bi"><span id="544a" class="kk kl hi mg b fi mk ml l mm mn">$ php bin/magento setup:upgrade<br/>$ php bin/magento setup:static-content:deploy -f <br/>$ php bin/magento cache:flush</span></pre><p id="4c74" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">现在，我们已经成功地在 Magento 中创建了一个新的模块。</p><p id="533d" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">希望这篇文章能帮助你创建一个自定义模块。如果你有任何疑问，你可以直接发邮件到<a class="ae lk" href="mailto:aryansrivastavadesssigner@gmail.com" rel="noopener ugc nofollow" target="_blank"><strong class="ja hj">aryansrivastavadesssigner@gmail.com</strong></a><strong class="ja hj">问我。</strong></p><p id="51eb" class="pw-post-body-paragraph iy iz hi ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hb bi translated">如果你喜欢这篇文章，你可以给我买杯咖啡<a class="ae lk" href="https://www.buymeacoffee.com/aryansrivastava" rel="noopener ugc nofollow" target="_blank">给我买杯咖啡</a>。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h2 id="7db1" class="kk kl hi bd km kn ko kp kq kr ks kt ku jj kv kw kx jn ky kz la jr lb lc ld le bi translated">下载免费源代码:</h2><p id="9557" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated"><a class="ae lk" href="https://desssigner.in/download/how-to-create-custom-module-in-magento-2/" rel="noopener ugc nofollow" target="_blank">点击这里</a></p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h2 id="0ba5" class="kk kl hi bd km kn ko kp kq kr ks kt ku jj kv kw kx jn ky kz la jr lb lc ld le bi translated">跟我来:</h2><p id="6a74" class="pw-post-body-paragraph iy iz hi ja b jb lf jd je jf lg jh ji jj mc jl jm jn md jp jq jr me jt ju jv hb bi translated"><a class="ae lk" href="https://www.linkedin.com/in/er-aryan-srivastava-0b9576170/" rel="noopener ugc nofollow" target="_blank">领英</a>T56】推特</p></div></div>    
</body>
</html>