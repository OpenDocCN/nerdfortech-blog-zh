<html>
<head>
<title>Synthetic Scripts or Monitoring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">合成脚本或监控</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/synthetic-scripts-never-heard-of-it-359f137224cf?source=collection_archive---------10-----------------------#2021-06-21">https://medium.com/nerd-for-tech/synthetic-scripts-never-heard-of-it-359f137224cf?source=collection_archive---------10-----------------------#2021-06-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="293b" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">没听说过！！！</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/6a5ea4628027b49e37a6318f5fa44357.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DZCuvlJq5sjHVUx_"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">贝南·诺鲁齐在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="5fe0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi kk translated">智能浏览器监控是一种通过模拟用户动作来监控应用程序的方法。我们使用<a class="ae jn" href="https://seleniumhq.github.io/selenium/docs/api/javascript/index.html" rel="noopener ugc nofollow" target="_blank"><em class="kt">Selenium web driver js</em></a><em class="kt">库创建一个 JavaScript 代码片段，通过脚本化的浏览器虚拟地执行用户操作。它还提供了有关业务事务的正常运行时间和性能的信息，或者您的应用程序中最常用的部分。</em></p><ul class=""><li id="a7a2" class="ku kv hi jq b jr js ju jv jx kw kb kx kf ky kj kz la lb lc bi translated">合成脚本可用于测试业务关键的最终用户流程、功能，还有助于检查特定元素和资源是否出现在用户界面上。</li><li id="2c88" class="ku kv hi jq b jr ld ju le jx lf kb lg kf lh kj kz la lb lc bi translated">测试脚本可以被安排在特定的时间和不同的地理位置执行。</li><li id="e001" class="ku kv hi jq b jr ld ju le jx lf kb lg kf lh kj kz la lb lc bi translated">易于识别关键最终用户流程中的不完整部分。</li><li id="0c59" class="ku kv hi jq b jr ld ju le jx lf kb lg kf lh kj kz la lb lc bi translated">通过了解 web 应用程序响应时间慢的地方，有助于提高性能。</li></ul><p id="93e1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">下面是一个合成脚本可以做什么的例子:</p><ol class=""><li id="107c" class="ku kv hi jq b jr js ju jv jx kw kb kx kf ky kj li la lb lc bi translated">访问并登录 web 应用程序。</li><li id="2f67" class="ku kv hi jq b jr ld ju le jx lf kb lg kf lh kj li la lb lc bi translated">尝试导航到您的订单或购买列表。</li><li id="74e9" class="ku kv hi jq b jr ld ju le jx lf kb lg kf lh kj li la lb lc bi translated">检查您的订单是否存在。</li></ol><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="fb40" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">你能看到你的订单吗？如果是的话，对你有好处。如果没有，你我都很难过，因为连我都无法看到它们。感谢 New Relic 的合成监视器帮助我监视这个问题，并在一个客户认识到它之前修复它。因此，我遵循以下几个步骤来开发我的脚本。</p><p id="e7b2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">步骤 1:在 New Relic 中创建一个样本合成监视器。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ll"><img src="../Images/695dc85bd8ea524635941fe9861d7777.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LOCTWNGpHj0UlJAKf_WjmA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">样品监视器</figcaption></figure><p id="b471" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第二步:从侧边栏进入设置中的脚本。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lm"><img src="../Images/5f46006dd05ff6754c296fcd224f8818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3g2gbDwCnKJbyVm-Astxhw.png"/></div></div></figure><p id="4ddd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第三步:将窗口大小设置为类似于你的网页大小。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ln"><img src="../Images/7312f037724d52c4b89a84f26913f1b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DcimH4BJdreZlbcCbzk3kQ.png"/></div></div></figure><blockquote class="lo lp lq"><p id="2bb0" class="jo jp kt jq b jr js ij jt ju jv im jw lr jy jz ka ls kc kd ke lt kg kh ki kj hb bi translated"><strong class="jq hj"> <em class="hi"> $browser </em> </strong>是 selenium-webdriver 的合成监控实例。WebDriver()。它公开了一些 web 驱动 API，如 get()和 findElement()。更多信息请参考下面的链接。</p></blockquote><p id="e867" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><a class="ae jn" href="https://docs.newrelic.com/docs/synthetics/synthetic-monitoring/scripting-monitors/synthetics-scripted-browser-reference-monitor-versions-050/#structure" rel="noopener ugc nofollow" target="_blank">https://docs . new relic . com/docs/synthetics/synthetic-monitoring/scripting-monitors/synthetics-scripted-browser-reference-monitor-versions-050/# structure</a></p><p id="e448" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第 4 步:访问并登录我的 web 应用程序。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/aa15dabc2bc188470816d9d03280469f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rx-_2deUxrBjO5sn2R2p1A.png"/></div></div></figure><blockquote class="lo lp lq"><p id="2b3c" class="jo jp kt jq b jr js ij jt ju jv im jw lr jy jz ka ls kc kd ke lt kg kh ki kj hb bi translated"><strong class="jq hj">T1。然后()</strong>—JS 中处理异步调用的方式是用回调。假设我们必须多次调用服务器，一个接一个地设置应用程序。这变成了嵌套回调地狱。所以有一个概念叫 Promise API。它被设计用来解决嵌套问题。“then()”函数返回 promise 对象，该对象支持对服务器的多个调用的链接。</p><p id="8f02" class="jo jp kt jq b jr js ij jt ju jv im jw lr jy jz ka ls kc kd ke lt kg kh ki kj hb bi translated"><strong class="jq hj"> <em class="hi"> $driver </em> </strong> —提供 selenium-webdriver 模块的所有导出。更多信息请参考:<a class="ae jn" href="https://docs.newrelic.com/docs/synthetics/synthetic-monitoring/scripting-monitors/synthetics-scripted-browser-reference-monitor-versions-050/#locators" rel="noopener ugc nofollow" target="_blank">https://docs . new relic . com/docs/synthetics/synthetic-monitoring/scripting-monitors/synthetics-scripted-browser-reference-monitor-versions-050/# locators</a></p></blockquote><p id="5ab1" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">步骤 5:验证我的 web 应用程序的订单或采购列表页面。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lv"><img src="../Images/2bda5fe6b08e721ce8f9aa1f44a83f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c10AXthLvybUx4fyVF8oHg.png"/></div></div></figure><p id="4ea2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">步骤 6:保存脚本并验证。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lw"><img src="../Images/58eefa8045ae877b6d8de44c092de18b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uuhZNGq2f0-vY19cD-dqig.png"/></div></div></figure><p id="7fc7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">问:不知道这个监视器将如何验证脚本？</p><p id="1f97" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">回答:New Relic 创建了一个完全虚拟化的 Selenium 驱动的 Google Chrome 浏览器，它可以导航您的网站，并遵循脚本的每个步骤。</p><blockquote class="lx"><p id="3d18" class="ly lz hi bd ma mb mc md me mf mg kj dx translated"><strong class="ak">一旦脚本验证完成。检查输出的时间线、脚本日志和屏幕截图。</strong></p></blockquote><figure class="mi mj mk ml mm jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mh"><img src="../Images/8cec39aefcc1062f2805d140aca5fdfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tduXCjPiWguOyXe4xd5evg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">输出</figcaption></figure></div><div class="ab cl mn mo gp mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hb hc hd he hf"><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mu lk l"/></div></figure><h1 id="756d" class="mv mw hi bd mx my mz na nb nc nd ne nf io ng ip nh ir ni is nj iu nk iv nl nm bi translated"><strong class="ak"> <em class="nn">你呢？</em>T15】</strong></h1><p id="82b1" class="pw-post-body-paragraph jo jp hi jq b jr no ij jt ju np im jw jx nq jz ka kb nr kd ke kf ns kh ki kj hb bi translated">您现在可以查看您的订单列表页面吗？</p><h1 id="0691" class="mv mw hi bd mx my mz na nb nc nd ne nf io ng ip nh ir ni is nj iu nk iv nl nm bi translated">参考资料:</h1><ul class=""><li id="7db0" class="ku kv hi jq b jr no ju np jx nt kb nu kf nv kj kz la lb lc bi translated">新遗迹— <a class="ae jn" href="https://docs.newrelic.com/docs/synthetics/" rel="noopener ugc nofollow" target="_blank">综合文档</a></li><li id="f1bc" class="ku kv hi jq b jr ld ju le jx lf kb lg kf lh kj kz la lb lc bi translated">App Dynamics — <a class="ae jn" href="https://docs.appdynamics.com/21.6/en/end-user-monitoring/browser-monitoring/browser-synthetic-monitoring" rel="noopener ugc nofollow" target="_blank">综合文档</a></li></ul></div></div>    
</body>
</html>