<html>
<head>
<title>Introduce yourself to the world of Microservices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向微服务世界介绍自己</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/introduce-yourself-to-the-world-of-microservices-7b917251a763?source=collection_archive---------15-----------------------#2021-06-28">https://medium.com/nerd-for-tech/introduce-yourself-to-the-world-of-microservices-7b917251a763?source=collection_archive---------15-----------------------#2021-06-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0ef6da139ab5503050e1a8b7c47c9f4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*58fJ6NIiObCQ7KqdgjdbHw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来自- <a class="ae iu" href="https://www.google.com/search?q=lot+of+fishes+create+big+fish&amp;tbm=isch&amp;ved=2ahUKEwjmt6CqvIzxAhW42nMBHfwXCDMQ2-cCegQIABAA&amp;oq=lot+of+fishes+create+big+fish&amp;gs_lcp=CgNpbWcQA1DcSFjhbmCAcmgAcAB4AIABiQKIAfkYkgEEMi0xNJgBAKABAaoBC2d3cy13aXotaW1nwAEB&amp;sclient=img&amp;ei=mrXBYOaCDLi1z7sP_K-gmAM&amp;bih=625&amp;biw=1366#imgrc=BvuOMP8ODst4DM" rel="noopener ugc nofollow" target="_blank">谷歌</a></figcaption></figure><p id="a4ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要更深入的掌握微服务，首先要了解微服务和单片架构的区别。</p><h1 id="0f9a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">单片应用。</h1><p id="11e5" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">单片应用程序意味着一个单一的、不可分割的软件。这种系统通常包括客户端用户界面、服务器端程序和数据库。它是集成的，所有功能都从一个中心位置处理和服务。一般来说，单片应用程序有一个大的代码库，缺乏模块化。当开发人员希望更新或替换某些东西时，他们使用相同的代码库。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/2b19704397dd05afbe4c488080657386.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LelubaFyY-CocEwARCT8HQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来自— <a class="ae iu" href="https://www.n-ix.com/microservices-vs-monolith-which-architecture-best-choice-your-business/" rel="noopener ugc nofollow" target="_blank"> n-ix </a></figcaption></figure><h2 id="fcb2" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">单片架构的优势</h2><ul class=""><li id="2877" class="lp lq hi ix b iy kr jc ks jg lr jk ls jo lt js lu lv lw lx bi translated"><strong class="ix hj">易于管理:</strong>易于记录、处理、缓存和监控性能。因为单片应用程序是一个单一的单元。</li><li id="90ee" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated"><strong class="ix hj">易于测试:</strong>与微服务架构相比，单片应用更易于测试。由于单片应用程序是一个单一的不可分割的单元，您可以更快地运行端到端测试。</li><li id="36e1" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated"><strong class="ix hj">易于部署:</strong>整体式应用更易于部署。对于整体应用程序，您只需处理一个文件或目录进行部署。</li></ul><h2 id="53d8" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">整体架构的问题</h2><ul class=""><li id="41ee" class="lp lq hi ix b iy kr jc ks jg lr jk ls jo lt js lu lv lw lx bi translated">在如此紧密耦合的大型复杂应用程序中实现更改更加困难。任何代码修改都有可能影响整个系统，因此必须仔细规划。这使得整个开发过程要长得多。</li><li id="dc79" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">因为当开发人员希望更新或替换某些内容时，他们会使用相同的代码库。因此，他们应该再次压缩整个应用程序，即使是很小的改动。</li><li id="49d1" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">只能缩放整个应用程序，而不能缩放单个组件。</li><li id="049f" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">将新技术应用于一个单一的程序是极其困难的，因为可能整个应用程序都要重写。</li></ul><h1 id="3495" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">微服务架构</h1><p id="9151" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">单片应用程序是一个统一的单元，但是微服务架构将它分成更小的自治单元。每个申请程序都由这些单位作为单独的服务来处理。因此，每个服务都有自己的逻辑和数据库，以及执行自己的专门操作的能力。</p><blockquote class="md"><p id="c1fd" class="me mf hi bd mg mh mi mj mk ml mm js dx translated">微服务架构风格是一种将单个应用程序开发为一套小型服务的方法，每个应用程序都在自己的进程中运行，并通过轻量级机制(通常是HTTP资源API)进行通信。<br/>-马丁·福勒- </p></blockquote><p id="88d7" class="pw-post-body-paragraph iv iw hi ix b iy mo ja jb jc mp je jf jg mq ji jj jk mr jm jn jo ms jq jr js hb bi translated">应用程序的全部功能被分解成可独立部署的模块，这些模块通过微服务架构中称为API(应用程序编程接口)的已定义方法相互通信。每项服务都有自己的范围，可以独立更新、部署和扩展。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/aba31a205ca24fb39d413ad1ca2b6612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B9Pc5PvGJhWxbC9lByYMGQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来自-<a class="ae iu" href="https://www.n-ix.com/microservices-vs-monolith-which-architecture-best-choice-your-business/" rel="noopener ugc nofollow" target="_blank">n-ix.com</a></figcaption></figure><h1 id="59f9" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">微服务的特征</h1><ol class=""><li id="b0d2" class="lp lq hi ix b iy kr jc ks jg lr jk ls jo lt js mt lv lw lx bi translated">微服务有特定的生存目的(领域驱动开发)，每个微服务都应该有自己明确的范围。</li><li id="8f19" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js mt lv lw lx bi translated">微服务必须运行在自己的进程上，不能依赖于另一个进程。它应该运行在自己的web容器上。</li><li id="34eb" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js mt lv lw lx bi translated">微服务可以通过一种轻量级机制相互通信——大多数时候它使用HTTP协议进行通信。</li><li id="45e6" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js mt lv lw lx bi translated">微服务应该具有独立扩展和部署的能力。</li><li id="a9c8" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js mt lv lw lx bi translated">微服务应该以尽可能分散的控制来构建。</li><li id="3269" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js mt lv lw lx bi translated">不同的编程语言可以用来创建不同的微服务，它们可以协同工作。</li><li id="a557" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js mt lv lw lx bi translated">一个较小的团队应该能够开发一个微服务(平均8-12个团队成员)</li></ol><h2 id="1430" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">微服务的可扩展性</h2><p id="c772" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated"><strong class="ix hj"> Scale Cube </strong>是《可伸缩性的艺术<strong class="ix hj">一书中描述的三维可伸缩性范例。</strong></p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/e3cf602b1a1b2738486a9cfc73b75629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uXfvGJWt3WWVFrpotI4xsw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片由- <a class="ae iu" href="https://microservices.io/articles/scalecube.html" rel="noopener ugc nofollow" target="_blank">微服务. io </a></figcaption></figure><h2 id="0346" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">x轴缩放(水平复制)</h2><p id="63b7" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在负载均衡器后面运行应用程序的大量副本被称为X轴扩展。如果有N个副本，则每个副本处理1/N的负载。这是一种简单且广泛使用的扩展程序的方法。</p><p id="8a0c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个应用程序应该能够通过x轴缩放。如果一个实例不够，我们应该能够产生另一个实例并继续下去。</p><h2 id="bfe6" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">z轴缩放(数据分区)</h2><p id="3fc6" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">当使用Z轴缩放时，每台服务器运行相同的代码副本。但是在数据库级别，数据被划分到不同的分片中。因此，每台服务器只负责数据的一个子集。系统的某个组件负责将每个请求路由到适当的服务器。例如:欧洲客户被定向到欧洲服务器，亚洲客户被定向到亚洲服务器，等等。</p><h2 id="3340" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">y轴缩放(功能分解)</h2><p id="af7b" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">这种扩展方法可以通过将应用程序分解成更小的、可独立部署的单元来实现。微服务非常适合这种扩展模式，因为微服务是独立的小型服务，拥有自己的数据库。</p><p id="82c4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，如果我们的应用程序有一个高需求的服务，我们只能克隆那个特定的服务，而不是克隆整个应用程序。</p><h1 id="dd4f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">开发微服务时要记住的事情</h1><ul class=""><li id="f702" class="lp lq hi ix b iy kr jc ks jg lr jk ls jo lt js lu lv lw lx bi translated">每个服务应该能够使用不同的编程语言、框架。</li><li id="ce69" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated"><strong class="ix hj">领域驱动的设计:</strong>服务应该以这样一种方式开发，即一个服务可以独立运行而不依赖于其他服务。</li><li id="4ff3" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated"><strong class="ix hj">必须实现服务弹性和容错:</strong>因为所有的服务都将相互通信，如果一个或一些服务无法工作或没有响应，我们需要有一个适当的机制来维护这种情况(断路器模式、代理等)。</li><li id="2065" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated"><strong class="ix hj">使用合适的可用框架进行微服务开发和部署:</strong>我们不必发明一切；有各种框架可以完成我们需要的各种任务。</li><li id="7f9d" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">我们需要一个能够处理项目所有方面的完整团队。</li></ul><h1 id="4083" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">微服务的优势</h1><ul class=""><li id="5cb1" class="lp lq hi ix b iy kr jc ks jg lr jk ls jo lt js lu lv lw lx bi translated">所有服务都可以独立部署和更新，这提供了更大的灵活性。</li><li id="22f9" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">单个微服务中的错误只会影响该服务，不会影响整个应用程序。</li><li id="206f" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">向微服务应用添加新特性要比向单一程序添加新特性容易得多。</li><li id="64db" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">易于理解和管理，因为服务有自己明确定义的范围</li><li id="0552" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">每个元素都可以独立缩放。性价比很高。</li><li id="723f" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">灵活选择技术，开发团队不限于任何技术。他们可以自由地为每个微服务应用各种技术和框架。</li><li id="0683" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">当故障发生时，我们可以通过简单地修复中断的服务来减少停机时间。</li></ul><h1 id="3876" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">微服务的缺点</h1><ul class=""><li id="458c" class="lp lq hi ix b iy kr jc ks jg lr jk ls jo lt js lu lv lw lx bi translated">格外复杂。因为微服务架构是一个分布式系统，所以您必须仔细选择和配置所有模块和数据库的连接。此外，每个服务必须单独部署。</li><li id="b90d" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">当微服务相互通信时，会有一些延迟。</li><li id="f8a3" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">依赖性管理很难。</li><li id="258c" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">应注意版本控制和部署，因为升级您的版本可能会对您依赖的服务产生影响。</li><li id="a8c4" class="lp lq hi ix b iy ly jc lz jg ma jk mb jo mc js lu lv lw lx bi translated">由于大量可独立部署的组件，集成测试要困难得多。</li></ul><h1 id="d6c8" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">留住Learning❤️</h1></div><div class="ab cl mv mw gp mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="hb hc hd he hf"><h1 id="c001" class="jt ju hi bd jv jw nc jy jz ka nd kc kd ke ne kg kh ki nf kk kl km ng ko kp kq bi translated">参考</h1><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="nh ni l"/></div></figure><div class="nj nk ez fb nl nm"><a href="https://www.n-ix.com/microservices-vs-monolith-which-architecture-best-choice-your-business/" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab dw"><div class="no ab np cl cj nq"><h2 class="bd hj fi z dy nr ea eb ns ed ef hh bi translated">微服务vs Monolith:哪种架构最适合您的企业？</h2><div class="nt l"><h3 class="bd b fi z dy nr ea eb ns ed ef dx translated">微服务在几年前刚刚出现，现在正呈加速趋势。的确，微服务…</h3></div><div class="nu l"><p class="bd b fp z dy nr ea eb ns ed ef dx translated">www.n-ix.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa io nm"/></div></div></a></div><div class="nj nk ez fb nl nm"><a href="https://microservices.io/articles/scalecube.html" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab dw"><div class="no ab np cl cj nq"><h2 class="bd hj fi z dy nr ea eb ns ed ef hh bi translated">比例立方体</h2><div class="nt l"><h3 class="bd b fi z dy nr ea eb ns ed ef dx translated">《可伸缩性的艺术》这本书描述了一个非常有用的三维可伸缩性模型:scale cube。在这个…</h3></div><div class="nu l"><p class="bd b fp z dy nr ea eb ns ed ef dx translated">微服务. io</p></div></div><div class="nv l"><div class="ob l nx ny nz nv oa io nm"/></div></div></a></div><div class="nj nk ez fb nl nm"><a href="https://dzone.com/articles/scale-cube-simplified-scale-model" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab dw"><div class="no ab np cl cj nq"><h2 class="bd hj fi z dy nr ea eb ns ed ef hh bi translated">比例立方体:微服务的简化比例模型- DZone微服务</h2><div class="nt l"><h3 class="bd b fi z dy nr ea eb ns ed ef dx translated">微服务架构的主要优势之一是易于扩展。在经历各种部署和…</h3></div><div class="nu l"><p class="bd b fp z dy nr ea eb ns ed ef dx translated">dzone.com</p></div></div><div class="nv l"><div class="oc l nx ny nz nv oa io nm"/></div></div></a></div></div></div>    
</body>
</html>