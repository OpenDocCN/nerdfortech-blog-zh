<html>
<head>
<title>Moving Platforms in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中移动平台</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/moving-platforms-in-unity-d0908ddf4b75?source=collection_archive---------18-----------------------#2021-07-09">https://medium.com/nerd-for-tech/moving-platforms-in-unity-d0908ddf4b75?source=collection_archive---------18-----------------------#2021-07-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7edf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.5D游戏开发</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/2f11c30d536702eef74953f72b1ef84d.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*TvmMQwql8b1kdBC7_2p1DA.png"/></div></figure><p id="4a31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">目标:</strong>创造一个移动的平台</p><p id="6ab2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我们创建一个可以移动的平台。创建一个矩形立方体，并制作两个副本。将第一个副本重命名为point_A，将第二个重命名为point_B。现在将point_B移动到另一个位置。通过改变x轴的值，我把我的放在左边。</p><p id="a5a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成后，创建一个移动平台脚本，并将其拖到原来的多维数据集中(将其重命名为移动平台)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/c823c583fef0d40ebb18a83e04f8e7fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*hb8KgMaYj0sJLydYsIBhRA.png"/></div></figure><p id="b219" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在移动脚本中，创建两个变换变量来保存两个创建点(point_A和point_B)的变换值。然后定义速度，最后创建一个vector3变量来保存变换位置。</p><p id="409a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后默认设置目标为point_B。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/504c42799e363a690859f9f915fbc2b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RwVbc1GIn0gv8xFbamh_yA.png"/></div></div></figure><p id="afb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在创建一个FixedUpdate方法，这样玩家以后就可以随平台移动了。它在Update()中不起作用，因为它与FixedUpdate()一起“过时”，当玩家在平台顶部时，fixed Update()会覆盖玩家的移动。</p><p id="8383" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，创建一个条件，当变换的当前位置到达point_A时，它将当前目标设置为point_B，当到达point_B时，它再次将其设置为point_A，从而创建一个循环，其中平台从point_A移动到点_B，反之亦然。</p><p id="d25c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后使用move against方法改变平台的变换位置，以每秒钟的速度将游戏对象从当前位置移动到目标位置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jr"><img src="../Images/1641e29cd6c0c873c5bc637e8dfdd869.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0A-e_b2vmGZFppOnHwp5Sw.png"/></div></div></figure><p id="48f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当平台在上面时，要移动玩家，你需要设置触发器，当玩家进入触发器时，触发器检测玩家，并设置玩家的父级，这样玩家就可以跟着移动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/219e047a995205979a264daf67408c0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*_Ps1Ec-vWSCe7NAjBLJBgQ.png"/></div></figure><p id="aad4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们让玩家随着平台移动，但是如果你让它保持原样，那么即使玩家离开平台，玩家也会随着平台移动，因此为了避免这种情况发生，我们创建了另一个触发器来检测玩家的退出，并将玩家的父代设置为空。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jt"><img src="../Images/c4a5a2888983a63055bd73d5bdb0caa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*VN_lho_C7EZuLqb6HteZKA.png"/></div></figure><p id="7a95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，添加另一个盒子碰撞器到移动平台，并在y轴上移动它的中心，这样它可以在玩家进入平台时检测到玩家。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es ju"><img src="../Images/35428ee683ac5fc75a0cf8f61e38c2ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3RsFb1tEUZK0AZw-30NhqQ.gif"/></div></div></figure><p id="25c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是结果。</p></div></div>    
</body>
</html>