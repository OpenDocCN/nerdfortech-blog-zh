<html>
<head>
<title>Let’s add a limit to our usage of thrusters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们给推进器的使用增加一个限制</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/lets-add-a-limit-to-our-usage-of-thrusters-db761c41b6e2?source=collection_archive---------38-----------------------#2021-06-11">https://medium.com/nerd-for-tech/lets-add-a-limit-to-our-usage-of-thrusters-db761c41b6e2?source=collection_archive---------38-----------------------#2021-06-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/600054c62862d1ba3b4be691e824c0d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/0*Z8pJ8ScPzYOQvg-x.gif"/></div></figure><p id="51b5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">今天我们将研究如何限制推进器的使用，这样玩家就不能无限地停留在加速状态。至于推进器的实现是如何完成的，我们在这里做了<a class="ae jk" rel="noopener" href="/nerd-for-tech/lets-add-some-player-thrusters-357403aeab91">。<br/>首先，我们需要创造一个让推进器工作的物体:</a></p><figure class="jm jn jo jp fd ij er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jl"><img src="../Images/b92a30c885038e18fa2fa1ad145f036f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QwRRee3koXLZqlxa5_ImqA.gif"/></div></div></figure><p id="a2ea" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">从这里，我们可以移动我们的酒吧到任何角落，我们想看到的酒吧，这将是我们的最后一个在左下角。在我们到达那个状态之前，我们需要先调整几个设置:</p><figure class="jm jn jo jp fd ij er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jl"><img src="../Images/40ff604c1e847482a4e56d9de4d770cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uOCl38au3yCc80g4fh2r0w.png"/></div></div></figure><p id="1845" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们首先要在层次结构中打开新的滑块对象，并关闭我们的幻灯片区域。在父对象中，我们将把我们的值调整到所需的数量。从那里，我们可以去我们的填充和背景选项，并改变它:</p><figure class="jm jn jo jp fd ij er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ju"><img src="../Images/cbd64d9dbe068ef34e9a1706ce90f18c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eAn2LzMtOh9BcjugfAgqfg.jpeg"/></div></div></figure><p id="826b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们已经设置好了我们的推力器栏，我们可以进入UIManager脚本并开始创建代码来使我们的推力器栏开始工作。首先，我们将自己制作一个滑块变量和一个bool来使用:</p><figure class="jm jn jo jp fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/a38fa0a0d3e65123bf754d184f588ecb.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*MGVYh1c7xocq8VnTxKHqpA.png"/></div></figure><p id="c5f1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们的滑块变量，我们将在Unity编辑器中添加新制作的滑块。从这里，我们将进入我们的空开始，并设置我们的推力杆的值为10。由于我们使用的是滑块，我们需要添加。值添加到代码行，然后输入我们需要的值:</p><figure class="jm jn jo jp fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/23fbf2d401f768ba37c9c0b039ff89ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*qil-xnTO2clo4KdXvYTEEQ.png"/></div></figure><p id="7c6d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">从这里，我们将快速进入我们的玩家脚本，并调整我们的船的速度是如何确定的。由于我们将使用脚本连接，我们将简化我们如何决定何时激活我们的推进器助推或不。首先，我们将创建几个新的浮点数，然后在Void start中设置它们的值:</p><figure class="jm jn jo jp fd ij er es paragraph-image"><div class="er es jx"><img src="../Images/b3b896fd79cb5092b00c0f2fea3a0e4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:448/format:webp/1*-Ju2hM0H98FfxrP5f3LPqQ.png"/></div></figure><figure class="jm jn jo jp fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/dccac25e10c70bf079dc3b2f9bd78d97.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*XW1qBAPqwGNFD5cT2GRrEQ.png"/></div></figure><p id="279d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">从这里开始，我们将在玩家脚本上创建一个新的公共void来确定我们的_speed值。为了使工作更容易，我们将创建一个简单的开关语句来确定推进器是否处于活动状态:</p><figure class="jm jn jo jp fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/2a80a04a56f5b5fda7bafdd178a172f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*NCJRqDpLnKP3_9beHjagUw.png"/></div></figure><p id="a1d3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">从这里，我们将快速返回到UIManager脚本，并添加几个新的空白来处理:</p><figure class="jm jn jo jp fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/f1f73595d8ad65dd3d63b9d7415dfbe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*l4DaUKA0zP5aQlApmKP8dA.png"/></div></figure><p id="e92c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，我们告诉unity，如果我们不使用推进器，我们希望它以每秒1点的速度充电。否则，只要我们的值为0或以上，我们希望以每秒3的速率使用它。只要剩余值为3或更高，推力启动部分将允许我们使用我们的推进器。如果我们在它下降到30%以下时按住shift键，我们仍然可以使用推进器，但如果我们在它下降到30%以下或达到0后放开它，推进器将不会再次工作，直到我们达到30%。</p><p id="4e60" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们需要调整的最后一部分是速度变量，以及我们如何调整脚本以使其正常工作:</p><figure class="jm jn jo jp fd ij er es paragraph-image"><div class="er es kb"><img src="../Images/6ad8536b5378da4c94d9553d01a3c6ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*cP9O8_Kk7Yj92X5hGXzd2A.png"/></div></figure><p id="7093" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们所做的是将我们的两个移动方法移到一个if else语句中。我们告诉Unity的是，如果我们持有LShift，我们希望在UIManager上启用我们的ThrustEnabled以及_speed变量，在这种情况下，它将具有推进器乘数。否则，我们的速度将只是一个固定的速率。现在我们已经完成了所有的设置，我们可以回到我们的Unity编辑器，检查推进器是否如预期的那样工作:</p><figure class="jm jn jo jp fd ij er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kc"><img src="../Images/a472da29c4efa192da18ea07b662e53d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NE2SK1rR9oEOzgDVoF715w.gif"/></div></div></figure><p id="39e0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们已经做到了，我们已经设法改变了它，所以我们现在增加的推进器有一个有限的使用期，这样我们就不能在整个游戏中一直高速飞行。</p></div></div>    
</body>
</html>