<html>
<head>
<title>Survival Analysis-A theoretical perspective</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生存分析——一个理论视角</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/survival-analysis-a-theoretical-perspective-6c224dddb760?source=collection_archive---------1-----------------------#2022-03-08">https://medium.com/nerd-for-tech/survival-analysis-a-theoretical-perspective-6c224dddb760?source=collection_archive---------1-----------------------#2022-03-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c1b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">生存分析是机器统计的一个分支，其中结果变量是直到事件发生所花费的时间。例如，在一项研究中，对受病毒或致命疾病折磨的患者进行测试，以根据患者的特征(如年龄、性别、其他相关疾病等)确定存活时间。生存分析还应用于其他领域，如机械工程，用于评估系统可靠性，以及市场营销，用于评估客户在订阅中的流失情况。</p><p id="e975" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，虽然它非常类似于回归问题，但有一个主要的区别。这项研究中的许多受试者可能不会经历这一事件。例如，在客户流失的例子中，许多客户可能仍然是客户并使用服务。在生存分析中，这被称为删失数据。</p><p id="ac79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">审查可以通过多种方式进行:</p><ol class=""><li id="a3a2" class="jd je hi ih b ii ij im in iq jf iu jg iy jh jc ji jj jk jl bi translated"><strong class="ih hj">右删失:</strong>在此过程中，事件时间与观察时间一样大。例如，在一项对经历威胁生命的疾病的顾客的研究中，一些顾客将能够在经历中存活下来，在这种情况下，该事件将不会发生。</li><li id="b511" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><strong class="ih hj">左删截</strong>:在这类实验中，观察时间会比事件时间大。例如，研究时间超过9个月的孕妇研究。</li><li id="9f70" class="jd je hi ih b ii jm im jn iq jo iu jp iy jq jc ji jj jk jl bi translated"><strong class="ih hj">区间删截:</strong>这是我们不知道事件时间，但不知道它落在某个区间。例如每月对患者进行一次调查，以评估该事件是否已经发生。</li></ol><p id="d5bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">生存函数基本上返回在时间<em class="jr"> t </em>之后发生的事件的概率分布。数学上它可以表示为</p><p id="3cf1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">S(t)=P(T&gt;t)</p><p id="c89a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中生存函数S(t)给出了受试者在时间t后生存的概率函数。典型的生存曲线是向下倾斜的，表明随着时间t的增加，生存概率降低。在实践层面上，这是非常直观的，因为随着时间的推移，患者患病或客户流失的可能性会降低。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es js"><img src="../Images/443d93781bba645caa8f00c6836e3b32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*cSY-Ziqc9TxCkHwUeldzZw.jpeg"/></div></figure><p id="a5fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">人们也可以争辩说，人们也可以计算病人在t时刻死亡的概率，但是由于删截，我们不能这样做。删截不允许我们计算事件发生的概率，所以我们计算在特定时间的生存概率。</p><p id="423c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">危险功能</strong></p><p id="4226" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">危险函数与生存函数相反。它是事件率。时间t的危险是事件在每个时间发生的可能性。</p><p id="50a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">平均值&amp;中位生存时间</strong></p><p id="8b1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">受试者的平均存活时间可以通过从零到存活时间的存活曲线下的面积来计算。它可以通过对生存函数进行时间积分来计算。</p><p id="1617" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">中位生存时间是生存概率为0.5的时间。</p><h1 id="80a2" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">估计概率分布</h1><p id="3675" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">有多种非参数和参数方法来模拟生存函数的分布。。</p><p id="2f4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">威布尔分布</strong></p><p id="f335" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最流行的方法之一是威布尔分布，它是模拟机器故障的理想方法。威布尔分布的一个例子如下</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es ld"><img src="../Images/ab67d05da4969b8270bb5c2be89ab00f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/1*gNk7ZQXvbsQZSj4QQGba-g.gif"/></div></figure><p id="3b4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">威布尔分布允许我们通过改变它的参数以指数形式扩展函数。A b &lt;1 indicates that the hazard rate is expected to fal while a b&gt; 1意味着危险率预计会增加。</p><p id="9166" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">指数分布</strong></p><p id="6345" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在指数分布中，风险率应该是常数。数学上它可以表示如下:</p><p id="2a33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">危险函数</strong> : h(t)=p</p><p id="93f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">生存功能:</strong> S(t)=e^-pt</p><p id="2cb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">密度函数:</strong> pe^pt</p><p id="37ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当事件率随时间保持不变时，指数分布是理想的。</p><h1 id="540b" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated"><strong class="ak">型号对比</strong></h1><p id="2645" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">评估生存模型准确性的最常见方法之一是<strong class="ih hj"> Brier评分</strong>。Brier分数给出了与实际相比的任何概率度量的准确性。数学上可以表示如下:</p><p id="7b21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Brier得分= 1/n *σ(ft-ot)2</p><p id="1d1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在哪里</p><p id="4531" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">n =样本量</p><p id="195e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">f =预测概率</p><p id="27f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">t =时间</p><p id="ef04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">o =原始概率。</p><p id="5224" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，这种度量的问题是需要花费大量的时间来训练。评估中的另一个有用的度量可以是<strong class="ih hj"> AIC </strong>(阿凯克信息标准)，数学上表示为</p><p id="135f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AIC=-2logL+2k</p><p id="3512" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中L =模型的对数似然</p><p id="6d87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">k =参数的数量</p><h1 id="a309" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated"><strong class="ak">非参数方法</strong></h1><h2 id="4b5f" class="le kb hi bd kc lf lg lh kg li lj lk kk iq ll lm ko iu ln lo ks iy lp lq kw lr bi translated">卡普兰·迈耶曲线</h2><p id="058f" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">卡普兰迈耶估计量中最常见的建模方法之一。</p><p id="fcc5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于生存分析，我们评估变量，在这种情况下，我们将它定义为Y，即事件时间或观察时间的最小值。换句话说</p><p id="e930" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">y =最小值(E，C)</p><p id="99be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中E是事件时间，C是审查时间。</p><p id="4693" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">对数秩检验</strong></p><p id="aa09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们需要看两组的生存分布是否有差异。例如，在一个实验中，我们可能需要观察对照组和治疗组的存活率分布是否不同。我们也可以进行t检验，但是正如我们之前解释的那样，我们可能会因为审查而遇到问题。</p><p id="80f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对数秩检验是一种大样本卡方检验，它使用卡方统计来比较两条或多条KM曲线。对数秩检验可以用数学方法表示如下。</p><p id="02e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">w =(X E(X))/Var(X)。</p><p id="3522" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">其他话题</strong></p><p id="62f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在接下来的几篇文章中，我们将对python进行生存分析，还将讨论Cox比例风险模型。敬请期待</p><p id="692a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">参考文献</strong></p><blockquote class="ls lt lu"><p id="7f2a" class="if ig jr ih b ii ij ik il im in io ip lv ir is it lw iv iw ix lx iz ja jb jc hb bi translated"><em class="hi"> Gareth J .、Daniela W .、Trevor H. &amp; Robert T. </em> <strong class="ih hj">统计学习导论:在R(统计中的施普林格文本)中的应用</strong> <em class="hi">。斯普林格。</em></p></blockquote></div></div>    
</body>
</html>