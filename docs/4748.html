<html>
<head>
<title>Dynamic platforms | Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">动态平台| Unity</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/dynamic-platforms-unity-28cfe83af90?source=collection_archive---------11-----------------------#2021-08-05">https://medium.com/nerd-for-tech/dynamic-platforms-unity-28cfe83af90?source=collection_archive---------11-----------------------#2021-08-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="3686" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="e124" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于如何使用Unity循环移动平台的快速指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/7ae661352c2b7d6fa9031d7a6c6eb6e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cqw9VWBrhE4Lxo4AwhTfEQ.gif"/></div></div></figure><p id="39eb" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:实现一种统一循环平台运动的方式。</p><p id="a59b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在上一篇文章中，我介绍了<a class="ae ko" rel="noopener" href="/nerd-for-tech/creating-collectables-unity-ccb59ea0c191">如何在Unity中创建收藏</a>。现在，是时候为我们的平台游戏引入移动平台了。</p><h1 id="eeff" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">实施运动</h1><p id="4c06" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">首先，让我们来看看当前的场景和原始的游戏对象。胶囊是播放器，球体是收藏品，修改过的立方体是平台:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/9791b447da0457e32a499f54f6f04e0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HCEYtfnYUffliEXsvadw_A.png"/></div></div></figure><p id="b6f9" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了实施平台运动，让我们:</p><ul class=""><li id="a3c7" class="lm ln hi ju b jv jw jy jz kb lo kf lp kj lq kn lr ls lt lu bi translated">创建一个新的脚本来处理移动。</li><li id="ca57" class="lm ln hi ju b jv lv jy lw kb lx kf ly kj lz kn lr ls lt lu bi translated">选择要移动的平台。</li><li id="6a7a" class="lm ln hi ju b jv lv jy lw kb lx kf ly kj lz kn lr ls lt lu bi translated">通过检查器附加相应的脚本。</li></ul><div class="jh ji jj jk fd ab cb"><figure class="ma jl mb mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/2b5ac38536a9967af7e0365360042c42.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/1*iS04-0TNYXPW9jDQBcEK4Q.gif"/></div></figure><figure class="ma jl mg mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/e88eee51f4e0770e85c6d916d78cfd44.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/1*SrmGTl7rd-VSra94vSJCDg.gif"/></div></figure><figure class="ma jl mh mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/1f37e6628907db4ab233bc612a66a32b.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/1*cIF0obNONIIFlyaN6E_aKw.gif"/></div></figure></div><p id="db17" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">附加脚本后，让我们打开它并创建下一个变量:</p><ul class=""><li id="b911" class="lm ln hi ju b jv jw jy jz kb lo kf lp kj lq kn lr ls lt lu bi translated">航点</li></ul><p id="b2d0" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个列表将存储来自空游戏对象的转换组件，这些组件将决定在整个平台的路径中要遵循的路点。</p><ul class=""><li id="695a" class="lm ln hi ju b jv jw jy jz kb lo kf lp kj lq kn lr ls lt lu bi translated">目标</li></ul><p id="3f6d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">此变量将存储列表中所遵循的航路点的当前索引。</p><ul class=""><li id="c3d5" class="lm ln hi ju b jv jw jy jz kb lo kf lp kj lq kn lr ls lt lu bi translated">速度</li></ul><p id="8d0a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将决定平台跟随航路点时的速度。</p><blockquote class="mi mj mk"><p id="eb6c" class="js jt ml ju b jv jw is jx jy jz iv ka mm kc kd ke mn kg kh ki mo kk kl km kn hb bi translated">注意:不要忘记使用<strong class="ju hs">【序列化字段】</strong>来通过检查器修改值。</p></blockquote><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mp"><img src="../Images/cf3e6d2f2ca3db7bac8b00ecde77232c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3EDRxzZuMZ0gL8TpIgpXMw.png"/></div></div></figure><p id="e2df" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在<strong class="ju hs"> Start </strong>方法中，让我们检查路点列表<strong class="ju hs">的大小是否至少为2 </strong>，好像这是该实现工作的一个重要条件:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mq"><img src="../Images/4e8b1858b165b71b44391d1c29f91593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4KnPVtFz3bKJSCdobxx_6A.png"/></div></div></figure><p id="2e3f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，当玩家在动态平台上时，为了处理移动并避免物理问题，让我们使用<strong class="ju hs"> FixedUpdate </strong>方法。首先，让我们检查平台的位置是否等于航路点的位置，如果是这样，让我们增加目标值以指向列表中的下一个目标:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mr"><img src="../Images/1d28c37a8cd378de700ad968f316dfb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RIJXQlZwgQqW5sqcLXKAug.png"/></div></div></figure><p id="aff1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您想了解更多关于<strong class="ju hs"> FixedUpdate </strong>方法的信息，您可以访问Unity文档:</p><div class="ms mt ez fb mu mv"><a href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.FixedUpdate.html" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab dw"><div class="mx ab my cl cj mz"><h2 class="bd hs fi z dy na ea eb nb ed ef hr bi translated">单一行为。固定更新()</h2><div class="nc l"><h3 class="bd b fi z dy na ea eb nb ed ef dx translated">建议更改感谢您帮助我们提高Unity文档的质量。虽然我们不能接受所有的…</h3></div><div class="nd l"><p class="bd b fp z dy na ea eb nb ed ef dx translated">docs.unity3d.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj jq mv"/></div></div></a></div><p id="05ae" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，为了避免出现索引越界异常，让我们检查当前目标值是否指向一个不存在的索引。如果是这种情况，让我们使用航路点列表中的<strong class="ju hs"> Reverse </strong>方法，指向第二个目标开始后退:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nk"><img src="../Images/f9cd50e5827f4f0315f173cddc30b8db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fiOH6N9ifP036yUAiwIQCw.png"/></div></div></figure><p id="2e05" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，如果平台没有到达航路点，让我们使用<strong class="ju hs">矢量3。使用定义的速度乘以<strong class="ju hs">时间保持移动平台的方法。</strong></strong></p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nl"><img src="../Images/d68b8822ea57d02442667d36ae4c5acb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T49AmXzonXyiJMf3he1gmA.png"/></div></div></figure><h1 id="c33d" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">创建路径点</h1><p id="5f28" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了让平台移动，让我们通过使用空游戏对象来表示它们来创建各自的路点:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nm"><img src="../Images/047ade6f84ef7da4a6cab253a13ceda6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/1*n13k2Seo1K12ndqcxdAR1A.gif"/></div></figure><p id="0b9e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">例如，如果我们创建2个路点(点<em class="ml"> a </em>和点<em class="ml"> b </em>，让我们将第二个移动到路径中的下一个位置，并将第一个留在起始位置:</p><div class="jh ji jj jk fd ab cb"><figure class="ma jl nn mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c48e82d0fcfaa66a2356515a7dd59e7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1470/1*CQzoKevwfJiAsLb31fXNhQ.gif"/></div></figure><figure class="ma jl no mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a28ff80d28c119b223f1454220ca686f.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/1*YTlG7Va2KYgEBDtA0iyyBw.gif"/></div></figure></div><p id="d7e5" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们通过检查器将各自的游戏对象依次拖动到脚本列表中。另外，不要忘记选择平台的速度:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es np"><img src="../Images/9d884be0c45cbd2e88457694c6c1b502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/1*8hZt0JxS5rrSzRQmSOK1OQ.gif"/></div></figure><p id="341b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们用Unity运行游戏，我们将能够看到平台按照预期从一个航点移动到另一个航点:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/d14b290b87f0938e6b43aa4032b9f355.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fLWjYICALEdStfUF1RFcqA.gif"/></div></div></figure><p id="09b3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，为了避免层次上的混乱，让我们将各自的平台和航路点拖到一个空的游戏对象中来创建一个动态平台的预置:</p><div class="jh ji jj jk fd ab cb"><figure class="ma jl nq mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/52cf77c97ae4049b90f0e5cf5f8f2691.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/1*gOoISC7YlySJ_dZD6cugHw.gif"/></div></figure><figure class="ma jl nq mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/0fb40021b23dec0c74addf344667ff76.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/1*23ES0REYAlRXXzCHnrY3PQ.gif"/></div></figure><figure class="ma jl nr mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/41c9cb42b3537be24270bee2b93d09b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/1*ISh2EgTjt7721z5lXSv7LQ.gif"/></div></figure></div><p id="467b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这样，我们还可以通过在列表中添加我们需要的任意多的路点，按照我们想要的路径移动平台:</p><div class="jh ji jj jk fd ab cb"><figure class="ma jl ns mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/2ef11b4f3ecdf1c456862cc6ce416420.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/1*VVWgbvnv1owpApndn7ugTw.gif"/></div></figure><figure class="ma jl nt mc md me mf paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/603fee625acee7caf5cfbfac8e2d4bdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*eN43jymHLrjLUM5UMFwhrQ.png"/></div></figure></div><p id="43a7" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们用Unity循环了平台的运动！:d .我会在下一篇文章中看到你，在那里我将展示如何引入一个生命系统，并用Unity为我们的平台游戏复活玩家。</p></div><div class="ab cl nu nv gp nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="hb hc hd he hf"><blockquote class="mi mj mk"><p id="4311" class="js jt ml ju b jv jw is jx jy jz iv ka mm kc kd ke mn kg kh ki mo kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>