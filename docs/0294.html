<html>
<head>
<title>Creating Templated Auto-Generated Floor Plans</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建模板化的自动生成平面图</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/creating-templated-auto-generated-floor-plans-b984926d4920?source=collection_archive---------0-----------------------#2020-09-13">https://medium.com/nerd-for-tech/creating-templated-auto-generated-floor-plans-b984926d4920?source=collection_archive---------0-----------------------#2020-09-13</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><figure class="hi hj fa fc hk hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et hh"><img src="../Images/fa32e27583bcd4e1593bef2d2cb0ab74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GEZ0ILMiYFiL4v3eTR9fPg@2x.jpeg"/></div></div></figure><div class=""/><p id="012e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated"><em class="jp">使用手动创建过程合成数据集的想法</em></p><h2 id="f0b7" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk bi translated">介绍</h2><p id="94cc" class="pw-post-body-paragraph ir is hu it b iu kl iw ix iy km ja jb jc kn je jf jg ko ji jj jk kp jm jn jo hc bi translated">我们都想知道如何从随机数据、线和点生成数据。我们如何制作合成数据是基于它的相关数据分布。合成数据对于促进学习是有用的。随机化数据需要OCL，或对象约束语言，它们与OCL结构代码中的算法或统计采样偏差有关。</p><p id="61ad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">我在这里提供了一个例子来演示使用OCL生成数据。取高斯分布，高斯服从马氏指数，协方差矩阵作为归一化矩阵。我举的例子是从“n”个点生成平面图。使用噪声和输入向量或偏差生成股票市场信号。python库Zipline拥有评估股市符号和价值投资的自动化管道。</p><blockquote class="kq"><p id="a5b7" class="kr ks hu bd kt ku kv kw kx ky kz jo dy translated">最好始终保持生成数据的基础，以便可以很容易地从中提取有用的指标。</p></blockquote><figure class="lb lc ld le lf hl es et paragraph-image"><div class="es et la"><img src="../Images/53f7960db529f7254aab730af134a6b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*Cxm9Bo05DkFxvqKbNpD33Q@2x.jpeg"/></div></figure></div><div class="ab cl lg lh gq li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hc hd he hf hg"><h2 id="c846" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk bi translated">OCL</h2><blockquote class="ln lo lp"><p id="7534" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">对象约束语言运行于:</p></blockquote><blockquote class="kq"><p id="5c1a" class="kr ks hu bd kt ku lt lu lv lw lx jo dy translated">(1)数据类型级别、</p><p id="f882" class="kr ks hu bd kt ku kv kw kx ky kz jo dy translated">(2)操作层面，</p><p id="3f34" class="kr ks hu bd kt ku kv kw kx ky kz jo dy translated">(3)操作员级别、</p><p id="f1cb" class="kr ks hu bd kt ku kv kw kx ky kz jo dy translated">(4)功能层次</p></blockquote><p id="362c" class="pw-post-body-paragraph ir is hu it b iu ly iw ix iy lz ja jb jc ma je jf jg mb ji jj jk mc jm jn jo hc bi translated">对象约束语言被定义为对结构模型施加约束。这些包括变量赋值、for循环、从基本集合中提取子集合等。一个系列可以是一套、一系列或一个包。里面的对象可以有用户定义的类型和属性，类似于OOP风格的编程。</p><blockquote class="kq"><p id="9027" class="kr ks hu bd kt ku kv kw kx ky kz jo dy translated">它们是将逻辑应用于数据集合的逻辑约束。</p></blockquote><ul class=""><li id="8d4d" class="md me hu it b iu ly iy lz jc mf jg mg jk mh jo mi mj mk ml bi translated">这些函数的定义就像带有显示类型化数据的参数的OOP函数一样。每个OCL函数都有前置条件和后置条件要满足。这就是最终开发功能规范的方式。</li></ul><figure class="mn mo mp mq fe hl es et paragraph-image"><div class="es et mm"><img src="../Images/9c258541d7f97a2452655b1380b4d37b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*hgPFW5Mf9l4rCZB4zaSTQQ@2x.jpeg"/></div></figure><h1 id="9c75" class="mr jr hu bd js ms mt mu jw mv mw mx ka my mz na kd nb nc nd kg ne nf ng kj nh bi translated">我们的例子</h1><blockquote class="ln lo lp"><p id="a04a" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">我们的示例是从随机输入坐标和由一组OCL控制的一些输入数据生成的平面图。</p></blockquote><h1 id="d4a4" class="mr jr hu bd js ms mt mu jw mv mw mx ka my mz na kd nb nc nd kg ne nf ng kj nh bi translated">步骤很简单:-</h1><ol class=""><li id="ce2d" class="md me hu it b iu kl iy km jc ni jg nj jk nk jo nl mj mk ml bi translated">通过关键点或随机线选择</li><li id="6b7e" class="md me hu it b iu nm iy nn jc no jg np jk nq jo nl mj mk ml bi translated">随机化输入数据</li><li id="52b0" class="md me hu it b iu nm iy nn jc no jg np jk nq jo nl mj mk ml bi translated">定义OCL</li><li id="12c4" class="md me hu it b iu nm iy nn jc no jg np jk nq jo nl mj mk ml bi translated">最终确定产出</li></ol><h2 id="73f9" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk bi translated">通过关键点或随机线选择</h2><blockquote class="ln lo lp"><p id="31ae" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">使得能够选择关键通道门坐标，该坐标定义了从通道门开始的房间长度的特定约束。</p></blockquote><blockquote class="kq"><p id="ca69" class="kr ks hu bd kt ku lt lu lv lw lx jo dy translated">KD树选择</p></blockquote><p id="97a0" class="pw-post-body-paragraph ir is hu it b iu ly iw ix iy lz ja jb jc ma je jf jg mb ji jj jk mc jm jn jo hc bi translated">约束条件是所选的最小房间长度将位于两个有边界的矩形长度之间。</p><figure class="mn mo mp mq fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et nr"><img src="../Images/caff7f837c7e63c846b0d510cd8e07e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*POaq5BJBTIhji8IJ1gXV5A@2x.jpeg"/></div></div></figure><figure class="mn mo mp mq fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et ns"><img src="../Images/4a251265b8ec8f08a4a54b782beae822.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hc5ELq-9xRqkErlz1elJDA@2x.jpeg"/></div></div></figure><p id="5f28" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">从用kd树算法训练的集合中选择“n”个点。选择这些点，使它们彼此相距一个边缘距离。</p><h2 id="38d7" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk bi translated">随机化输入数据</h2><blockquote class="ln lo lp"><p id="8554" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">入口坐标有一个指定的长度。这些长度与通道门宽度相关，与平均值1.1米的偏差为66%。</p></blockquote><blockquote class="kq"><p id="f001" class="kr ks hu bd kt ku lt lu lv lw lx jo dy translated">随机化访问长度</p></blockquote><p id="908f" class="pw-post-body-paragraph ir is hu it b iu ly iw ix iy lz ja jb jc ma je jf jg mb ji jj jk mc jm jn jo hc bi translated">约束条件是在所有“n”个访问坐标的间隔之间绘制均匀分布。</p><figure class="mn mo mp mq fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et nr"><img src="../Images/b876549b7ea97f65cd65e12316b13f08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJ2MYV0UkNUyJ9AOz23M3Q@2x.jpeg"/></div></div></figure><figure class="mn mo mp mq fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et nt"><img src="../Images/b17274a5e947a8098928cbc5f4123157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6RWoH6-jTIAf2WcMoH9CUQ@2x.jpeg"/></div></div></figure><blockquote class="ln lo lp"><p id="6490" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">上图中提到的顺序是检修门与其对面墙壁的力矩顺序。</p></blockquote><p id="d883" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hc bi translated">一旦它们被随机化，访问宽度和最小距离的乘积将被计算，这将表示该点在该访问坐标处的力矩。</p><figure class="mn mo mp mq fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et nr"><img src="../Images/0c097b3ba3205a3c9fa43c8ac2a8b5f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ldz-CoNvwOFw5BJj_tUF-Q@2x.jpeg"/></div></div></figure><h2 id="5a8d" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk bi translated">定义OCL</h2><blockquote class="ln lo lp"><p id="397b" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">对于由KD树选择的OCL，最小距离的确定已经在前面完成，KD树选择可以从访问坐标到最近的墙壁画出的最短距离中的最长距离，使得它在那些有界矩形之间。</p></blockquote><blockquote class="kq"><p id="3eff" class="kr ks hu bd kt ku lt lu lv lw lx jo dy translated">确定主要最小距离(LD)</p></blockquote><p id="ab19" class="pw-post-body-paragraph ir is hu it b iu ly iw ix iy lz ja jb jc ma je jf jg mb ji jj jk mc jm jn jo hc bi translated">这是根据OCL定义的:</p><figure class="mn mo mp mq fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et nr"><img src="../Images/2c6cb293ad377087df29b645ff442244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JLoLyhaRH_aLWh5ajCOmMA@2x.jpeg"/></div></div></figure><figure class="mn mo mp mq fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et nu"><img src="../Images/f2af0e909a807868d9cd6de2a8dc5155.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L0VZZ8oHmIxyf_rWQ52eFA@2x.jpeg"/></div></div></figure><blockquote class="ln lo lp"><p id="821d" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">最小距离被进一步过滤，并添加采样偏差以描绘最可能的平面图。抽样偏差包括“n”所选访问坐标的数量、“lu”的标准偏差和“lu”的平均值(访问坐标长度和最小距离的乘积)。</p></blockquote><blockquote class="kq"><p id="49e4" class="kr ks hu bd kt ku lt lu lv lw lx jo dy translated">分配次最小距离(LD)</p></blockquote><p id="7d6b" class="pw-post-body-paragraph ir is hu it b iu ly iw ix iy lz ja jb jc ma je jf jg mb ji jj jk mc jm jn jo hc bi translated">这是根据OCL定义的:</p><figure class="mn mo mp mq fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et nr"><img src="../Images/7c31f5e1d6926227335676c985fb3c08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uoDxfXqtxeBMx7QQ-8M4RA@2x.jpeg"/></div></div></figure><h2 id="b471" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk bi translated">此处使用的抽样偏倚代表通道门或房间数量的传统计数以及作为加权比率项一部分的决定性测量。我们必须使用异方差的技巧来证明最终结果。加权比率项描述了测量平均值的平方。</h2><h2 id="8351" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk bi translated">最终确定产出</h2><blockquote class="ln lo lp"><p id="f046" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">通过使通道门的宽度相等，并且可选地通过使一些对称平面图的最小距离相等，来确定输出。</p></blockquote><blockquote class="kq"><p id="374b" class="kr ks hu bd kt ku lt lu lv lw lx jo dy translated">均衡检修门宽度</p></blockquote><p id="83cf" class="pw-post-body-paragraph ir is hu it b iu ly iw ix iy lz ja jb jc ma je jf jg mb ji jj jk mc jm jn jo hc bi translated">通道门的宽度必须保持标准化。</p><blockquote class="ln lo lp"><p id="6bb5" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">最小距离可选地被归一化为相同的量，以便为平面图提供对称性，并以更好的方式管理空间和布局。</p></blockquote><blockquote class="kq"><p id="3d83" class="kr ks hu bd kt ku lt lu lv lw lx jo dy translated">[可选]均衡最小距离</p></blockquote><p id="c57f" class="pw-post-body-paragraph ir is hu it b iu ly iw ix iy lz ja jb jc ma je jf jg mb ji jj jk mc jm jn jo hc bi translated">最小距离必须保持正常。</p><blockquote class="ln lo lp"><p id="f62c" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">最小距离可选地切换到不同的配置，以便从可选的墙绘制。如果最小距离超过或减小，则它们的配置被切换到另一个正交配置。</p></blockquote><blockquote class="kq"><p id="840c" class="kr ks hu bd kt ku lt lu lv lw lx jo dy translated">[可选]切换最小距离</p></blockquote><p id="5dba" class="pw-post-body-paragraph ir is hu it b iu ly iw ix iy lz ja jb jc ma je jf jg mb ji jj jk mc jm jn jo hc bi translated">在均衡之前，最小距离必须保持最佳。</p><figure class="mn mo mp mq fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et nv"><img src="../Images/8a71a250b1150b846517e3f272e94133.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jyz_FMlU1s7NimARpJ-jKw@2x.jpeg"/></div></div></figure><blockquote class="ln lo lp"><p id="e60c" class="ir is jp it b iu iv iw ix iy iz ja jb lq jd je jf lr jh ji jj ls jl jm jn jo hc bi translated">沿着入口坐标画一个等高线，这样每个房间都是相连的。最终的输出是一个集中的布局以及其他房间:</p></blockquote><blockquote class="kq"><p id="2e23" class="kr ks hu bd kt ku lt lu lv lw lx jo dy translated">(1)开放式布局</p></blockquote><h2 id="2c0f" class="jq jr hu bd js jt nw jv jw jx nx jz ka jc ny kc kd jg nz kf kg jk oa ki kj kk bi translated">没有有趣的角落，或者在布局的边缘没有曲折的墙。</h2><blockquote class="kq"><p id="3dbe" class="kr ks hu bd kt ku kv kw kx ky kz jo dy translated">(2)设计布局</p></blockquote><h2 id="b018" class="jq jr hu bd js jt nw jv jw jx nx jz ka jc ny kc kd jg nz kf kg jk oa ki kj kk bi translated">有趣的角落或之字形墙出现在中央布局。</h2><blockquote class="kq"><p id="b14b" class="kr ks hu bd kt ku kv kw kx ky kz jo dy translated">(3)隐藏式布局</p></blockquote><h2 id="71a6" class="jq jr hu bd js jt nw jv jw jx nx jz ka jc ny kc kd jg nz kf kg jk oa ki kj kk bi translated">一个类似走廊的结构，也是通往其他房间的通道。</h2><blockquote class="kq"><p id="93de" class="kr ks hu bd kt ku kv kw kx ky kz jo dy translated">(4)局部布局</p></blockquote><h2 id="af1a" class="jq jr hu bd js jt nw jv jw jx nx jz ka jc ny kc kd jg nz kf kg jk oa ki kj kk bi translated">由其他房间形成的布局，因此中心布局要么是另一个房间，要么小到可以归入上述三个房间。</h2></div></div>    
</body>
</html>