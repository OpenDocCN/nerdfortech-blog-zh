<html>
<head>
<title>Machine Learning inside Containers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">容器内的机器学习</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/machine-learning-inside-containers-591c662b086?source=collection_archive---------26-----------------------#2021-05-27">https://medium.com/nerd-for-tech/machine-learning-inside-containers-591c662b086?source=collection_archive---------26-----------------------#2021-05-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f7dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很多时候，ML工程师面临着由于各种版本的库而导致的环境冲突问题。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/fe186dbe8822c27b929dfbfc3c8ccfe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lp2HR8T-miRjM84n_4RZkQ.png"/></div></div></figure><p id="e9ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好，如果你是一名ML工程师或相关领域的工程师，你至少曾经在不同版本的python库中面临过环境冲突的问题。在机器学习中，我们有各种版本的库，但有些版本只是兼容的。但是这个东西可能是你装了之后才知道的。</p><p id="3547" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，为了克服这一点，我有一个想法，<strong class="ih hj">我们可以在容器内训练我们的模型，答案是肯定的</strong></p><h2 id="d551" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated">容器是什么？</h2><p id="b5b8" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">集装箱或集装箱化是在过去十年中在IT领域中突然和极端增长的技术。容器化与虚拟化非常相似。我们可以在容器上以CLI形式启动任何操作系统。这意味着在容器之上，我们通常不启动GUI应用程序。在VirtualBox或任何其他工具上启动任何操作系统都需要几个小时，但在容器中却不需要。我们可以在几秒钟内发射任何容器。</p><h2 id="40b0" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated">如何在容器中运行ML应用程序？</h2><p id="ce3f" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">当我们训练我们的模型时，将模型保存在一个文件中，并且只将该文件转移到容器中。这样我们就可以直接用它来预测。此外，您可以下载相关的库，以便它们能够更好地工作</p><h2 id="6749" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated">让我们开始练习吧</h2><p id="ad10" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">步骤1:在你的系统上安装<a class="ae kp" href="https://www.docker.com/products/docker-desktop" rel="noopener ugc nofollow" target="_blank"> docker-ce </a></p><p id="d50a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">步骤2:安装docker后，启动并启用docker</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="9521" class="jp jq hi kr b fi kv kw l kx ky"><strong class="kr hj">systemctl start docker<br/>systemctl enable docker</strong></span></pre><p id="93e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三步:你需要一个操作系统映像来启动容器，以拉取/下载映像使用下面的命令我在这里使用centos映像来给你演示</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="2506" class="jp jq hi kr b fi kv kw l kx ky"><strong class="kr hj">docker pull {osname:version}/ docker pull centos</strong></span></pre><p id="1613" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第四步:我们需要启动容器。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="82e7" class="jp jq hi kr b fi kv kw l kx ky"><strong class="kr hj">docker run -it --name myos centos:latest</strong></span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kz"><img src="../Images/36b4e61b2e536fa4adc3826a831b2a61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5QeztISU-BMofDOJQNrf2Q.png"/></div></div><figcaption class="la lb et er es lc ld bd b be z dx translated"><strong class="bd jr">这将为您提供一个名为salarypredictor的新centos图像的终端</strong></figcaption></figure><p id="5b9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第五步:我们必须在容器中安装包和python3</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="fa72" class="jp jq hi kr b fi kv kw l kx ky"><strong class="kr hj">yum install python3 -y<br/>pip3 install numpy<br/>pip3 install pandas<br/>pip3 install sklearn</strong><br/></span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es le"><img src="../Images/3bb9caa963812601ec142e5debb32271.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sNWgIl4yKxU9UzX4KPVPCg.png"/></div></div></figure><p id="c17b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">步骤6:将训练好的模型文件复制到容器中</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="1b8d" class="jp jq hi kr b fi kv kw l kx ky"><strong class="kr hj">docker cp filename containername:/foldername</strong></span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lf"><img src="../Images/da103fe25c92a593a1948ffb9c56b40c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BDKvaAnWBzD10kE6Kmd8MA.png"/></div></div><figcaption class="la lb et er es lc ld bd b be z dx translated">salarypredictor.pk1是我们现在必须加载和使用的模型文件</figcaption></figure><p id="4f0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">步骤7:编写一个python程序，该程序将加载并使用模型来预测值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lg"><img src="../Images/a499fddd87fa661d86cbc3497ad16f53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*4CT6mg2258EP3MERw6fS0g.png"/></div></figure><p id="6ddd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">出于演示的目的，我在上面的程序中使用了一个简单的线性回归模型，该模型将多年的经验作为输入，并预测员工的工资。</p><p id="8808" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第八步:运行程序文件并查看输出</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lh"><img src="../Images/ebdef95e7c9db77cdd447d3f936deee7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wmNm6L7MoejImJ19rTMEFQ.png"/></div></div></figure><p id="2ca5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天我们将在另一篇文章中再见。</p><p id="ad4b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想要ml模型的代码，你可以在<a class="ae kp" href="https://github.com/abhikesare9/Salarypredictor" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到</p><p id="7708" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在<a class="ae kp" href="http://www.linkedin.com/in/abhishek-kesare" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>上联系我</p></div></div>    
</body>
</html>