<html>
<head>
<title>What is DNS Poisoning ??</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是DNS中毒？？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-dns-poisoning-cd8f62e50038?source=collection_archive---------14-----------------------#2021-05-19">https://medium.com/nerd-for-tech/what-is-dns-poisoning-cd8f62e50038?source=collection_archive---------14-----------------------#2021-05-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/84d97fd47f483adb1ba5886bfc8a39b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qFmKhDkDu-a4-ccbrgAX8A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">来源(<a class="ae iu" href="https://www.plixer.com/blog/dns-poisoning-fix/" rel="noopener ugc nofollow" target="_blank">https://www.plixer.com/blog/dns-poisoning-fix/</a>)</figcaption></figure></div><div class="ab cl iv iw gp ix" role="separator"><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja"/></div><div class="hb hc hd he hf"><p id="0898" class="pw-post-body-paragraph jc jd hi je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">在谈论DNS中毒之前，我们将了解什么是DNS以及它是如何工作的。通常，作为人类，我们通过google.com、youtube.com等域名访问网站上的信息。但是网络浏览器和计算机不能理解这些域名，因为它们与IP地址相互作用。因此<strong class="je hj"> DNS(域名系统)</strong>负责在网络浏览器或计算机向指定的目的地网站发出请求之前，将该人工键入的域名和子域名翻译成IP地址。事实上，域名系统(DNS)就像互联网的电话簿。互联网上的所有设备都有一个唯一的IP地址，使每个设备之间能够进行通信。DNS服务器消除了人们记忆IP地址(如IPv4)或更复杂的字母数字IP地址(如IPv6)的需要。加载网页涉及四个DNS服务器；</p><ul class=""><li id="53a4" class="ka kb hi je b jf jg jj jk jn kc jr kd jv ke jz kf kg kh ki bi translated"><strong class="je hj"> DNS递归解析器:</strong>当客户端(计算机或web浏览器)在其缓存中找不到DNS记录时，它会向DNS递归解析器发出请求，要求查找给定域名的IP。通常，DNS递归解析器负责发出额外的请求来满足客户端的DNS查询。这很可能是由我们的ISP管理的。</li><li id="098a" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated">根域名服务器:根域名服务器位于DNS层级的顶端。他们可以将请求提交给顶级域名(TDL)服务器。如果DNS递归解析器在其缓存中找不到客户端DNS查询详细信息，它将被定向到根名称服务器。然后根域名服务器提供对顶级域名服务器如<strong class="je hj">的引用。com </strong>，<strong class="je hj">。组织</strong>，<strong class="je hj">。网</strong>等。可以把它想象成图书馆中指向不同书架的索引。</li><li id="a358" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated"><strong class="je hj"> TLD域名服务器:</strong>顶级域名可以被认为是图书馆中一个特定的书架。DNS递归解析器从根域名服务器获取TDL参考详细信息。然后在搜索特定IP地址时将查询转发给特定的TDL域名服务器，它托管主机名的最后一部分(在google.com，TLD服务器是<strong class="je hj"> com </strong>)。TDL仍然不知道我们需要的确切IP地址，但是它会知道权威域名服务器的位置。它包含具有特定扩展名的域的信息。com，。组织，。网等。</li><li id="588d" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated"><strong class="je hj">权威域名服务器:</strong>保存他们所服务的域名的DNS记录信息。这通常是DNS过程的最后一步，提供请求的答案。它会将所请求主机名的IP地址返回给发出初始请求的DNS递归解析器。权威名称服务器可以被认为是书架上的一本字典，其中特定的名称可以被翻译成它的定义。</li></ul><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/6c41770039d189ef610edae1160f5d78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVwQpJxz5iEjRJonfiNxNw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图1:完整的DNS查找过程概述</figcaption></figure><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kt"><img src="../Images/71f974bde517477cc65fd3222e1c65b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dk-QO7bFT7LEipRQg4ty0w.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图2:http://blog.cloudflare.com/T3<a class="ae iu" href="http://blog.cloudflare.com/" rel="noopener ugc nofollow" target="_blank">T5【DNS查询流程】</a></figcaption></figure></div><div class="ab cl iv iw gp ix" role="separator"><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja"/></div><div class="hb hc hd he hf"><h1 id="bff2" class="kv kw hi bd ku kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">DNS中毒</h1><p id="cebd" class="pw-post-body-paragraph jc jd hi je b jf ls jh ji jj lt jl jm jn lu jp jq jr lv jt ju jv lw jx jy jz hb bi translated">DNS中毒是DNS协议中的一个缺陷，攻击者可以在域名服务器中注入恶意的IP地址。因此攻击者可以将用户路由到恶意网站。当DNS协议开始为某个用户解析域名时，它将遍历DNS递归解析器、根域名服务器、TLD域名服务器和权威域名服务器，并带有由DNS递归解析器发出的一些查询Id。由于这一过程需要一点时间，攻击者有一些时间用不同的随机查询ID来暴力破解请求流，希望用他的恶意域名服务器IP地址替换域名解析器的用户查询ID。容易猜测查询ID的原因是，在21世纪初，对于域名服务器收到的查询请求，它对每个新的查询ID使用递增机制。为了避免这个问题，他们后来引入了查询id的随机化和源端口的随机化，这就产生了DNS查询。但是DNS目前使用UDP作为传输层协议，所以没有对域名服务器收到的DNS信息进行验证。因此，伪造对域名服务器的暴力攻击仍然是可能的，尽管这很难。攻击者还必须知道或猜测几个因素来实施DNS中毒攻击；</p><ul class=""><li id="b74d" class="ka kb hi je b jf jg jj jk jn kc jr kd jv ke jz kf kg kh ki bi translated">目标DNS递归解析程序未缓存的查询。</li><li id="b2f7" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated">DNS递归解析器使用的端口号，因为现在它们对每个查询使用随机端口。</li><li id="25d0" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated">查询ID(请求ID)号。</li><li id="99cd" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated">查询将转到的权威名称服务器。</li></ul><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/1300b2d96a7030c9c5f6ede8796734ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JkhfyeOGqLvN7Zh8y0V6_w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图DNS中毒过程概述</figcaption></figure><p id="4b79" class="pw-post-body-paragraph jc jd hi je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">要查看我们的DNS服务器的IP地址，我们可以发出<strong class="je hj"> ipconfig /all </strong>命令。要查看我们计算机中的DNS缓存，我们可以使用<strong class="je hj"> ipconfig /displaydns </strong>命令。如果您想清除计算机中的DNS缓存，您可以发出<strong class="je hj"> ipconfig /flushdns </strong>命令。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/0b066f5501ab3ba0c53b5f3311d1634f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*okBorBJHPPYDWU8JtIFw7A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图4:查看DNS服务器的IP地址</figcaption></figure><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/4c9ed30cf3add637afc2d9c3cdc8beb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2txEh5OSe6DFDrnKvu_YPA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图5:如何查看计算机上的DNS缓存</figcaption></figure></div><div class="ab cl iv iw gp ix" role="separator"><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja"/></div><div class="hb hc hd he hf"><h1 id="b4b6" class="kv kw hi bd ku kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">防止DNS缓存中毒的方法</h1><ol class=""><li id="c09e" class="ka kb hi je b jf ls jj lt jn ma jr mb jv mc jz md kg kh ki bi translated">DNS欺骗检测工具的使用</li><li id="1d08" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz md kg kh ki bi translated">端到端加密</li><li id="a7b9" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz md kg kh ki bi translated">域名系统的安全扩展</li><li id="45e3" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz md kg kh ki bi translated">虚拟专用网络(VPN)的使用</li><li id="6b46" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz md kg kh ki bi translated">不要点击你不认识的链接</li><li id="0835" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz md kg kh ki bi translated">定期扫描您的计算机中的恶意软件</li><li id="3303" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz md kg kh ki bi translated">刷新您的DNS缓存</li><li id="8dec" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz md kg kh ki bi translated">虚拟专用网络(VPN)的使用</li></ol><p id="79cb" class="pw-post-body-paragraph jc jd hi je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">除此之外，2005年，<strong class="je hj"> DNSSEC </strong>被引入，它代表<strong class="je hj">域名系统安全扩展</strong>。DNSSEC旨在验证DNS协议中数据和来源的完整性。DNS最初设计时没有这种验证。这就是为什么像DNS中毒这样的攻击是可能的。为了在DNS协议中验证和认证数据，它<strong class="je hj">通过数字签名信息</strong>使用公钥加密，就像在SSL和TLS中一样。但是，DNSSEC仍然没有被大多数域名服务器采用，因为公钥加密有点耗时，使得DNS仍然容易受到攻击。</p></div><div class="ab cl iv iw gp ix" role="separator"><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja jb"/><span class="iy bw bk iz ja"/></div><div class="hb hc hd he hf"><h1 id="48b2" class="kv kw hi bd ku kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">参考</h1><p id="ecd2" class="pw-post-body-paragraph jc jd hi je b jf ls jh ji jj lt jl jm jn lu jp jq jr lv jt ju jv lw jx jy jz hb bi translated">要进一步了解详情，请查看这些资源；</p><ul class=""><li id="9cb0" class="ka kb hi je b jf jg jj jk jn kc jr kd jv ke jz kf kg kh ki bi translated"><a class="ae iu" href="https://www.cloudflare.com/learning/dns/dns-cache-poisoning/" rel="noopener ugc nofollow" target="_blank">https://www . cloud flare . com/learning/DNS/DNS-cache-poisoning/</a></li><li id="cca4" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated"><a class="ae iu" href="https://www.cloudflare.com/learning/dns/what-is-dns/" rel="noopener ugc nofollow" target="_blank">https://www.cloudflare.com/learning/dns/what-is-dns/</a></li><li id="366a" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated"><a class="ae iu" href="https://www.networkworld.com/article/3268449/what-is-dns-and-how-does-it-work.html" rel="noopener ugc nofollow" target="_blank">https://www . network world . com/article/3268449/what-is-DNS-and-how-it-work . html</a></li><li id="f1cb" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated"><a class="ae iu" href="https://www.plixer.com/blog/dns-poisoning-fix/" rel="noopener ugc nofollow" target="_blank">https://www.plixer.com/blog/dns-poisoning-fix/</a></li><li id="e152" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated"><a class="ae iu" href="https://www.kaspersky.com/resource-center/definitions/dns" rel="noopener ugc nofollow" target="_blank">https://www.kaspersky.com/resource-center/definitions/dns</a></li><li id="0a01" class="ka kb hi je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki bi translated"><a class="ae iu" href="https://www.youtube.com/watch?v=7MT1F0O3_Yw" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=7MT1F0O3_Yw</a></li></ul></div></div>    
</body>
</html>