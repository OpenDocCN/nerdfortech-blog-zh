<html>
<head>
<title>What a Tricky Enemy!- Game Dev Series 44</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多么狡猾的敌人！-游戏开发系列 44</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-a-tricky-enemy-game-dev-series-44-502c7e361010?source=collection_archive---------20-----------------------#2021-06-09">https://medium.com/nerd-for-tech/what-a-tricky-enemy-game-dev-series-44-502c7e361010?source=collection_archive---------20-----------------------#2021-06-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d012" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目标:用独特的移动和攻击方式创造一个新的敌人。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/3154d1cac57a9079c9828090a67573e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*BMfKqD1rz_GEjbi56bFRHw.gif"/></div></div></figure><p id="0ebc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止，我们有 3 个不同的运动和快速激光攻击的敌人波。如果我们不能做出一些改变，这些对玩家来说都将变得无趣。在现有规则之外创造一些特别的东西(比如一种新的敌人)可能是个好方法。</p><p id="4175" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我看来，一个不可预测的敌人会很狡猾，充满挑战。当玩家在射程内时，我想制造一个自杀式炸弹攻击的敌人。更重要的是，它会在 5 个不同的地点随机传送，然后离开场景，如果它发现没有玩家，就摧毁它。听起来很艰难？那就太好了。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="5ad3" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">创建检测炸弹脚本</h2><p id="7602" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">因为它的移动不同于以前的任何敌人，它可能不会使用和他们一样的脚本。我们应该创建一个新的脚本，我会把它命名为<strong class="ih hj">探测炸弹</strong>。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kw"><img src="../Images/95085c3421f080d8d68e665dfdd9d419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*53-rWSdQY2fdZQvoiCsUrg.png"/></div></figure><p id="ea83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们开始编码之前，我们应该弄清楚它应该移动(或攻击)什么。</p><ul class=""><li id="a4c1" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">从顶部随机移动 x 轴，当到达一个特定的 y 轴点，开始传送。</li><li id="6a7a" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">用自定义半径值在球体中随机选择一个点。然后传送到那个位置，停留 3 秒钟，重复这个步骤，寻找一个新的地点。</li><li id="5377" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">如果玩家在探测范围内，停止传送并向玩家移动，或者如果它已经移动了 5 个点，则下去直到离开场景并自我毁灭。</li></ul><p id="92c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为开始，在<strong class="ih hj">中创造一种新方法探测炸弹</strong>。由于该运动将重复整个部分 5 次，因此最好用协程循环运行。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ll"><img src="../Images/293d1f42e9da9adf7c4d03f4f6c25217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*VDNm3iE-Nk-2xNJcuPQq5w.png"/></div></figure><p id="e90b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在 while 循环中，我们将为它设置一些语句。我们可以加上一个整数来计算传送的次数。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lm"><img src="../Images/25a7509b53fad7dc168b968a16fbbe54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*MmidveFxw8_sjKdtyTnntQ.png"/></div></figure><p id="934b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个循环中，我们希望它在一个球体中定位一个点，我们将使用<a class="ae ln" href="https://docs.unity3d.com/ScriptReference/Random-insideUnitCircle.html" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">inside unit circle</strong></a><strong class="ih hj"/>来定位它。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lo"><img src="../Images/a71f0e03ac8c4977a5510c305d5ec9c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G8js7d6VbOY6IYAziVLrkw.png"/></div></div></figure><p id="db73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然炸弹已经传送了 5 次，但它应该会直接坠落并摧毁。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lp"><img src="../Images/112c6e6c9993bc92b07a0923e0e3a726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5eLG2wgOROqKpHeYXLok9g.png"/></div></div></figure><p id="38ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来我们可以设置它追逐玩家。</p><p id="e6b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj"> Update() </strong>中，设置一个半径范围(应该先创建一个变量)并使用<a class="ae ln" href="https://docs.unity3d.com/ScriptReference/Vector3.Distance.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">距离</strong> </a> &amp; <a class="ae ln" href="https://docs.unity3d.com/ScriptReference/Vector3.MoveTowards.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">移动朝向</strong> </a>进行追踪。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lq"><img src="../Images/962a6e1d69922292b6f3398426ade612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-rIy4caHdDDl0vpUNIcBow.png"/></div></div></figure><p id="4c35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，追逐运动和瞬移运动是冲突的。我们可以用一个布尔来处理这个问题。<br/>创建一个布尔变量，并将其添加到路由移动中。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lr"><img src="../Images/7df1d4598ce2538d435698223135ecef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*ZJ9VB3zOsqhThjSPDDMNvA.png"/></div></figure><p id="294b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后当玩家在追逐范围内时启用它。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ls"><img src="../Images/0ca11bc4346a000ad8af0489bfd9dcab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WlWpX10W5kM8KsFk10PVqw.png"/></div></div></figure><p id="5648" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那它应该会如你所愿的移动。接下来，我们应该让它在与玩家或激光碰撞时爆炸。我们可以简单地使用敌人脚本中的相同方法。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="f95b" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">从敌方剧本中提取好的部分</h2><p id="4f62" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">在这个脚本中，我们将使用激光碰撞检测和播放器碰撞检测的代码。我们可以将这些代码输入到我们的<strong class="ih hj">探测炸弹</strong>脚本中。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lt"><img src="../Images/02106418895d0a9d6a65f31e662053cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yDfAYYzDdkwjoqrTuAEcOg.png"/></div></div></figure><p id="4ca6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">虽然我们没有炸弹爆炸的具体动画，但我们可以简单地使用我们用于小行星和玩家爆炸的爆炸预设。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lu"><img src="../Images/27e1beb7b2008d5cb7fb92005b4c28d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DKaERncjrWC8h493uxZPyg.png"/></div></div></figure><p id="1444" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦我们完成了对撞机，我们可以把它放入<strong class="ih hj">的种子管理器</strong>。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="91fa" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">开始产卵吧</h2><p id="be06" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">在例行程序中生成它之前，我们应该设置频率。它不应该以高频率出现，否则对我们的玩家来说太难了。在 4 次产卵后产卵一次可能是合理的。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lv"><img src="../Images/8962e9a0418c5fb1d745498c44d92084.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B-xAvGjyI3jjPG0mIBBWVw.png"/></div></div><figcaption class="lw lx et er es ly lz bd b be z dx translated">不要忘记将预设拖到编辑器的 SpawnManager 中</figcaption></figure></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="5b71" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">整理一些细节</h2><p id="7392" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">在<strong class="ih hj"> DetectBomb </strong>脚本中，我们使用 2 float 来计算半径，这很难调整实际范围。我们可以使用<strong class="ih hj"> OnDrawGizmo </strong>在预览窗口中将其可视化。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ma"><img src="../Images/5274ee0a2f9fa05148e6bfb1c2812408.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d0KtmvG7r15iybs4kiuhTg.png"/></div></div></figure><p id="9848" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这些代码和<strong class="ih hj">serialize field</strong>float 变量，在编辑器中调整它们应该很容易。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es mb"><img src="../Images/6b96547a7c39c3cd8057060644321bae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AkGLreQbjHqxdUpKs0HSGA.gif"/></div></div></figure></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="5414" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是这个独一无二的敌人的全部背景。我们现在就可以试试！</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/28f28db53c38a506acdbe22a7e96f8e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*e1yuJThuwkIEbmPafFcdpg.gif"/></div></div></figure></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="161b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来:<a class="ae ln" href="https://sj-jason-liu.medium.com/reasonable-spawning-rule-game-dev-series-45-c409db60fd9b" rel="noopener">合理的产卵规则</a></p></div></div>    
</body>
</html>