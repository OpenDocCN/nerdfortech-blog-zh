<html>
<head>
<title>Basics of Javascript · String · repeat() (method)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript字符串重复()的基础知识(方法)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/basics-of-javascript-string-repeat-method-8f225ebe0b3c?source=collection_archive---------30-----------------------#2021-06-10">https://medium.com/nerd-for-tech/basics-of-javascript-string-repeat-method-8f225ebe0b3c?source=collection_archive---------30-----------------------#2021-06-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/48b9aa06745ef75ba6ca3779f93f0af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K9l6gL2fpy7yFENqADiESg.png"/></div></div></figure><p id="d09a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇文章是我在youtube上免费发表的关于网络开发基础的系列文章的抄本。如果你更喜欢看而不是读，请随时访问我的频道“Dev Newbs”。T3】</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="07b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你好，我的新手伙伴们。Jacob在这里用另一个字符串方法。今天的方法是简单的方法之一。我喜欢这些简单的方法，因为你可以直接使用它们。没有诡计，没有陷阱。当然，除非你明确地在找他们，而我们当然在找。所以让我们开始吧。</p><p id="866b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">repeat()方法返回一个新字符串，该字符串包含调用它的字符串的指定数量的副本，这些副本连接在一起。</p><p id="690e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">唯一需要的参数是一个正整数值，指定我们希望给定的字符串重复多少次。</p><p id="9fa0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们得到的结果是一个创建的字符串或RangeError，以防重复计数为负或导致结果字符串溢出最大字符串大小。</p><p id="9a4f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们看看第一个例子中的基本用法。</p><pre class="jp jq jr js fd jv jw jx jy aw jz bi"><span id="de34" class="ka kb hi jw b fi kc kd l ke kf">"Repeat (0):   '" + "Ab ".repeat(0) + "'"       // empty string<br/>"Repeat (1):   '" + "Ab ".repeat(1) + "'"       // 'Ab '<br/>"Repeat (2):   '" + "Ab ".repeat(2) + "'"       // 'Ab Ab '<br/>"Repeat (5.2): '" + "Ab ".repeat(5.2) + "'"     // 'Ab Ab Ab Ab Ab '   <br/>"true:         '" + "Ab ".repeat(true) + "'"    // 'Ab '<br/>"empty param:  '" + "Ab ".repeat() + "'"        // 'Ab '<br/>"false:        '" + "Ab ".repeat(false) + "'"       // empty string<br/>"null:         '" + "Ab ".repeat(null) + "'"        // empty string<br/>"undefined:    '" + "Ab ".repeat(undefined) + "'"   // empty string<br/>"NaN:          '" + "Ab ".repeat(NaN) + "'"         // empty string</span></pre><p id="1d5b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基本用法示例显示了当我们提供整数或可被解释为一的值时，该方法的行为。整数值0、1和2得到的正是我们所期望的。浮点值更有趣。小数点后的部分被有效地截断，我们只处理整数值。到目前为止，该方法的行为与我们预期的一样。</p><p id="0bc5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们提供一个布尔值true，我们把它解释为1。False被转换为零，任何其他值或特殊常量如“null”、“undefined”或“NaN”也是如此。另一个要提到的情况是，如果我们不提供任何值，那么默认值为零。规范中没有提到，所以有可能这只是Chrome浏览器内部的一种实现方式。所以请记住这一点。</p><p id="d018" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，让我们来试试用RangeError耍些花招。</p><pre class="jp jq jr js fd jv jw jx jy aw jz bi"><span id="8e10" class="ka kb hi jw b fi kc kd l ke kf">try { <br/>    console.log("Ab ".repeat(-1)); <br/>}<br/>catch(err){ <br/>    console.log(err); <br/>}</span><span id="8092" class="ka kb hi jw b fi kg kd l ke kf">// RangeError: Invalid count value at String.repeat (&lt;anonymous&gt;)</span><span id="07fb" class="ka kb hi jw b fi kg kd l ke kf">try { <br/>    console.log("Ab ".repeat(3/0));<br/>}<br/>catch(err){ <br/>    console.log(err); <br/>}</span><span id="e38b" class="ka kb hi jw b fi kg kd l ke kf">// RangeError: Invalid count value at String.repeat (&lt;anonymous&gt;)</span><span id="593f" class="ka kb hi jw b fi kg kd l ke kf">try { <br/>    let As = "A".repeat(536870889);<br/>}<br/>catch(err){ <br/>    console.log(err); <br/>}</span><span id="e7e9" class="ka kb hi jw b fi kg kd l ke kf">// RangeError: Invalid string length at String.repeat (&lt;anonymous&gt;)</span></pre><p id="225d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">RangeError是仅在少数情况下引发的错误。第一个是负值。我们已经在第一段代码中介绍过了。第二种情况是如果我们提供一个等于或大于正无穷大的值。猜猜如果你把正值除以零会得到什么？答对了。这是第二组代码。</p><p id="c6e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第三个是如果我们创建一个比最大可用字符串长度更长的字符串。这个数字实际上在不同的浏览器中可能是不同的，并且也可能受到计算机可用资源的限制。但是我会在后面的第三个例子中回到这个问题。现在，只要把它当成是真的。第三个块代码中的值正好比最大可用字符串长度大1，因此它抛出RangeError。</p><p id="9038" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在回到最大长度。您不能通过简单地访问某个常量或内置方法来获得可用的最大字符串长度，这是一个遗憾。幸运的是，互联网上的聪明人几乎可以帮助做任何事情，所以这里是我无耻地复制的堆栈溢出代码。大声喊出来的代码用户名杰克格里芬的作者。这是获取浏览器中字符串变量最大长度的代码。</p><pre class="jp jq jr js fd jv jw jx jy aw jz bi"><span id="ad8b" class="ka kb hi jw b fi kc kd l ke kf">// stack overflow // question: 13697500 // author: Jack Giffin<br/>for (var startPow2 = 1; startPow2 &lt; 9007199254740992; startPow2 *= 2)<br/>    try {" ".repeat(startPow2);} catch(e) {<br/>        break;<br/>    }</span><span id="c3b5" class="ka kb hi jw b fi kg kd l ke kf">var floor = Math.floor, mask = floor(startPow2 / 2);<br/>while (startPow2 = floor(startPow2 / 2))<br/>    try {<br/>        " ".repeat(mask + startPow2);<br/>        mask += startPow2;              // the previous statement succeeded<br/>    } catch(e) {}</span><span id="20fb" class="ka kb hi jw b fi kg kd l ke kf">console.log("The max string length for this browser is " + mask);</span><span id="37bd" class="ka kb hi jw b fi kg kd l ke kf">// The max string length for this browser is 536870888</span></pre><p id="f88f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天到此为止。我们了解到，并不是所有的字符串方法都像其他方法一样糟糕。这是一个很好的例子。</p><p id="a3c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一如既往地感谢您的关注，我将在明天的下一篇文章中与您见面。</p></div></div>    
</body>
</html>