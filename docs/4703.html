<html>
<head>
<title>Creating collectables | Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创作收藏品| Unity</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/creating-collectables-unity-ccb59ea0c191?source=collection_archive---------7-----------------------#2021-08-03">https://medium.com/nerd-for-tech/creating-collectables-unity-ccb59ea0c191?source=collection_archive---------7-----------------------#2021-08-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="01d8" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="e124" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于如何使用 Unity 创建收藏的快速指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/5ef3009ab8ac72996ae639a1c0136ab8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3QG013R3RWIg7Wt0MnCQ5g.gif"/></div></div></figure><p id="48df" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:创建收藏品，并实施统一收集系统。</p><p id="a59b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在上一篇文章中，我介绍了<a class="ae ko" rel="noopener" href="/nerd-for-tech/implementing-a-double-jump-unity-87a1e55e4e72">如何用 Unity </a>实现双跳。现在，是时候实现一些收藏品和显示我们的平台游戏总数的方法了。</p><h1 id="3a5a" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">收藏品</h1><p id="692b" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">为了表示收藏品，我们将使用原始资产。正如你在下一张图中看到的，我们在平台上方放置了 3 个球体来代表一件可收藏的物品:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/8631faa2e6e4463054cc21a262f9690e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P9H0q8_ZQoyaT49ADEEbRA.png"/></div></div></figure><h1 id="da17" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">实现收集机制</h1><p id="4b30" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">然后，为了实现收集机制，让我们创建 2 个新脚本:</p><ul class=""><li id="7fba" class="lm ln hi ju b jv jw jy jz kb lo kf lp kj lq kn lr ls lt lu bi translated">可收集的</li></ul><p id="ddb3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">来处理这个可收集的技工。</p><ul class=""><li id="12a8" class="lm ln hi ju b jv jw jy jz kb lo kf lp kj lq kn lr ls lt lu bi translated">UIManager</li></ul><p id="587c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">处理将显示已收集项目总数的用户界面。</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl lw lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c719a2d858cd99a84a5429fa6573f8f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*7Trd-vpLfaMWMM5gU_AM_A.gif"/></div></figure><figure class="lv jl lw lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/b1edd66c235711fbb60f7187dd372f32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*jH0xoaCg7DzV8fZdeCRaFg.gif"/></div></figure></div><p id="a374" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们确保每个球体:</p><ul class=""><li id="ca98" class="lm ln hi ju b jv jw jy jz kb lo kf lp kj lq kn lr ls lt lu bi translated">在碰撞器组件中启用了<strong class="ju hs"> <em class="mb">是否触发</em> </strong>属性</li><li id="c85d" class="lm ln hi ju b jv mc jy md kb me kf mf kj mg kn lr ls lt lu bi translated">包含一个刚体(不使用重力)</li><li id="4634" class="lm ln hi ju b jv mc jy md kb me kf mf kj mg kn lr ls lt lu bi translated">会附加相应的脚本</li></ul><div class="jh ji jj jk fd ab cb"><figure class="lv jl mh lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/1ee553e92211f8f440f7b87e55328fcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/1*hroqspP78-2-nIcb1BkftQ.gif"/></div></figure><figure class="lv jl mi lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/b9cb48fd7ab3b7d86e3e38ca6e0915bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/1*6W_7I07sqfNx2PdfnmSUUg.gif"/></div></figure></div><p id="d49c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们创建一个新的文本元素来显示有多少收藏品(硬币、电源等。)难道玩家已经收集了:</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl mj lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c0214a8719066c8a2f5e52a41aced5fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/1*R1ToB_8b1j3vAvTA9eolkA.gif"/></div></figure><figure class="lv jl mk lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/955a543f9b35ed38e9ad4a2a2a018088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*iHiCCUJlCv3jpq284k7yew.png"/></div></figure></div><p id="5ca7" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">同样，让我们将<strong class="ju hs"> UIManager </strong>脚本附加到画布上，这样我们就可以用脚本处理用户界面:</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl ml lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/ac79b1c67332462a68d6d691b74c5c74.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/1*YVKqCgzc4rWKQJzrdwoOIw.gif"/></div></figure><figure class="lv jl mm lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/7aa02b76ffbc9e17f529dcd27b40ffcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/1*prqPfSModqgGqMwLmySCjQ.gif"/></div></figure><figure class="lv jl mn lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/8027b0d2a1971f999e315841c8757b58.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/1*lOZL3HIBUnBluZ-0rNie4A.gif"/></div></figure></div><p id="c369" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">接下来，让我们打开可收集的脚本并添加下一个名称空间，这样我们就能够使用<a class="ae ko" href="https://docs.microsoft.com/en-us/dotnet/api/system.action?view=net-5.0" rel="noopener ugc nofollow" target="_blank"> C#动作委托</a>来处理收集机制:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mo"><img src="../Images/c27b4a73ad8f9d28400fb0723894eb29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*uLhWRdcBqx78VheYGdURSg.png"/></div></figure><p id="e635" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们创建一个公共静态动作委托，在收集硬币时在其他脚本中执行相应的动作:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mp"><img src="../Images/915abc2b375bd71a3f6c42973bd74005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*DJvAL6gHx4Gl8q2sQoTAvg.png"/></div></figure><p id="6d9e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，为了实现收集机制，我们将使用<strong class="ju hs"> OnTriggerEnter </strong>方法并检查另一个碰撞器是否属于玩家。如果是这种情况，让我们调用动作委托(如果它对于最佳实践来说不为空),然后销毁可收集的对象:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mq"><img src="../Images/6629ff2464f318833794e3da85f8a21e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*7S9Wbo9fBpczZGFIxy0FxA.png"/></div></figure><blockquote class="mr ms mt"><p id="540f" class="js jt mb ju b jv jw is jx jy jz iv ka mu kc kd ke mv kg kh ki mw kk kl km kn hb bi translated">注意:玩家必须贴上<strong class="ju hs"> <em class="hi">玩家</em> </strong>标签，以便与收藏品发生碰撞时识别。</p></blockquote><p id="847e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦在 collectable 类中创建了<strong class="ju hs">动作委托</strong>，让我们打开<strong class="ju hs">播放器</strong>脚本并添加:</p><ul class=""><li id="b597" class="lm ln hi ju b jv jw jy jz kb lo kf lp kj lq kn lr ls lt lu bi translated">存储硬币数量的私有变量</li><li id="28cf" class="lm ln hi ju b jv mc jy md kb me kf mf kj mg kn lr ls lt lu bi translated">仅返回私有变量的值的公共属性</li></ul><div class="jh ji jj jk fd ab cb"><figure class="lv jl mx lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/7f88cd21f2a30484e2eb74c500001cbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*dqWna4a4HCYzskCKJp0R7w.png"/></div></figure><figure class="lv jl my lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/dad3c24d309721a7b130f37dee329e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*1XX5onwhrcc9eC5pqxWHtQ.png"/></div></figure></div><p id="017a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们创建一个新方法，它将在每次被调用时添加一个硬币:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mz"><img src="../Images/3e9a84bcab0072cee87f94a134e81c00.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*zhsYPPgcnGyP3213Gqao8w.png"/></div></figure><p id="9709" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们将该方法添加到来自<strong class="ju hs">collectible</strong>类的<strong class="ju hs">静态动作委托</strong>中，以便能够在每次收集硬币时调用它:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es na"><img src="../Images/9b7f40f0e7cd08adb1733647dfd8a380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ZRnyFi5aJwxcNuMk1wO_A.png"/></div></div></figure><p id="de03" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，作为一个好的实践，当玩家使用<strong class="ju hs"> OnDestroy </strong>方法被破坏时，让我们从动作委托中移除该方法:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nb"><img src="../Images/aef3f73e477586f36849c11644992bc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I7yANk9Fo2hqM_IzWEyA9g.png"/></div></div></figure><h1 id="333f" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">显示总数</h1><p id="b781" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了显示玩家收集的硬币总数，让我们打开<strong class="ju hs"> UIManager </strong>类并添加<strong class="ju hs"> UnityEngine。UI </strong>命名空间能够处理来自代码的 UI 元素:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nc"><img src="../Images/fbd62e3fae789f3d56d75bd40ccb095e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*hnD50O_rPFGrvPRpMykl-A.png"/></div></figure><p id="fb49" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们创建变量来:</p><ul class=""><li id="6c80" class="lm ln hi ju b jv jw jy jz kb lo kf lp kj lq kn lr ls lt lu bi translated">存储对 UI 文本元素的引用</li><li id="34d1" class="lm ln hi ju b jv mc jy md kb me kf mf kj mg kn lr ls lt lu bi translated">存储对播放器脚本的引用</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nd"><img src="../Images/1c97c8bbb2a1ba459ccc31dfde662990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*_m5oxEUtfuvFGB5vXkvaqw.png"/></div></figure><blockquote class="mr ms mt"><p id="6c06" class="js jt mb ju b jv jw is jx jy jz iv ka mu kc kd ke mv kg kh ki mw kk kl km kn hb bi translated">注意:很可能我会将硬币的数量存储在一个游戏管理器中，而不是存储在玩家本身中。现在我将存储一个对<strong class="ju hs">玩家</strong>脚本的引用。不要忘记使用<strong class="ju hs">【serialize field】</strong>通过检查器设置引用。</p></blockquote><p id="5773" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">接下来，让我们通过检查器获取对 UI Manager 组件的引用:</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl ne lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/0985d13e6074ae008e79d8f3b062f581.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/1*yNi7o70OBauph7Bme3jJlg.gif"/></div></figure><figure class="lv jl nf lx ly lz ma paragraph-image"><img src="../Images/c17b00cf1221d42c4a56bbd03995112f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/1*jHYSdfK_gH4wTPMdN1fT8Q.gif"/></figure></div><p id="e10f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们创建一个新方法来更新显示硬币总数的文本元素。这将通过调用<strong class="ju hs">播放器</strong>脚本的属性来修改文本:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ng"><img src="../Images/6c73b5ec492ae23678415a595e16c9c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVDwvmcF4j7q9LPkP8EV0g.png"/></div></div></figure><p id="b84c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，让我们将各自的方法添加到来自<strong class="ju hs">collectible</strong>类的<strong class="ju hs"> Action Delegate </strong>中，这样每次收集硬币时文本元素都会更新。另外，不要忘记使用<strong class="ju hs"> OnDestroy </strong>方法移除该方法:</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl nh lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/1d997221a2e41dd30f222df4314322b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*ZP0gU3ftwGyuTPzBuZev1g.png"/></div></figure><figure class="lv jl ni lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/cac12ebafba8edbe1085ad2b90511314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*8boBl11tnPOR1YuZzJP9sQ.png"/></div></figure></div><p id="3146" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们用 Unity 运行游戏，我们将能够收集球体，UI 元素将显示收集的总数:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/d7c5ba2c7894daba0a4f7f0d4b90a318.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*45EsUQS_M3apakQtTOAXpg.gif"/></div></div></figure><p id="5669" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们用 Unity 创造了可收藏的物品！:d .我会在下一篇文章中看到你，在那里我将展示如何使用 Unity 为我们的平台游戏移动平台。</p></div><div class="ab cl nj nk gp nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="hb hc hd he hf"><blockquote class="mr ms mt"><p id="4311" class="js jt mb ju b jv jw is jx jy jz iv ka mu kc kd ke mv kg kh ki mw kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>