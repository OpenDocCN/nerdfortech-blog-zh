<html>
<head>
<title>Custom style to VS code extension</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">VS 代码扩展的自定义样式</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/custom-style-to-vs-code-extension-f0c48a259926?source=collection_archive---------6-----------------------#2021-08-15">https://medium.com/nerd-for-tech/custom-style-to-vs-code-extension-f0c48a259926?source=collection_archive---------6-----------------------#2021-08-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="2734" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">如何给 VS 代码 API 扩展添加自定义样式<code class="du ix iy iz ja b">Webview?</code></h2></div></div><div class="ab cl jb jc gp jd" role="separator"><span class="je bw bk jf jg jh"/><span class="je bw bk jf jg jh"/><span class="je bw bk jf jg"/></div><div class="hb hc hd he hf"><p id="3fa9" class="pw-post-body-paragraph ji jj hi jk b jl jm ij jn jo jp im jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">假设您想注册一个命令，用您自己的 CSS 设计在编辑器中打开一个基本的 Webview 面板。Visual Studio 代码有自己的风格，但您也可以使用自己的风格。面板使用 HTML 语法来显示内容。我们需要记住，Webview 是沙箱化的，所以所有的通信都是通过消息传递来处理的。在我们的例子中，我们不需要与外部 JavaScript 函数进行任何消息通信，因为我们所做的只是将一个. css 资源链接到我们的 Webview。</p><figure class="ke kf kg kh fd ki"><div class="bz dy l di"><div class="kj kk l"/></div></figure><p id="a77e" class="pw-post-body-paragraph ji jj hi jk b jl jm ij jn jo jp im jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">注册了执行面板的命令后，我们需要编写 HTML 代码，并将其传递给<strong class="jk hj">webview.html、</strong>，它只接受一个普通字符串作为输入<strong class="jk hj">。我建议使用一个函数，在这个函数中，我们构造面板，向所用的元素添加样式和逻辑，然后将构造的字符串赋给 webview.html。</strong></p><figure class="ke kf kg kh fd ki"><div class="bz dy l di"><div class="kj kk l"/></div></figure><p id="2cc4" class="pw-post-body-paragraph ji jj hi jk b jl jm ij jn jo jp im jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">这不是必需的，但它为设计和构建面板提供了更多的灵活性。</p><p id="4e4c" class="pw-post-body-paragraph ji jj hi jk b jl jm ij jn jo jp im jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">下一步是在您的目录中创建一个. css 文件，我将在 media 本地目录文件夹中创建我的文件。</p><figure class="ke kf kg kh fd ki"><div class="bz dy l di"><div class="kj kk l"/></div></figure><p id="1b0a" class="pw-post-body-paragraph ji jj hi jk b jl jm ij jn jo jp im jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">通过使用<strong class="jk hj"> asWebviewUri </strong>我们可以转换我们的。css 文件转换为可以在 Webview 中使用的文件，从而为我们的元素提供自定义样式。</p><pre class="ke kf kg kh fd kl ja km kn aw ko bi"><span id="fd36" class="kp kq hi ja b fi kr ks l kt ku">const myStyle = webview.asWebviewUri(<br/>    vscode.Uri.joinPath(<br/>        context.extensionUri, 'media', 'my-custom-style.css'<br/>    )<br/>);</span></pre><p id="56ab" class="pw-post-body-paragraph ji jj hi jk b jl jm ij jn jo jp im jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">Uri 现在可以链接到我们的 HTML 文件，这样，我们就成功地将 CSS 内容导入到 Webview 面板中。</p><pre class="ke kf kg kh fd kl ja km kn aw ko bi"><span id="7cbf" class="kp kq hi ja b fi kr ks l kt ku">&lt;link href="${myStyle}" rel="stylesheet" /&gt;</span></pre></div><div class="ab cl jb jc gp jd" role="separator"><span class="je bw bk jf jg jh"/><span class="je bw bk jf jg jh"/><span class="je bw bk jf jg"/></div><div class="hb hc hd he hf"><p id="f235" class="pw-post-body-paragraph ji jj hi jk b jl jm ij jn jo jp im jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">有关更多信息，请考虑阅读 VS code API 的官方文档:</p><div class="kv kw ez fb kx ky"><a href="https://code.visualstudio.com/api/extension-guides/webview" rel="noopener  ugc nofollow" target="_blank"><div class="kz ab dw"><div class="la ab lb cl cj lc"><h2 class="bd hj fi z dy ld ea eb le ed ef hh bi translated">Webview API</h2><div class="lf l"><h3 class="bd b fi z dy ld ea eb le ed ef dx translated">webview API 允许扩展在 Visual Studio 代码中创建完全可自定义的视图。例如……</h3></div><div class="lg l"><p class="bd b fp z dy ld ea eb le ed ef dx translated">code.visualstudio.com</p></div></div><div class="lh l"><div class="li l lj lk ll lh lm ln ky"/></div></div></a></div><p id="dc98" class="pw-post-body-paragraph ji jj hi jk b jl jm ij jn jo jp im jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">开发 VS 代码扩展并不难，但是有一些困难需要克服。我希望这个简短的教程是有用的。</p><p id="eea0" class="pw-post-body-paragraph ji jj hi jk b jl jm ij jn jo jp im jq jr js jt ju jv jw jx jy jz ka kb kc kd hb bi translated">祝您愉快！</p></div></div>    
</body>
</html>