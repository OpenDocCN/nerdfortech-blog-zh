<html>
<head>
<title>Modular Modals in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React 中的模块化模态</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/modular-modals-in-react-2b9bde0c5d9c?source=collection_archive---------10-----------------------#2021-02-20">https://medium.com/nerd-for-tech/modular-modals-in-react-2b9bde0c5d9c?source=collection_archive---------10-----------------------#2021-02-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="111c" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">关于如何创建多用途、模块化和可扩展的反应模型的指南</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/1ab647cadc11dfc999ecae0fa378cbb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9QGs7VU-xNGlzdxG18VIyQ.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">西蒙·戈茨拍摄的照片</figcaption></figure><p id="31d5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">模态是现代 UI 设计中最常用的图形控件元素之一，因为它们能够避免中断主窗口中用户的工作流程。</p><p id="421a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">不幸的是，有时候，在一个干净的模型后面，隐藏着一些非常混乱的代码。</p><p id="28cb" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在本文中，我们将介绍如何使用 React 组件创建一个多用途的模型，保持它的整洁、模块化和可伸缩性，以满足您的各种需求。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><h1 id="975c" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">开始</h1><p id="7b10" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">对于本指南，您可以使用任何您已经拥有并想要在中创建您的模态的项目，因为我们将主要关注模态组件。<br/>然而，你可以随意使用这个<a class="ae jn" href="https://github.com/Roi-Livne/modular_modals" rel="noopener ugc nofollow" target="_blank"> Github </a>作为代码本身，或者跟随我们一起创建它。</p><p id="d496" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">继续打开一个新项目并运行 react 应用程序模板:</p><pre class="iy iz ja jb fd lo lp lq lr aw ls bi"><span id="f65c" class="lt ks hi lp b fi lu lv l lw lx">npx create-react-app &lt;path&gt;</span></pre><p id="e3b4" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在让我们首先编辑我们的<em class="ly"> App.js </em>文件，用一些按钮来测试我们的模态:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="918a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">接下来，在您的 src 文件夹中，创建一个<em class="ly">组件</em>文件夹。<br/>在其中创建一个<em class="ly"> Modal.js </em>文件和一个<em class="ly"> modals </em>文件夹。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mb"><img src="../Images/bda3afb3f758c6457f579ce747b22866.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*gRXJ7X4taDZ30BxPT078JQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">注意<em class="mc"> Modal.js </em>不在<em class="mc"> modals </em>文件夹中</figcaption></figure><h1 id="1a9f" class="kr ks hi bd kt ku md kw kx ky me la lb io mf ip ld ir mg is lf iu mh iv lh li bi translated">打开模式</h1><p id="8caa" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">继续我们的<em class="ly"> App.js </em>文件，我们将创建一个状态、一个上下文和一个更新函数来从应用程序的任何地方控制我们的模态。<br/>我们还将删除<code class="du mi mj mk lp b">App()</code>上的默认导出。<br/>(您必须将<em class="ly"> index.js </em>上的导入更改为<em class="ly"> </em> <code class="du mi mj mk lp b">import { App } from ‘./App’</code>，您的应用程序才能继续工作)</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="28ee" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在我们的按钮被配置为更新模态参数，这样我们的<em class="ly"> Modal.js </em>组件将打开正确的模态。</p><h1 id="178f" class="kr ks hi bd kt ku md kw kx ky me la lb io mf ip ld ir mg is lf iu mh iv lh li bi translated">情态动词</h1><p id="6ef0" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">为了进行测试，我们将在我们的<em class="ly"> modals </em>文件夹中创建一些非常基本的组件:log in model . js、SignupModal.js、BuyModal.js、CreditsModal.js. <br/>每个组件都将返回它的名称，如下所示:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h1 id="40a5" class="kr ks hi bd kt ku md kw kx ky me la lb io mf ip ld ir mg is lf iu mh iv lh li bi translated">Modal.js</h1><p id="17f1" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">现在，我们剩下要做的就是完成我们的<em class="ly"> Modal.js </em>文件。</p><p id="d703" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了使这个模型模块化和可伸缩，同时尽可能保持简洁，我们将模型的每个实例分离到不同的文件中。因此，允许我们的 Modal.js 文件充当不同模态的控制器。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="4a15" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们导入了不同的模态和上下文，还添加了一个函数，当用户单击模态之外的任何地方时，该函数会关闭模态。</p><p id="7e58" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果<code class="du mi mj mk lp b">isOpen</code>为真，我们返回适当的模态。如果没有，我们什么也不返回。</p><p id="517d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">让我们给我们的<em class="ly"> App.css </em>添加一些基本的 CSS，这样我们的模态就会显示在网页上:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lz ma l"/></div></figure><h1 id="9c79" class="kr ks hi bd kt ku md kw kx ky me la lb io mf ip ld ir mg is lf iu mh iv lh li bi translated">…瞧！</h1><p id="0e20" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">一个<strong class="jq hj">模块化的</strong>、<strong class="jq hj">可扩展的</strong>和<strong class="jq hj">干净的</strong>模态组件，在一个父组件中控制和操作你所有的模态需求。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ml"><img src="../Images/2bdcbd33ceaf818e3cfbd84116023976.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nbsMK07nPDa_bABE7gG6yw.gif"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">模块化反应模型</figcaption></figure><p id="be5f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，如果您想要添加任何其他模态类型，您可以简单地导入它，并向您的<em class="ly"> Modal.js </em>文件添加另一个条件，以实现无缝集成。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><h1 id="7a49" class="kr ks hi bd kt ku kv kw kx ky kz la lb io lc ip ld ir le is lf iu lg iv lh li bi translated">结论</h1><p id="7184" class="pw-post-body-paragraph jo jp hi jq b jr lj ij jt ju lk im jw jx ll jz ka kb lm kd ke kf ln kh ki kj hb bi translated">当您在时间压力下进行项目时，从一开始就创建模块化或可伸缩的组件并不总是容易的。</p><p id="c8e8" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">通过投入时间，并在代码的其他部分采用这些方法或思维方式，您可以获得更干净和可维护的代码。</p><p id="7081" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">代码也可以在 Github 库上找到。</p><p id="a692" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果你喜欢这篇文章，并发现它很有帮助，别忘了鼓掌:)<br/>当然，如果你有任何反馈，请写在评论中！</p></div></div>    
</body>
</html>