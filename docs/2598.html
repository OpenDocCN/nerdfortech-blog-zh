<html>
<head>
<title>Tweaking - Balanced powerup spawn system with a random loop table</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">调整了一个随机循环表的平衡加电产卵系统</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/tweaking-balanced-powerup-spawn-system-with-a-random-loop-table-f3c5a790895?source=collection_archive---------19-----------------------#2021-05-12">https://medium.com/nerd-for-tech/tweaking-balanced-powerup-spawn-system-with-a-random-loop-table-f3c5a790895?source=collection_archive---------19-----------------------#2021-05-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ae4c" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">以模块化的方式随机化物品掉落！</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/afe2fd63684223812adca8cdd01b6f44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KbCtJKFWzptr0Sb3"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">由<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae jn" href="https://unsplash.com/@edge2edgemedia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Edge2Edge媒体</a>拍摄</figcaption></figure><p id="f4fc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">好吧，这个挑战很有挑战性。不知道如何实现这样的行为，只有一种方法来解决这个问题。研究中。一种叫做“加权概率”的东西出现了，这正是我所需要的。然而，所有的代码片段、解释和文档对我来说都有点让人不知所措。因此，我试图寻找一些更详细的信息，并在YouTube上找到了GameDevHQ 的深入<a class="ae jn" href="https://www.youtube.com/watch?v=OUlxP4rZap0" rel="noopener ugc nofollow" target="_blank">教程。就在那时，我开始明白了！</a></p><p id="590f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">让我们现在接受挑战。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="115d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">截至目前，太空射手包含五个电源:</p><ul class=""><li id="6c33" class="kr ks hi jq b jr js ju jv jx kt kb ku kf kv kj kw kx ky kz bi translated">0:三枪</li><li id="6cd1" class="kr ks hi jq b jr la ju lb jx lc kb ld kf le kj kw kx ky kz bi translated">1:速度提升</li><li id="d2b1" class="kr ks hi jq b jr la ju lb jx lc kb ld kf le kj kw kx ky kz bi translated">2:盾牌</li><li id="743a" class="kr ks hi jq b jr la ju lb jx lc kb ld kf le kj kw kx ky kz bi translated">3:弹药+</li><li id="2a8f" class="kr ks hi jq b jr la ju lb jx lc kb ld kf le kj kw kx ky kz bi translated">4: HP+</li></ul><p id="0127" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果我现在在脑海中给它们排序，我会给弹药+最高的产卵率，因为我们经常需要它。HP+ powerup应该是比较少见的。因此它产卵的可能性最小。其他都介于两者之间。</p><p id="fb4a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">当然，这些值必须在事后决定和调整，但这在最后会很快完成。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="48a2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">算法的基本思想<br/> </strong>我们有一个加权表，最大值上升到100。为了简单起见，让我们想象一下，在那张桌子里有三个电源。一个有70%的概率掉下来，另一个有25%的概率掉下来，最后一个有5%的概率掉下来。</p><p id="05af" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">为了从中选择一个，我们需要一个随机数发生器来产生一个0到100之间的数。假设生成器返回一个数字80。我们要做什么？我们来看看伪代码。这应该足以理解算法的基本思想，无需进一步解释。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lf"><img src="../Images/f7d72da555d3fdb8a3d33e4f63ce491c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SJRFLduSi8a2D8X3KDBFyQ.png"/></div></div></figure><p id="1d64" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们来做第二个例子。这次抽到了随机数97。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lg"><img src="../Images/43cf61e1068b7c3d94ed64982d1a475f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aqydesPosNE49gF-_nQnlA.png"/></div></div></figure><p id="ebcd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">随机数与概率进行比较。如果概率越小，该项目就越多。如果不是，这个数字将被减去，然后与下一个数字进行比较。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="6f7d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">实施进入游戏<br/> </strong>要做的第一件事是决定如何对功率进行加权。</p><p id="87c7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">因为可用的弹药会很快耗尽，所以我决定放弃弹药+能量。盾，三枪，HP+应该很少掉。HP+是最稀有的一种，其次是三倍投。护盾加电应该不会像加速加电那么频繁。</p><p id="6790" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">因此，战利品表看起来像这样:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lh"><img src="../Images/11e8dfe81b01472bf8fb8d2856ca132a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*gLcpGilFnaers7tls8QH4w.png"/></div></figure><p id="6582" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> <em class="li">为了不破坏算法的功能，重要的是从最高机会到最低机会列出加权功率。</em>T3】</strong></p><p id="081f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">完整的算法如下所示:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lj"><img src="../Images/cb2e985c7b0e40ee3d8fdc5c58b0301f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4J-3D4VOXj1jjc5TJgz9Sw.png"/></div></div></figure><p id="51aa" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们将所有单独的权重相加，形成一个变量，称为<em class="li">总权重</em>。然后，生成随机数，并与<em class="li"> powerUpLootTable </em>数组中的每一项进行比较。如果随机数比权重小，将会产生能量。如果它更高，索引<em class="li"> i </em>增加1，权重将从随机数中减去。</p><p id="22c3" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这就是我们在本文前面讨论过的算法:)</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="7776" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">今天的文章就讲到这里！让我们看看明天会有什么实现或调整吧！</p></div></div>    
</body>
</html>