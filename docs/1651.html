<html>
<head>
<title>Level up your JavaScript browser logs with these console.log() tips</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用这些console.log()技巧提升您的JavaScript浏览器日志</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/level-up-your-javascript-browser-logs-with-these-console-log-tips-c96ca895d3e1?source=collection_archive---------9-----------------------#2021-03-30">https://medium.com/nerd-for-tech/level-up-your-javascript-browser-logs-with-these-console-log-tips-c96ca895d3e1?source=collection_archive---------9-----------------------#2021-03-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/70078e36b71a887575ad6a727255b83c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cFgByoi9KiwyGdw1gBSq3w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Java脚本提示—PopWebDesign.net</figcaption></figure><p id="d3e5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">问问任何后端或前端软件工程师，他们中的大多数都会告诉你，他们职业生涯的很大一部分基本上都花在了调试、监控和排除他们所开发的应用程序的故障上。这并不是说他们都是糟糕的专家，需要时刻关注他们的作品。</p><p id="3dd3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">软件开发建立在软件会失败的前提上。也就是说，新手和有经验的开发人员之间的基本区别是他们如何准备和计划这些失败。</p><p id="e909" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">做好一切准备的一个有效方法是连续记录。当你为失败和最终的缓解做计划时，它会有很大的帮助。另一方面，定期日志记录也有助于前端开发任务，但是，它不仅仅是一个简单的调试和故障排除对策。有效的日志记录可以使整个开发过程更快、更有趣、更有成效。</p><p id="06fb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">虽然大多数专家会同意适当和勤奋的测试驱动开发是一条路要走，但他们中的绝大多数人也会证明，通过有效使用console.log()可以实现的信息和代码的灵活性和丰富性也可以带来很大的不同。优秀的前端日志记录实践对改进整个工作流程和开发周期的质量大有帮助。通过我们即将与您分享的提示和技巧，您可以在开发周期中随时调试您的项目，但在您完成应用程序后很长时间内，它们也会对您有很大帮助，但它并没有按照预期的那样工作。</p><h1 id="7b54" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">开发周期中的提示</h1><h1 id="c4f1" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">不要使用console.log()</h1><p id="092d" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">考虑到我们正在谈论的实际话题，这听起来可能有点疯狂。但是，除了使用console.log()，您还可以使用console。trace()来查看您的应用程序的运行情况。它完成log-route所做的一切，还输出整个堆栈跟踪。当一条信息开始发出时，你会知道它是从哪里发出的。</p><h1 id="21e2" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">为了识别您的对象并避免变量名混淆，请使用ES6s计算属性名</h1><p id="8886" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">这应该是不言自明的。使用ES6的computed property语法，并将您想要记录的首选对象包装在console.log()中，即使用console . log({ user })vs console . log(user)。</p><p id="1937" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">它们将整齐地记录在变量名集中，作为值，作为键作为对象本身。当您因为着急而想在同一个log命令中记录几个对象时，这非常有用。</p><h1 id="8cfe" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">尝试错误、警告和信息(分层日志级别)</h1><p id="4972" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">默认情况下，console.log(param)将在信息级别记录日志。另一方面，你还有其他三个级别可以使用。它们是consoles.debug()、console.warn()和console.error()。除了格式上的不同，浏览器的开发人员控制台还允许您过滤掉不同级别的日志。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/440e87957fdd508f6e188d983257a4ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lw_WtK7FUk6O2kZjcIACxw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来源:Unsplash</figcaption></figure><h1 id="035d" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">对于列表和项目，请使用console.table()</h1><p id="e842" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">我们应该多说吗？如果您发现自己处于需要记录列表或项目的情况，请尝试使用这个命令。</p><h1 id="ae4c" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">拥抱调试器</h1><p id="abcb" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">与其在开发人员控制台中查找您的文件来添加断点，为什么不缩短几秒钟，为什么不在您的代码中加入一个调试器来在实际代码行正在执行时停止执行呢？这样做之后，您就可以单步执行/进入函数，并像以前一样调试它们。</p><h1 id="3447" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">使用console.profile()和console.time()进行精确的性能分析</h1><p id="7e9a" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">如果你希望在你的应用程序中描绘一个精确的用户流来帮助你更容易地找到热点，你可以触发控制台。profile(profileName)放在动作的开始，console.profileEnd(profileName)放在动作的结尾，这样可以让您的工作更轻松，并且可以检查流的CPU配置文件。</p><p id="b248" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">此外，您可以看到流程在开始时触发console.time(id ),在结束时触发console.timeEnd(id)需要多长时间。</p><h1 id="2fa5" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">使用console.count()对带标签的执行进行计数</h1><p id="3600" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">你可能找不到它的任何实际用途，但是，如果你需要它，它就在这里。这个命令可以帮助您准确地知道一段代码执行了多少次。在消除竞争条件和其他类似场景的情况下，它会非常方便。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/6e916536a407e25ab76159cc90fc513f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JCbIEEdiwQPXiFeC8PstCg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来源:Unsplash</figcaption></figure><h1 id="7973" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">使用CSS记录日志</h1><p id="8dc6" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">您可以充分利用格式字符串来格式化您的日志消息。%c是你的CSS样式的占位符，其后的任何内容都将是你的消息。</p><p id="34ab" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">除此之外，如果您扩展格式字符串以包含字符串参数的%s，您还可以设置几个元素的样式。</p><p id="422a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">虽然这些都是装饰性的小技巧，但是拥有一个外观漂亮的日志，并且有很好的分离和易于遵循的调试和信息日志，显然可以走很长的路，特别是当您必须重新访问应用程序来处理意外故障时。</p><h1 id="f38d" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">使用console.log()进行长期日志记录</h1><p id="aa46" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">当我们谈论前端代码生产时，在交付您的最终产品之前，您必须准备好几件事情。比如生成可缓存的资产摘要、删除日志和压缩代码。为什么？简单地说，你不希望你的用户仅仅为了与你的应用程序交互而进入开发者控制台。另一方面，如果您的日志保留在控制台中，您就为安全漏洞打开了方便之门。</p><p id="5fbd" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">还有。你希望监督应用程序中的每一个细节，以确保它完美运行，如果没有，至少在用户遇到错误时得到通知。为了尽可能快地找到并消灭臭虫，你可以做以下几件事来消灭它们。</p><h1 id="b4eb" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">不要使用console.log()</h1><p id="4649" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">相反，尝试编写一个包装类，它还包括基于后端全局变量上的日志级别设置的有条件日志记录的逻辑。哇，那是一把。</p><p id="dae4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">警告，如果你走这条路，你会看到TypeScript代码片段，所以如果你不是真的熟悉它们，把TypeScript想象成JS的超集，加上类型:const str = " some string变成const str:string = " some string "--类型添加在变量后，后跟一个分号。</p><h1 id="6e9a" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">让后端设置您的日志级别，以保护您的日志</h1><p id="c9c5" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">您可以将应用程序配置为默认为管理员用户打开调试级别日志记录。你只需要一个由后端设置的JavaScript变量。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/e6eed508be62fc78b355d7f4b2f77c29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UhUhqHMS7-RJ1kiAvmamQw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来源:Unsplash</figcaption></figure><p id="447b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你会看到一些用户会非常方便地在开发控制台中设置这些标志来打开粒度日志记录，在大多数情况下，这比默认情况下将每个日志暴露给应用程序中的每个用户，或者从应用程序中完全删除所有日志记录要好。</p><p id="f6eb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在Ruby on Rails视图中设置:</p><p id="c8b7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">const logLevel: number = </p><p id="b028" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在Logger类中:</p><p id="ab25" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">类记录器{</p><p id="22f3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">…</p><p id="24c0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">…</p><p id="c5f7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">静态信息(…) {</p><p id="eaec" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">shouldLog(级别。INFO)&amp; &amp; console . log(…)；</p><p id="72d0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">…</p><p id="fc86" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">}</p><p id="b8d5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">}</p><p id="330a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">记录可操作的错误(并通知)</strong></p><p id="8e6d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这个也是不言自明的。您希望在用户遇到错误时得到通知，但不一定希望将日志输出到开发人员控制台。如果这是您想要的，那么您可以通过在logger的error函数中包含一个调用来将错误传递给第三方APM服务。</p><p id="41df" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">类记录器{</p><p id="70ad" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">…</p><p id="55b3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">…</p><p id="3dea" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">静态错误(e) {</p><p id="22c1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">if (shouldLog(Level。错误)){</p><p id="314d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">控制台.错误(e)；</p><p id="f08d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">}</p><p id="3cf2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">app signal . send error(e)；</p><p id="0613" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">}</p><p id="aef6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi">}</p><p id="9d02" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您将看到有许多第三方解决方案，它们包含不同的集成，将您的错误传送到出站通知服务。其中一些甚至可以与项目管理工具连接起来，为您的团队自动创建bug和通知。</p><h1 id="8d4d" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">整理想法</h1><p id="0c2d" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">希望这几个技巧能在开发周期和长期过程中对你有所帮助。虽然这显然只是日志记录的冰山一角，但实现这些简单的步骤可以使整个开发过程更快、更有创意、更有趣，更不用说，它还可以在以后的应用程序维护中帮助您很多。</p></div><div class="ab cl la lb gp lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="hb hc hd he hf"><p id="e011" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="lh">原载于2021年3月30日https://www.popwebdesign.net</em><em class="lh">的</em> <a class="ae li" href="https://www.popwebdesign.net/popart_blog/en/2021/03/level-up-your-javascript-browser-logs-with-these-console-log-tips/" rel="noopener ugc nofollow" target="_blank"> <em class="lh">。</em></a></p></div></div>    
</body>
</html>