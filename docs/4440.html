<html>
<head>
<title>5 must-know Python things for competitive programmers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有竞争力的程序员必须知道的5件Python事情</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/5-must-know-python-things-for-competitive-programmers-757899c10146?source=collection_archive---------4-----------------------#2021-07-21">https://medium.com/nerd-for-tech/5-must-know-python-things-for-competitive-programmers-757899c10146?source=collection_archive---------4-----------------------#2021-07-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="5a3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你们中有多少人在用python做竞技编程？它可以是任何东西，你想要那份梦想的工作，你想要在<a class="ae jd" href="https://www.hackerrank.com/dashboard" rel="noopener ugc nofollow" target="_blank"> Hackerrank </a>爬上python排行榜。不管什么原因。有些事情你必须学会，才能让你的旅程平稳而有趣。我将分享5件让我的旅程变得轻松和没有痛苦的事情。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/73a4d23c88310a4b817a50c9104bd2ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P15QRrV2LR4gD-Xl-9cYPQ.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">照片由<a class="ae jd" href="https://unsplash.com/@keenangrams?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Keenan Constance </a>在<a class="ae jd" href="https://unsplash.com/s/photos/five-finger?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h2 id="ae6d" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">1.默认字典</h2><p id="a9c6" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">字典是python中最常用的数据结构之一。可以在O(1)时间内访问、存储元素。但是当你试图用一个不存在的键访问它时，它会抛出一个<code class="du ku kv kw kx b">KeyError</code>。如果你想在键不存在的时候使用默认值呢？</p><p id="6d80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以这样做，</p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="111d" class="ju jv hi kx b fi lc ld l le lf">&gt;&gt;&gt; itemsBought = {1:[‘A’,’B’],2:[‘A’,’C’]}<br/>&gt;&gt;&gt; itemsBought[3] #KeyError : 3<br/>&gt;&gt;&gt; itemsBought[3].append('C') # again KeyError: 3</span></pre><p id="30ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们如何以一种非pythonic方式避免keyError，</p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="37ed" class="ju jv hi kx b fi lc ld l le lf">&gt;&gt;&gt; <strong class="kx hj">itemsBought.get(3,[])</strong> # if key doesn't exist return []<br/>output: []</span><span id="c3fa" class="ju jv hi kx b fi lg ld l le lf">&gt;&gt;&gt; if <strong class="kx hj">not itemsBought.get(3)</strong>: <br/>       itemsBought[3] = ['C']  <br/>    else:<br/>       itemsBought.get(3).append('C')</span></pre><p id="4a85" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们如何删除所有的样板代码，并以更pythonic化的方式做同样的事情呢？答案是<code class="du ku kv kw kx b">defaultdict</code></p><ul class=""><li id="e8ae" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">从<code class="du ku kv kw kx b">collections </code>库中导入<code class="du ku kv kw kx b">defaultdict </code>。</li></ul><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="db27" class="ju jv hi kx b fi lc ld l le lf"><strong class="kx hj">from collections import defaultdict</strong></span></pre><ul class=""><li id="9000" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">defaultdict的语法是，<code class="du ku kv kw kx b">defaultdict(function)</code></li><li id="4f42" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">示例:</li></ul><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="3c6c" class="ju jv hi kx b fi lc ld l le lf">&gt;&gt;&gt; from collections import defaultdict<br/>&gt;&gt;&gt; frequencyDict = defaultdict(<strong class="kx hj">int</strong>) #default value is 0<br/>&gt;&gt;&gt; frequencyDict[123]<br/><strong class="kx hj">output: 0</strong></span><span id="918c" class="ju jv hi kx b fi lg ld l le lf">&gt;&gt;&gt; frequencyDict = defaultdict(<strong class="kx hj">lambda : 10</strong>) #default value is 10<br/>&gt;&gt;&gt; frequencyDict['z']<br/><strong class="kx hj">output: 10 </strong></span><span id="0889" class="ju jv hi kx b fi lg ld l le lf"><em class="lv">####   setting list as default value   ####</em></span><span id="3526" class="ju jv hi kx b fi lg ld l le lf">&gt;&gt;&gt; itemsBought = defaultdict(list)     <br/>&gt;&gt;&gt; itemsBought[123]  #123 is a non-existent key<br/><strong class="kx hj">output: [] <br/></strong> <br/>&gt;&gt;&gt; itemsBought = defaultdict(lambda : ['apple'])<br/>&gt;&gt;&gt; itemsBought[42] <br/><strong class="kx hj">output: ['apple']</strong></span></pre><h2 id="f50f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">2.计数器</h2><p id="9961" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">这个非常有用，你有没有在面试中被要求找出一个字符串中最常见的前5个字母，或者你有没有发现自己写了很多次样板代码来找出一个字母在一个字符串中的出现频率？Counter类可以减少样板代码，这是计算对象数量的pythonic方式。</p><p id="d089" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。从集合包中导入计数器。</strong></p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="a971" class="ju jv hi kx b fi lc ld l le lf"><strong class="kx hj">from collections import Counter</strong></span></pre><p id="3e18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。你能用计数器做什么？</strong></p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="aafc" class="ju jv hi kx b fi lc ld l le lf">&gt;&gt;&gt; freqDict = Counter(“hello world”)<br/>&gt;&gt;&gt; freqDict<br/>Counter({‘l’: 3, ‘o’: 2, ‘h’: 1, ‘e’: 1, ‘ ‘: 1, ‘w’: 1, ‘r’: 1, ‘d’: 1})</span><span id="614f" class="ju jv hi kx b fi lg ld l le lf">## not only strings , you can pass any iterables like list,tuple etc<br/>&gt;&gt;&gt; freqDict = Counter([1,1,2,3,3,4])<br/>&gt;&gt;&gt; freqDict<br/><strong class="kx hj">Counter({1: 2, 3: 2, 2: 1, 4: 1})</strong></span></pre><p id="d68f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如何在计数器中找到N个最常见的元素</p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="1c19" class="ju jv hi kx b fi lc ld l le lf">&gt;&gt;&gt; freqDict = Counter(‘counters are awesome’)<br/>&gt;&gt;&gt; <strong class="kx hj">freqDict</strong>.<strong class="kx hj">most_common(5)  </strong>#find 5 most common letters<br/>[(‘e’, 4), (‘o’, 2), (‘r’, 2), (‘s’, 2), (‘ ‘, 2)]</span></pre><p id="893d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们通过使用<code class="du ku kv kw kx b">counter</code>统计你买了多少东西和卖了多少东西来做一些库存管理</p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="b0d6" class="ju jv hi kx b fi lc ld l le lf">&gt;&gt;&gt; itemsBought = {‘A’:10,’B’:10,’C’:10} #bought items<br/>&gt;&gt;&gt; itemsSold = {‘A’:5,’B’:10,’C’:7}     #sold items<br/>&gt;&gt;&gt; inventory = Counter()                #create a counter  <br/>&gt;&gt;&gt; inventory.update(itemsBought)      #update it with bought items <br/>&gt;&gt;&gt; <strong class="kx hj">inventory.subtract(itemsSold)</strong>   #subtract it from the sold items<br/>&gt;&gt;&gt; inventory<br/>Counter({‘A’: 5, ‘C’: 3, ‘B’: 0})   #items remaining!!</span></pre><p id="9a8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3。设定递归限制</strong></p><p id="3a93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你还记得吗，当你写第一个递归阶乘函数的时候忘记设置基本情况会发生什么？</p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="0dba" class="ju jv hi kx b fi lc ld l le lf"><strong class="kx hj">RecursionError: maximum recursion depth exceeded</strong></span></pre><p id="d477" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是你不应该讨厌RecursionError，你不会想把你的电脑挂一天就为了找到5的阶乘。</p><p id="ab2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Python默认的递归限制是1000。对于大多数情况来说，这是相当好的，但不是所有时候。对于某些问题，您希望增加堆栈深度，以允许更多的递归调用。</p><p id="8f4a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 1。导入sys包</strong></p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="be62" class="ju jv hi kx b fi lc ld l le lf">import sys</span></pre><p id="d5b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2。sys . setrecursionlimit(limit)</strong></p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="1166" class="ju jv hi kx b fi lc ld l le lf">sys.setrecursionlimit(10000) </span></pre><blockquote class="lw lx ly"><p id="5638" class="if ig lv ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><em class="hi">可能的最高限制取决于平台。</em>最高可能限制取决于平台。</p></blockquote><h2 id="1e27" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">4.python中的比较器。</h2><p id="4185" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">您是否曾经困惑于如何根据值对计数器字典进行排序，或者如何根据年龄和姓名对Person类进行排序？让我们看看如何做到这一点，</p><ol class=""><li id="6554" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc mc ln lo lp bi translated"><strong class="ih hj">键—变换&amp;排序</strong></li></ol><p id="fd8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有时，您希望在将数据转换为其他值后对其进行排序。</p><p id="7cfb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">示例:</p><p id="41d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1.对字典键进行排序，但是基于它们的值。</p><p id="0470" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.根据循环列表右侧的第三个元素对其进行排序。🤣🤣(是的，有时候你可能会被问到这样的问题。所以，要做好准备)</p><p id="91b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">怎么做？使用<strong class="ih hj">键</strong>！！</p><p id="9ef9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你听说过sort()之类的函数中的<code class="du ku kv kw kx b">key </code>参数吗，它做的正是我上面提到的，<strong class="ih hj">它将元素转换成一些其他的值，然后排序</strong>！！</p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="536e" class="ju jv hi kx b fi lc ld l le lf">&gt;&gt;&gt; fruitsBought={‘orange’:17,<br/>         ’jackfruit’:5,’apple’:200} #  I Like apples</span><span id="b8ab" class="ju jv hi kx b fi lg ld l le lf">&gt;&gt;&gt; keys = list(fruitsBought.keys())   #convert the keys to list<br/>&gt;&gt;&gt; keys.sort( <strong class="kx hj">key= lambda key: fruitsBought[key] </strong>) <br/><br/>&gt;&gt;&gt; keys<br/>['jackfruit', 'orange', 'apple']</span></pre><p id="73bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du ku kv kw kx b">key </code>所做的是使用传递的函数转换元素。</p><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="3ce7" class="ju jv hi kx b fi lc ld l le lf">&gt;&gt;&gt; keys.sort(key=lambda key: fruitsBought[key])</span></pre><ul class=""><li id="3454" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">它首先将<code class="du ku kv kw kx b"> [‘orange’,’jackfruit’,’apple’]</code>转换为<code class="du ku kv kw kx b"><strong class="ih hj">[17,5,200]</strong></code></li><li id="5adb" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">然后将转换后的值从<code class="du ku kv kw kx b"><strong class="ih hj">[17,5,200] </strong></code>T17到T5排序</li><li id="6621" class="lh li hi ih b ii lq im lr iq ls iu lt iy lu jc lm ln lo lp bi translated">将其重新转换为原始值，<code class="du ku kv kw kx b"> [‘jackfruit’,’orange’,’apple’]</code></li></ul><h2 id="9c6a" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">cmp_to_key</h2><p id="e61d" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">如果您来自Java背景，它的作用就像一个比较器。该函数接受2个参数<code class="du ku kv kw kx b">a and b</code>，并输出</p><blockquote class="lw lx ly"><p id="b64d" class="if ig lv ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated">如果a=b，则为0</p><p id="e3ad" class="if ig lv ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><strong class="ih hj">负数</strong>如果a &lt; b</p><p id="b16b" class="if ig lv ih b ii ij ik il im in io ip lz ir is it ma iv iw ix mb iz ja jb jc hb bi translated"><strong class="ih hj">正数</strong>如果a &gt; b</p></blockquote><p id="fcc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">示例:</p><ul class=""><li id="24ab" class="lh li hi ih b ii ij im in iq lj iu lk iy ll jc lm ln lo lp bi translated">当你想根据字母出现的频率对字符串中的字母进行排序，但是当两个字母出现的频率相同时，就按字母顺序进行排序。</li></ul><pre class="jf jg jh ji fd ky kx kz la aw lb bi"><span id="3291" class="ju jv hi kx b fi lc ld l le lf">&gt;&gt;&gt; from collections import Counter<br/>&gt;&gt;&gt; <strong class="kx hj">from functools import cmp_to_key</strong><br/>&gt;&gt;&gt; def compare(letter1,letter2):<br/>         freqA = counterDict[letter1]<br/>         freqB = counterDict[letter2]<br/> <br/>         #just a utility function <br/>         def comp(a,b):<br/>           if a==b: <strong class="kx hj">return 0    # a==b</strong><br/>           elif a&lt;b: <strong class="kx hj">return -1  # a&lt;b</strong><br/>           else: <strong class="kx hj">return 1       # a&gt;b</strong><br/> <br/>         isFreqNotEqual = comp(freqA,freqB)</span><span id="08db" class="ju jv hi kx b fi lg ld l le lf">         # compare the letters if the frequencies are same<br/>         if <strong class="kx hj">not isFreqNotEqual</strong>: <br/>                return comp(letter1,letter2)</span><span id="ca0f" class="ju jv hi kx b fi lg ld l le lf">         return isFreqNotEqual</span><span id="1d28" class="ju jv hi kx b fi lg ld l le lf">&gt;&gt;&gt; counterDict = Counter(‘aabbcccdd’)<br/>&gt;&gt;&gt; keys = list(counterDict.keys())<br/>&gt;&gt;&gt; keys.sort(key=<strong class="kx hj">cmp_to_key(compare)</strong>)<br/>&gt;&gt;&gt; keys<br/>['a', 'b', 'd', 'c']</span></pre><h2 id="31e3" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">5.PYPY3</h2><p id="e2fc" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated">众所周知，python速度很慢🐢与C++、Java等其他编程语言相比。但是看在上帝的份上，我们已经爱上它了。有时候，我们已经编写了一个非常优化的python解决方案，但是仍然会出现令人讨厌的<code class="du ku kv kw kx b">TLE</code>错误。为了克服这一点，有一个黑客。我们可以使用python的优化版本<strong class="ih hj"> PyPy3 </strong>(一个带有JIT编译器的快速Python实现)。</p><p id="7c61" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">令人惊讶的是，许多编码平台如Hackerrank、CodeChef等(不包括leetCode☹)都支持PyPy3。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es md"><img src="../Images/9cd6fbb0a903b64c0ff50d5d19c5312c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*t5F5LwkX5SXKlcCBy0xbqw.png"/></div><figcaption class="jq jr et er es js jt bd b be z dx translated">Hackerank支持PyPy2、PyPy3</figcaption></figure><p id="8f1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您下次遇到TLE错误时，只需切换到PyPy3并复制粘贴您的python代码，就可以看到TLE消失了。</p></div><div class="ab cl me mf gp mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hb hc hd he hf"><p id="84be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你喜欢这篇文章，如果你知道任何其他必须知道的事情，请分享🤗它在评论中。拍手声👏如果你喜欢这篇文章。</p></div></div>    
</body>
</html>