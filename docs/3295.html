<html>
<head>
<title>Apache Superset: Opensource Data Visualization Web Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Apache超集:开源数据可视化网络平台</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/apache-superset-opensource-data-visualization-web-platform-4fa52ee56f1?source=collection_archive---------9-----------------------#2021-06-05">https://medium.com/nerd-for-tech/apache-superset-opensource-data-visualization-web-platform-4fa52ee56f1?source=collection_archive---------9-----------------------#2021-06-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3053" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Apache Superset是一个用于创建可视化和仪表板的web平台。创建讲述故事的数据面板不需要编程语言。您可以轻松创建图表并与其他用户共享，使用内置角色和权限管理来保护图表。如果源数据启用了行级安全性，则可以在超集中可用的行级安全性接口中配置这些详细信息。超集是Airbnb自助式商业智能(BI)解决方案的核心。</p><p id="1a0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，将介绍从docker容器运行超集、安装python数据库连接器、更新超集配置文件、添加数据库、数据集以及启用CSV上传的数据源</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="f87d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">安装:</p><p id="88d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">采用dockerhub存储库中可用的Docker容器Apache/超集。安装很简单，可在<a class="ae jk" href="https://hub.docker.com/r/apache/superset" rel="noopener ugc nofollow" target="_blank">这里</a>找到。如果您想忽略示例数据集和图表，可以跳过“加载示例”。</p><p id="211d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我使用mysql数据库作为后端，连接器已经在docker中可用。如果您的连接器丢失，您可以通过pip进行安装。请在这篇文章的末尾找到连接器列表</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="124d" class="ju jv hi jq b fi jw jx l jy jz">docker exec -it superset pip install %PYTHON_DB_CONNECTOR%</span><span id="6d0e" class="ju jv hi jq b fi ka jx l jy jz">Note: Here superset is container name. You can replace it with your container. Replace %PYTHON_DB_CONNECTOR% with your required connector e.g., <strong class="jq hj">pybigquery for BigQuery</strong></span></pre><p id="9b67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">超集配置存储在docker中app/超集路径下的config.py文件中。由于docker容器中不提供文本编辑器，您可以将文件复制到您的虚拟机中，进行更改，然后将其复制回docker容器。例如，您可以在配置文件中替换您的MapBox访问令牌，这样，您就可以使用mapbox的内置图表。config.py中的一些重要设置你可能需要编辑:你想在图表中查看的最大行数，SQL Lab和数据导出，配置slack或email，你的应用程序标志</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="a731" class="ju jv hi jq b fi jw jx l jy jz">docker cp superset:/app/superset/config.py . <br/>###After making changes to config file, copy it back to docker<br/>docker cp config.py superset:/app/superset/config.py<br/>docker restart superset #restart docker to apply changes</span></pre><p id="35df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">搞定了。您现在可以使用以下URL格式访问您的超集:</p><p id="146f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您按照上面的<a class="ae jk" href="https://hub.docker.com/r/apache/superset" rel="noopener ugc nofollow" target="_blank">链接中共享的安装说明执行了命令，admin / admin将是登录凭证</a></p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="b124" class="ju jv hi jq b fi jw jx l jy jz"><a class="ae jk" href="http://167.71.225.227:8080/superset/welcome/" rel="noopener ugc nofollow" target="_blank">http://yourIP:8080/superset/welcome/</a><br/></span></pre></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="ae56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们添加一个连接到您的数据源，创建数据集，以便我们可以创建可视化</p><ol class=""><li id="8f52" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc kg kh ki kj bi translated">首先，您需要添加数据库连接。要创建数据库连接，请参考URI SQLALCHEMY。我已经在附录中列出了<strong class="ih hj"> SQLAlchemy URI前缀</strong></li></ol><figure class="jl jm jn jo fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kk"><img src="../Images/19731e5e244de94bf9ca99cb0c521d38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pUMbBXJzcGnXzhDUFkYd9A.png"/></div></div></figure><p id="c1aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.从上一步中创建的数据库连接创建数据集。注意:您只能选择一个表或一个视图。如果要创建组合多个表的数据集，请选择其中一个表并保存它。之后，通过点击右端的编辑图标打开数据集。将会打开如下界面。单击锁图标解锁并选择虚拟SQL。这将显示查询面板来编写您的自定义SQL。添加查询后，保存数据集。</p><figure class="jl jm jn jo fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ks"><img src="../Images/828c91050fb693dc69878116f79660a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MieypmzEkDBjT-imf_D-eQ.png"/></div></div></figure><p id="2d90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">等等！在寻找创建可视化之前，您需要同步您的列。在编辑模式下打开数据集，然后单击列。从源中选择同步列。对于数据集中的日期和时间字段，选择是时态复选框。</p><figure class="jl jm jn jo fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kt"><img src="../Images/d46c66d80b4565d01c36fea8d3f3272f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nur-rgYG7S1xHRF9IFghUw.png"/></div></div></figure><p id="e8e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.您可以通过单击数据集来创建图表</p><p id="2702" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.如果您想要上传CSV或Excel文件并使用这些文件作为数据源来创建图表，请确保启用了允许CSV。请参考下图启用它</p><figure class="jl jm jn jo fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ku"><img src="../Images/85667228991614c81e1562c2991132a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RaV06VQCksA9T9O1dbLLGg.png"/></div></div></figure><p id="6d90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">瞧啊。您可以使用superset中的许多内置图表类型来创建令人惊叹的视觉效果，并讲述您的数据故事。</p><figure class="jl jm jn jo fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kv"><img src="../Images/06db03ca9b66cb96b6c46cad4e4675e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*koUVFL7JSjb5uxVtQATw-A.png"/></div></div></figure><p id="89fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">附录Python数据库连接器列表:</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="3088" class="ju jv hi jq b fi jw jx l jy jz">DATABASE   Python connector  SQL ALCHEMY Prefix<br/>MySQL  <!-- -->mysqlclient    <!-- -->mysql://<br/>PostgreSQL <!-- -->psycopg2   <!-- -->postgresql+psycopg2://<br/>Presto  presto-python-client    presto://<br/>Hive <!-- -->pyhive<br/>Oracle <!-- -->cx_oracle    <!-- -->oracle://<br/>Snowflake <!-- -->snowflake-sqlalchemy   <!-- -->snowflake://<br/>Redshift <!-- -->sqlalchemy-redshift    <!-- -->redshift+psycopg2://<br/>MS SQL <!-- -->pymssql     <!-- -->mssql://<br/>Athena <!-- -->PyAthenaJDBC&gt;1.0.9    <!-- -->awsathena+jdbc://<br/>Vertica <!-- -->sqlalchemy-vertica-python    <!-- -->vertica+vertica_python://<br/>Kylin <!-- -->kylinpy     <!-- -->kylin://<br/>BigQuery <!-- -->pybigquery   <!-- -->bigquery://</span></pre></div></div>    
</body>
</html>