<html>
<head>
<title>CORS Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CORS 解释道</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/cors-explained-1ea5a6e45245?source=collection_archive---------0-----------------------#2022-09-25">https://medium.com/nerd-for-tech/cors-explained-1ea5a6e45245?source=collection_archive---------0-----------------------#2022-09-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="36fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在这里阅读更多关于 HTTP <a class="ae jd" href="https://www.pansofarjun.com/post/http-a-layman-s-guide-i" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><p id="7d8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Cross 跨产地资源共享。</p><p id="8622" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来了解一下<strong class="ih hj">产地</strong>和<strong class="ih hj">地点的区别。</strong></p><p id="fe17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们来看一个网址:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="d082" class="jn jo hi jj b fi jp jq l jr js">http://app.paperless.com/about</span></pre><p id="458a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里</p><p id="9fb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jt"> http:// </em> →方案(使用的协议)</p><p id="1b0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jt"> app </em> →子域</p><p id="d06c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jt">papers</em>s-&gt;二级域名</p><p id="f03d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jt"> com </em> →顶级域名</p><p id="1727" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jt">关于</em> →子目录</p><p id="18ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">取下面这样的长 URL。(包括端口号和查询字符串)</p><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ju"><img src="../Images/19e9378778cbcfa2542682d7633a8209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PI0N-y19d81hHym6.png"/></div></div></figure><h2 id="e317" class="jn jo hi bd kc kd ke kf kg kh ki kj kk iq kl km kn iu ko kp kq iy kr ks kt ku bi translated">什么是起源？</h2><p id="bb57" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">来源是方案、域和端口的组合。</p><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es la"><img src="../Images/b67269807920ca3f10772599d2cd8c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F2C1paxY2EwJwWPa.png"/></div></div></figure><h2 id="8db0" class="jn jo hi bd kc kd ke kf kg kh ki kj kk iq kl km kn iu ko kp kq iy kr ks kt ku bi translated">什么是站点？</h2><p id="9684" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">该网站将顶级域名和其之前的部分域名结合在一起。</p><p id="ca35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，</p><p id="3ba7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">想想这个，</p><p id="544c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://app.paperless.com:443" rel="noopener ugc nofollow" target="_blank">https://app.paperless.com:443</a></p><p id="dcf5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里的顶级域名是“<em class="jt"> com”在这里，该网站将是 TLD 之前域的一部分。</em></p><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es lb"><img src="../Images/0bf65925452788bda8a60d2d4998f062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Uld7nOho5ekPiTzT.png"/></div></div></figure><p id="5501" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">好玩的事实:</strong> <strong class="ih hj"> WWW </strong>也是和上面的'<strong class="ih hj"> <em class="jt"> app </em> </strong>'和'<strong class="ih hj"> <em class="jt">你好</em> </strong>'一样的子域。</p><p id="0509" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此</p><ul class=""><li id="7fb5" class="lc ld hi ih b ii ij im in iq le iu lf iy lg jc lh li lj lk bi translated"><a class="ae jd" href="http://example.com" rel="noopener ugc nofollow" target="_blank">http://example.com</a></li><li id="7fee" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><a class="ae jd" href="http://www.example.com" rel="noopener ugc nofollow" target="_blank">http://www.example.com</a></li><li id="1b1c" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><a class="ae jd" href="http://myapp.example.com" rel="noopener ugc nofollow" target="_blank">http://myapp.example.com</a></li></ul><p id="db25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是不同的起源。</p><h2 id="7b55" class="jn jo hi bd kc kd ke kf kg kh ki kj kk iq kl km kn iu ko kp kq iy kr ks kt ku bi translated"><strong class="ak">与 CORS 相关的 HTTP 头:</strong></h2><p id="3440" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated"><strong class="ih hj">请求</strong>:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="1b07" class="jn jo hi jj b fi jp jq l jr js">origin:http://example.com --&gt; automatically set by the browser</span></pre><p id="83da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">回应</strong>:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="ba65" class="jn jo hi jj b fi jp jq l jr js">Access-Control-Allow-Origin: * --&gt; accepts all origins</span><span id="ea45" class="jn jo hi jj b fi lq jq l jr js">Access-Control-Allow-Origin: https://app.paperless.com --&gt; allows only this site</span></pre><p id="24fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">理解飞行前请求是很重要的。预检请求检查服务器上是否允许请求的 HTTP 方法。</p><p id="2ff7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">预检请求中使用的 HTTP 方法是<strong class="ih hj">选项</strong></p><p id="ed3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">特定请求不会触发预检请求；这些被称为简单请求。</p><p id="41c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据经验，任何不会对服务器数据造成副作用的请求都被称为<strong class="ih hj">‘简单请求’</strong></p><p id="39d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> CORS 飞行前:</strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="e60d" class="jn jo hi jj b fi jp jq l jr js">OPTIONS /doc HTTP/1.1 <br/>Access-Control-Request-Method: POST <br/>Access-Control-Request-Headers: X-PINGOTHER, Content-Type</span></pre><p id="a6fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将告诉我们，我将使用方法'<strong class="ih hj"> Post </strong>'发送一个请求。如果请求被发送，它可能有一些自定义头。Access-Control-Request-Headers 给出了这个自定义头指令<em class="jt"> : X-PINGOTHER，Content-Type。前缀</em> <strong class="ih hj"> <em class="jt"> X </em> </strong> <em class="jt">会告诉它是自定义表头。</em></p><p id="ac9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">服务器的响应将是</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="8c8c" class="jn jo hi jj b fi jp jq l jr js">Access-Control-Allow-Origin: https://app.paperless.com <br/>Access-Control-Allow-Methods: POST, GET, OPTIONS <br/>Access-Control-Allow-Headers: X-PINGOTHER, Content-Type<br/>Access-Control-Max-Age: 86400 --&gt; In seconds (24 hours)--&gt; How long the preflight request can be cached</span></pre><p id="6ed1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jt">原载于 2022 年 9 月 25 日 https://www.pansofarjun.com</em><a class="ae jd" href="https://www.pansofarjun.com/post/cors-explained" rel="noopener ugc nofollow" target="_blank"><em class="jt"/></a><em class="jt">。</em></p></div></div>    
</body>
</html>