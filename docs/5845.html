<html>
<head>
<title>Cross platform input controller | Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">跨平台输入控制器| Unity</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/cross-platform-input-controller-unity-9b76545a4aa0?source=collection_archive---------3-----------------------#2021-11-24">https://medium.com/nerd-for-tech/cross-platform-input-controller-unity-9b76545a4aa0?source=collection_archive---------3-----------------------#2021-11-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="86a5" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="e124" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于如何在Unity中实现移动输入的快速指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/229245b0dfbeb76ab8bb068cba081bcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Qsp5cLJpbO6IlfxXqLP_Fw.gif"/></div></div></figure><p id="b064" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:在我们的游戏中实现跨平台输入，以便在手机上使用Unity中的新输入系统。</p><p id="a59b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在上一篇文章中，我介绍了<a class="ae ko" href="https://fas444.medium.com/onclick-events-unity-f4805203b039" rel="noopener">如何在Unity </a>中使用OnClick事件。现在，是时候使用Unity中的新输入系统来实现移动输入在我们的平台游戏中的工作方式了。</p><h1 id="122b" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">开始前</h1><p id="61cb" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">如果你一直关注我以前的帖子，那么你会记得我在Unity中使用新的输入系统实现了移动和其他机制。如果你不知道如何使用新的输入系统，我真的建议在开始这篇文章之前检查一下这些文章:</p><div class="lm ln ez fb lo lp"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/moving-with-the-new-input-system-unity-a6c9cb100808"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">随着新输入系统| Unity移动</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">关于如何在Unity中使用新的输入系统实现移动的快速指南</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">medium.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md jq lp"/></div></div></a></div><div class="lm ln ez fb lo lp"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/implementing-a-jump-mechanic-unity-6420b106e47a"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">实现跳转机制| Unity</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">关于如何在Unity中实现跳转机制的快速指南</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">medium.com</p></div></div><div class="ly l"><div class="me l ma mb mc ly md jq lp"/></div></div></a></div><h1 id="1815" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">当前输入动作</h1><p id="feaa" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">在当前输入动作资产中，我们包含3个不同的动作:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/b739ad6816adcc0edb32ce71c244bc55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kWAZu3g9vGbRN1vHj_PIWA.png"/></div></div></figure><ul class=""><li id="058b" class="mf mg hi ju b jv jw jy jz kb mh kf mi kj mj kn mk ml mm mn bi translated"><strong class="ju hs">机芯</strong></li></ul><p id="941a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">该动作与1D轴值相关联，以指示玩家应该向左还是向右移动。</p><ul class=""><li id="b34b" class="mf mg hi ju b jv jw jy jz kb mh kf mi kj mj kn mk ml mm mn bi translated"><strong class="ju hs">跳转</strong></li></ul><p id="567c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个动作指示玩家应该何时跳跃，它与空格键结合在一起。</p><ul class=""><li id="286f" class="mf mg hi ju b jv jw jy jz kb mh kf mi kj mj kn mk ml mm mn bi translated"><strong class="ju hs">攻击</strong></li></ul><p id="3faf" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个动作指示玩家应该何时攻击，它与鼠标左键点击相结合。</p><p id="a832" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">正如你在左上角看到的，这些动作被绑定到<strong class="ju hs">键盘</strong>控制方案。但是，如果我们想让我们的游戏接收来自手机屏幕的输入呢？…这真的很简单，我们只需要为移动输入添加一个新的控制方案:</p><h1 id="ed8a" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">新控制方案</h1><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/245d914faf47e1b298f39f268be9c3a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5BBIfciOZRJSZJgsUBJSrw.gif"/></div></div></figure><p id="8ee3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦我们添加了<strong class="ju hs"> <em class="mo">触摸</em> </strong>控制方案，我们将能够看到与<strong class="ju hs"> <em class="mo">键盘</em> </strong>方案相同的3个动作，并且，由于我们的玩家只需要向左或向右移动，我们可以将一个新的1D轴值绑定到移动动作:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/116885bdf1ab55b0b153e64702cda585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*csh89NJcg2zuos0ccGNxrw.gif"/></div></div></figure><p id="971e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">值绑定后，让我们选择相应的轴作为输入。和很多手机游戏一样，我们可以选择游戏手柄的<strong class="ju hs">默认</strong>左键，并根据1D轴的值选择向左或向右的方向:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/422b215e3755b77a6deb4e23d1dc830d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RK6EALhuT_ejbZK2xejzfg.gif"/></div></div></figure><p id="3363" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这样，当<strong class="ju hs">游戏手柄</strong>向左移动时，或者当键盘上的<strong class="ju hs"> A </strong>键被按下时，我们可以将玩家移动到左边。</p><blockquote class="mp mq mr"><p id="e9a4" class="js jt mo ju b jv jw is jx jy jz iv ka ms kc kd ke mt kg kh ki mu kk kl km kn hb bi translated">注意:选择输入路径后，不要忘记点击<strong class="ju hs"> <em class="hi">保存资产</em> </strong>按钮。</p></blockquote><h1 id="baf4" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">添加移动输入</h1><p id="7c17" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了使用移动输入，让我们将各自的精灵添加到画布中。移动时我们用左边的棍子，跳跃和攻击时我们用右边的两个按钮:</p><div class="jh ji jj jk fd ab cb"><figure class="mv jl mw mx my mz na paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/4e09531af81cea74f00afbb4ad2a34c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*QCZ7nffjLQ6GALDtwEkALg.png"/></div></figure><figure class="mv jl nb mx my mz na paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/1bf86d4d541b9875b32c0f568969cbf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*Tm-liHfBqp3raMBYjErZxg.png"/></div></figure></div><p id="ec18" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">添加完精灵后，让我们选择左边的棍子图像，并附加一个<strong class="ju hs">屏幕棍子</strong>组件，该组件将为它提供一个棍子行为，并提供分配其移动范围的选项:</p><div class="jh ji jj jk fd ab cb"><figure class="mv jl nc mx my mz na paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/08529a73e1b0ffde74fa320a10d4191a.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/1*ocQ0nKD-xFoD-fiw7bEOQw.gif"/></div></figure><figure class="mv jl nd mx my mz na paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/10a078370e94c13a075ea6f1e71bf1cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/1*oMivOd6sxTWN4J-0VwTH6w.gif"/></div></figure></div><p id="c092" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，为了将摇杆输入与新的<strong class="ju hs">触摸</strong>控制方案连接起来，让我们通过检查器选择各自的控制路径(<strong class="ju hs">游戏手柄的左摇杆</strong>)。然后，如果我们运行游戏，我们将能够像在移动设备中一样根据我们选择的移动范围值来拖动操纵杆:</p><div class="jh ji jj jk fd ab cb"><figure class="mv jl ne mx my mz na paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/20ead9882dc9e6ae594510215a3c2b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/1*ddFOkeKu2McVief7dPLKEA.gif"/></div></figure><figure class="mv jl nf mx my mz na paragraph-image"><img src="../Images/c8bdb2064e0db22983f6420e59c5e4f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/1*nou0aMwoFP5yzer61DAa7A.gif"/></figure></div><p id="ab4a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦选择了相应的控制路径，让我们运行游戏，我们将能够看到移动输入按预期工作:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/40c09ea855a8f7f2066fc26cc6387f64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1JCu0mocNdgTlyGm_trUFw.gif"/></div></div></figure><h1 id="66ef" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">额外(按钮)</h1><p id="9a0d" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">如果我们想要实现按钮，我们只需对输入动作资产中的其他动作遵循相同的过程。只需选择相应的控制路径来绑定操作:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/feda09d939ab08cb4455ee956fe7eb0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xoF9GWMBVootgnVBTJH0iQ.gif"/></div></div></figure><p id="efac" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，为了连接输入，将一个<strong class="ju hs">屏幕按钮</strong>组件附加到按钮图像上，并从上面选择相同的控制路径:</p><div class="jh ji jj jk fd ab cb"><figure class="mv jl ng mx my mz na paragraph-image"><img src="../Images/c3592b831037015e748efcd3f09037fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*pf5O8oHAPMhNsyN_2bMB_w.png"/></figure><figure class="mv jl nh mx my mz na paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a6795ada1ac8bd24c0f8eef664ece6f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/1*H8t5IFgJ-ZBrXC7Skzz_Wg.gif"/></div></figure></div><p id="af36" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们用新的输入系统用Unity实现了移动控件！:d .下一篇文章再见，我将展示如何用Unity为我们的游戏实现移动广告。</p></div><div class="ab cl ni nj gp nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="hb hc hd he hf"><blockquote class="mp mq mr"><p id="4311" class="js jt mo ju b jv jw is jx jy jz iv ka ms kc kd ke mt kg kh ki mu kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>