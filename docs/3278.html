<html>
<head>
<title>Implementing space shooter game features - Extra Life</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现空间射击游戏功能-额外的生活</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-extra-life-a670cc82f2b9?source=collection_archive---------14-----------------------#2021-06-04">https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-extra-life-a670cc82f2b9?source=collection_archive---------14-----------------------#2021-06-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="9165" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="4c94" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">Unity 空间射击游戏新增功能快速回顾</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/3ba6ab557091d4456c7606a6839898b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*poYjJkJjl2wtYr-NlXZ0bA.gif"/></div></div></figure><p id="8e83" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:用 Unity 实现一个太空射击游戏的生命值提升物品。</p><p id="eb41" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在之前的帖子中，我<a class="ae ko" rel="noopener" href="/nerd-for-tech/implementing-space-shooter-game-features-shield-strength-1fd3c5c18ee3">在我的 Unity 太空射击游戏中为玩家的盾牌</a>实现了一个力量可视化器。现在是时候实现一个新的提供健康或额外寿命的项目了。</p><p id="c3fb" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">首先，就像我们在<a class="ae ko" rel="noopener" href="/nerd-for-tech/creating-a-power-up-for-your-game-in-unity-6810d73376a1">的旧帖子</a>中所做的那样，让我们通过将相应的精灵拖入场景中来创建启动项目:</p><div class="jh ji jj jk fd ab cb"><figure class="kp jl kq kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/fcde5af0c690e6f69b5c3c8779447e40.png" data-original-src="https://miro.medium.com/v2/resize:fit:422/format:webp/1*IusuzAfK0EG4vsPSkMixBw.png"/></div></figure><figure class="kp jl kv kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/9ac3b42ef627864136846a69e8eb366e.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/1*sv6k_iP6tFqNWwGXq82fJg.png"/></div></figure><figure class="kp jl kw kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/6e48b18484cb238d0da808511650e5be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*NDYwaAYVOo7qb2bVhAiajA.png"/></div></figure></div><p id="f4dc" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们在检查器中添加我们需要的组件(碰撞器、刚体和启动脚本):</p><div class="jh ji jj jk fd ab cb"><figure class="kp jl kx kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/eb2c2a30359d4ec189cd9a552f66d0ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1478/format:webp/1*7nr6JZAZJEK8F3cSbdNEuQ.png"/></div></figure><figure class="kp jl ky kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/e782415efe4cfcd8a1c9135363bc0ff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*1GauXQkwTu4d6bblN0-45Q.png"/></div><figcaption class="kz la et er es lb lc bd b be z dx ld di le lf translated">由于已经有 3 个其他加电，额外寿命将在加电脚本中以数字 3 作为电源 ID。</figcaption></figure></div><p id="0b93" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在让我们把它拖到各自的文件夹中来创建它的预置:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lg"><img src="../Images/2d478fde5cbf827d7e9650989bd9478c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*iSXycKtUkKmgilPLOpAupg.png"/></div></figure><h2 id="a103" class="lh li hi bd lj lk ll lm ln lo lp lq lr kb ls lt lu kf lv lw lx kj ly lz ma ho bi translated">衍生管理器脚本</h2><p id="04af" class="pw-post-body-paragraph js jt hi ju b jv mb is jx jy mc iv ka kb md kd ke kf me kh ki kj mf kl km kn hb bi translated">然后，选择产卵管理器并将预置添加到我们在之前<a class="ae ko" rel="noopener" href="/nerd-for-tech/creating-a-power-up-for-your-game-in-unity-6810d73376a1">创建的能量阵列中:</a></p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mg"><img src="../Images/786815f8b8bb6807eee68d937a2303dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*OlgzMolu79q_5cWgWjUu1w.png"/></div><figcaption class="kz la et er es lb lc bd b be z dx translated">这是 Spawn Manager 脚本中的数组。</figcaption></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mh"><img src="../Images/a04fb798ec313775c40d4307e00d222a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*stXbUWXzjYowx_l16hrTow.gif"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">该阵列现在将有 4 次通电。</figcaption></figure><p id="4b4a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在 Spawn Manager 脚本中，让我们在脚本中添加相应的加电次数，以便随机生成包括它:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mi"><img src="../Images/19e6885134e4f5e211572d2902e1320f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*XJWoBhKTRePNttWqYGTDbg.gif"/></div></div><figcaption class="kz la et er es lb lc bd b be z dx translated">你也可以使用<strong class="bd lj">数组。长度</strong>值，以避免使用硬编码数字。</figcaption></figure><h2 id="6cbe" class="lh li hi bd lj lk ll lm ln lo lp lq lr kb ls lt lu kf lv lw lx kj ly lz ma ho bi translated">通电脚本</h2><p id="ee3f" class="pw-post-body-paragraph js jt hi ju b jv mb is jx jy mc iv ka kb md kd ke kf me kh ki kj mf kl km kn hb bi translated">现在，让我们打开加电脚本，并在 switch 语句中添加相应的调用，该调用在加电与播放器冲突时检查电源 ID:</p><div class="jh ji jj jk fd ab cb"><figure class="kp jl mj kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/342e94cd14ed64b7b07f23cfc6d7198a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*4qKLLvZTHUN2iIXP5cK2vA.png"/></div></figure><figure class="kp jl mk kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/b00d70d4059b63b7e2b26188429c15cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/1*8hLQf6O5NadGVwv0bgAXZA.gif"/></div><figcaption class="kz la et er es lb lc bd b be z dx ml di mm lf translated">第二个参数表示上电持续的时间。负值表示不需要取消加电。</figcaption></figure></div><h2 id="7dff" class="lh li hi bd lj lk ll lm ln lo lp lq lr kb ls lt lu kf lv lw lx kj ly lz ma ho bi translated">玩家脚本</h2><p id="9787" class="pw-post-body-paragraph js jt hi ju b jv mb is jx jy mc iv ka kb md kd ke kf me kh ki kj mf kl km kn hb bi translated">然后，让我们打开播放器脚本，在<strong class="ju hs"> EnablePowerup </strong>方法中添加加电案例。我们将为玩家添加额外的生命，然后在启动时更新 UI 中的数字:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mn"><img src="../Images/4051b6c28bedf04cbc888dec92e6e995.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sf1hOoqSNxHQeD6Uui4j5A.png"/></div></div></figure><h2 id="0413" class="lh li hi bd lj lk ll lm ln lo lp lq lr kb ls lt lu kf lv lw lx kj ly lz ma ho bi translated">UI 管理器脚本</h2><p id="b86c" class="pw-post-body-paragraph js jt hi ju b jv mb is jx jy mc iv ka kb md kd ke kf me kh ki kj mf kl km kn hb bi translated">现在，为了指示玩家何时获得额外的生命，让我们在画布中创建一个新的文本元素，并把它放在生命显示器之后:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mo"><img src="../Images/839d790f42a4c8f379ef2b1316f5f214.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*bzP_uL5AoGcroazbyjLxzQ.png"/></div><figcaption class="kz la et er es lb lc bd b be z dx translated">文本元素将显示玩家收集的额外生命的数量。</figcaption></figure><p id="a3e1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在 UI 管理器脚本中，让我们创建一个新变量来存储对文本元素的引用:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mp"><img src="../Images/4866eb4165123e549cf98808cdc7cc88.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*xeZgnzUKb5LW6kBfQd7CPw.png"/></div><figcaption class="kz la et er es lb lc bd b be z dx translated">使用<strong class="bd lj">【serialize field】</strong>能够从检查器中拖动值。</figcaption></figure><p id="c635" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，在检查器中，将文本元素拖动到 UI 管理器脚本组件中:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mh"><img src="../Images/389c300286055aefa42eddbd664e8caa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WIosrSz59h4pGAtKfQUh5w.gif"/></div></div></figure><p id="2861" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，让我们在更新 UI 管理器中的生命的函数中添加相应的条件，以使用新的文本元素显示额外的生命:</p><div class="jh ji jj jk fd ab cb"><figure class="kp jl mq kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a18d360ed4d3a1ac6a2c208b824e5478.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/1*3dQKvImcUy34Gim6vxY-uw.gif"/></div></figure><figure class="kp jl mr kr ks kt ku paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c16900ec0fe9d50fc9e40eb2951ccf79.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/1*CsrcQD0hDhWbehG1FKW4Lg.gif"/></div></figure></div><p id="f23c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，如果我们运行游戏，我们会看到当玩家收集额外生命能量物品时，会显示额外生命:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/613420dbbb9306e8b1c17a40e3dc7bc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yHmEQT3wc_6f54Mk_5Ek0Q.gif"/></div></div></figure><h2 id="01f9" class="lh li hi bd lj lk ll lm ln lo lp lq lr kb ls lt lu kf lv lw lx kj ly lz ma ho bi translated">玩家脚本</h2><p id="21a5" class="pw-post-body-paragraph js jt hi ju b jv mb is jx jy mc iv ka kb md kd ke kf me kh ki kj mf kl km kn hb bi translated">现在，为了让新的能量物品有治疗效果，我们可以在每次收集额外生命时关闭玩家的伤害观察器。让我们在播放器脚本中添加一个新函数来处理它:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es ms"><img src="../Images/59458aac4b3793339c2702ab5ec1b372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*A3Xj9uO2s2Suku55V3sw_A.png"/></div><figcaption class="kz la et er es lb lc bd b be z dx translated">使用<strong class="bd lj"> return </strong>将结束函数，以避免在数组中搜索更多的元素。</figcaption></figure><p id="4f4b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们在收集上电后添加相应的呼叫:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mt"><img src="../Images/aa0214d33ee04d030e7ac7656b6d879f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ovwPea0OZA79PvM4flLLrw.gif"/></div></div></figure><p id="b0e4" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们运行游戏，我们会看到当玩家收集到能量物品时，伤害可视化器被关闭:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/53265690ad64eae97f4cb0bb3852048b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WWk1tNfb1uqVRpabvGEbZg.gif"/></div></div></figure><p id="4bd0" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们实现了一个健康启动项目！:d .我会在下一篇文章中看到你，在那里我会展示更多添加到我的 Unity 太空射击游戏中的功能。</p></div><div class="ab cl mu mv gp mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="hb hc hd he hf"><blockquote class="nb nc nd"><p id="17b4" class="js jt ne ju b jv jw is jx jy jz iv ka nf kc kd ke ng kg kh ki nh kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>