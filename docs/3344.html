<html>
<head>
<title>Let’s add some player ammo</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们添加一些玩家弹药</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/lets-add-some-player-ammo-ba7812e0baa2?source=collection_archive---------30-----------------------#2021-06-06">https://medium.com/nerd-for-tech/lets-add-some-player-ammo-ba7812e0baa2?source=collection_archive---------30-----------------------#2021-06-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="abad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们的玩家已经有了一些推进器，我们在这里谈到了<a class="ae jd" rel="noopener" href="/nerd-for-tech/lets-add-some-player-thrusters-357403aeab91"/>，我们今天将会考虑增加一个弹药系统。首先，我们将研究如何设置我们的脚本，以便当我们的玩家射击设定的射击次数时，在本例中是15次，我们停止射击。在未来的文章中，我们将会创造一个新的能量补充来补充弹药。<br/>首先，我们需要在我们的播放器上创建几个变量，这样我们的脚本就有东西可以调用了:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/0b01257027617c381f5c2f1d7cc622f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*FK7Vz7Cf_BTqdRniZDhUhw.png"/></div></figure><p id="0487" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将把这3个变量放到我们的玩家脚本中。在我们的无效开始中，我们将在ammo = _maxAmmo中编码，这样当我们开始游戏时，我们有15次机会。接下来，我们将转到我们的FireLaser方法，并声明if _ammoDepleted = false，FireLaser:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jm"><img src="../Images/fd297829d7bb4f97a521b01ac06a1769.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*DuDm-gcwek2gpONhbVmzpA.png"/></div></figure><p id="b12e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这个代码，一旦我们的弹药耗尽，我们就不能再开火了，但是为了让它工作，我们需要创建一个if语句，这样我们就知道我们的弹药何时耗尽:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jn"><img src="../Images/6dd2085410c6f16d3bcb800cbf3c96c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*MoDS2wAnQ1tTCu58ZBwlsQ.png"/></div></figure><p id="60dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经创建了所有这些，我们可以测试我们的游戏，看看我们是否在15次射击后停止射击，并显示debug.log:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jo"><img src="../Images/40226d41684aaff93fd734c1aea44f1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*kVIFAQRmu75UZ4SilYp5_Q.gif"/></div></div></figure><p id="657b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们必须创建一个UI指示器，这样我们就知道我们还有多少弹药，并且让我们看到没有弹药的指示。首先，我们将转到UiManager脚本并创建两个新的变量:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jt"><img src="../Images/747f2872d77aed73bc457f5321b0009b.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*A-caUz0Pqcz8iZulu1HSKQ.png"/></div></figure><p id="c3a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从这里，我们将创建一个到我们的玩家脚本的链接，就像我们之前在游戏管理器中做的那样，这样我们就可以从中提取信息，以及我们游戏的初始脚本，以显示我们的弹药数量:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ju"><img src="../Images/6606d5c6df5b7eeb22710f79e7dd3130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*cDvLO5YK1RfGkpzuN3X_Hw.png"/></div></figure><p id="c698" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经创建了我们的初始脚本，我们可以为我们的脚本创建一个新的公共void来运行我们的文本并更新我们当前的弹药数量:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jv"><img src="../Images/580e1d73dcf1de425ed204a1450c6702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0UV5kXxebnGOWOLirIucIw.png"/></div></div></figure><p id="6eb7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就像我们对分数文本所做的一样，我们将我们的void文本附加到我们的player方法，我们还必须在player脚本上创建它:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jw"><img src="../Images/2471b15f6ec0c68f602c9b106b1bf553.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*keOzDLSACHCIjrIvrxytxg.png"/></div></figure><p id="7a1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经将所有东西都编写到UIManager和播放器脚本中，我们可以回到Unity编辑器，看看它是否像我们希望的那样运行:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jx"><img src="../Images/7128c2fac21d992e9ea0934b6697d923.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5D-OqbFomm0Mb_hft_3-tw.gif"/></div></div></figure><p id="03d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们有了。我们已经成功地实现了一个弹药系统，这样我们就可以限制玩家的射击次数，这样他就不会没完没了地射击了。然而，现在的问题是我们如何给我们的玩家弹药来补充他们的补给。至于我们将如何解决这个问题，我们将在以后的文章中讨论。</p></div></div>    
</body>
</html>