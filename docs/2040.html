<html>
<head>
<title>From delivering content to eXperience — How Layer0 has changed my eXperience as a Front-End D̶e̶v̶e̶l̶o̶p̶e̶r Engineer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从交付内容到体验——作为一名前端D̶e̶v̶e̶l̶o̶p̶e̶r工程师，Layer0如何改变了我的体验</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/from-delivering-content-to-experience-how-layer0-has-changed-my-experience-as-a-front-end-191d48437e72?source=collection_archive---------8-----------------------#2021-04-18">https://medium.com/nerd-for-tech/from-delivering-content-to-experience-how-layer0-has-changed-my-experience-as-a-front-end-191d48437e72?source=collection_archive---------8-----------------------#2021-04-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a922" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我做前端开发已经一年多了，最近一直在探索<strong class="ih hj">前端</strong> - <strong class="ih hj">末端工程</strong>的领域，在那里，创作者超越开发，专注于可用性&amp;用户体验。自从我开始用Next.js开发以来，我一直是Vercel的粉丝，现在Layer0无疑已经成为了列表的顶部。这个博客将让你了解我从Next.js Conf学到的东西，我使用Vercel的经历，是什么让我相信Layer0，以及我部署一个由最快的后端支持前端(BFF)layer 0的应用程序的经历。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f2d3bfeef0f3a2a3fa4f7e851b51bd38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ch9Alci61wF75Kb9oFracg.png"/></div></div></figure><h1 id="02c0" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">我从Next.js Conf学到的东西</h1><p id="5fd3" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">我过去常常想，一个人能从会议中学到什么？但是在参加了<a class="ae ks" href="https://nextjs.org/2020/conf" rel="noopener ugc nofollow" target="_blank"> Next.js第一次全球用户大会</a>之后，我现在非常兴奋能够参加这样的会议并不断从中学习。开发者在Next.js 10中带来了几个令人瞠目结舌的特性，比如:</p><ul class=""><li id="da06" class="kt ku hi ih b ii ij im in iq kv iu kw iy kx jc ky kz la lb bi translated"><a class="ae ks" href="https://nextjs.org/blog/next-10#built-in-image-component-and-automatic-image-optimization" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">内置图像组件和自动图像优化</strong> </a> <strong class="ih hj"> : </strong>允许用户高枕无忧，让next.js通过调整大小、优化和以现代格式提供图像来提高网站性能&amp;在运行时延迟加载图像。</li><li id="5fe6" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae ks" href="https://nextjs.org/blog/next-10#automatic-resolving-of-href" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"/></a><strong class="ih hj">` href `:</strong>开发者不需要<code class="du lh li lj lk b">as</code>`属性来配置他们的路线如何显示在地址栏中。</li><li id="0ac0" class="kt ku hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated"><a class="ae ks" href="https://nextjs.org/blog/next-10#getstaticprops--getserversideprops-fast-refresh" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">getStaticProps/getServerSideProps快速刷新:</strong> </a>在编辑数据取数方法时，函数重新运行，现在不需要重新加载页面🎉。</li></ul><p id="863c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但对我来说，这是会议的关键收获→</p><blockquote class="ll lm ln"><p id="5ebb" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated"><strong class="ih hj">谷歌最近在</strong> <a class="ae ks" href="https://webmasters.googleblog.com/2020/05/evaluating-page-experience.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">上宣布，为更好的网络评估页面体验</strong> </a> <strong class="ih hj">，根据该公告，除了内容，网站的性能现在将是在谷歌搜索结果中优先考虑它们的一个主要因素！</strong></p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ls"><img src="../Images/eb9aa2cf5c0d6d74349287341bb3328c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2dLd5w6Q9MrmfAQfLoJ4Zw.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">(<a class="ae ks" href="https://webmasters.googleblog.com/2020/05/evaluating-page-experience.html" rel="noopener ugc nofollow" target="_blank">页面经验排名因素</a></figcaption></figure><blockquote class="ll lm ln"><p id="1437" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">这将推动全球每一个开发者提供具有更好用户体验的网站，以保持领先地位和排名。</p></blockquote><h1 id="bc56" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak">我在Vercel(前Zeit)的经历【为Next.js打造的平台】</strong></h1><p id="b3d2" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">从静态网站到托管用Angular、Vue &amp; React构建的动态网站，我几乎什么都用Vercel。也许我一直使用它的原因是因为用户可以免费部署无限的域名，不需要任何配置。通过Vercel CLI轻松部署，部署过程变得再顺利不过了。</p><p id="4fd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是通过各种各样的部署，我了解到一些关于Vercel托管的问题。对于我可以在互联网上打开的同一个网站，我经常被告知<a class="ae ks" href="https://www.facebook.com/groups/DevCDelhiNCR/permalink/1211002872566803/?comment_id=1211049259228831&amp;reply_comment_id=1212322355768188" rel="noopener ugc nofollow" target="_blank">“网站显示错误信息，无法加载”</a>或<a class="ae ks" href="https://www.facebook.com/groups/DevCDelhiNCR/permalink/1211002872566803/?comment_id=1211049259228831&amp;reply_comment_id=1212322355768188" rel="noopener ugc nofollow" target="_blank">“网站无法加载”</a>。偶尔，这样的消息可以被忽略，但这是导致我进入第0层的决定性因素，我必须托管一个<a class="ae ks" href="https://angular.io/guide/universal" rel="noopener ugc nofollow" target="_blank"> Angular SSR </a> <a class="ae ks" href="https://github.com/rishi-raj-jain/Blogging" rel="noopener ugc nofollow" target="_blank">应用程序</a>，而<a class="ae ks" href="https://github.com/vercel/ng-deploy-vercel/issues/9" rel="noopener ugc nofollow" target="_blank"> Vercel目前不支持</a>！😲(触目惊心，对！？)</p><h1 id="968d" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak">layer 0提供了什么？</strong></h1><p id="0e1f" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">我是在<a class="ae ks" href="https://nextjs.org/2020/conf" rel="noopener ugc nofollow" target="_blank"> Next.js Conf </a>上知道Layer0的，然后发现了这个平台，它承诺即时网站加载，非常流畅的部署体验，所有这些都在一个平台上开发、部署、预览、运行、监控、试验和保护自己最喜欢的前端框架！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lx"><img src="../Images/d4aab0ee63f962e0d0c9985fd76150e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pAfZAtErrRRaAI3uTQscNQ.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">(<a class="ae ks" href="https://www.moovweb.com/products" rel="noopener ugc nofollow" target="_blank"> CDN-as-JavaScript在需要数据前5秒<em class="ly">将数据放入浏览器)</em></a></figcaption></figure><blockquote class="ll lm ln"><p id="afec" class="if ig lo ih b ii ij ik il im in io ip lp ir is it lq iv iw ix lr iz ja jb jc hb bi translated">“Layer0 <strong class="ih hj">扩展了</strong>传统CDN的功能，不仅托管您的静态内容，还为渐进式网络应用提供<strong class="ih hj">服务器端渲染</strong>，以及在网络边缘缓存您的API和HTML<strong class="ih hj"/>，为您的用户提供<strong class="ih hj">最快的浏览体验</strong>。”~ <a class="ae ks" href="https://docs.layer0.co/guides/overview#section_what_is_an_layer0_" rel="noopener ugc nofollow" target="_blank">第0层单据</a></p></blockquote><h1 id="d937" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">它与内容交付网络(CDN)有何不同？</h1><p id="b4e3" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">随着电子商务网站变得越来越具有交互性和动态性，从JSON创建不被CDNs缓存的布局是影响世界各地正在建设的几个网站的性能的一个因素。</p><p id="575d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">拥有这种cdn的电子商务网站导致更大的<a class="ae ks" href="https://web.dev/fcp/" rel="noopener ugc nofollow" target="_blank">第一内容丰富的绘画(FCP) </a>谷歌最近宣布的页面体验中列出的核心网络活力之一，从此恶化了用户体验。这导致客户甚至在浏览器可以在屏幕上呈现页面之前就等待需要从数据库中提取的产品数据！</p><p id="0568" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi lz translated">这意味着我肯定可以马上托管我的Angular SSR博客应用程序，并且非常渴望测试他们声称的亚秒级页面加载时间。🤓</p><h1 id="de13" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">我真的需要做什么吗？</h1><p id="cb33" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">因此，我已经完成了Angular SSR应用程序(<a class="ae ks" href="https://github.com/rishi-raj-jain/Blogging" rel="noopener ugc nofollow" target="_blank"> Github Link </a>)的开发，现在必须通过app.layer.co的<a class="ae ks" href="https://app.layer0.co/" rel="noopener ugc nofollow" target="_blank">进行部署。我刚刚浏览了他们关于部署Angular @</a><a class="ae ks" href="https://docs.layer0.co/guides/angular" rel="noopener ugc nofollow" target="_blank">https://docs.layer0.co/guides/angular</a>的文档，并运行了这两个命令来将layer0与我现有的Angular项目集成:</p><pre class="je jf jg jh fd mi lk mj mk aw ml bi"><span id="b261" class="mm jq hi lk b fi mn mo l mp mq">npm install -g <a class="ae ks" href="http://twitter.com/layer0/cli" rel="noopener ugc nofollow" target="_blank">@layer0/cli</a><br/>layer0 init</span></pre><p id="aa22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">集成部分已经完成了！哇哦。</p><p id="3d3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在通过<code class="du lh li lj lk b">layer0 run</code>进行了一次试运行后，我在本地测试了这款应用，它将通过<code class="du lh li lj lk b">layer0 build &amp;&amp; layer0 run --production</code>使用无服务器离线上传到第0层云，令我高兴的是，它运行得完美无缺！</p><p id="4ba4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了让它在第0层的边缘网络上运行，我运行了<code class="du lh li lj lk b">layer0 deploy</code>，瞧！我现在是世界上最快的xD网站的所有者</p><p id="becf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不相信我？自己看看吧@<a class="ae ks" href="https://rishi-raj-jain-my-app-default.moovweb-edge.io/" rel="noopener ugc nofollow" target="_blank">https://rishi-raj-jain-my-app-default.moovweb-edge.io/</a></p><h1 id="1454" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">令人满意的经历</h1><p id="4da8" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">我运行了Google Lighthouse，相信我，我被网站的表现惊呆了。我从Wi-Fi切换到手机数据网络上的流媒体，但它继续让我惊讶，第一个内容丰富的绘画(FCP)只有162毫秒(基本上当用户能够处理来自网页的输入)，估计总阻塞时间(TBT)为0，整个DOMContent加载时间为211.1毫秒！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mr"><img src="../Images/a890cd30959912fb91c00942dba5d033.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9mnFbIQfDT_LhDeeNAvCRQ.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">(<a class="ae ks" href="https://rishi-raj-jain-my-app-default.moovweb-edge.io/" rel="noopener ugc nofollow" target="_blank">https://rishi-raj-jain-my-app-default.moovweb-edge.io/</a>的绩效指标)</figcaption></figure><h1 id="ce68" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结论</h1><p id="c370" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">一个更快的网站会吸引更多的用户。简单吧？虽然这似乎是公平的，但如果我说一秒钟的延迟也可以呢？会是吗？如果是，这里有一些事情需要你注意:</p><p id="5c26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“据亚马逊计算，页面加载速度每慢一秒钟，每年就会损失16亿美元的销售额。谷歌已经计算出，只要将搜索结果的速度降低0.4秒，他们每天就会损失800万次搜索——这意味着他们会少提供数百万条在线广告。”——<a class="ae ks" href="https://www.fastcompany.com/1825005/how-one-second-could-cost-amazon-16-billion-sales" rel="noopener ugc nofollow" target="_blank">(基特·伊顿，快公司)</a></p><p id="36cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这可能会让人感到惊讶，但毫无疑问，甚至每一秒钟的延迟都很重要！看起来Layer0做得很好，通过他们的一体化部署平台提供了更好的开发人员体验，以及我所见过的最快加载的更好的用户体验。</p></div></div>    
</body>
</html>