<html>
<head>
<title>What is pipenv ?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">pipenv是什么？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-pipenv-5b552184852?source=collection_archive---------4-----------------------#2021-06-11">https://medium.com/nerd-for-tech/what-is-pipenv-5b552184852?source=collection_archive---------4-----------------------#2021-06-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><ul class=""><li id="20d5" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">在这个博客中我们将看到<strong class="ih hj"> pipenv </strong>，<strong class="ih hj"> pipenv是我们将包管理与虚拟环境</strong>相结合的新途径，也是python.org<a class="ae ix" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"/></a>强烈推荐的打包工具</li><li id="779d" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is it iu iv iw bi translated">pipenv基本上是pip和virtualenv的组合</li></ul><h1 id="924f" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">首先让我们看看皮普和虚拟人</h1><ol class=""><li id="d40f" class="if ig hi ih b ii kb ik kc im kd io ke iq kf is kg iu iv iw bi translated"><strong class="ih hj"> PIP </strong> → pip是我们安装附加包的一种方式，允许我们添加python标准库中不存在的大量功能</li></ol><p id="87eb" class="pw-post-body-paragraph kh ki hi ih b ii ij kj kk ik il kl km im kn ko kp io kq kr ks iq kt ku kv is hb bi translated"><strong class="ih hj">示例</strong> →如果您想进行一些图像处理，python可能没有现成的最佳工具，但您可以使用pip来安装pillow库，并对图像进行处理。</p><ul class=""><li id="7159" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">所以我想很多人可能以前都看过pip，但是很少有人用过虚拟环境，现在很多人都用过了。</li></ul><p id="35dd" class="pw-post-body-paragraph kh ki hi ih b ii ij kj kk ik il kl km im kn ko kp io kq kr ks iq kt ku kv is hb bi translated"><strong class="ih hj"> 2。VIRTUALENV → </strong>基本上，虚拟环境是我们为正在构建的每个应用程序或项目提供特定环境的一种方式。</p><p id="1434" class="pw-post-body-paragraph kh ki hi ih b ii ij kj kk ik il kl km im kn ko kp io kq kr ks iq kt ku kv is hb bi translated"><strong class="ih hj">示例</strong> →您可能有一个运行在python-3.9和django-3.0上的应用程序和另一个运行在python-3.8和django-2.8上的项目，因此这些项目中的每一个都有自己的python版本和自己的包版本，这通常是想要做的， 因此，有些人推迟学习virtualenv，只是试图使用python的全局安装和安装在一个地方的所有包来运行每个项目，但如果你这样做，那么一旦你更新python的下一个版本或更新你的包，那么它可能会破坏你的应用程序，而你的应用程序在那里运行得很好，所以最好使用virtualenv将它们分开</p><h1 id="899d" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">→ Pipenv工具</h1><ul class=""><li id="4347" class="if ig hi ih b ii kb ik kc im kd io ke iq kf is it iu iv iw bi translated">因此，首先我们将使用命令<code class="du kw kx ky kz b">pip install pipenv</code>使用pip安装pipenv</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es la"><img src="../Images/596fdf9b501aa2e15c6a6814f0888370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q3vhlUciYb4ezSXeD-b2KA.png"/></div></div></figure><ul class=""><li id="68a8" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">我已经安装了这个包，所以它会显示你的要求已经满足截图</li><li id="0170" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is it iu iv iw bi translated">所以现在你可以在任何地方创建你的项目文件夹，我会在桌面上创建</li><li id="a81e" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is it iu iv iw bi translated">现在使用命令行导航到项目文件夹或空文件夹</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es lm"><img src="../Images/26cc1fff4d5565b5a92939e340b6bf48.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*oGcGyVFX-ALPHUbz9o80Dw.png"/></div></figure><ul class=""><li id="7287" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">现在，如果您将只使用pip安装软件包，那么您需要创建virtualenv并手动激活它，然后安装软件包。但是在pipenv中，这些都是内置的</li><li id="937c" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is it iu iv iw bi translated">因此，我们可以在pipenv的帮助下直接开始安装包，而不是创建virtualenv等。</li><li id="bf81" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is it iu iv iw bi translated">以免说我想在pipenv的帮助下安装django包，所以这个命令是<code class="du kw kx ky kz b">pipenv install django</code></li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es ln"><img src="../Images/070a406d2b1dd3cd226f4829e6b44cf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nMC03S0JhJ8HKCme_S_-MA.png"/></div></div></figure><p id="4bb9" class="pw-post-body-paragraph kh ki hi ih b ii ij kj kk ik il kl km im kn ko kp io kq kr ks iq kt ku kv is hb bi translated">现在，为了避免在截图上看到这个命令做了什么，我将一步一步地写下来</p><ol class=""><li id="7673" class="if ig hi ih b ii ij ik il im in io ip iq ir is kg iu iv iw bi translated">首先，pipenv在我们创建的文件夹中检查virtualenv，如果它能找到任何virtualenv，那么它将创建一个新的并安装软件包，如第二行所示<strong class="ih hj"/></li><li id="b40d" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is kg iu iv iw bi translated">然后pipfile有五个位置，我们马上会看到这一点。</li><li id="cd92" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is kg iu iv iw bi translated">然后它说它使用的是whoch python版本，然后它为我们创建了virtualenv。</li><li id="81bb" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is kg iu iv iw bi translated">创建virtualenv后，它向我们展示了该env的位置。pipenv创建的这个virtualenv是您可能正在使用的常规env，如果您愿意，您可以手动激活该env。</li><li id="4bd3" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is kg iu iv iw bi translated">Pipenv给了我们简单命令来与virtualenv交互，而不是手动操作</li><li id="8852" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is kg iu iv iw bi translated">在virtualenv location消息之后，您可以看到为这个项目创建pipfile的消息，所以这一堆将是描述out env的文件。这个<strong class="ih hj">文件类似于requirements.txt文件。</strong></li><li id="5555" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is kg iu iv iw bi translated">安装后，它说，它已经添加了对pipfile包的请求。</li><li id="29b0" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is kg iu iv iw bi translated">现在它说pipfile.lock没有找到，所以它会自动创建。它类似于pipfile，但有一些关键的区别。<strong class="ih hj">(我们不应该自己编辑这个文件，因为这个文件是由pipenv命令控制的)</strong></li><li id="eed7" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is kg iu iv iw bi translated">最后，它说我们可以使用下面的命令<code class="du kw kx ky kz b">pipenv shell</code>激活我们的新环境，我们希望在其中运行命令，然后我们可以使用命令<code class="du kw kx ky kz b">pipenv run</code>。</li></ol><h1 id="14c4" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">pipfile</h1><ul class=""><li id="3ed4" class="if ig hi ih b ii kb ik kc im kd io ke iq kf is it iu iv iw bi translated">我已经用我的visual studio代码打开了这个文件。(您可以使用任何编辑器)</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es lo"><img src="../Images/81d8a631f183511bdc9479c65c7e702c.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*YkjrPLDPfF1OGWiYTw8lXw.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">pipfile</figcaption></figure><ul class=""><li id="6b87" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">这个文件使用的格式是<strong class="ih hj"> toml，这是一种最小格式，主要包含了部分中的键&amp;值。</strong></li><li id="61b0" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is it iu iv iw bi translated">所以这个文件有4个部分，让我们一个一个来看</li><li id="6fcd" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is it iu iv iw bi translated"><strong class="ih hj"> [[source]] </strong> <strong class="ih hj">节</strong> →这一节简单的说了pipenv从哪里下载包。</li><li id="8c82" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is it iu iv iw bi translated"><strong class="ih hj">【packges】部分→ </strong>它列出了我们已经安装的软件包，这里我们有<strong class="ih hj"> django = '* '，所以星号表示我们在安装</strong>时还没有指定该软件包的任何版本(你可以在使用pipenv安装dajngo的截图上看到)。</li><li id="f34f" class="if ig hi ih b ii iy ik iz im ja io jb iq jc is it iu iv iw bi translated"><strong class="ih hj">【requires】section→</strong>这里简单描述了我们使用的python版本。</li></ul><h1 id="4b2b" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">Pipfile.lock</h1><ul class=""><li id="93bc" class="if ig hi ih b ii kb ik kc im kd io ke iq kf is it iu iv iw bi translated">我在visual studio代码中打开了pipfile.lock。(您可以使用任何编辑器)</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lt"><img src="../Images/13be8a6312dbb6ab2d521dc334b6d094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U1ZnPK9AR8aU73w1Ra3Y6g.png"/></div></div></figure><p id="84b1" class="pw-post-body-paragraph kh ki hi ih b ii ij kj kk ik il kl km im kn ko kp io kq kr ks iq kt ku kv is hb bi translated">这个文件非常大，所以不要担心，因为这是一个我们不打算改变的文件。这是自动生成的文件，包含有关我们当前环境的更多详细信息。</p><p id="e23c" class="pw-post-body-paragraph kh ki hi ih b ii ij kj kk ik il kl km im kn ko kp io kq kr ks iq kt ku kv is hb bi translated">所以你可以向下滚动，看到除了django之外还有其他的包，所以这些包是和django一起安装的包。并且该文件与已安装的软件包版本完全相同。</p><h1 id="922f" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">激活virtualenv</h1><ul class=""><li id="f7a6" class="if ig hi ih b ii kb ik kc im kd io ke iq kf is it iu iv iw bi translated">打开你的命令行，写下命令<code class="du kw kx ky kz b">pipenv shell</code></li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es lu"><img src="../Images/5d74d3275810ae8c41b7060548bbfbc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*kGk0pgUm3Jt330qL3aA2ow.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">激活的虚拟</figcaption></figure><ul class=""><li id="e23d" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">现在，当您的virtualenv被激活时，您将在命令行的开头看到virtualenv的名称。</li></ul><h1 id="a462" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">停用virtualenv</h1><ul class=""><li id="867a" class="if ig hi ih b ii kb ik kc im kd io ke iq kf is it iu iv iw bi translated">要停用我们的virtualenv，有不同的命令来停用由我的<code class="du kw kx ky kz b">pipenv</code>创建的virtualenv，因此该命令是<code class="du kw kx ky kz b">exit</code>。</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es lv"><img src="../Images/220ece2f7eb6344b0c482bc988bc37de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*toW8Nx-uCqFMIQc5T7s09Q.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">从virtualenv退出。</figcaption></figure><h2 id="09d5" class="lw je hi bd jf lx ly lz jj ma mb mc jn im md me jr io mf mg jv iq mh mi jz mj bi translated"><strong class="ak">如何在不激活的情况下运行</strong> virtualenv <strong class="ak">中的命令？</strong></h2><ul class=""><li id="2336" class="if ig hi ih b ii kb ik kc im kd io ke iq kf is it iu iv iw bi translated">所以要在virtualenv中运行命令而不激活，我们可以使用命令<code class="du kw kx ky kz b">pipenv run</code>来运行。</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es mk"><img src="../Images/5902e6ee7297d482aeeb96940c58eab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*FNCT6JkH7ItsSEcQfFEThQ.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">使用pipenv run命令创建django项目</figcaption></figure><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es ml"><img src="../Images/ff2acc21be67bb59bf9eef84a2c4ce13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I1cbGOYkziVOLxUYly8G7A.png"/></div></div></figure><ul class=""><li id="f0f0" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">在上面的截图中，我已经在virtualenv中运行了python shell，并显示了virtualenv的路径，以确认它是否在使用virtualenv。</li></ul><h2 id="dbbe" class="lw je hi bd jf lx ly lz jj ma mb mc jn im md me jr io mf mg jv iq mh mi jz mj bi translated">如何在pipenv中安装requirements.txt？</h2><ul class=""><li id="f4fc" class="if ig hi ih b ii kb ik kc im kd io ke iq kf is it iu iv iw bi translated">安装requirements.txt文件的命令是<code class="du kw kx ky kz b">pipenv install -r reqirements.txt</code>。</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es mm"><img src="../Images/9d4d5512083609a5d4e7f16cb6331186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7zrqyKvMMlMDBTZSjFjOmQ.png"/></div></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">安装要求. txt</figcaption></figure><ul class=""><li id="454e" class="if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw bi translated">现在你会看到pip文件，它将被更新</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es mn"><img src="../Images/573a6d2fb6b9a393960a2c4d30b21dc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*uzYEDoddypVSzDb2VOAG-A.png"/></div><figcaption class="lp lq et er es lr ls bd b be z dx translated">安装requirements.txt后更新了pip文件</figcaption></figure><h2 id="305e" class="lw je hi bd jf lx ly lz jj ma mb mc jn im md me jr io mf mg jv iq mh mi jz mj bi translated"><strong class="ak">如何使用pipenv创建requirements.txt？</strong></h2><ul class=""><li id="be7e" class="if ig hi ih b ii kb ik kc im kd io ke iq kf is it iu iv iw bi translated">所以在pipenv中，我们有类似于<code class="du kw kx ky kz b">pip freeze</code>的命令，这个命令是<code class="du kw kx ky kz b">pipenv lock -r</code>，这个命令将列出包，你可以复制并粘贴到requirements.txt</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es mo"><img src="../Images/0b849c40fa6b6f12706f2247a88a803a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0YYWVgriafoj53E-S_ymQw.png"/></div></div></figure></div><div class="ab cl mp mq gp mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="hb hc hd he hf"><blockquote class="mw mx my"><p id="2b30" class="kh ki mz ih b ii ij kj kk ik il kl km na kn ko kp nb kq kr ks nc kt ku kv is hb bi translated">希望这篇博客对你有所帮助，谢谢你<br/>——亚什·帕特尔·❤️</p></blockquote></div></div>    
</body>
</html>