<html>
<head>
<title>Building a simple RESTful API with Spring boot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Spring boot构建一个简单的RESTful API</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/building-a-simple-restful-api-with-spring-boot-2351687ecab0?source=collection_archive---------0-----------------------#2021-03-02">https://medium.com/nerd-for-tech/building-a-simple-restful-api-with-spring-boot-2351687ecab0?source=collection_archive---------0-----------------------#2021-03-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1ba4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">大家好。在这篇文章中，我将指导您使用Spring boot框架构建一个简单的REST API。在看详细的指南之前，让我们看看什么是Spring boot框架。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/12169dd7e89613b8652d221deb5147e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4Xs4QFtvKA2I6kF7.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">春季标志</figcaption></figure><p id="2344" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spring是一个开源的Java框架，你可以用它来构建强大的应用程序。通常，这用于构建web应用程序和微服务。Spring boot是一个基于Spring的框架，使得构建spring应用程序非常方便。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ka"><img src="../Images/7cd60398d14e41c69bebb364ebeee445.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3GpaIneRDTfT15D1.png"/></div></div></figure><p id="fd27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spring boot为Spring应用程序提供自动配置，它用于构建微服务。Spring boot帮助开发人员减少开发和测试时间，让开发人员专注于他们的业务逻辑和其他事情。关于这些框架的更多细节，你可以点击下面的链接，花些时间阅读并获得更好的理解。</p><p id="88ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae kb" href="https://spring.io/why-spring" rel="noopener ugc nofollow" target="_blank">https://spring.io/why-spring</a></p><p id="9e07" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">https://spring.io/projects/spring-boot<a class="ae kb" href="https://spring.io/projects/spring-boot" rel="noopener ugc nofollow" target="_blank"/></p><p id="955a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看如何启动您的应用程序。</p><p id="7cb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以从<a class="ae kb" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank"> spring initializr </a>开始你的spring应用程序。在该网站上，您可以选择首选配置并生成您的模板。或者你也可以用你的IDE开始你的项目。(如果要使用IDE启动项目，请继续。我将给出IntelliJ IDEA和Eclipse的说明)</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kc"><img src="../Images/e719324142216422322e370a83c24054.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EEzMmao2uiT9DxeVgQL9Sw.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">弹簧初始化r</figcaption></figure><p id="edf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我使用相同的数据来生成项目，但是您可以更改必要的信息。确保您使用的是最新的spring boot版本(在本例中是2.4.3)，而不是快照。此外，这里我选择了maven项目。</p><p id="b3b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，您必须选择必要的依赖项。下图将向您展示我将在这个项目中使用的依赖关系。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kc"><img src="../Images/a9ebe25b9bbbf791151f332442f00643.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jLMVcRKmNz4P3K1FZGuejQ.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">选定的依赖项</figcaption></figure><p id="3e58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过单击“添加依赖项”按钮(或按下<em class="kd"> CTRL + B </em>)来选择这些依赖项。</p><p id="04f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spring boot DevTools用于部署项目以测试应用程序。正如图片中提到的，它提供了快速重启、实时重新加载和配置。</p><p id="d6be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spring Web用于构建我们的应用程序，它使用tomcat服务器来部署应用程序。</p><p id="d580" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spring Data JPA帮助我们管理数据库中的数据。</p><p id="23e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于我将MySQL作为我的数据库(在xampp服务器中)，我还添加了MySQL驱动程序来连接数据库。</p><p id="95fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在生成项目之前，可以通过点击“Explore”(<em class="kd">CTRL+SPACE</em>)进行预览。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kc"><img src="../Images/589ebfdc2a4f8583c98eeebc132bf211.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I4kFw2-59koS4HpDmkryQg.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">项目结构</figcaption></figure><p id="f3e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里,“pom.xml”文件包含了所有的依赖项。因此，如果您以后需要向项目添加另一个依赖项，您可以在这里完成。现在，这个文件看起来像这样。</p><pre class="jl jm jn jo fd ke kf kg kh aw ki bi"><span id="4c51" class="kj kk hi kf b fi kl km l kn ko"><em class="kd">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</em></span><span id="86af" class="kj kk hi kf b fi kp km l kn ko">&lt;project  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span><span id="ed88" class="kj kk hi kf b fi kp km l kn ko">xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;</span><span id="4734" class="kj kk hi kf b fi kp km l kn ko">&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><span id="f34b" class="kj kk hi kf b fi kp km l kn ko">&lt;parent&gt;</span><span id="621d" class="kj kk hi kf b fi kp km l kn ko">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><span id="5867" class="kj kk hi kf b fi kp km l kn ko">&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</span><span id="c020" class="kj kk hi kf b fi kp km l kn ko">&lt;version&gt;2.4.3&lt;/version&gt;</span><span id="a4fc" class="kj kk hi kf b fi kp km l kn ko">&lt;relativePath/&gt; <em class="kd">&lt;!-- lookup parent from repository --&gt;</em></span><span id="5412" class="kj kk hi kf b fi kp km l kn ko">&lt;/parent&gt;</span><span id="7691" class="kj kk hi kf b fi kp km l kn ko">&lt;groupId&gt;com.example&lt;/groupId&gt;</span><span id="ad76" class="kj kk hi kf b fi kp km l kn ko">&lt;artifactId&gt;demo&lt;/artifactId&gt;</span><span id="2ff0" class="kj kk hi kf b fi kp km l kn ko">&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;</span><span id="c897" class="kj kk hi kf b fi kp km l kn ko">&lt;name&gt;demo&lt;/name&gt;</span><span id="8a40" class="kj kk hi kf b fi kp km l kn ko">&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;</span><span id="69c9" class="kj kk hi kf b fi kp km l kn ko">&lt;properties&gt;</span><span id="e078" class="kj kk hi kf b fi kp km l kn ko">&lt;java.version&gt;11&lt;/java.version&gt;</span><span id="db46" class="kj kk hi kf b fi kp km l kn ko">&lt;/properties&gt;</span><span id="7b27" class="kj kk hi kf b fi kp km l kn ko">&lt;dependencies&gt;</span><span id="04a6" class="kj kk hi kf b fi kp km l kn ko">&lt;dependency&gt;</span><span id="b229" class="kj kk hi kf b fi kp km l kn ko">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><span id="5b98" class="kj kk hi kf b fi kp km l kn ko">&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;</span><span id="0976" class="kj kk hi kf b fi kp km l kn ko">&lt;/dependency&gt;</span><span id="9093" class="kj kk hi kf b fi kp km l kn ko">&lt;dependency&gt;</span><span id="880d" class="kj kk hi kf b fi kp km l kn ko">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><span id="3b00" class="kj kk hi kf b fi kp km l kn ko">&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><span id="aae8" class="kj kk hi kf b fi kp km l kn ko">&lt;/dependency&gt;</span><span id="748b" class="kj kk hi kf b fi kp km l kn ko">&lt;dependency&gt;</span><span id="b480" class="kj kk hi kf b fi kp km l kn ko">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><span id="373a" class="kj kk hi kf b fi kp km l kn ko">&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;</span><span id="87d6" class="kj kk hi kf b fi kp km l kn ko">&lt;scope&gt;runtime&lt;/scope&gt;</span><span id="5962" class="kj kk hi kf b fi kp km l kn ko">&lt;optional&gt;true&lt;/optional&gt;</span><span id="bab3" class="kj kk hi kf b fi kp km l kn ko">&lt;/dependency&gt;</span><span id="9c83" class="kj kk hi kf b fi kp km l kn ko">&lt;dependency&gt;</span><span id="2c55" class="kj kk hi kf b fi kp km l kn ko">&lt;groupId&gt;mysql&lt;/groupId&gt;</span><span id="ba33" class="kj kk hi kf b fi kp km l kn ko">&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><span id="15fd" class="kj kk hi kf b fi kp km l kn ko">&lt;scope&gt;runtime&lt;/scope&gt;</span><span id="566b" class="kj kk hi kf b fi kp km l kn ko">&lt;/dependency&gt;</span><span id="1beb" class="kj kk hi kf b fi kp km l kn ko">&lt;dependency&gt;</span><span id="028a" class="kj kk hi kf b fi kp km l kn ko">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><span id="da3f" class="kj kk hi kf b fi kp km l kn ko">&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><span id="a108" class="kj kk hi kf b fi kp km l kn ko">&lt;scope&gt;test&lt;/scope&gt;</span><span id="83f1" class="kj kk hi kf b fi kp km l kn ko">&lt;/dependency&gt;</span><span id="de1b" class="kj kk hi kf b fi kp km l kn ko">&lt;/dependencies&gt;</span><span id="ed91" class="kj kk hi kf b fi kp km l kn ko">&lt;build&gt;</span><span id="e5f5" class="kj kk hi kf b fi kp km l kn ko">&lt;plugins&gt;</span><span id="55fd" class="kj kk hi kf b fi kp km l kn ko">&lt;plugin&gt;</span><span id="a69a" class="kj kk hi kf b fi kp km l kn ko">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><span id="9c3e" class="kj kk hi kf b fi kp km l kn ko">&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><span id="be42" class="kj kk hi kf b fi kp km l kn ko">&lt;/plugin&gt;</span><span id="afc1" class="kj kk hi kf b fi kp km l kn ko">&lt;/plugins&gt;</span><span id="372b" class="kj kk hi kf b fi kp km l kn ko">&lt;/build&gt;</span><span id="acba" class="kj kk hi kf b fi kp km l kn ko">&lt;/project&gt;</span></pre><p id="97c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，您可以生成项目并使用首选IDE打开它。我将使用IntelliJ的想法。</p><p id="7447" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您希望使用您的IDE来生成项目，那么您可以遵循这些步骤。如果已经这样做了，那么你可以跳过这些步骤。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kq"><img src="../Images/4e86af8baed7ab413d1c53d57c73c453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hJWoIf6arr8zs7siuCjTZA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">下载插件</figcaption></figure><p id="cd7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在IntelliJ IDEA中，你需要下载一个插件来生成。我用过一个叫“Spring助手”的插件。要下载这个，进入<strong class="ih hj">文件&gt;设置&gt;插件</strong> ( <em class="kd"> CTRL + ALT + S &gt; </em> <strong class="ih hj">插件</strong>)并选择市场标签。然后搜索Spring，它会显示所有可用的插件。你可以安装任何插件，但我建议你使用“弹簧助手”插件。</p><p id="28af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后进入<strong class="ih hj">文件&gt;新建&gt;项目</strong>你会看到这个窗口。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kr"><img src="../Images/4df745a56e029c85b0eb42b104571863.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HX7sMgspYSeWI0d7AuR6NQ.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">新项目</figcaption></figure><p id="518f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择Spring Assistant(或者安装了插件)，点击“下一步”(检查是否选择了默认)。然后，您将得到表单，像Spring initializr一样填写项目细节。这里，我也将使用默认数据，但您可以根据需要更改它。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ks"><img src="../Images/b670ef6be6c3f0f01058fd9dd88d39a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-Y7SOSCceFdOdkUho1aRQ.png"/></div></div></figure><p id="9f58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击“下一步”，您将被重定向到另一个窗口以选择依赖关系。您可以选择我们在Spring initializr中选择的所有依赖项。(如果您跳过了这一部分，请向上滚动，您可以找到带有必要依赖项的图像)。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ks"><img src="../Images/82e227bc7e92793dc91332dfc068e531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xJ-UCalxHDSqqDYGp5D8cA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">选择依赖关系</figcaption></figure><p id="4175" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击“下一步”后，您将看到一个窗口，提供保存文件的位置。继续并给出一个位置，然后点击“完成”。项目将在这之后生成，maven将同步您的项目并下载所有的库。让我们看看如何用Eclipse IDE做同样的事情。</p><p id="43e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样在Ecplise中，您需要有一个插件来生成spring应用程序。我将使用Spring Tool Suit 4 (STS4)，它可以在eclipse marketplace中安装。你可以通过点击<strong class="ih hj">帮助&gt; Eclipse marketplace </strong>进入eclipse marketplace。然后搜索“spring工具套件”，安装STS 4。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kt"><img src="../Images/f90e7655d9ad25fa9fabb46e6a3b1861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DwUuOAcUAOCOT5vQPCG8nA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">安装STS 4</figcaption></figure><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ku"><img src="../Images/d5d7e6b5d878f2c52e404492c4463f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*NKyyZnwATVhZT_GufbFyfg.png"/></div></figure><p id="5160" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后可以到<strong class="ih hj">文件&gt;新建&gt;其他</strong>然后选择Spring boot下的Spring boot starter项目。然后点击“下一步”，你就可以进入“新的Spring starter项目”窗口。在那里，您可以更改详细信息，然后单击“下一步”。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kv"><img src="../Images/98a0e005ad6a5290c006cb688d4cf0ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*yKNHc4FtehOs8_Mrlv9TSw.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">开始一个新项目</figcaption></figure><p id="1087" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，您将看到一个选择依赖项的窗口。您可以选择必要的依赖项。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kw"><img src="../Images/25c3972e3daab503779ab85661a55a89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*FabJBnqj8xw4qDgVFEl-QA.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">添加依赖关系</figcaption></figure><p id="3a29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后您就可以完成了，eclipse将下载这些库并让您开始开发您的应用程序。</p><p id="4085" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我想这就足够开始了。让我们开始编写构建API的代码。在这里，我将制作一个API来管理用户(创建，更新，删除，读取)。</p><p id="f8bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在您成功地创建了一个starter项目之后，您可以看到您的主类(在我的例子中是DemoApplication.java)，它看起来应该是这样的。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="00a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以在类声明上方看到“@SpringBootApplication”注释。这定义了您的spring应用程序，spring boot可以将这个类识别为主类。让我们开始写代码吧。</p><p id="957e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们需要创建我们的实体/模型类，也就是“用户”。让我们创建一个名为“com.example.demo.entity”的包，将我们的类放在其中。在这里，您可以使用您自己的包名，您在创建starter项目和添加。实体”到底。之后，您可以看到在您的包中创建了一个名为“entity”的文件夹。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kz"><img src="../Images/f089f2097e1485f75759f046a6242e3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*52s_ZWz_dNglg-eZ1wIlyg.png"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">实体包已创建</figcaption></figure><p id="430c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在新创建的包中，让我们创建一个名为“User.java”的类。在课堂上。编写相关的变量，并为它们创建getters和setters。为了让它与JPA一起工作，我们需要在下面的类中添加注释。根据这段代码创建您的实体类。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="7677" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将在数据库中定义您的用户表。但是如果你不创建一个从JpaRepository类扩展的接口，JPA什么也不会做。为此，在您的工作包(如实体包)中创建另一个名为repository的包。在里面创建了一个接口，我把它命名为“UserRepository”。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="6167" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我们需要在application.properties文件中编写数据库配置，该文件位于<strong class="ih hj"> src &gt; main &gt; resources </strong>文件夹中。然后写出这些配置。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="beb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，我没有包括“spring.datasource.password”属性，因为我的数据库没有密码。但是，如果您的数据库有密码，请确保您正在编写此内容。你也可以编辑网址。URL格式应为“JDBC:MySQL://{您的数据库IP }:{ port }/{数据库名称}”。如果您不希望控制台中出现任何执行消息，那么您可以删除“spring.jpa.show-sql”行。</p><p id="a1f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，让我们创建一个服务类来实现使用我们的用户存储库的必要方法。要创建它，您必须在主包中创建另一个名为“services”的包(我的包是com.example.demo.services)。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="7f3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们可以实现一个控制器类来定义我们的API URLs，并使用服务类来管理数据。为此，在主包中创建另一个名为“controller”的包(在我的项目中是com.example.demo.controller)。在包内部，我创建了一个UserController类来定义我的API。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="6cb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个类中，你可以随意定义你的API URLs。如果您需要使用自定义URL，那么您可以使用@RequestMapping注释并将路径作为字符串传递给注释，就像我在声明该类之前所做的那样。</p><p id="ceb5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们什么都做了。让我们启动数据库并运行应用程序。在运行应用程序之前，检查您的数据库是否有以给定实体名称(users)命名的表。运行应用程序后，您可以在控制台中看到这些消息</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="kx ky l"/></div></figure><p id="9fc9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们去检查我们的数据库。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es la"><img src="../Images/4b514969128ccabcd79dbad3c64b74db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Re4qO8YXfIPHEWseQetYkg.png"/></div></div></figure><p id="40eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您正确地遵循了所有的步骤，那么您可以看到在运行数据库之后已经自动创建了一个表。呀呀呀！！！！</p><p id="8336" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们必须检查我们的应用程序是否工作正常。为此，我使用邮递员。如果您没有postman，请点击此链接<a class="ae kb" href="https://www.postman.com/downloads/" rel="noopener ugc nofollow" target="_blank">下载</a>。</p><p id="6943" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我测试了从postman添加一个用户，如下图所示，它成功地返回了添加的用户。在那里，您可以看到JPA自动为用户提供了一个“id”。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lb"><img src="../Images/3ea7f1eb601d9ba9047ff399bc50823c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jtwI9xVwuNq9cMOg5FwU2w.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">添加用户</figcaption></figure><p id="03a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的数据库中，一个新的记录被创建了！</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lc"><img src="../Images/5f99aad8c9f59b51fe9b9232fecd5f0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WIjoQ5ItO3iMGr9fytWGxg.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">新纪录创造了！</figcaption></figure><p id="55cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，在添加更多用户后，我测试了我的get方法。测试/用户API调用后。我得到了发送给API的每个用户。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es la"><img src="../Images/0f26a06bcdf7f5cbf30c64d45098d94d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jQku1nPCCM8xG-spmc-d5g.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">现在可以请求所有用户</figcaption></figure><p id="d9b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它还根据URL中给出的id返回用户。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kc"><img src="../Images/773af60de457510568493af631b0b204.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mCWwKga1xbuWOry9A4XMLA.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">按id检索用户</figcaption></figure><p id="cbf1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，我更新了第二个用户，它返回了发送的数据。这意味着，API成功地更新了给定的记录。但是在这里，我只发送了对象，没有在URL中包含id。但是我在服务类中的函数通过从传递的对象中获取id来更新记录。但是如果您希望通过URL传递id，您也可以这样做。你只需要在controller类的updateUser函数中定义@PathVariable，并将{id}添加到@PutMapping的string参数中。</p><p id="db2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据库现在看起来像这样，</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ld"><img src="../Images/3d835d579cc8236ffe7f5f8c7ba3e31d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*69UwiMg92Hs-rqI7eNyecQ.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">数据库ˌ资料库</figcaption></figure><p id="0b75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我执行了删除请求，这是它的结果。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kc"><img src="../Images/8921db5e6b87057fb7173bf0b826eef4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UIV99q5jUfYgqdXGLBUadg.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">删除请求</figcaption></figure><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es le"><img src="../Images/2e6eb47e503ca11eb2f77e56cc861721.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aFp4s4bXEwOuWcAicAxvog.png"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">记录4已删除</figcaption></figure><p id="3f8d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以看到id为4的记录现在被删除了，它返回了响应“OK”。您可以在deleteUser方法中将其更改为另一个HTTP响应。</p><p id="09ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经使用Spring boot框架成功地创建了一个带有CRUD操作的RESTful API(<em class="kd">phew…</em>)。在此之后，您可以参考其他资源和实践，以此框架获得更多技能。祝你好运，感谢你阅读本指南。如果你在这篇文章中发现任何错误或者你有更好的方法，请留下评论。谢谢大家！❤</p><p id="cf0f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">给你的资源:【https://spring.io/guides】T4</p><p id="01f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本帖代码:<a class="ae kb" href="https://github.com/MalinduPanchala/Springboot_api.git" rel="noopener ugc nofollow" target="_blank">https://github.com/MalinduPanchala/Springboot_api.git</a></p></div></div>    
</body>
</html>