<html>
<head>
<title>Builder Design Pattern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生成器设计模式</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/builder-design-pattern-7739283b137e?source=collection_archive---------3-----------------------#2022-06-23">https://medium.com/nerd-for-tech/builder-design-pattern-7739283b137e?source=collection_archive---------3-----------------------#2022-06-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="efa5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们如何从类中创建对象？为此我们可以使用构造函数。我们可以有默认的构造函数和参数化的构造函数。当我们创建一个对象时，如果你有很多参数要传递，会发生什么？会发生什么，虽然有这么多的参数，但我们希望在大多数情况下传递 null。</p><h2 id="92b4" class="jd je hi bd jf jg jh ji jj jk jl jm jn iq jo jp jq iu jr js jt iy ju jv jw jx bi translated">这个问题有什么解决方法？</h2><p id="e99a" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">我们有两种解决方案，我们可以提供 setters。但问题是如果我们也想达到不变性。Setters 不适合。</p><p id="59d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，第二种选择是使用伸缩构造函数。什么是伸缩构造函数</p><h1 id="424f" class="kd je hi bd jf ke kf kg jj kh ki kj jn kk kl km jq kn ko kp jt kq kr ks jw kt bi translated">伸缩式构造器</h1><p id="7e54" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">简单地说，<em class="ku">这是一个有多个构造函数</em>的类。每个构造函数调用层次结构中更具体的构造函数。</p><p id="1bec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有 2 个实现来实现伸缩构造函数方法。</p><p id="419d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们得到学生，它有 3 个参数，如 id、姓名和学位。此外，创建学生对象时需要 id。</p><p id="d143" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们进入伸缩构造函数的实现。</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="70e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样，首先我们将第一个参数传递给构造函数。然后下一个构造函数将传递前两个参数，然后下一个将传递所有 3 个参数。</p><p id="a70e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们也可以反过来实现。</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="233b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，在第一个构造函数中，我们传递所有的参数并赋值。然后一步一步，下一个构造函数会说什么是空参数。</p><p id="3752" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用这些实现来创建具有多个构造函数的对象。</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="la lb l"/></div></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lc"><img src="../Images/09a2d0ea84115721ca39bfe2e06933cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8UXyB4BCfNV_qcwsGBkcdg.jpeg"/></div></div></figure><p id="f0b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管这提供了一种解决方案，但这仍然是复杂，且存在一些问题。有时可能会导致 NullPointerExceptions。</p><p id="ef2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在这种情况下，我们有什么解决方法来节省我们的时间和处理的效率。是的，你可以用<strong class="ih hj"> Builder 设计模式</strong>来解决。这属于创造性设计模式。</p><p id="b83e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">构建器模式实现起来有些复杂。但是在实现了构建器模式之后，您可以轻松地创建带有多个参数的对象。</p><h1 id="b1c5" class="kd je hi bd jf ke kf kg jj kh ki kj jn kk kl km jq kn ko kp jt kq kr ks jw kt bi translated">生成器设计模式</h1><p id="b80e" class="pw-post-body-paragraph if ig hi ih b ii jy ik il im jz io ip iq ka is it iu kb iw ix iy kc ja jb jc hb bi translated">在这里，我们做的是，我们有一个学生类，我们保留另一个名为 Builder 的类来创建生成器。</p><p id="44a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过这个演示，我们将对这个模式有更多的了解。</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="la lb l"/></div></figure><p id="003f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们谈到实现时，它看起来很复杂。但是一步一步理解起来很简单。</p><p id="83e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1).首先创建一个名为<strong class="ih hj"> Student </strong>的类，包含 id、姓名和学位等属性。它与伸缩构造器演示相同。</p><p id="d853" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2).现在，您需要有一个类来实现构建器。在我们的例子中，我们在学生类中实现了 Builder 类。所以作为第二步，你需要有一个名为 <strong class="ih hj"> <em class="ku"> Builder </em> </strong>的<em class="ku">静态类。</em></p><p id="4854" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我将描述构建器类内部。</p><p id="1b29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">构建器类:</strong></p><p id="7325" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">I)在这里面，首先你需要有相同的属性集。</p><p id="97ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">II)然后创建一个构造函数。-&gt;</p><p id="b3b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有一件特别的事情要记住。这里可以有默认的构造函数。如果在创建对象时不强制赋予一些值，这完全没问题。但是在我们的例子中，我们假设当我们创建一个学生时，我们需要有一个 id。这意味着，我们强制学生类在创建时拥有 id 属性。因此，在我们的示例中，我们传递 id 并赋值。</p><p id="48dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">III)现在 id 属性没问题。但是其他属性会发生什么。在这一步，我们给出答案。</p><p id="7b2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，我们将创建两个不同的方法，每个方法设置特定的参数并返回相同的对象。</p><p id="f68c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，这些方法的所有返回类型都是生成器类型。</p><p id="6b58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">IV)现在一切正常。但是我们想要一个学生对象。不是一个建设者的对象对不对？然后你需要做的是，你需要有方法来建立学生对象。</p><p id="981f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这一步我们做到了。这里我们有一个叫做<em class="ku"> build() </em>的方法，它用生成器返回<strong class="ih hj">新学生。返回类型是 Student，因为它返回 Student 对象。</strong></p><p id="b54b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这只存在于我们的构建器类中。</p><p id="f692" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3).但是我们对学生班级有异议。你能猜到吗？</p><p id="3055" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是啊，没错。我们错过了学生的构造函数。因此，我们需要在 Student 中创建构造函数。您还记得 Builder 有 build()方法，它返回 Student 对象。但是它用生成器返回学生对象。因此，在这里，我们需要在创建构造函数时将 Builder 作为参数传递。</p><p id="c8d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们可以分配从生成器传来的所有值。</p><p id="0254" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是我们的构建器实现是如何创建的。现在，你可以去检查结果了。</p><figure class="kv kw kx ky fd kz"><div class="bz dy l di"><div class="la lb l"/></div></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lj"><img src="../Images/44f25df026cbe790ae1d0d3e14dc3970.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VtSbtjdPr8DBAz7DhvHyvw.jpeg"/></div></div></figure><p id="0a3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以看到，它会在伸缩构造函数和构建模式中给出相同的答案。但是构建器模式比伸缩构造器更容易使用，效率也更高。你可以看到我们可以避免使用构建器模式的伸缩构造器。</p><p id="5f96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在离开这一部分之前，我们可以看一些 java 构建器模式的例子。是的，那是 StringBuilder。</p><p id="bf95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的。我们学习了另一种设计模式。感觉如何，还是很难理解吗？</p><p id="1abc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">代码示例:</strong></p><p id="bc95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lk" href="https://github.com/harshani2427/learn-with-krish/tree/master/Design%20Patterns/Builder" rel="noopener ugc nofollow" target="_blank">https://github . com/harshani 2427/learn-with-krish/tree/master/Design % 20 patterns/Builder</a></p><p id="7719" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">参考文献</strong></p><p id="739c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lk" href="https://youtu.be/ubG_5_QnbkE?list=PLD-mYtebG3X86i3uyAXwZKfVtUy2gMDdo" rel="noopener ugc nofollow" target="_blank">https://youtu.be/ubG_5_QnbkE?list = PLD-myte BG 3 x 86 I 3 uyaxwzkfvtuy 2g MDO</a></p></div></div>    
</body>
</html>