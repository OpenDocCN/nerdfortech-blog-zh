<html>
<head>
<title>Building my site with GatsbyJS and TailwindCSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 GatsbyJS 和 TailwindCSS 构建我的站点</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/building-my-site-with-gatsbyjs-and-tailwindcss-6bad652cb3e5?source=collection_archive---------11-----------------------#2021-06-15">https://medium.com/nerd-for-tech/building-my-site-with-gatsbyjs-and-tailwindcss-6bad652cb3e5?source=collection_archive---------11-----------------------#2021-06-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="2321" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">用 Gatsby，Tailwind 和 Remark 建立一个简单的响应网站。</h2></div><p id="807c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">🔔<strong class="iz hj">本文原帖</strong><a class="ae jt" href="https://mihaibojin.com/personal-site/gatsbyjs-and-tailwindcss-tech-stack?utm_source=Medium&amp;utm_medium=organic&amp;utm_campaign=rss" rel="noopener ugc nofollow" target="_blank"><strong class="iz hj">【MihaiBojin.com】</strong></a><strong class="iz hj">。</strong>🔔</p><figure class="jv jw jx jy fd jz er es paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="er es ju"><img src="../Images/3054cac5048d3564db7554586fb04555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5lLGYJXaxAKqdevef94-QQ.jpeg"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx translated">照片由<a class="ae jt" href="https://unsplash.com/@halacious?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">HalGatewood.com</a>在<a class="ae jt" href="https://unsplash.com/s/photos/website?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="886a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">回到本系列的第<a class="ae jt" href="https://mihaibojin.com/personal-site/building-a-personal-site?utm_source=Medium&amp;utm_medium=organic&amp;utm_campaign=rss" rel="noopener ugc nofollow" target="_blank">篇介绍文章</a>，我决定将我的技术栈建立在<a class="ae jt" href="https://www.gatsby.com/" rel="noopener ugc nofollow" target="_blank">盖茨比</a>的基础上。</p><p id="d28a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我不会涉及 Gatsby 的所有特性，但这是我选择这个技术堆栈的原因:</p><ul class=""><li id="33bd" class="kk kl hi iz b ja jb jd je jg km jk kn jo ko js kp kq kr ks bi translated">性能:服务器端渲染的 HTML 可以被 CDN 缓存，并以惊人的速度在全球范围内分发给任何用户(Gatsby 的<a class="ae jt" href="https://www.gatsbyjs.com/docs/conceptual/using-gatsby-image/" rel="noopener ugc nofollow" target="_blank">自动图像优化</a>在这里也有好处！)</li><li id="bd06" class="kk kl hi iz b ja kt jd ku jg kv jk kw jo kx js kp kq kr ks bi translated">强大的、<a class="ae jt" href="https://www.gatsbyjs.com/docs/how-to/adding-common-features/seo/" rel="noopener ugc nofollow" target="_blank">开箱即用的 SEO 支持</a>——Gatsby 使生成元数据变得超级容易，但编写代码也很简单(例如，<a class="ae jt" href="https://mihaibojin.com/personal-site/structured-semantic-data-with-json-ld?utm_source=Medium&amp;utm_medium=organic&amp;utm_campaign=rss" rel="noopener ugc nofollow" target="_blank">用 json-ld </a>添加结构化语义数据)</li><li id="0867" class="kk kl hi iz b ja kt jd ku jg kv jk kw jo kx js kp kq kr ks bi translated">代码中的文章——我不想与第三方 CMS/后端集成——我发现将 Markdown 提交给 GitHub 更简单</li><li id="f621" class="kk kl hi iz b ja kt jd ku jg kv jk kw jo kx js kp kq kr ks bi translated"><a class="ae jt" href="https://www.gatsbyjs.com/docs/conceptual/making-your-site-accessible/" rel="noopener ugc nofollow" target="_blank">开箱易访问</a>支持；通过林挺和其他功能，盖茨比让易访问性成为焦点！</li><li id="35fe" class="kk kl hi iz b ja kt jd ku jg kv jk kw jo kx js kp kq kr ks bi translated">强大的生态系统和易于扩展——Gatsby 是用<a class="ae jt" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>构建的，这使得编写插件和组件变得超级容易！</li></ul><h2 id="e8c8" class="ky kz hi bd la lb lc ld le lf lg lh li jg lj lk ll jk lm ln lo jo lp lq lr ls bi translated">建立新的 GatsbyJS 站点</h2><p id="87b4" class="pw-post-body-paragraph ix iy hi iz b ja lt ij jc jd lu im jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">在进一步深入之前，我推荐浏览一下<a class="ae jt" href="https://www.gatsbyjs.com/docs/tutorial/" rel="noopener ugc nofollow" target="_blank">盖茨比的教程</a>。这是一个很好的资源，可以让你更好地理解盖茨比是如何工作的！</p><p id="8bb3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下一步是查看<a class="ae jt" href="https://www.gatsbyjs.com/starters/" rel="noopener ugc nofollow" target="_blank">启动器库</a>。其中一个甚至可以满足你的需求。就我而言，我对自己想要实现的目标更有主见，所以我从一个空白的盖茨比网站开始。</p><p id="fbf7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一步是安装 Gatsby CLI。这个命令将是你所有盖茨比的切入点。</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="21ef" class="ky kz hi lz b fi md me l mf mg">npm install -g gatsby-cli</span></pre><p id="2a00" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后，创建一个空白的盖茨比网站；我把我的回购叫做<code class="du mh mi mj lz b">personal-site</code>，但是你可以选择任何名字:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="2c25" class="ky kz hi lz b fi md me l mf mg">gatsby new personal-site</span></pre><p id="4480" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，该安装插件了；我决定用<a class="ae jt" href="https://tailwindcss.com/" rel="noopener ugc nofollow" target="_blank">顺风</a>。</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="b620" class="ky kz hi lz b fi md me l mf mg">cd personal-site<br/><br/># Install the necessary plugins<br/>npm install -D gatsby-plugin-postcss tailwindcss@latest postcss@latest autoprefixer@latest<br/><br/># Init the tailwind.config.js file<br/>npx tailwindcss init -p</span></pre><p id="3a81" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">(如果你愿意，你也可以跟随更深入的教程<a class="ae jt" href="https://tailwindcss.com/docs/guides/gatsby" rel="noopener ugc nofollow" target="_blank">。)</a></p><p id="41bd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了在生产中优化您的站点，您应该使用<a class="ae jt" href="https://tailwindcss.com/docs/guides/gatsby#configure-tailwind-to-remove-unused-styles-in-production" rel="noopener ugc nofollow" target="_blank"> purge </a>从生成的 CSS 代码中移除未使用的 CSS 样式。</p><p id="8fc3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为此，通过编辑您的<code class="du mh mi mj lz b">gatsby-config.js</code>文件并将<code class="du mh mi mj lz b">gatsby-plugin-postcss</code>添加到您的配置中来添加 PostCSS:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="2754" class="ky kz hi lz b fi md me l mf mg">module.exports = {<br/>  plugins: [<br/>    ...<br/>    `gatsby-plugin-postcss`,<br/>  ]<br/>}</span></pre><p id="f5f7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">旁注:<code class="du mh mi mj lz b">gatsby-config.js</code>是您的 GatsbyJS 项目的“心脏”——在这里您可以定义配置、添加插件，甚至可以存储关于您的站点的元数据(例如，标题、site_url 等)。).</p><p id="fb7f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后一步是将所有 Tailwind 的 CSS 添加到项目中。</p><p id="bdb4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">创建一个名为<code class="du mh mi mj lz b">src/styles/global.css</code>的文件，并定义以下指令:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="865f" class="ky kz hi lz b fi md me l mf mg">@tailwind base;<br/>@tailwind components;<br/>@tailwind utilities;</span></pre><p id="bf25" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于我的网站，由于我不是 UI 设计师，我决定<a class="ae jt" href="https://tailwindui.com/pricing" rel="noopener ugc nofollow" target="_blank">购买 TailwindUI </a>。我很高兴我的选择！这是迄今为止我做的最好的投资之一！！！它让我在几乎没有 CSS 知识的情况下，用最少的努力，得到了一个看起来很棒的网站。</p><blockquote class="mk ml mm"><p id="6fd1" class="ix iy mn iz b ja jb ij jc jd je im jf mo jh ji jj mp jl jm jn mq jp jq jr js hb bi translated">免责声明:我与任何顺风产品都没有关系，并根据我自己的经验提供了一个客观的观点！</p></blockquote><p id="b979" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了<a class="ae jt" href="https://tailwindui.com/documentation#getting-set-up" rel="noopener ugc nofollow" target="_blank">设置 TailwindUI </a>，我安装了这些插件:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="8ae8" class="ky kz hi lz b fi md me l mf mg">npm install tailwindcss@latest<br/><br/>npm install @tailwindcss/forms @tailwindcss/typography @tailwindcss/aspect-ratio<br/><br/>npm install @headlessui/react @heroicons/react</span></pre><h2 id="534b" class="ky kz hi bd la lb lc ld le lf lg lh li jg lj lk ll jk lm ln lo jo lp lq lr ls bi translated">可选配置</h2><h2 id="7201" class="ky kz hi bd la lb lc ld le lf lg lh li jg lj lk ll jk lm ln lo jo lp lq lr ls bi translated">语法突出显示</h2><p id="dfc1" class="pw-post-body-paragraph ix iy hi iz b ja lt ij jc jd lu im jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">因为这个站点的目标是软件工程师，所以您还需要突出显示任何代码示例的语法。显而易见的选择是<a class="ae jt" href="https://prismjs.com/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="6e5d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">安装必要的插件:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="997c" class="ky kz hi lz b fi md me l mf mg">npm install gatsby-transformer-remark gatsby-remark-prismjs prismjs</span></pre><p id="ada4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后将<code class="du mh mi mj lz b">gatsby-remark-prismjs</code>添加到您的<code class="du mh mi mj lz b">gatsby-config.js</code>文件中:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="af7c" class="ky kz hi lz b fi md me l mf mg">module.exports = {<br/>  plugins: [<br/>    ...<br/>    `gatsby-remark-prismjs`,<br/>  ]<br/>}</span></pre><h2 id="d624" class="ky kz hi bd la lb lc ld le lf lg lh li jg lj lk ll jk lm ln lo jo lp lq lr ls bi translated">代码林挺</h2><p id="06b6" class="pw-post-body-paragraph ix iy hi iz b ja lt ij jc jd lu im jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">这个网站已经可以使用了，但是我喜欢代码的一致性，所以接下来，我配置了更漂亮的和 ESlint:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="dd8c" class="ky kz hi lz b fi md me l mf mg">npm install -g prettier eslint</span></pre><p id="a39a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我用的是 VSCode，我安装了更漂亮的插件:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="3fd3" class="ky kz hi lz b fi md me l mf mg"># Open the command palette (Cmd-Shift-P on MacOS)<br/>type: ext install esbenp.prettier-vscode<br/>press Enter</span></pre><p id="d7ad" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我将我的漂亮配置存储在项目的工作区中。同样，从命令面板(Cmd-Shift-P)中，选择“首选项:打开工作区设置(JSON)”并添加以下配置:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="7331" class="ky kz hi lz b fi md me l mf mg">{<br/>  // Set the default<br/>  "editor.formatOnSave": false,<br/>  // Enable per-language<br/>  "[javascript]": {<br/>    "editor.formatOnSave": true,<br/>    "editor.defaultFormatter": "esbenp.prettier-vscode"<br/>  },<br/>  "[json]": {<br/>    "editor.formatOnSave": true,<br/>    "editor.defaultFormatter": "esbenp.prettier-vscode"<br/>  },<br/>  "[jsonc]": {<br/>    "editor.formatOnSave": true,<br/>    "editor.defaultFormatter": "esbenp.prettier-vscode"<br/>  },<br/>  "markdownlint.config": {<br/>    "MD033": false<br/>  }<br/>}</span></pre><p id="7ef4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">另外，创建一个<code class="du mh mi mj lz b">.prettierrc</code>文件并添加以下配置:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="56af" class="ky kz hi lz b fi md me l mf mg">{<br/>  "arrowParens": "always",<br/>  "semi": true,<br/>  "trailingComma": "all",<br/>  "singleQuote": true,<br/>  "printWidth": 70<br/>}</span></pre><h2 id="a14e" class="ky kz hi bd la lb lc ld le lf lg lh li jg lj lk ll jk lm ln lo jo lp lq lr ls bi translated">替换主字体</h2><p id="30fd" class="pw-post-body-paragraph ix iy hi iz b ja lt ij jc jd lu im jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">你可以做的最后一件事是配置一个自定义字体——我用的是 TailwindUI 的字体。</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="6faa" class="ky kz hi lz b fi md me l mf mg"># Install the font<br/>npm install @fontsource/inter</span></pre><p id="dc3b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后编辑<code class="du mh mi mj lz b">gatsby-browser.js</code>并添加:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="1edd" class="ky kz hi lz b fi md me l mf mg">import '@fontsource/inter';</span></pre><p id="6716" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，编辑<code class="du mh mi mj lz b">tailwind.config.js</code>,并添加以下代码块:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="064b" class="ky kz hi lz b fi md me l mf mg">theme: {<br/>    extend: {<br/>      fontFamily: {<br/>        sans: ['Inter', ...defaultTheme.fontFamily.sans],<br/>      },<br/>    },<br/>  },</span></pre><p id="e962" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">值得一提的是<a class="ae jt" href="https://tailwindui.com/documentation#optional-add-the-inter-font-family" rel="noopener ugc nofollow" target="_blank">官方教程</a>对我来说不太管用。如果你把这些步骤和官方文档对比一下，你会注意到我导入的是<code class="du mh mi mj lz b">@fontsource/inter</code>，不是<code class="du mh mi mj lz b">@fontsource/inter.css</code>，字体名称是<code class="du mh mi mj lz b">Inter</code>，不是<code class="du mh mi mj lz b">Inter var</code>。希望这对别人有用！</p><h2 id="8eab" class="ky kz hi bd la lb lc ld le lf lg lh li jg lj lk ll jk lm ln lo jo lp lq lr ls bi translated">运营网站</h2><p id="a111" class="pw-post-body-paragraph ix iy hi iz b ja lt ij jc jd lu im jf jg lv ji jj jk lw jm jn jo lx jq jr js hb bi translated">您可以使用以下方式在开发模式(快速刷新)下运行网站:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="1ed9" class="ky kz hi lz b fi md me l mf mg">gatsby develop</span></pre><p id="949c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它将在<a class="ae jt" href="http://localhost:8000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8000/ </a>以<strong class="iz hj">开发</strong>模式运行您的 Gatsby 站点。</p><p id="1922" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当您准备好发布它时，执行:</p><pre class="jv jw jx jy fd ly lz ma mb aw mc bi"><span id="614a" class="ky kz hi lz b fi md me l mf mg">gatsby build<br/>gatsby serve</span></pre><p id="3cbb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它将托管您在<a class="ae jt" href="http://localhost:9000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:9000/ </a>上以<strong class="iz hj">生产</strong>模式运行的 Gatsby 站点。</p><p id="a5d8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此时，您可以开始添加页面和内容。现在，我不会讨论添加页面或托管在哪里，但这里有一个资源列表应该有所帮助:</p><ul class=""><li id="9cde" class="kk kl hi iz b ja jb jd je jg km jk kn jo ko js kp kq kr ks bi translated"><a class="ae jt" href="https://www.gatsbyjs.com/docs/tutorial/part-1/" rel="noopener ugc nofollow" target="_blank">创建你的第一个盖茨比网站</a></li><li id="64fb" class="kk kl hi iz b ja kt jd ku jg kv jk kw jo kx js kp kq kr ks bi translated"><a class="ae jt" href="https://www.gatsbyjs.com/docs/tutorial/part-2/#create-a-page-component" rel="noopener ugc nofollow" target="_blank">创建页面组件</a></li><li id="6b24" class="kk kl hi iz b ja kt jd ku jg kv jk kw jo kx js kp kq kr ks bi translated"><a class="ae jt" href="https://www.gatsbyjs.com/docs/deploying-and-hosting/" rel="noopener ugc nofollow" target="_blank">部署和托管 GatsbyJS 站点</a></li></ul><p id="e909" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你喜欢这篇文章，并想阅读更多类似的文章，请订阅我的简讯。我每隔几周就发一封！</p></div></div>    
</body>
</html>