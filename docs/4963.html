<html>
<head>
<title>How to Create a Back Button in Kivy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Kivy 中创建后退按钮</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-create-a-back-button-in-kivy-3f22ba4840c4?source=collection_archive---------3-----------------------#2021-08-17">https://medium.com/nerd-for-tech/how-to-create-a-back-button-in-kivy-3f22ba4840c4?source=collection_archive---------3-----------------------#2021-08-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9640" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我创建了一个 back 按钮，首先在我的 App 类中设置一个 __init__ 函数，然后使用 self.previous_screen 保存上一个屏幕的名称。我在。kv 文件，使其适用于所有屏幕。然后每当我创建后退按钮时，我都会引用 app.previous_screen。</p><p id="69b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">main.py 文件:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="2a8d" class="jm jn hi ji b fi jo jp l jq jr">from kivy.uix.screenmanager import Screen, ScreenManager<br/>from kivy.app import App, Builder<br/><br/>Builder.load_file("medium.kv")<br/><br/>class Home(Screen):<br/>    pass</span><span id="c4d4" class="jm jn hi ji b fi js jp l jq jr">class User(Screen):<br/>    pass<br/><br/>class RootWidget(ScreenManager):<br/>    pass<br/><br/>class Test(App):</span><span id="2483" class="jm jn hi ji b fi js jp l jq jr">    def __init__(self, **kwargs):<br/>        super(Test, self).__init__(**kwargs)<br/>        self.previous_screen = "" <br/><br/>    def build(self):<br/>        return RootWidget()<br/><br/>if __name__ == '__main__':<br/>    Test().run()</span></pre><p id="83c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我使用了<screen>和 on_leave 属性来确保 self.previous_screen 在每次屏幕更改后都会更新。</screen></p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="b79e" class="jm jn hi ji b fi jo jp l jq jr">&lt;Screen&gt;:<br/>    on_leave: app.previous_screen = self.name<br/><br/>&lt;Home&gt;:<br/>    name: "home_screen"<br/>    GridLayout:<br/>        cols: 1<br/>        padding: 10<br/>        Button:<br/>            text: "To User Screen"<br/>            on_release: root.manager.current = "user_screen"<br/><br/>&lt;User&gt;:<br/>    name: "user_screen"<br/>    GridLayout:<br/>        cols: 1<br/>        padding: 10<br/>        Button:<br/>            text: "Back"<br/>            on_release: root.manager.current = app.previous_screen<br/><br/>&lt;RootWidget&gt;:<br/>    Home<br/>    User</span></pre></div></div>    
</body>
</html>