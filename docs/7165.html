<html>
<head>
<title>Decoding HTTP Headers(Basic)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解码 HTTP 头(基本)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/decoding-http-headers-basic-e552e5613125?source=collection_archive---------2-----------------------#2022-08-14">https://medium.com/nerd-for-tech/decoding-http-headers-basic-e552e5613125?source=collection_archive---------2-----------------------#2022-08-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="55a9" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">HTTP header = metadata =关于正在发送或接收的 HTTP 数据的数据。</p></blockquote><p id="7ca8" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们知道 HTTP 是基于客户机-服务器模型的。客户端可以来自世界上的任何地方，服务器可以来自世界上的任何地方。客户端可以使用安装在任何操作系统上的任何浏览器，如 chrome/Mozilla，如 Windows、Linux 等。如果客户端只接受语言说<strong class="il hj"> <em class="ik">【泰米尔】</em> </strong>并且服务器只有英语语言内容。怎么办？</p><p id="3e78" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">该元数据(即关于数据的数据)在 HTTP 报头中发送。</p><h2 id="80a1" class="jk jl hi bd jm jn jo jp jq jr js jt ju jh jv jw jx ji jy jz ka jj kb kc kd ke bi translated">HTTP 的基本结构:</h2><figure class="kg kh ki kj fd kk er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es kf"><img src="../Images/49005f45caca68bdb2baafef53c67608.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rijENfwV2uElmApe.png"/></div></div></figure><p id="fc20" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">主体包含实际数据——可以是 HTML 文本、JSON 等。头包含关于实际数据的元数据。</p><p id="7a90" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">注意:空行分隔标题和正文。</p><p id="b44a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">HTTP 是基于消息的。</p><p id="b9b6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">从客户端到服务器-请求和相应的报头是请求报头。</p><p id="3281" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">从服务器到客户端—响应和相应的标头是响应标头。</p><h1 id="3a57" class="kr jl hi bd jm ks kt ku jq kv kw kx ju ky kz la jx lb lc ld ka le lf lg kd lh bi translated">请求标题</h1><p id="aa82" class="pw-post-body-paragraph ii ij hi il b im li io ip iq lj is it jh lk iw ix ji ll ja jb jj lm je jf jg hb bi translated"><strong class="il hj">接受</strong></p><p id="696a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我接受什么类型的？它们被称为<strong class="il hj"> MIME </strong>类型(解释 MIME 超出了本文的范围)。</p><p id="6a1b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">语法:类型/子类型</p><p id="61f7" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">例如</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="277e" class="jk jl hi lo b fi ls lt l lu lv">Accept: text/html - here type is text and sub-type is html. <br/>Accept: image/* - here, type is an image, and sub-type can be anything like jpg, png, etc. <br/>// General default <br/>Accept: */ * - Accept any type and sub-type.</span></pre><p id="0c9c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">接受编码</strong></p><p id="cd49" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我在浏览器中使用什么类型的编码？</p><p id="034a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">编码=从一种形式变成另一种形式。这通常是为了压缩数据。</p><p id="f9d4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">什么压缩算法客户端能看懂？</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="565e" class="jk jl hi lo b fi ls lt l lu lv">Accept-Encoding: gzip <br/>Accept-Encoding: compress <br/>Accept-Encoding: deflate <br/>Accept-Encoding: br <br/>Accept-Encoding: identity <br/>Accept-Encoding: *</span></pre><p id="07ce" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">接受语言</strong></p><p id="78c5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我能接受什么语言？它可以基于区域(locale)。</p><p id="a2ca" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik">语法:接受-语言:&lt;语言&gt; </em></p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="7c39" class="jk jl hi lo b fi ls lt l lu lv">accept-language: en-US - accepts English of US <br/>Accept-Language: en-US,fr-CA - accepts English of US and French of Canada <br/>Accept-Language: * - accepts all languages.</span></pre><p id="2703" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这里理解质量值语法是很重要的。这就像赋予权重以区分优先次序。</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="8d29" class="jk jl hi lo b fi ls lt l lu lv">accept-language: en-US,en<strong class="lo hj">;q=0.9</strong></span></pre><p id="907d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这里<em class="ik"> en-US </em>优先级为 1.0，<em class="ik"> en </em>优先级为 0.9。</p><p id="496a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik">注意:这种质量语法被用在许多标题中。</em></p><p id="0696" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">授权</strong></p><p id="8c28" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">当客户端访问服务器上的私有资源时，这很有用。</p><p id="3245" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">Private =只有被允许的用户才能访问资源。</p><p id="d79b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这涉及到对访问或操作资源的用户进行身份验证。它们主要用于 API。所以如果你构建一个 API，你需要有一个认证方法来访问你的 API。</p><p id="f292" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">有许多授权技术。</p><p id="1fb4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">1)基本认证—基本<base64 encoded="" string=""/></p><p id="3d57" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">2)不记名令牌—不记名<token> →服务器生成的令牌</token></p><p id="1456" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">3)API 密钥</p><p id="53ec" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">等等。</p><p id="9a4d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">注意:</p><p id="03cd" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">API 键可以作为查询参数发送</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="285b" class="jk jl hi lo b fi ls lt l lu lv">example.com/<strong class="lo hj"><em class="ik">?api_key=&lt;key&gt;</em></strong></span></pre><p id="b1de" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">或者单独的标题</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="aaaa" class="jk jl hi lo b fi ls lt l lu lv">X-API-Key: &lt;key&gt;</span></pre><p id="e46f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">连接</strong></p><p id="8622" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们知道 HTTP 是建立在 TCP 基础之上的。在 HTTP 1.0 中，一旦收到来自服务器的响应，TCP 就会关闭，但在 HTTP 1.1 中，您的连接将在随后的请求和响应周期中处于活动状态。</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="e762" class="jk jl hi lo b fi ls lt l lu lv">Connection: keep-alive --&gt; default for http 1.1 <br/>Connection: close</span></pre><p id="15c8" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">内容长度</strong></p><p id="3650" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">它是正文中数据的大小。它以字节为单位。</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="6e04" class="jk jl hi lo b fi ls lt l lu lv">content-length: 6553</span></pre><p id="eaa6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">内容类型</strong></p><p id="1156" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这在你发帖或提出请求时很有用。我向服务器发送什么类型的内容？</p><p id="6e08" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这里的内容类型可以是文本/纯文本、文本/Html、多部分/格式数据等。</p><p id="7742" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">多部分/格式数据在语法上必须有边界。</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="169e" class="jk jl hi lo b fi ls lt l lu lv">Content-Type: multipart/form-data; boundary=something</span></pre><p id="94e4" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">边界很有用，因为使用 post 方法提交的任何表单都包含 name: value 对。因此，每个名称-值对由边界分隔。边界是一组字符，它们之间没有空白。</p><p id="5705" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">请访问本页查看<a class="ae lw" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type" rel="noopener ugc nofollow" target="_blank">示例</a>。</p><p id="978b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">主持人</strong></p><p id="8a3d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这是 HTTP 1.0 和 HTTP 1.1 的主要区别之一。</p><p id="d4e6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这在某种程度上启用了虚拟主机，因为服务器或机器只有一个 IP 地址。一台服务器可以托管许多资源，如 abc.com 和 xyz.com.Even。如果我们到达正确的 IP 地址，服务器不知道它将哪个资源分配给 xyz 或 abc。这就是<strong class="il hj">主机头</strong>出现的原因。</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="c86f" class="jk jl hi lo b fi ls lt l lu lv">Host: &lt;host&gt;:&lt;port&gt; <br/>e.g. abc.com:443</span></pre><p id="9c41" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">用户代理</strong></p><p id="41ec" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这是最重要的标题。服务器识别客户端的网络浏览器和操作系统。web 浏览器用户代理的格式不同且复杂。但目的是一样的(识别浏览器类型和其上安装的 OS)。</p><h1 id="41eb" class="kr jl hi bd jm ks kt ku jq kv kw kx ju ky kz la jx lb lc ld ka le lf lg kd lh bi translated">响应头(从服务器角度)</h1><p id="1b8b" class="pw-post-body-paragraph ii ij hi il b im li io ip iq lj is it jh lk iw ix ji ll ja jb jj lm je jf jg hb bi translated"><strong class="il hj">访问控制允许来源</strong></p><p id="0670" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我允许什么起源？</p><p id="93e3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">Origin =组合方案、域和端口。</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="bc58" class="jk jl hi lo b fi ls lt l lu lv">Access-Control-Allow-Origin: * --&gt; allows all origin Access-Control-Allow-Origin: &lt;origin&gt; --&gt; example.com</span></pre><p id="34d6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">允许</strong></p><p id="08a1" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">允许哪些 http 请求方法？</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="4610" class="jk jl hi lo b fi ls lt l lu lv">Allow: GET, POST, HEAD</span></pre><p id="4d1b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">内容处置</strong></p><p id="b6e0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">来自服务器的一些数据不打算在网页上显示<strong class="il hj"><em class="ik"/></strong><em class="ik"/>。它们是用来下载的。</p><pre class="kg kh ki kj fd ln lo lp lq aw lr bi"><span id="fdeb" class="jk jl hi lo b fi ls lt l lu lv">Content-Disposition: inline <br/>Content-Disposition: attachment <br/>Content-Disposition: attachment; filename="filename.jpg"</span></pre><p id="041b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">从服务器的角度来看，内容编码和内容语言与请求头相同。</p><p id="35f3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">类似地，<strong class="il hj">服务器</strong>头相当于请求头中的<strong class="il hj">用户代理</strong>。</p><p id="7f86" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">我们将在下一篇文章中看到缓存和 cookies 的概念以及相应的标题。</p></div><div class="ab cl lx ly gp lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="hb hc hd he hf"><p id="e4eb" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik">原载于 2022 年 8 月 14 日 https://www.pansofarjun.com</em><a class="ae lw" href="https://www.pansofarjun.com/post/decoding-http-headers-basic" rel="noopener ugc nofollow" target="_blank"><em class="ik"/></a><em class="ik">。</em></p></div></div>    
</body>
</html>