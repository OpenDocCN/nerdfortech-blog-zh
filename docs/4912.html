<html>
<head>
<title>Creating Life mechanic and Modular Checkpoints</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建生命机制和模块化检查点</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/creating-life-mechanic-and-modular-checkpoints-7af58ef625bf?source=collection_archive---------12-----------------------#2021-08-13">https://medium.com/nerd-for-tech/creating-life-mechanic-and-modular-checkpoints-7af58ef625bf?source=collection_archive---------12-----------------------#2021-08-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e9fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们需要在我们的游戏中添加一个系统，让玩家在关卡开始时，无论何时从地图上掉下来，都可以重生。首先，我们将设置生命计数器，并添加代码以便更新文本:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/3c4eaebba7707eb423b566c7cba1fbc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jZYd3bo1ichLUxSofhX_lQ.png"/></div></div></figure><p id="0118" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从这里，我们将进入我们的脚本，并在我们的播放器中添加生命变量，以及在我们的 UIManager 中调整文本的脚本:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/ae98a0b553c9551c7dc782a57673cebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FNYl8CTV8-AaSgmz9oEvng.png"/></div></div></figure><p id="fbc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了我们的基础代码，我们现在来看看如何为我们的玩家创建一个系统，让他们在游戏开始时重生，或者在失去所有生命后重新开始。在我们着手编写如何创建重生场景的代码之前，我们首先需要创建一些对象，这样我们就可以为重生创建一个模块化系统:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/1a1d03a61d787918cc3778ad85fdbddf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WbNVEnjAG2nj732m5NGa0A.png"/></div></div></figure><p id="ea13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们将创建一个拖放区，当玩家从地图上掉下来时，它将成为我们的触发器。这将允许我们创建不同高度的地图，允许更大范围的工作。接下来，我们需要创建检查点，玩家将根据他们到达的平台重生:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/e6dad96f67f93c85aceb992569241ca6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wjbc3vDJnRBZBy2Fyp8kBw.png"/></div></div></figure><p id="b44d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这些，我们现在可以开始创建脚本了。为此，我们将创建一个新的脚本来处理我们摔倒时的大部分过程:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/9d3dc44aeaa9bd3dd404f82897af34d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u2_sOLmIH9HmcVjG_Fzu2Q.png"/></div></div></figure><p id="1a96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个脚本的目的是识别玩家是否击中了我们的触发区域。如果有，我们希望与我们的玩家脚本沟通，以带走一条生命。我们还想关闭角色控制器。这是因为如果我们开始下落会发生什么，我们的球员的速度是如此之快，它会绕过触发事件，只是无限下降。为了重新打开控制器，让我们重新获得对播放器的控制，我们需要创建一个协程，在半秒钟后再次启用控制器。最后，我们需要使用我们创建的检查点，并告诉 Unity，如果玩家激活了触发器，我们希望返回到该检查点。<br/>最后，为了让生活正常进行，我们在玩家脚本中增加了一些内容:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jr"><img src="../Images/ae85dab859a83ba09ab9d4f578775a57.png" data-original-src="https://miro.medium.com/v2/resize:fit:948/format:webp/1*fvioEVg5n0waIiUGETwNbA.png"/></div></figure><p id="d330" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是告诉 Unity，每当我们扣动扳机时，我们希望失去一条生命，每当我们的生命小于 1 时，我们希望重新加载场景，让我们重新开始。有了这些，我们现在可以看到玩家是否回到起点，以及玩家的生命和硬币是否在死亡时重置:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/6abe19b1c6bf296d358a261ff294cfb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*dQ0H1Ru_C7V9lwj3O-f0Jg.gif"/></div></div></figure><p id="4048" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这个工作，我们现在可以为空投区创建一个模块化系统。这将允许我们给玩家一个小小的安慰，如果他们犯了一个错误，让他们回到上一个检查点，而不是重新开始。我们只需创建一个新的区域、一个新的检查点并进行测试:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/19f980f807225a3d33f1372abfff1065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*O6zYQGaZCWd5yW9zlmsArQ.gif"/></div></div></figure><p id="8a29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们有能力从关卡重新开始或者从零开始，是时候开始在我们的游戏中寻找更多的动作了。</p></div></div>    
</body>
</html>