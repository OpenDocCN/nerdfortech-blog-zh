<html>
<head>
<title>The Art Of Computer And Mathematics: Barnsley Fern</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">计算机和数学的艺术:巴恩斯利·弗恩</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-art-of-computer-and-mathematics-barnsley-fern-196182622241?source=collection_archive---------19-----------------------#2021-07-09">https://medium.com/nerd-for-tech/the-art-of-computer-and-mathematics-barnsley-fern-196182622241?source=collection_archive---------19-----------------------#2021-07-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="26e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi jd translated">看到艺术、计算机和数学在同一条线上，真是好笑！！但是一些奇怪的组合可以创造出惊人的结果。在这篇文章中，我们将看看如何编写一个绘制蕨类植物的算法。</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jm"><img src="../Images/4d410b891868510ed6278c8909a7779e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*as-NIJ88ewN7JGQsqpQQtw.png"/></div></div><figcaption class="jy jz et er es ka kb bd b be z dx translated"><a class="ae kc" href="https://en.wikipedia.org/wiki/Barnsley_fern" rel="noopener ugc nofollow" target="_blank"> <strong class="bd kd">巴恩斯莱蕨</strong>T5】</a></figcaption></figure><p id="113c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">耶！！你没看错，我们要画一棵有数字的蕨树。我对这个想法非常着迷，我们可以用简单的数学算法创造一种艺术。我一直认为计算机科学中的数学很无聊。</p><p id="ea89" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你对使用数学算法还能创造出什么感兴趣，请点击此<a class="ae kc" href="https://books.google.com.np/books?id=oh7NoePgmOIC&amp;printsec=frontcover&amp;redir_esc=y#v=onepage&amp;q&amp;f=false" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">链接</strong> </a></p><p id="1cf4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以这个算法有几个实现方法，更简单的方法可以在这里找到<a class="ae kc" href="https://en.wikipedia.org/wiki/Barnsley_fern#Python" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="ke"/></strong></a><strong class="ih hj"><em class="ke">。</em>T19】</strong></p><p id="e070" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我想灵活我的狗屎代码编写技能，我将遵循稍微复杂的方法，即只使用矩阵计算。我的实现版本的先决条件的快速背景。</p><ol class=""><li id="dccb" class="kf kg hi ih b ii ij im in iq kh iu ki iy kj jc kk kl km kn bi translated">大蟒</li><li id="8dda" class="kf kg hi ih b ii ko im kp iq kq iu kr iy ks jc kk kl km kn bi translated">numpy</li><li id="842f" class="kf kg hi ih b ii ko im kp iq kq iu kr iy ks jc kk kl km kn bi translated">龟</li><li id="d347" class="kf kg hi ih b ii ko im kp iq kq iu kr iy ks jc kk kl km kn bi translated">py截图</li></ol><p id="4e68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始吧</p><p id="8b20" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我前面提到的，我们将使用矩阵来实现它。</p><figure class="jn jo jp jq fd jr er es paragraph-image"><div class="er es kt"><img src="../Images/3428e6fb385375fc9019cf81437a497e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*H5kPn22X2S4LkuaH35fjKg.png"/></div></figure><p id="ac67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些值负责绘制蕨类植物的各个部分。它更像是某些坐标上的仿射变换。我们所做的就是将坐标乘以一些预先定义的矩阵。</p><p id="d79d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种算法背后的直觉是，我们生成一个随机概率，在这种情况下，这是一个随机数，将负责绘制蕨类植物的不同部分。例如，如果随机生成的概率小于0.01，则算法将绘制蒸汽，以此类推。</p><p id="9d36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在:<a class="ae kc" href="https://github.com/dcostersabin/barnsley-fern" rel="noopener ugc nofollow" target="_blank">点击</a>找到完整的源代码。在这里，我将逐行解释源代码。</p><p id="705f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">解释:</p><p id="b5e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与任何其他脚本不同，我们首先导入所需的库</p><pre class="jn jo jp jq fd ku kv kw kx aw ky bi"><span id="cf96" class="kz la hi kv b fi lb lc l ld le">import turtle<br/>import numpy as np<br/>import random<br/>import pyscreenshot</span></pre><p id="3ac4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在我的实现版本中，我们将创建一个类，它可以是任何名称，但我选择了DrawFern</p><pre class="jn jo jp jq fd ku kv kw kx aw ky bi"><span id="be79" class="kz la hi kv b fi lb lc l ld le">class DrawFern:</span></pre><p id="30f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在__init__函数中，每个函数有4个参数，这使得我们的脚本更加可定制，我认为这是不言自明的。</p><pre class="jn jo jp jq fd ku kv kw kx aw ky bi"><span id="6550" class="kz la hi kv b fi lb lc l ld le">self.stem = np.array([[0, 0], [0, 0.16]])</span><span id="c0bd" class="kz la hi kv b fi lf lc l ld le">self.stem_c = np.array([[0], [0]])</span><span id="6899" class="kz la hi kv b fi lf lc l ld le">self.smaller_leaflets = np.array([[0.85, 0.04], [-0.04, 0.85]])</span><span id="e6c2" class="kz la hi kv b fi lf lc l ld le">self.smaller_leaflets_c = np.array([[0], [1.60]])</span><span id="522a" class="kz la hi kv b fi lf lc l ld le">self.left_large_leaflets = np.array([[0.20, -0.26], [0.23, 0.22]])</span><span id="cc4e" class="kz la hi kv b fi lf lc l ld le">self.left_leaflets_c = np.array([[0], [1.6]])</span><span id="6c00" class="kz la hi kv b fi lf lc l ld le">self.right_large_leaflets = np.array([[-0.15, 0.28], [0.26, 0.24]])</span><span id="e92b" class="kz la hi kv b fi lf lc l ld le">self.right_large_leaf_c = np.array([[0], [0.44]])</span></pre><p id="b9fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些行中的每一行代表一个矩阵，该矩阵包含上述表格中定义的值。<strong class="ih hj"/><em class="ke">注</em><strong class="ih hj">T5】_ c</strong><em class="ke">引用系数</em><strong class="ih hj"><em class="ke"/></strong></p><pre class="jn jo jp jq fd ku kv kw kx aw ky bi"><span id="cd80" class="kz la hi kv b fi lb lc l ld le">def generate_points(self, matrix, coefficient):<br/>    self.x_y = np.add(np.dot(matrix, self.x_y), coefficient)<br/>    if self.show_points:<br/>        print(f'Drawing Point At: {self.x_y}')</span></pre><p id="a354" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们创建了一个名为generate_points()的函数，它将一个矩阵和系数作为输入，然后对x，y坐标执行矩阵乘法，并添加系数。然后这些操作的输出被设置为我们新的x和y坐标。</p><pre class="jn jo jp jq fd ku kv kw kx aw ky bi"><span id="d4b2" class="kz la hi kv b fi lb lc l ld le">for _ in range(self.loop_over):<br/>    self.plot_point()<br/>    </span></pre><p id="871b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">类似地，在我们的start函数中，我们迭代self.loop_over次。在每一次迭代中，我们从标绘先前计算的坐标开始，然后生成一个随机数。</p><pre class="jn jo jp jq fd ku kv kw kx aw ky bi"><span id="e0a5" class="kz la hi kv b fi lb lc l ld le">random_number = random.random() * 100</span></pre><p id="753d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以把它乘以100，放大100倍，或者只是玩生成的数字。我更喜欢按比例放大。</p><pre class="jn jo jp jq fd ku kv kw kx aw ky bi"><span id="ccac" class="kz la hi kv b fi lb lc l ld le">if random_number &lt; 1:<br/>    self.generate_points(self.stem, self.stem_c)<br/>elif random_number &lt; 86:<br/>    self.generate_points(self.smaller_leaflets, self.smaller_leaflets_c)<br/>elif random_number &lt; 93:<br/>    self.generate_points(self.left_large_leaflets, self.left_leaflets_c)<br/>else:<br/>    self.generate_points(self.right_large_leaflets, self.right_large_leaf_c)</span></pre><p id="a6de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后我们所做的就是调用各自的函数来绘制蕨类植物的不同部分。举例来说，如果概率小于0.001，那么我们绘制蕨类植物的茎，类似地，根据生成的随机概率绘制各个部分。</p><p id="1513" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">输出</strong></p><div class="jn jo jp jq fd ab cb"><figure class="lg jr lh li lj lk ll paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/617daa56be4830b5c0be43b64670e10f.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*ZXySIXQRh2YgcWl0OPfc1A.png"/></div></figure><figure class="lg jr lm li lj lk ll paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/389a2a3c4622f0da5e48e168b8587656.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*61N-FvKcrtcCg4k8QCNKPw.png"/></div></figure><figure class="lg jr ln li lj lk ll paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/a273a873009dc82b319c5d2e1457142c.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*MnXgr8y7sP0Be20XJl8jZA.png"/></div><figcaption class="jy jz et er es ka kb bd b be z dx lo di lp lq translated">1000、2000、3000次迭代</figcaption></figure></div></div></div>    
</body>
</html>