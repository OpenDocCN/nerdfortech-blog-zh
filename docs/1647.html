<html>
<head>
<title>Facebook Authentication using Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Firebase 的脸书认证</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/facebook-authentication-using-firebase-ebb70d6df22a?source=collection_archive---------5-----------------------#2021-03-30">https://medium.com/nerd-for-tech/facebook-authentication-using-firebase-ebb70d6df22a?source=collection_archive---------5-----------------------#2021-03-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0097" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过 Firebase 使用脸书认证您的用户</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a93fc9c11bc86b902694b4ada5f66af4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fWZGxLaAn7eTx3v4E6Uh8g.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="http://i-hate-reading-logs.vercel.app/" rel="noopener ugc nofollow" target="_blank">点击阅读所有其他文章</a></figcaption></figure><p id="eca1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读这篇文章，我已经写了一大堆关于如何通过 Firebase 认证使用 Google、Twitter、Github、Email &amp; Password 和电话号码的用户的文章。你可以通过下面的链接阅读这些文章。</p><pre class="je jf jg jh fd ju jv jw jx aw jy bi"><span id="78d9" class="jz ka hi jv b fi kb kc l kd ke"><a class="ae jt" href="http://i-hate-reading-logs.vercel.app/" rel="noopener ugc nofollow" target="_blank">http://i-hate-reading-logs.vercel.app/</a></span></pre></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><h1 id="0af1" class="km ka hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">概观</h1><ol class=""><li id="3143" class="lj lk hi ih b ii ll im lm iq ln iu lo iy lp jc lq lr ls lt bi translated">创建脸书开发人员应用程序并启用 web 脸书登录</li><li id="aac1" class="lj lk hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated">在 Firebase 身份验证登录方法中输入脸书应用 ID 和应用密码</li><li id="c3be" class="lj lk hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated">输入从 firebase 身份验证到脸书登录设置页面的 OAuth 回调 URL。</li><li id="8f28" class="lj lk hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated">在前端添加 Firebase 提供的脸书登录方法。</li></ol></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><h1 id="c3f4" class="km ka hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">打造脸书开发者 App </strong></h1><p id="c245" class="pw-post-body-paragraph if ig hi ih b ii ll ik il im lm io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">进入这个链接(【https://developers.facebook.com/】T4)，点击右上角的我的应用。继续创建一个新应用程序，您将被重定向到仪表板页面。在仪表板页面上，为 web 启用脸书登录。现在是获取您的应用 ID 和应用密码的时候了。我会一步一步地添加所有的图像，让你更容易。</p><div class="je jf jg jh fd ab cb"><figure class="mc ji md me mf mg mh paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><img src="../Images/f006074c22e9e1fd450f469cdda69eed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*dkaZ5sJd8PM9WJTZ39GCHQ.png"/></div></figure><figure class="mc ji mi me mf mg mh paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><img src="../Images/b5dd7e8b2ff13ab8cc1cac16b530bb86.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*PR1GqlDD_MKvZu0-G6peoQ.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx mj di mk ml translated">左图是脸书开发者应用程序，右图是创建新应用程序的模式。</figcaption></figure></div><p id="fb10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">左图是您已经在脸书开发者门户上创建的应用。当您点击带有<strong class="ih hj">“创建应用程序”</strong>文本的绿色按钮时，右图为模式打开。继续选择您的应用程序所属的类别，然后单击<strong class="ih hj">“继续”</strong>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mm"><img src="../Images/f8cd2cd005c9d7ed7e75c5c0e54117e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v7ejn3V-NrkWGYmE_dgWHw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">脸书开发者仪表板</figcaption></figure><p id="29c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建应用程序后，您将被重定向到仪表板，如上图所示。点击<strong class="ih hj">脸书登录</strong>设置按钮。启用脸书登录后，您可以在左侧边栏的<strong class="ih hj">产品</strong>部分看到脸书登录。</p><p id="2363" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一步是从脸书开发者门户获取应用 ID 和应用密码。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mn"><img src="../Images/e215d9b6f2199d42a3a8e918c329ae4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HOcQe11HDGV4GmTVZU6aqw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">脸书开发者仪表板上的设置-&gt;基本页面</figcaption></figure><p id="c7ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从该页面复制粘贴您的<strong class="ih hj">应用 ID </strong>和<strong class="ih hj">应用密码</strong>以供将来使用。</p><p id="f411" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到 Firebase 控制台，在<strong class="ih hj">身份验证- &gt;登录方式</strong>选项卡中启用脸书登录。你会看到一个小方框，如下图所示。添加您的上述<strong class="ih hj"> App ID </strong>和<strong class="ih hj"> App Secret </strong>并复制粘贴回调 URL 以备后用，然后点击<strong class="ih hj">“保存”</strong>按钮。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mo"><img src="../Images/5db0d29aae3812f771fd789acbd8dc84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bpTYh4mcA1hdd1axL8NDbg.png"/></div></div></figure><p id="8370" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一步也是最后一步是添加上图所示的回调 URL，并将其输入到脸书开发者仪表板-&gt;产品-&gt;脸书登录-&gt;设置，如下图所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/ee59176e22397f63739fe28ccd2b9106.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HS0HxbOj7wDDxIVmlQU6pQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">我从 Firebase 控制台回调的 URL 被标记为蓝色。</figcaption></figure></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><h1 id="557e" class="km ka hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">编写代码</h1><p id="eded" class="pw-post-body-paragraph if ig hi ih b ii ll ik il im lm io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">如果过程看起来太长，请原谅。现在让我们直接跳到代码部分。我们将使用用于其他 Firebase 身份验证文章的相同存储库。</p><pre class="je jf jg jh fd ju jv jw jx aw jy bi"><span id="22f1" class="jz ka hi jv b fi kb kc l kd ke"><a class="ae jt" href="https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/PhoneNumberAuthentication" rel="noopener ugc nofollow" target="_blank">https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/PhoneNumberAuthentication</a></span></pre><p id="1361" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在登录页面中，我们将为脸书登录创建一个新按钮，并为脸书登录添加 Firebase 提供的方法。步骤如下-</p><ol class=""><li id="2c49" class="lj lk hi ih b ii ij im in iq mq iu mr iy ms jc lq lr ls lt bi translated">使用 Firebase 身份验证提供程序为脸书创建一个提供程序</li><li id="b3c3" class="lj lk hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated">创建接受上述提供者的 Firebase 登录方法</li><li id="3189" class="lj lk hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated">一切正常后，获取脸书登录令牌和用户凭证。</li></ol></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><h1 id="b51e" class="km ka hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">供应者</h1><p id="7997" class="pw-post-body-paragraph if ig hi ih b ii ll ik il im lm io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">我们将使用 Firebase Github auth provider 方法来创建一个提供者。</p><pre class="je jf jg jh fd ju jv jw jx aw jy bi"><span id="77e0" class="jz ka hi jv b fi kb kc l kd ke">const provider = new firebase.auth.FacebookAuthProvider;</span></pre><p id="85d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一部分使用"<strong class="ih hj"> signInWithPopup" </strong>方法，该方法接受提供者作为参数并返回 Promise。我们将在承诺的决议中获得用户凭证。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mt"><img src="../Images/1d4407abf2daf8526f9bd3678ca9fcea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DnRUkDnL5RJM7NzfoHaStg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">登录页面</figcaption></figure><p id="1d8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的 handleFacebookLogin 方法简单地定义了提供者，然后使用 Firebase signInWithPopup 方法。在解决了<strong class="ih hj">里面的承诺之后。然后</strong>我们将获得用户凭证，我在控制台中通过脸书登录后记录了我们的凭证。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mu"><img src="../Images/6c66a4ab82f7e09cbf1fd54c9974660f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*awFj6W17TMvARiofsf66lA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">浏览器控制台中的我的用户凭据</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mv"><img src="../Images/c1b5802abff209afac4379bda21413c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l3q3HKFI1r2ty6xX-W0KVA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">我们的最终登录页面</figcaption></figure></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><h1 id="4eec" class="km ka hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">结论</h1><p id="6192" class="pw-post-body-paragraph if ig hi ih b ii ll ik il im lm io ip iq lz is it iu ma iw ix iy mb ja jb jc hb bi translated">脸书登录也很简单，如果你读过我所有的 Firebase 认证登录方法的文章，你会很容易发现所有的方法几乎都遵循相同的模式。Firebase 还每次为每个登录方法提供相同数据类型的凭证。</p><p id="0cbc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下次再见，祝大家愉快。</p><pre class="je jf jg jh fd ju jv jw jx aw jy bi"><span id="dcc1" class="jz ka hi jv b fi kb kc l kd ke">Code repository =&gt; <a class="ae jt" href="https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/FacebookAuthentication" rel="noopener ugc nofollow" target="_blank">https://github.com/shreyvijayvargiya/iHateReadingLogs/tree/main/TechLogs/FacebookAuthentication</a></span></pre></div></div>    
</body>
</html>