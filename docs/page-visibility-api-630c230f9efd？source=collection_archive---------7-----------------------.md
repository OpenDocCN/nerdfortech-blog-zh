# 页面可见性 API

> 原文：<https://medium.com/nerd-for-tech/page-visibility-api-630c230f9efd?source=collection_archive---------7----------------------->

因此，当用户浏览互联网时，他/她通常会在浏览器中打开多个标签。一次只能看到打开的所有标签中的一个标签或网页。因此，如果用户在做与用户无关的工作，所有这些对用户不可见的标签都是对电池、周期和移动数据的某种浪费。作为一名聪明的应用程序开发人员，您可能希望留意这些事件，页面可见性 API 可以帮助您做到这一点。

**页面可见性 API** 有助于识别标签或网页是活动的、隐藏的还是在后台，以便根据标签的可见性状态采取适当的行动。

**属性:**

**Document.hidden :** 返回真或假。如果页面对用户隐藏，则为 true，否则为 false。

**document . visibility state:**返回一个字符串，指示选项卡的当前可见性状态。

值如下。

**visible**——用户可以看到页面的内容。

**隐藏** -用户看不到页面内容。

**预呈现器** -页面内容正在被预呈现。

**卸载** —页面从内存中卸载。

注意:并非所有的浏览器都支持 prerender 和 unloaded 值。请留意那些浏览器。

**document . onvisibilitychange:**一个事件监听器，在标签的状态发生变化时，执行提供给它的处理函数。

``document.onvisibilityChange("visibilitychange",handleFunction)`

**使用案例:**

页面可见性 api 的用例如下:

1.  如果用户没有观看视频，视频可以暂停(标签的状态不可见)，从而节省用户昂贵的移动数据和手机电池。当您想要在用户更改标签时从他们离开的同一点恢复视频或内容时，这也很有帮助，以便用户不会错过信息或内容。
2.  旋转式传送带可以暂停(不会前进到下一张幻灯片)。
3.  如果用户没有观看，显示信息仪表板的应用程序不必从服务器获取最新信息，从而节省了服务器和客户机的周期以及带宽。
4.  它还可以用于在检查过程中监控用户的行为，以检查用户是否在更改标签。

请注意，某个用例是否适用于您的应用程序完全取决于您的需求。可能有一个用例，你不想暂停应用程序上的视频(比如 youtube)。

**例外:**

1.  正在播放音频的标签。
2.  使用实时网络连接的选项卡。

参考资料:

[](https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API) [## 页面可见性 API-Web API | MDN

### 使用选项卡式浏览，任何给定的网页都有可能在背景中，因此对…不可见

developer.mozilla.org](https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API) 

我们非常感谢您的反馈、建议和改进。

如果您在应用程序中为任何其他功能使用了这个 api，请不要忘记分享。