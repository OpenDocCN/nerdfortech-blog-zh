<html>
<head>
<title>Create MySQL instance on Redhat Openshift Container Platform (OCP)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Redhat Openshift 容器平台(OCP)上创建 MySQL 实例</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/create-mysql-instance-on-redhat-openshift-container-platform-ocp-482a7c3e6cb2?source=collection_archive---------7-----------------------#2021-04-26">https://medium.com/nerd-for-tech/create-mysql-instance-on-redhat-openshift-container-platform-ocp-482a7c3e6cb2?source=collection_archive---------7-----------------------#2021-04-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f8c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文的第 3 部分中，我们将看到如何从 OCP web 控制台创建运行在 Openshift 集群上的 MySQL 实例。</p><p id="71f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">小工具图库应用系列:</em></p><ul class=""><li id="f95e" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><strong class="ih hj"> Part-1: </strong> <a class="ae jn" rel="noopener" href="/nerd-for-tech/implement-rest-api-with-kotlin-spring-boot-and-h2-database-9d0103064600">用科特林、Spring Boot 和 H2 数据库实现 REST API</a></li><li id="c65f" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><strong class="ih hj">第二部分:</strong> <a class="ae jn" href="https://techcolors.medium.com/documenting-spring-boot-rest-api-with-openapi-3-0-220a5103f0a5" rel="noopener">用 OpenAPI 3.0 记录 Spring Boot REST API</a></li><li id="b480" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><strong class="ih hj">第三部分:</strong> <a class="ae jn" rel="noopener" href="/nerd-for-tech/create-mysql-instance-on-redhat-openshift-container-platform-ocp-482a7c3e6cb2">在 Redhat Openshift 容器平台(OCP)上创建 MySQL 实例</a></li><li id="a709" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><strong class="ih hj">第 4 部分:</strong>在 OCP 集群上部署 Spring Boot 应用程序，并连接到 MySQL 实例(进行中)</li></ul><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jt"><img src="../Images/96cbe32b995d75d628e50412dc867486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TJzpQQBYiVSfkI8K"/></div></div><figcaption class="kf kg et er es kh ki bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@vidarnm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">维达尔·诺德里-马西森</a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="0a52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用以下选项尝试我们自己的 Red Hat OpenShift 4 集群</p><p id="952b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">电脑上:</em> </strong></p><p id="f05b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jn" href="https://cloud.redhat.com/openshift/install/crc/installer-provisioned" rel="noopener ugc nofollow" target="_blank">https://cloud . red hat . com/open shift/install/CRC/installer-provisioned</a></p><p id="df45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">自管:AWS / Azure / GCP: </em> </strong></p><p id="a76c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jn" href="https://cloud.redhat.com/openshift/install#public-cloud" rel="noopener ugc nofollow" target="_blank">https://cloud.redhat.com/openshift/install#public-cloud</a></p><p id="b01b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd"> Redhat 托管服务:</em> </strong></p><ul class=""><li id="cdfc" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><a class="ae jn" href="https://www.openshift.com/products/dedicated/?hsLang=en-us" rel="noopener ugc nofollow" target="_blank">https://www.openshift.com/products/dedicated/?hsLang=en-us</a></li><li id="c3ad" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><a class="ae jn" href="https://www.ibm.com/cloud/openshift" rel="noopener ugc nofollow" target="_blank">https://www.ibm.com/cloud/openshift</a></li></ul><p id="6a19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦我们登录到 Redhat Openshift 控制台，作为管理员从 OCP web 控制台创建一个新项目“gadget-gallery ”,如下所示。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kj"><img src="../Images/99a2dea2da0412b1c20a6996967d0785.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4xLysaiPOvOxKLh5PPzTYQ.png"/></div></div></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kk"><img src="../Images/dfcc187f62b4020b32d5721da719e325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GSo2khyX2Ckbjm3-hZsjxA.png"/></div></div></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kl"><img src="../Images/443cc0d954644c1c396c750b22271418.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DGYUVSpFUq2VItr2fiKNLA.png"/></div></div></figure><p id="d5df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以创建一个新项目，并使用以下命令在 OC 控制台 CLI 上验证该项目。</p><p id="451d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建新项目</p><ul class=""><li id="395a" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><strong class="ih hj"> <em class="jd"> oc 新建-项目&lt;项目-名称&gt; </em> </strong></li></ul><p id="2195" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从 OCP 集群中获取用户的所有项目</p><ul class=""><li id="c98f" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><strong class="ih hj"> <em class="jd"> oc 项目</em> </strong></li></ul><p id="f82f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要在项目之间切换</p><ul class=""><li id="d50a" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><strong class="ih hj"> <em class="jd"> oc 项目&lt;项目名称&gt; </em> </strong></li></ul><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es km"><img src="../Images/38889a776278f2a3e539ef1af6176cec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kKQo0y4BIv8bVVJMwNbO8A.png"/></div></div></figure><p id="2804" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">在 Openshift 上创建 MySQL 数据库:</strong></p><p id="8f90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤 1: </strong>选择“gadget-gallery”项目，从下拉菜单切换到“Developer ”,点击“Topology”向您的项目添加内容，使用这些选项之一创建应用程序、组件或服务。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kn"><img src="../Images/ed43fd821ba72b4a376c45e0a9863094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eJrzxd2IT1Dxaq7oFDqXaw.png"/></div></div></figure><p id="95d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤 2 </strong>:从开发者目录中选择拓扑下的‘数据库’选项，并选择 MySQL 模板</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ko"><img src="../Images/aae2f2997cb3cec6d29cc58a7283d640.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oud--_BY2oEfwX7B6aPaVQ.png"/></div></div></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kp"><img src="../Images/072a96e4b9e08fb2ed0d2b9eae4aed42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*91ZkqSFUFHIwhjPgJmfA4g.png"/></div></div></figure><p id="1556" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤 3 </strong>:点击“MySQL 实例化模板”并填写 MySQL 用户名密码、root 密码和数据库名称的详细信息。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kq"><img src="../Images/53822b55c21cb933ebdc42d88be00e98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RPSkUkBcE4VdvJNEixt1BQ.png"/></div></div></figure><p id="618e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击“创建”按钮旋转 MySQL 实例，并验证在 MySQL pod 中创建的指定数据库“coredb”。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kr"><img src="../Images/feaa25e538f23e19b49399c228c8cbeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nhEHZweat6bRQZaMgXk3-g.png"/></div></div></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ks"><img src="../Images/88229af97f7ed973751fa07b0adaf52c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lALCx9dXn70vkE-yE8GXhw.png"/></div></div></figure><p id="ba9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">MySQL—Minishift 上的部署配置</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kt"><img src="../Images/b9e6365159d3d62dec79b5748be85e83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CNr0Julw0lFJ4OiDKUIcvg.png"/></div></div></figure><p id="a453" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">找到 MySQL 的 POD IP，如下所示——同样用于从 Spring Boot 应用程序连接 MySQL。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ku"><img src="../Images/f072c9e1d650f09aeab0dee0b058e088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4WyI7ZNAqfir8hWrwJDupg.png"/></div></div></figure><p id="49f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以在 OC 控制台 CLI 上使用以下命令验证这一点。</p><p id="ce19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从集群中取出所有的豆荚</p><ul class=""><li id="92b4" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><strong class="ih hj"> oc 获取吊舱</strong></li></ul><p id="6f2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获取特定的 pod 详细信息</p><ul class=""><li id="49e5" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><strong class="ih hj"> oc 描述 pod/&lt;pod-name&gt;T11】</strong></li></ul><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es kv"><img src="../Images/e73ca8f6826fa16b9cf1bbde1269a665.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*uqUUIcZlA6V6lqYaheGgWQ.png"/></div></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kw"><img src="../Images/5816ed53ee2debe48c38f42f8921136d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qbE1EIVXnCT0hrxcQQsl0Q.png"/></div></div></figure><p id="58b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤 4 </strong>:要登录 MySQL 终端，点击 pod 名称并切换到“终端”。提供 MySQL 用户名和密码(如步骤 3 所示)。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kx"><img src="../Images/24fe6ca473aa5b57b1ab0754f91fa845.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wBlRlpUPzZkZIlPUMe7Amg.png"/></div></div></figure><p id="9109" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">成功登录后，使用“show databases”验证是否创建了名为“coredb”的数据库。</p><p id="8dcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击“日志”菜单检查错误/故障。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ky"><img src="../Images/c4fbc3ecb4aa4fbed384b70f760b4a10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AbsPOEMd63kJYvhsTqUszw.png"/></div></div></figure><p id="1382" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">总结</strong>:</p><p id="d55d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们从 OCP 控制台和 OC 控制台 CLI 创建了 MySQL 实例，运行在带有“coredb”数据库的 Openshift 集群上。我们将使用同一个实例从<strong class="ih hj">第 4 部分中的“小工具库”应用程序(Spring Boot 应用程序，用于将小工具细节保存在 coredb 数据库中创建的小工具表中)进行连接。</strong></p></div></div>    
</body>
</html>