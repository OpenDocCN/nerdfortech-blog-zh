<html>
<head>
<title>Simulating future stock prices using Monte Carlo methods in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Python 中的蒙特卡罗方法模拟未来股票价格</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/simulating-future-stock-prices-using-monte-carlo-methods-in-python-4adb187792c3?source=collection_archive---------13-----------------------#2021-05-13">https://medium.com/nerd-for-tech/simulating-future-stock-prices-using-monte-carlo-methods-in-python-4adb187792c3?source=collection_archive---------13-----------------------#2021-05-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/69d9999044591aa8cc345251d1372c9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SQ3WRm4OT2ZBq-ID"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">尼克·崇在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="fbef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用蒙特卡罗方法，我们将使用 Python 编写一个快速模拟程序来预测苹果公司(AAPL)未来的股价结果。你可以在这里阅读更多关于蒙特卡洛模拟(在金融背景下)<a class="ae iu" href="https://www.investopedia.com/terms/m/montecarlosimulation.asp" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="4226" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 1)拉取数据</strong></p><p id="d538" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，我们可以导入库，并提取 Apple 的历史股票数据。对于这个例子，我选择了最近 10 年，尽管测试不同范围的敏感度是有价值的，因为这本身就是主观的。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="e4b5" class="kc kd hi jy b fi ke kf l kg kh"># Import required libraries</span><span id="57a9" class="kc kd hi jy b fi ki kf l kg kh">import math</span><span id="7b61" class="kc kd hi jy b fi ki kf l kg kh">import matplotlib.pyplot as plt</span><span id="2381" class="kc kd hi jy b fi ki kf l kg kh">import numpy as np</span><span id="ad45" class="kc kd hi jy b fi ki kf l kg kh">from pandas_datareader import data</span><span id="fc9b" class="kc kd hi jy b fi ki kf l kg kh">apple = data.DataReader('AAPL', 'yahoo',start='1/1/2009')</span><span id="1156" class="kc kd hi jy b fi ki kf l kg kh">apple.head()</span><span id="388f" class="kc kd hi jy b fi ki kf l kg kh">#Next, we calculate the number of days that have elapsed in our chosen time window</span><span id="a30c" class="kc kd hi jy b fi ki kf l kg kh">time_elapsed = (apple.index[-1] - apple.index[0]).days</span></pre><p id="f642" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 2)计算整个数据集的复合年增长率+标准偏差(用于模拟)</strong></p><p id="1561" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">cagr(平均回报率):0.3746 <br/> std_dev(回报率的标准差:)0.2878</p><p id="1565" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 3)生成随机值，运行蒙特卡罗模拟</strong></p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/3e527d9b3c416de8dded6bb86b64b15d.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/0*NfIllfjpBF9Hi6lX.png"/></div></figure><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/ff1aca26b323cae6f68f6b2a5f5dd615.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/0*wRkU_YuROoYgchw7.png"/></div></figure><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/068f16d053bcc518f98de6b5b7fc7e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/0*ep11V6e4yxyMyD3K.png"/></div></figure><p id="3909" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 4)分析结果</strong></p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="ddf9" class="kc kd hi jy b fi ke kf l kg kh">#from here, we can check the mean of all ending prices</span><span id="9227" class="kc kd hi jy b fi ki kf l kg kh">#allowing us to arrive at the most probable ending point</span><span id="5f7a" class="kc kd hi jy b fi ki kf l kg kh">mean_end_price = round(np.mean(closing_prices),2)</span><span id="6d1a" class="kc kd hi jy b fi ki kf l kg kh">print("Expected price: ", str(mean_end_price))</span></pre><p id="406e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">预期价格:193.85 英镑</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/c12576b4a1c985b1c0eaea9343b3372c.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/0*jkFKzDai_ybjZ-TS.png"/></div></figure><p id="1540" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这里，我们可以看到(当然，仅基于使用蒙特卡洛模拟)，明年的上涨空间大于下跌空间，预期价格约为 193 美元，价格跌至 128 美元以下的可能性仅为 10%。</p><p id="04ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当然，有很多很多因素会推动股价超过历史百分比变化(这意味着我不会仅仅依靠蒙特卡洛模拟来做出投资决策！)，但这提供了一个使用蒙特卡罗模拟来更好地理解可能结果的分布的完整示例。</p><h2 id="9edd" class="kc kd hi bd kr ks kt ku kv kw kx ky kz jg la lb lc jk ld le lf jo lg lh li lj bi translated">赢得下一次数据科学面试</h2><p id="7de1" class="pw-post-body-paragraph iv iw hi ix b iy lk ja jb jc ll je jf jg lm ji jj jk ln jm jn jo lo jq jr js hb bi translated">通过每周解决几个问题，提高数据科学面试的水平</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="9eac" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="lp">原载于</em><a class="ae iu" href="https://www.interviewqs.com/blog/intro-monte-carlo" rel="noopener ugc nofollow" target="_blank"><em class="lp">https://www.interviewqs.com</em></a><em class="lp">。</em></p></div></div>    
</body>
</html>