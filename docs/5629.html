<html>
<head>
<title>Waypoint-Patrolling AI With Branching Paths In Unity, Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中用分支路径巡逻AI，第1部分</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/waypoint-patrolling-ai-with-branching-paths-in-unity-part-1-5b6131dd5682?source=collection_archive---------2-----------------------#2021-10-25">https://medium.com/nerd-for-tech/waypoint-patrolling-ai-with-branching-paths-in-unity-part-1-5b6131dd5682?source=collection_archive---------2-----------------------#2021-10-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="1d5e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">为了我的秘密项目，我必须做巡逻警卫。然而，我决定混合一些随机选择的替代路径，和一个“看方向”。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/89d41f6aecf0422b60148c3546a26935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*U0slnUF9EFvJDlrDCS0Vdw.png"/></div></figure><p id="8ea8" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jh hj">今天的目标:</strong>创造一个简单的模块化人工智能守卫，它会沿着一些路点巡逻，有时会选择两个路点中的一个去。</p></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><h1 id="9d94" class="ki kj hi bd kk kl km kn ko kp kq kr ks io kt ip ku ir kv is kw iu kx iv ky kz bi translated">创建系统:</h1><h2 id="b357" class="la kj hi bd kk lb lc ld ko le lf lg ks jo lh li ku js lj lk kw jw ll lm ky ln bi translated">变量:</h2><p id="76b7" class="pw-post-body-paragraph jf jg hi jh b ji lo ij jk jl lp im jn jo lq jq jr js lr ju jv jw ls jy jz ka hb bi translated">我创建了一个名为“<strong class="jh hj"><em class="lt">AIWaypointPatroller</em></strong>的新类，它将保存沿着一组路点巡逻的所有AI代码。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lu"><img src="../Images/a6fbe8fe47d630a8f21a5065ebe2466c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/1*cmQMAGu3TDR79gpucMQ3Ag.gif"/></div></figure><p id="a399" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我想允许在每个航点面向一个指定的方向，加上备选航点位置的选项(我将在第2部分中添加)，所以我为<strong class="jh hj">列表&lt; &gt; </strong>创建了一个自定义结构，而不仅仅是一个<strong class="jh hj"> Vector3 </strong>。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lv"><img src="../Images/d31256345425c275b87a628bab45a887.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/1*Je1Imc8RGPTbnV1iwKlxfQ.gif"/></div></figure><p id="8f2c" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我还想在场景视图中显示航路点，以便于调试。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="er es lw"><img src="../Images/8620eb3815141c247f61a460665f82a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*lhGCSn1KaOnJ7iSJJODpqw.gif"/></div></div></figure><p id="4adb" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">最后，私有变量:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mb"><img src="../Images/8fdf1c288fbe3ededc3ef5fb3852c042.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/1*V5zIHwIvIM49tsJZd4wxaQ.gif"/></div></figure></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><h2 id="25ae" class="la kj hi bd kk lb lc ld ko le lf lg ks jo lh li ku js lj lk kw jw ll lm ky ln bi translated">这些功能:</h2><p id="8c1d" class="pw-post-body-paragraph jf jg hi jh b ji lo ij jk jl lp im jn jo lq jq jr js lr ju jv jw ls jy jz ka hb bi translated">清醒:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="er es mc"><img src="../Images/89e2a3193991a82e3c3af30e2f169376.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Wi8SHxLUlrSe4jSpwDEacw.gif"/></div></div></figure><p id="a3fe" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">更新:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="er es md"><img src="../Images/369540552b6692cda8df2cfc1b7f7877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*dvoNLiIdUP3s62wkMv9d0w.gif"/></div></div></figure><p id="6dd5" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">更新期间调用的函数:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="er es me"><img src="../Images/b2f06b7538373f4b24fd2b5c26126b10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*XGrXyCbIaod86AYcpzn6Yg.gif"/></div></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="er es mf"><img src="../Images/dcce778fe7a99521a98845dc38a4b12a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*43ZYrCWG3FGaz5aRVX6TQQ.gif"/></div></div></figure><p id="63d3" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">最后，为了在场景视图中绘制漂亮的调试行，创建一个OnDrawGizmos()方法:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mg"><img src="../Images/a2233f686d243692946728e6570d88eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/1*nx9rxnJQGUmPme0X2ARo1Q.gif"/></div></figure><p id="839a" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我想画三个部分:</p><ul class=""><li id="f1a5" class="mh mi hi jh b ji jj jl jm jo mj js mk jw ml ka mm mn mo mp bi translated">当前位置，</li><li id="2d34" class="mh mi hi jh b ji mq jl mr jo ms js mt jw mu ka mm mn mo mp bi translated">路点和它们之间的线，</li><li id="1a91" class="mh mi hi jh b ji mq jl mr jo ms js mt jw mu ka mm mn mo mp bi translated">以及每个航点的观察方向。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mv"><img src="../Images/92540070a23c740eba8b5d40e79f0f72.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/1*prmXGu1a31ZG5QheH6mpsg.gif"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mw"><img src="../Images/258b928caed67633fd4fa5d4d517555f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/1*wHR0iP3AKpFACKKe2qul8g.gif"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mx"><img src="../Images/199327ee957154db40c408d31bc5c430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/1*-tchLGe6tg_ZRjXZZUY66g.gif"/></div></figure></div><div class="ab cl kb kc gp kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hb hc hd he hf"><h1 id="2166" class="ki kj hi bd kk kl km kn ko kp kq kr ks io kt ip ku ir kv is kw iu kx iv ky kz bi translated">结果是:</h1><p id="98cb" class="pw-post-body-paragraph jf jg hi jh b ji lo ij jk jl lp im jn jo lq jq jr js lr ju jv jw ls jy jz ka hb bi translated">最后，所有的工作都得到了回报，一个非常漂亮的航点系统！</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es my"><img src="../Images/6de557b339b6667d3561153809652a5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/1*eYHTsg8YPl0cTcNeQVKRlQ.gif"/></div><figcaption class="mz na et er es nb nc bd b be z dx translated">路径点路径</figcaption></figure><p id="5257" class="pw-post-body-paragraph jf jg hi jh b ji jj ij jk jl jm im jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在我的下一篇文章<strong class="jh hj">第二部分</strong>中，我将增加<strong class="jh hj">替换路径</strong>的可能性，并增加缓慢转动<strong class="jh hj">的功能</strong>以面对<em class="lt">观察方向</em>。</p></div></div>    
</body>
</html>