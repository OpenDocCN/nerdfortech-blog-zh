<html>
<head>
<title>MultipartRequest In Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振中的多请求</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/multipartrequest-in-http-for-sending-images-videos-via-post-request-in-flutter-e689a46471ab?source=collection_archive---------1-----------------------#2021-06-19">https://medium.com/nerd-for-tech/multipartrequest-in-http-for-sending-images-videos-via-post-request-in-flutter-e689a46471ab?source=collection_archive---------1-----------------------#2021-06-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/73fd73342d79454643ee9e1075c75afe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*QqglzZ-JbhYm3-2RN04ooQ.png"/></div></figure><p id="a4ca" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在flutter中使用http.post()，可以只发送string、int、list、date和double数据类型。如果你想发送图像/视频/文件到服务器，你会怎么做？所以，答案是使用<strong class="io hj"> MultipartRequest发送请求。</strong></p><h1 id="b7c6" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated"><strong class="ak">潜入多方请求</strong></h1><p id="c05c" class="pw-post-body-paragraph im in hi io b ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj hb bi translated">让我们从简单的开始。<br/> <strong class="io hj">👉先安装</strong><a class="ae kn" href="https://pub.dev/packages/http" rel="noopener ugc nofollow" target="_blank"><strong class="io hj">http _ package</strong></a><strong class="io hj">:</strong></p><blockquote class="ko"><p id="5bfe" class="kp kq hi bd kr ks kt ku kv kw kx jj dx translated">将“package:http/http.dart”作为http导入；</p></blockquote><p id="6c57" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated"><strong class="io hj">👉首先将multipartrequest存储在一个var中，如下所示:</strong></p><blockquote class="ko"><p id="99bc" class="kp kq hi bd kr ks kt ku kv kw kx jj dx translated">var请求= http。MultipartRequest('POST '，uri . parse(' YOUR URL '))；</p></blockquote><p id="cefd" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated"><strong class="io hj">👉用于传递头或令牌:</strong></p><blockquote class="ko"><p id="aa51" class="kp kq hi bd kr ks kt ku kv kw kx jj dx translated">request . headers . addall({ " Authorization ":" Bearer $ YOUR _ TOKEN " })；</p></blockquote><p id="7078" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated"><strong class="io hj">👉用于发送文件/图像/视频:</strong></p><blockquote class="ko"><p id="ce21" class="kp kq hi bd kr ks kt ku kv kw kx jj dx translated">request.files.add(等待http。multipart file . from path(" key _ value _ from _ API "，<image_path>)；</image_path></p></blockquote><p id="069c" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated"><strong class="io hj">👉对于发送普通数据(var，string，int，double，date)，添加这些行:</strong></p><blockquote class="ko"><p id="f105" class="kp kq hi bd kr ks kt ku kv kw kx jj dx translated"><em class="ld">request . fields[' key _ VALUE _ from _ API ']= " YOUR _ VALUE "；</em></p></blockquote><p id="f016" class="pw-post-body-paragraph im in hi io b ip ky ir is it kz iv iw ix la iz ja jb lb jd je jf lc jh ji jj hb bi translated"><strong class="io hj">👉最后，添加这些行来完成multipartrequest: </strong></p><blockquote class="ko"><p id="7a1e" class="kp kq hi bd kr ks kt ku kv kw kx jj dx translated"><em class="ld">var response = await request . send()；</em></p></blockquote></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="85bc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">添加这些行，您将能够通过http.post请求/multipart请求向服务器发送文件类型数据。</p><p id="ed03" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">示例:</p><figure class="lm ln lo lp fd ij er es paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="er es ll"><img src="../Images/023b802ebc4a7a3523a6e2bf4aae1a99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wKBBMEnCdiHPuvvWcpmE_A.png"/></div></div></figure><p id="927e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">以上这些代码可以在<a class="ae kn" href="https://github.com/lakshydeep-14/MultipartRequest" rel="noopener ugc nofollow" target="_blank"> github </a>中找到。</p><p id="4c97" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，您将学习如何在flutter中使用多部分请求或http.post请求向服务器发送文件。</p><p id="6e03" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你可以联系我<a class="ae kn" href="https://www.linkedin.com/in/lakshydeep-14/" rel="noopener ugc nofollow" target="_blank"> LinkedIN </a>然后关注我。<br/>买书<strong class="io hj">让自己成为软件开发人员:让我们投入到扑扑中&amp;跨国公司</strong><a class="ae kn" href="https://www.amazon.com/dp/B09NNXNT6X/ref=sr_1_1?keywords=make+yourself+the+software&amp;qid=1639582180&amp;sr=8-1" rel="noopener ugc nofollow" target="_blank">买书</a>。<br/>敬请反馈。<br/>保持学习和编码。谢谢！！！</p></div></div>    
</body>
</html>