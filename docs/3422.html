<html>
<head>
<title>Making Enemy Shoot when behind Player</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让敌人在玩家身后射击</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/making-enemy-shoot-when-behind-player-3981fe204f2d?source=collection_archive---------15-----------------------#2021-06-09">https://medium.com/nerd-for-tech/making-enemy-shoot-when-behind-player-3981fe204f2d?source=collection_archive---------15-----------------------#2021-06-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2fcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第48天-制作2D太空射击游戏</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/26d005567ee26725e21b57bf7be3dd18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MXssRUx36tFN4hAD.jpg"/></div></div></figure><p id="4524" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">目标:</strong>让敌人察觉到它在玩家身后，然后转身射击</p><p id="c5cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从产生一种新的敌人开始，这种敌人会表现出这些行为。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/45f2bd7b2f98b2d03a67a0c46965e928.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_U2UD3ThC6dbQTorxUQ7eQ.png"/></div></div></figure><p id="9767" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在创建一个新的脚本，为你的新敌人创造一种行为。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/b5e404fbc692363b9513fe59dc2670db.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*bf72CpVdNaK-FRT7O3LUpg.png"/></div></figure><p id="1e90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在脚本中，声明在这个过程中需要的所有必要变量。当您根据需要添加功能时添加它们。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/8465158c96717d7830e089b3b70ce56f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uhhdmKj6HXF6B8YAAZxqTw.png"/></div></div></figure><p id="9388" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在参考播放器脚本和播放器的位置转换。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es js"><img src="../Images/db63b244c901362ba6215a9cd7b07ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ghsEauwMNKGoj5XNZMnDxg.png"/></div></div></figure><p id="90ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在在你的更新函数中，当敌人在玩家下方时，将你的敌人条件设置为旋转，否则将旋转设置为默认。</p><p id="c9ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">调用你的移动函数每一帧向下移动敌人，最后添加一个条件，只有当敌人和玩家都活着的时候才开火。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/d4c76b36a521b378aa513ca585c953ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*znN00R93t5dh1gtxaozoaw.png"/></div></div></figure><p id="1371" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当玩家被调用时向下移动，当它超出y轴的边界后，它重置顶部的位置，以在x轴-9和9之间的随机位置再次向下移动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/cced81281daf03aa68be7634e1b35e90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*39jdKOHqvEs0I1gCHCBCbw.png"/></div></div></figure><p id="27be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当敌人的位置低于玩家的位置时，检查玩家是否在x轴上敌人的半径2以内。如果返回true，那么旋转敌人看向相反的方向，否则将旋转设置为默认。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jv"><img src="../Images/3b63f384acff8e6d475f1b6978921445.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z-gapd9bHK16IyKNpkHX2w.png"/></div></div></figure><p id="06e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里，当敌人发射激光时实例化激光，然后检查激光在哪里被实例化。如果它是敌人当前位置的正0.6，那么这意味着敌人已经旋转并抬头朝向玩家，所以通过调用激光脚本中的FireUp函数将激光运动设置为up，反之亦然。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jw"><img src="../Images/82ca0071c53b73a04180f2cddfe61215.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*NgnThKmqFe4b_LLq_U3qoA.png"/></div></div></figure><p id="ec4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在激光脚本中，创建一个dir变量，并将其默认值设置为-1，使其默认向下移动，当调用该函数时，激光运动的方向相应改变。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/d60333298d748382540058caf77c8eb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*peIjizNVzGa8dk4-F8ZdXA.png"/></div></div></figure><p id="7626" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，根据dir变量的值上下移动激光。默认情况下，它将向下移动，当调用公共函数FireUp时，dir值变为正值并开始向上移动，反之亦然。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jy"><img src="../Images/32c9f10e099113ed8458d0c856bdaf25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cLoBtWLXYCtXcuAFp_tXdA.gif"/></div></div></figure><p id="a389" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是最终的结果。</p></div></div>    
</body>
</html>