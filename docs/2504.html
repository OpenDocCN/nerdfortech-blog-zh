<html>
<head>
<title>Understanding Date and Time In Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解 Java 中的日期和时间</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/understanding-date-and-time-in-java-140221a24944?source=collection_archive---------5-----------------------#2021-05-09">https://medium.com/nerd-for-tech/understanding-date-and-time-in-java-140221a24944?source=collection_archive---------5-----------------------#2021-05-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/27526418e1f840e8585e47d2497b228d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZHIQ5_dF9nNhDqMs"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae iu" href="https://unsplash.com/@bradneathery?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Brad Neathery </a>拍摄的照片</figcaption></figure><p id="30a1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于任何 java 开发人员来说，理解 Java 中的日期和时间是必不可少的。在 java 中，处理日期和时间可能会有点混乱，因为 java 有多种数据类型来处理日期和时间。这些数据类型包含在几个包中。这些包是，<strong class="ix hj"> java.util </strong>，<strong class="ix hj"> java.sql </strong>和<strong class="ix hj"> java.time </strong>。</p><p id="341f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么，为什么 java 中有几个包和多个类来处理日期和时间呢？这就是我们在第一章要讨论的内容。</p><p id="c247" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在 Java 中，我们有两种不同的日期/时间 API，一种是旧的 API，另一种是 Java 8 中引入的新 API。新版本的日期/时间 API 的引入是为了克服旧版本的日期/时间 API 的问题。新的 API 在<strong class="ix hj">“Java . time”</strong>包中有多个类；Java 本身也鼓励使用这种新 API。然而，为什么 java 需要实现一个新的日期/时间 API 呢？因为以前的 API 有几个问题，开发人员每次使用它时都必须面对。</p><h1 id="7bd9" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">旧(经典)日期/时间 API</h1><p id="26c6" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">当 java 第一次发布时(Java 1.0)，它在<strong class="ix hj">“Java . util”</strong>包中有一个非常简单的类。这个类是“Date ”,它代表的不是一个实际的日期，而是一个特定的时刻。但是在较新版本的 java 中，他们添加了多个类来正确地表示日期和时间。然而，在这个日期/时间 API 中仍然存在许多问题。比如，</p><ul class=""><li id="d35d" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">如果您想要创建如下所示的 Date 类的对象，您将看到 Date 类存在于两个不同的包中，<strong class="ix hj"> "java.sql" </strong>和<strong class="ix hj"> "java.util" </strong>。“java.sql”包处理适合数据库的日期格式,“java.util”包处理适合 java 语言的日期格式。因此，开发人员总是因为导入错误的包而陷入困境。</li></ul><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/1cfbec729f30cddef12e77beed6f2606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zY-DrlVTN9XM4_5-qeh7Mg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图像:从日期类创建对象</figcaption></figure><ul class=""><li id="9937" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">另外，如果您想对日期进行一些格式化，您需要导入另一个名为<strong class="ix hj"> "java.text" </strong>的包。</li><li id="688a" class="kw kx hi ix b iy lk jc ll jg lm jk ln jo lo js lb lc ld le bi translated">所有这些日期/时间类都不是线程安全的。如果多个线程在同一个日期对象上工作，并且如果一个线程对该对象做了一些更改，其他线程也会得到该更改。</li><li id="0433" class="kw kx hi ix b iy lk jc ll jg lm jk ln jo lo js lb lc ld le bi translated">即使对于一些熟练的 java 开发人员来说，使用和管理分区日期也是困难和令人困惑的。</li></ul><p id="43b9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如您所看到的，Oracle 有足够的理由将这个新的日期/时间 API 引入 java。</p><h1 id="cc31" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">新的(Java 8)日期/时间 API</h1><p id="a692" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在 Java 8 中，它在<strong class="ix hj">“Java . Time”</strong>包中为 Java 引入了一个全新的日期/时间 API。它附带了各种有用的类，我们可以轻松地在 java 中处理日期和时间。这个新 API 支持标准的时间概念，如日期、时间、瞬间和时区。此外，它极大地简化了日期和时间处理，并修复了旧 API 的许多问题。</p><p id="dac6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用 Java 8 日期/时间 API 的主要优势:</p><ul class=""><li id="8414" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated"><strong class="ix hj"> API 清晰:</strong>API 非常清晰，即使对于新手开发者(比如我)也很容易理解🙋‍♂️).</li><li id="0a95" class="kw kx hi ix b iy lk jc ll jg lm jk ln jo lo js lb lc ld le bi translated"><strong class="ix hj">不变性和线程安全:</strong>这个新 API 中提供的所有类都是不可变的和线程安全的。</li><li id="a92c" class="kw kx hi ix b iy lk jc ll jg lm jk ln jo lo js lb lc ld le bi translated">灵活有效的 API: 新的 API 带有不同的时间表示，适合不同的用例。下图显示了新的日期/时间 API 中最常用的类。</li></ul><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/e406a1783eb0f65e7c2ae27d542f7327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EkRDsBIiGV_k_ByvJqvOWg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图:来自 Java 8 日期/时间 API 的类(<a class="ae iu" href="https://www.w3schools.com" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com</a>)</figcaption></figure><blockquote class="lq lr ls"><p id="50ef" class="iv iw lt ix b iy iz ja jb jc jd je jf lu jh ji jj lv jl jm jn lw jp jq jr js hb bi translated">注意:这些类主要在不需要时区时使用</p></blockquote><p id="9314" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是一些使用每个类处理日期和时间的例子。</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="lx ly l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">Java 8 日期/时间类的用法</figcaption></figure></div><div class="ab cl lz ma gp mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="hb hc hd he hf"><h2 id="4788" class="mg ju hi bd jv mh mi mj jz mk ml mm kd jg mn mo kh jk mp mq kl jo mr ms kp mt bi translated">为什么日期和时间对软件工程师很重要？</h2><p id="f6d6" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">在软件工程中，无论你擅长什么领域，在大多数时间里，如果不知道如何处理日期和时间，你就无法工作。如果你是一名软件开发人员，几乎你将要开发的每个程序都需要以某种方式使用日期/时间。这意味着在某些时候你必须收集、存储、检索和显示日期或时间。在程序中处理日期和时间之前，开发人员应该考虑几件事情。</p><ul class=""><li id="35d1" class="kw kx hi ix b iy iz jc jd jg ky jk kz jo la js lb lc ld le bi translated">总是选择正确的数据类型。如果您的语言有不同的数据类型来表示日期/时间，如 Java，那么您必须考虑适合您的用例的有效和正确的数据类型。</li><li id="47a4" class="kw kx hi ix b iy lk jc ll jg lm jk ln jo lo js lb lc ld le bi translated">始终根据您的用例选择正确的数据格式。大多数开发人员通常甚至不太考虑日期/时间的格式。</li><li id="02c9" class="kw kx hi ix b iy lk jc ll jg lm jk ln jo lo js lb lc ld le bi translated">时刻注意何时使用<strong class="ix hj">【时区】</strong>。如果你要在一个项目中使用日期/时间，你必须知道在那个项目中是否必须使用“时区”。</li></ul><h1 id="6901" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">用 Java 处理夏令时(DST)</h1><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/b751b53ec2fed6f2ed7d368f656dee98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r1sYdaTulzTvnt7B"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Amy Humphries 在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="29fc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你问我一个我们需要考虑“时区”的用例，没有比这个更完美的答案了。夏令时是几个国家在夏季使用的一种做法，以提前他们的时间，从而利用额外的一小时自然光。然而，如果您不打算以正确的方式处理 DST，您可能会得到一个有问题的应用程序。所以，让我们看看如何在 Java 中处理夏令时。</p><p id="64ab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您必须在 java 8 之前在 Java 中处理 DST，您必须一起使用来自<strong class="ix hj">【Java . util】</strong>包的<strong class="ix hj">时区</strong>和<strong class="ix hj">日历</strong>类。然而，这样做是可能的，即使是一些熟练的 java 开发人员在使用这个旧的日期/时间 API 时也会感到困惑和困难。但是在 Java 8 日期/时间 API 之后，事情变得比以前简单多了。对于 Java 8，我们有各种类来处理时区，如下所示，</p><p id="cf9b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">区域 ID : </strong>代表地区/城市的唯一 ID</p><pre class="lg lh li lj fd mv mw mx my aw mz bi"><span id="0b2c" class="mg ju hi mw b fi na nb l nc nd">ZoneId zoneId = ZoneId.of("Asia/Colombo");</span></pre><p id="7335" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">区域日期时间:</strong>表示带有时区的 ISO-8601 日历系统中的日期时间</p><pre class="lg lh li lj fd mv mw mx my aw mz bi"><span id="2810" class="mg ju hi mw b fi na nb l nc nd">ZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, zoneId);</span><span id="d8fe" class="mg ju hi mw b fi ne nb l nc nd">example : 2021–05–09T14:00:15+01:00 Asia/Colombo</span></pre><p id="8d78" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">区域偏移:</strong>表示与格林威治有偏移的时区</p><pre class="lg lh li lj fd mv mw mx my aw mz bi"><span id="e668" class="mg ju hi mw b fi na nb l nc nd">ZoneOffset offset123 = ZoneOffset.of("+05:30");</span></pre><p id="edbd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">偏移日期时间:</strong>表示在 ISO-8601 日历系统中，相对于格林威治有偏移的日期时间</p><pre class="lg lh li lj fd mv mw mx my aw mz bi"><span id="f7a1" class="mg ju hi mw b fi na nb l nc nd">OffsetDateTime offSetDT = OffsetDateTime.of(localDateTime, offset123);</span></pre><p id="4e8c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如您所看到的，有了 Java 8 日期/时间 API，用 Java 处理夏令时就更容易了。</p><p id="f1f7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，本文到此结束，希望您喜欢。快乐编码👨‍💻。</p></div><div class="ab cl lz ma gp mb" role="separator"><span class="mc bw bk md me mf"/><span class="mc bw bk md me mf"/><span class="mc bw bk md me"/></div><div class="hb hc hd he hf"><h2 id="085c" class="mg ju hi bd jv mh mi mj jz mk ml mm kd jg mn mo kh jk mp mq kl jo mr ms kp mt bi translated">参考</h2><p id="8848" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">Kristan，g .，2018 年。<em class="lt">在您的申请中使用日期&amp;次</em>。[在线]萌芽社交。可查阅:&lt;https://sproutsocial . com/insights/date-times-application-development/&gt;[2021 年 5 月 9 日访问]。</p><p id="2975" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">贝尔东。2020.<em class="lt">Java 8 日期/时间 API 简介| Baeldung </em>。[在线]可查阅:&lt;https://www.baeldung.com/java-8-date-time-intro&gt;[2021 年 5 月 8 日访问]。</p><p id="9f6d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">W3schools.com，2021 年。<em class="lt"> Java 日期和时间</em>。[在线]可查阅:&lt;https://www.w3schools.com/java/java_date.asp&gt;[2021 年 5 月 8 日访问]。</p><p id="4e50" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Ligios，a .，2020。<em class="lt">在 Java | Baeldung 中处理夏令时</em>。[线上]百隆。可查阅:&lt;https://www.baeldung.com/java-daylight-savings&gt;[2021 年 5 月 9 日访问]。</p></div></div>    
</body>
</html>