<html>
<head>
<title>Building a Dashboard for Real-time COVID-19 Case Reports and Vaccinations with Dash</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Dash 为实时新冠肺炎病例报告和疫苗接种构建仪表板</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/building-a-dashboard-for-real-time-covid-19-case-reports-and-vaccinations-with-dash-2c0c5db77de?source=collection_archive---------12-----------------------#2021-07-14">https://medium.com/nerd-for-tech/building-a-dashboard-for-real-time-covid-19-case-reports-and-vaccinations-with-dash-2c0c5db77de?source=collection_archive---------12-----------------------#2021-07-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/317e568fa834665827fdc385546674dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NPG3_STf3M0frQhgcRVRmw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者创建的仪表板产品的快照</figcaption></figure><p id="832b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">除了预测模型之外，Dashboard 是释放数据力量的另一个好方法，它通过显示和可视化数据供领域专家分析。基于仪表板的思想，定期用新数据更新它可以反映实时数据可视化，从而产生更准确的分析。</p><p id="444b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对于我在 Metis 的最后一个项目，我们的任务是——使用通过任何方式获得的大规模数据集，设计一个端到端的数据存储和处理管道，在任何感兴趣的领域提供有用的服务。</p><p id="9397" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因为我之前所有的项目都与新冠肺炎有某种联系，我想—</p><blockquote class="jt ju jv"><p id="c1a7" class="iu iv jw iw b ix iy iz ja jb jc jd je jx jg jh ji jy jk jl jm jz jo jp jq jr hb bi translated">为什么不回想起新冠肺炎的数据？</p></blockquote><p id="e380" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="jw">免责声明</em> : </strong> <em class="jw">我是机器学习和博客的新手。因此，如果有任何错误，请让我知道。感谢所有反馈。</em></p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="6563" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">动机</h1><p id="eee5" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">随着新冠肺炎的 Delta 变种在美国蔓延，CDC 和卫生保健专家警告疫苗接种不足的地区要为新的危险做好准备。在研究我目前所在州弗吉尼亚州的情况时，我意识到大多数情况下都有监控仪表板。虽然有一些疫苗接种仪表板，但它们与病例监测是分开的，如果用户想了解病例和疫苗接种之间的关系，这可能不方便。</p><p id="b616" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以这个项目的目标是<strong class="iw hj">为一个仪表板建立一个管道，用实时数据可视化弗吉尼亚新冠肺炎病例报告和疫苗接种</strong>。</p><h1 id="a333" class="kh ki hi bd kj kk lk km kn ko ll kq kr ks lm ku kv kw ln ky kz la lo lc ld le bi translated">数据</h1><ul class=""><li id="10b0" class="lp lq hi iw b ix lf jb lg jf lr jj ls jn lt jr lu lv lw lx bi translated">弗吉尼亚<a class="ae js" href="https://data.virginia.gov/dataset/VDH-COVID-19-PublicUseDataset-Vaccines-DosesAdmini/28k2-x2rj" rel="noopener ugc nofollow" target="_blank">疫苗管理数据集</a>(截至 2021 年 6 月 24 日的 267，000 个数据点)和<a class="ae js" href="https://data.virginia.gov/Government/VDH-COVID-19-PublicUseDataset-Cases/bre9-aqqr" rel="noopener ugc nofollow" target="_blank"> COVID 病例数据集</a>(截至 2021 年 6 月 24 日的 60，600 个数据点)来自弗吉尼亚开放数据。数据每天都在更新，所以数据库在不断增长。</li><li id="cc34" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr lu lv lw lx bi translated">弗吉尼亚各县人口的许可数据</li></ul><h1 id="3ff1" class="kh ki hi bd kj kk lk km kn ko ll kq kr ks lm ku kv kw ln ky kz la lo lc ld le bi translated">工具</h1><ul class=""><li id="5fe8" class="lp lq hi iw b ix lf jb lg jf lr jj ls jn lt jr lu lv lw lx bi translated">苏打 API</li><li id="d93f" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr lu lv lw lx bi translated">SQL，sqlachemy</li><li id="5ab8" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr lu lv lw lx bi translated">蟒蛇(熊猫，numpy)</li><li id="cda2" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr lu lv lw lx bi translated">破折号</li><li id="5dd0" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr lu lv lw lx bi translated">赫罗库</li><li id="89d2" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr lu lv lw lx bi translated">cron 作业</li></ul><h1 id="ef01" class="kh ki hi bd kj kk lk km kn ko ll kq kr ks lm ku kv kw ln ky kz la lo lc ld le bi translated">方法学</h1><p id="6bfe" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">这个项目的主要思想是建立一个端到端的管道，将产生一个具有更新数据的仪表板。下面，我将展示管道的概况和细分:</p><h2 id="3c3c" class="md ki hi bd kj me mf mg kn mh mi mj kr jf mk ml kv jj mm mn kz jn mo mp ld mq bi translated">管道概述</h2><figure class="ms mt mu mv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mr"><img src="../Images/32d5f355eeca91bd6f9d662a7ebe8db2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HXUxMXIv3Bww-w-GdZn9aQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者创建的管道可视化</figcaption></figure><ol class=""><li id="02bf" class="lp lq hi iw b ix iy jb jc jf mw jj mx jn my jr mz lv lw lx bi translated"><strong class="iw hj">数据采集</strong> —通过 API 和 python 脚本采集数据</li><li id="ed37" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr mz lv lw lx bi translated"><strong class="iw hj">数据存储</strong> —将采集到的数据存储到 SQL 数据库中，并通过 sqlachemy 进行访问</li><li id="2cf9" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr mz lv lw lx bi translated"><strong class="iw hj">数据预处理</strong> —数据清理和争论</li><li id="4e83" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr mz lv lw lx bi translated"><strong class="iw hj">数据可视化</strong> —创建用于可视化和分析的绘图</li><li id="ca49" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr mz lv lw lx bi translated"><strong class="iw hj">网络应用</strong> —使用 plotly 图形创建交互式仪表盘应用</li><li id="aee1" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr mz lv lw lx bi translated"><strong class="iw hj">部署</strong> — App 随后被部署在 Heroku 上，供公众使用/演示。</li><li id="3219" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr mz lv lw lx bi translated"><strong class="iw hj">自动化</strong> —设置了一个 cronjob 来每天运行 python 脚本进行数据采集、存储和预处理，因此仪表板将反映实时数据。</li></ol><h1 id="de13" class="kh ki hi bd kj kk lk km kn ko ll kq kr ks lm ku kv kw ln ky kz la lo lc ld le bi translated">关于 Dash</h1><h2 id="377d" class="md ki hi bd kj me mf mg kn mh mi mj kr jf mk ml kv jj mm mn kz jn mo mp ld mq bi translated">Dash 是什么？</h2><p id="3081" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">Dash 是一个开源 Python 库，用于创建 Plotly 提供的基于 web 的可视化应用程序。它非常适合构建仪表板、降价报告和任何数据可视化目的。</p><p id="c76e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我不会在这里深入探究 Dash 是如何工作的，因为有很多很棒的文章和资源比我解释得更好。如果你想了解一下，这里有一些:</p><ul class=""><li id="1e55" class="lp lq hi iw b ix iy jb jc jf mw jj mx jn my jr lu lv lw lx bi translated"><a class="ae js" rel="noopener" href="/@jjsham/building-dashboard-using-plotly-dash-36bf94a1137">使用 Plotly Dash 构建仪表板</a></li><li id="3fb6" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr lu lv lw lx bi translated"><a class="ae js" rel="noopener" href="/plotly/introducing-dash-5ecf7191b503">引入破折号</a></li><li id="b4b6" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr lu lv lw lx bi translated"><a class="ae js" href="https://dash.plotly.com/introduction" rel="noopener ugc nofollow" target="_blank">破折号</a></li></ul><h2 id="edb6" class="md ki hi bd kj me mf mg kn mh mi mj kr jf mk ml kv jj mm mn kz jn mo mp ld mq bi translated">我从使用 Dash 中学到了什么</h2><ul class=""><li id="a22d" class="lp lq hi iw b ix lf jb lg jf lr jj ls jn lt jr lu lv lw lx bi translated">代码更类似于 Flask(因为它与 Flask 集成在一起),而不是 Streamlit</li><li id="0e29" class="lp lq hi iw b ix ly jb lz jf ma jj mb jn mc jr lu lv lw lx bi translated">对 HTML 和 CSS 有所了解会有所帮助(尤其是如果你想让仪表板看起来更漂亮的话)</li></ul><p id="ff0f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">出于好奇，我选择使用 Dash，因为我在以前的项目中已经构建了 Flask 并简化了应用程序。总的来说，我喜欢它易于使用，并给出了仪表板的外观。</p><h1 id="c26e" class="kh ki hi bd kj kk lk km kn ko ll kq kr ks lm ku kv kw ln ky kz la lo lc ld le bi translated">结果</h1><p id="2ddd" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">瞧啊。这是仪表板…</p><figure class="ms mt mu mv fd ij"><div class="bz dy l di"><div class="na nb l"/></div></figure><p id="5b2a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">也可以在这里查看 app <a class="ae js" href="https://vaxcovid.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">！</a></p><h1 id="0ce1" class="kh ki hi bd kj kk lk km kn ko ll kq kr ks lm ku kv kw ln ky kz la lo lc ld le bi translated">洞察力</h1><p id="f811" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">使用仪表板产品，我从数据中得出一些初步的分析和见解。</p><figure class="ms mt mu mv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/948afedc3f26a89c6cfbf7889e95887c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QQJZfuxDRq-FQ5hGlJNI3g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">弗吉尼亚各县的病例数和疫苗接种数</figcaption></figure><figure class="ms mt mu mv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nd"><img src="../Images/874e127beba31b65cc0e3595f5e8df68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DbdEIIMXNgGI-x4orE5mdQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">弗吉尼亚各县的病例和疫苗接种率</figcaption></figure><ol class=""><li id="afb3" class="lp lq hi iw b ix iy jb jc jf mw jj mx jn my jr mz lv lw lx bi translated"><strong class="iw hj">每 100，000 人的计数与比率(疾病测量)</strong></li></ol><p id="9aba" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">同一地区的报告和疫苗接种数量较高。这些地区实际上是城市，因此人口较多。</p><p id="5cd3" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">通过使用比率，我们看到了模式的变化，病例率较高的地区疫苗接种率较低，反之亦然。</p><p id="f5e4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">2.<strong class="iw hj">病例和疫苗接种的时间序列分析</strong></p><figure class="ms mt mu mv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ne"><img src="../Images/c119f0b3973165c83416b29853e34193.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kR-QggIE8nGPOYyL4dPs9w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">病例和疫苗接种的时间序列比较</figcaption></figure><p id="bfce" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">比较病例和疫苗的时间序列，虽然我们不能推断有因果关系，但我们可以看到在疫苗接种增加后，病例有减少的趋势。在疫苗接种高峰出现后，病例数达到了下降的平稳水平。</p><figure class="ms mt mu mv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nf"><img src="../Images/66fa0dc2b3ef754944e4c769dd9a4a52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bMQfQ-i9ix-Ky4TbEO4-LQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">显示弗吉尼亚海滩数据的仪表板</figcaption></figure><figure class="ms mt mu mv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ng"><img src="../Images/e0492ae23db55aacd5718ce73dea7057.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uujzyr5cSey2w6FcMxDFGA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">显示北汉普顿数据的仪表板</figcaption></figure><p id="4f71" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">3.<strong class="iw hj">同一地区县级对比</strong></p><p id="0643" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">去弗吉尼亚海滩看看，与地区平均水平相比，情况更糟。它接种疫苗的人口比例也较低。大多数人在药店购买辉瑞药品，所以这可能是外展项目可以研究的事情。</p><p id="db9f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">另一方面，同一地区的另一个郡，北汉普顿，比地区平均水平要好。也有较高比例的接种人口。他们中的大部分人正在与其他社区卫生服务提供者进行合作。</p><p id="189d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">总体而言，仪表板显示，有些县的病例率高，疫苗接种率低，而且随着疫苗接种数量的增加，病例数呈下降趋势。此外，县仪表板可用于决定推广战略。</p><h1 id="f96f" class="kh ki hi bd kj kk lk km kn ko ll kq kr ks lm ku kv kw ln ky kz la lo lc ld le bi translated">未来的工作</h1><p id="b87c" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">如果我有更多的时间，我会使用时间序列/预测建立一个预测模型，在应用程序上应用更多的过滤器，如日期和地区，并根据用户反馈(如果有的话)更新仪表板图表和视觉效果。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="8ab5" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">外卖食品</h1><p id="b157" class="pw-post-body-paragraph iu iv hi iw b ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn lj jp jq jr hb bi translated">对我来说，这个项目最具挑战性的部分是挑选什么类型的图表放在仪表板上，为分析增加更多的价值。没有领域知识，可能会有点迷失。因此，我花了一些时间和精力来阅读这个项目的疾病测量方法。总是用各种方式学习！</p><p id="5ae1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">总的来说，我喜欢做这个项目，构建仪表板，设计布局，并使它在视觉上更具吸引力。端到端的构建让我深入了解了数据科学项目的每个流程。作为我在 Metis 的最后一个项目，这是一个回到 SQL、总结我的学习和试验新工具的好方法。</p><p id="123d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢阅读:)希望这是有趣的和有见地的给你。</p><p id="9773" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你可以在我的 GitHub <a class="ae js" href="https://github.com/crystal-ctrl/engineering_project" rel="noopener ugc nofollow" target="_blank">回购</a>上找到我的项目工作。</p></div></div>    
</body>
</html>