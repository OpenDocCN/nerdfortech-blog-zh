<html>
<head>
<title>Routing around in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中的路由</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/routing-around-in-react-a3e9af38742b?source=collection_archive---------10-----------------------#2021-04-29">https://medium.com/nerd-for-tech/routing-around-in-react-a3e9af38742b?source=collection_archive---------10-----------------------#2021-04-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="e39a" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">使用React路由器浏览组件视图的构建</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/b5bd0e905980e71d22797d6578d3b75e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zijTrzJY0KcllpnrEnrGWA.jpeg"/></div></div></figure><p id="23d3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">正如你们许多人所知，React应用程序由许多不同的组件组成。这些组件中的一些可以在整个用户体验中保持静态，例如标题或导航栏。我认为这些组件是静态的，因为它们的位置、大小或内容不会随时间而改变。另一方面，也有一些组件是动态的或流动的，可以随着时间的推移而改变，例如用户的home feed和应用程序博客或新闻页面。</p><p id="9c15" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">你可能想知道，这和在我的React应用中导航有什么关系？简而言之，我们将创建一个在用户体验中保持静态或不变的导航栏。然后，我们的链接会将我们路由到保存应用程序内容的更动态的组件视图。我们在这里的主要目标是这些路线，并获得我们的其他观点。</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h2 id="1bc6" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">构建导航栏</h2><p id="045d" class="pw-post-body-paragraph jj jk hi jl b jm li ij jo jp lj im jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">在我们开始浏览React应用程序之前，我们首先需要创建导航栏。首先，我们将在source (src)文件夹中创建一个components文件夹。然后我们将创建Navbar.js，它应该是一个功能组件，以及Main.js，它应该是一个类组件。我们还需要在源文件夹中创建一个名为pages的文件夹。我们将创建Home.js、Blogs.js、News.js和Favorites.js，它们都是功能组件。然后，每个组件都需要导入到我们的Main.js中。我们还需要将我们的navbar和主要组件导入到我们的App.js中。</p><p id="b5e5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">咻！这真的是很多，只是让我们的样板开始，但这里有一些你的组件和文件结构应该是什么样子的视觉效果。此外，如果您需要，您可以在此处  <strong class="jl hj"> </strong>找到锅炉板回购<a class="ae ln" href="https://github.com/TheRealKevBot/ReactRouterBoilerPlate" rel="noopener ugc nofollow" target="_blank"> <strong class="jl hj">的副本。</strong></a></p><p id="5b19" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Navbar.js:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lo"><img src="../Images/ec8772c17f81c72cc1c963fa43bd2698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*KilmoMblex4UFafvSJfdUA.png"/></div></div></figure><p id="a819" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Main.js</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lp"><img src="../Images/2b3dce3bf8e72b2f4df96a23aaaeee4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*M8YuXZj5EIQxEqDUdrGBiQ.png"/></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">(注意:我决定让Main.js成为类组件的原因是因为这是我个人放置生命周期方法的地方。)</figcaption></figure><p id="b5cb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">App.js:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lu"><img src="../Images/682c8a027c8041c1035d53edaf66667c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*rwONZ73GkmRekHSdqB9Esw.png"/></div></figure><p id="28df" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">页面组件示例:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lv"><img src="../Images/00a1592bb8ba616fb86febff7f04465a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GAGiKNuOTBSI2GV-AwL1dA.png"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">(注意:你的每一页都应该有一个h1来解释它是哪一页，这样我们就可以知道我们已经转到了正确的页面。)</figcaption></figure><p id="00ee" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">您会注意到我们的Navbar.js当前返回一个空的div。为了启动我们的导航栏，我们将创建一个无序列表，每个页面都有列表项。如果您目前在本地服务器上加载应用程序，您会注意到它需要一些更新的样式。</p><p id="0729" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">下面的CSS应该有助于做到这一点。您还会注意到，我们所有的页面组件都在一个接一个地呈现。别担心，补救办法就在前面。</p><p id="d082" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Navbar.js</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lw"><img src="../Images/a98ffc2c0340d5f8ae216f0f9efee453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*90lv2Tw9XdSdLC9oozTqqA.png"/></div></figure><p id="a4de" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">App.css</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lx"><img src="../Images/56bd7bf15084c12c78e721635f46b5d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*vlxFmfxS2eqlsKfZw4i9Vg.png"/></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><h2 id="768a" class="kn ko hi bd kp kq kr ks kt ku kv kw kx js ky kz la jw lb lc ld ka le lf lg lh bi translated">反应路由器</h2><p id="ada2" class="pw-post-body-paragraph jj jk hi jl b jm li ij jo jp lj im jr js lk ju jv jw ll jy jz ka lm kc kd ke hb bi translated">现在我们已经建立了我们的导航栏，我们应该设置我们的路线，这样我们的组件也可以在我们需要的时候呈现出来。<a class="ae ln" href="https://reactrouter.com/" rel="noopener ugc nofollow" target="_blank"> React Router </a>将为我们完成所有繁重的工作，并使我们在整个应用程序中轻松导航。首先，我们需要使用以下命令安装react。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ly"><img src="../Images/c9bdbc3e3959853a21654e6ec56a7adb.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/format:webp/1*ozWiXu8ioHOOaNdVDujsEg.png"/></div></div></figure><p id="d0bf" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">安装后，让我们前往我们的index.js，因为需要进行一些更改。创建React应用程序后，您的当前和“股票”index.js应该如下所示。</p><p id="b8a8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">index.js:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lz"><img src="../Images/3a83a5581eae6cf01ccc2c6a77364b3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qlXjZfD1LXri7N48FvF7Dw.png"/></div></div></figure><p id="62a7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们将需要从react路由器导入浏览器路由器，以及用路由器包装我们的应用程序，而不是React严格模式。这样做将允许我们在App.js及其子组件中创建路线。更新后的index.js应该如下所示。</p><p id="a403" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">index.js:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ma"><img src="../Images/a948c88d95057c38134e56e4386b0620.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*80o7twt5Mb686X5fP2SG6g.png"/></div></div></figure><p id="daa9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，我们的应用程序已经准备好了，让我们前往Main.js并开始这些路线。我们首先需要从react路由器导入重定向、路由和交换。这是我们将为基本路由实施的三个组件。为了开始，我们将简单地用switch包装我们导入的页面组件，就像这样。</p><p id="0a86" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Main.js</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mb"><img src="../Images/0931883f52d8391440857dda310ae46d.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*WL2SrXgGtCEFpLofoMH2-Q.png"/></div></figure><p id="876a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Switch将查看当前URL及其子路由，并向您显示第一个匹配的视图或页面。这将有助于我们在需要时渲染路线，尤其是当我们一次只想显示一条路线时。这使我们处于建立路线的首要位置，这正是我们将要做的。</p><p id="ad84" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们将在route中包装每个导入的页面组件，并确保包含路径。这将是页面所在位置的实际路径。例如，您的博客页面的路径将是/Blogs，因为它将是yourwebsite.com/Blogs.</p><p id="1a77" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">主页. js</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mc"><img src="../Images/262e6b422ccdaec6b5e11b9211c4598d.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*U9Ai3a2EDZX2QT4KWOzb2Q.png"/></div></figure><p id="6e73" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">您可能会注意到，我们将主页的路径保留为空白，而不是在路径前添加/Home和exact。这是因为在大多数情况下，当用户访问您的站点时，您的主页将是第一个加载的页面，它代表站点的基本URL。我们还使用精确路径来保证我们自己的家乡路径将总是带我们回家，因为react路由器在路由时使用部分匹配。</p><p id="35a4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们在Main.js中的最后一步是添加一个重定向，这也将有助于我们的部分路由。如果路径不存在，重定向会将用户发送到您指定的任何地方。在这种情况下，我们将重定向用户回到主页。您完成的Main.js应该是这样的。</p><p id="fc43" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Main.js</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es md"><img src="../Images/91b5e6ecbc6e253569572f941b72993a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*2wuBAXUOn-PYvwBLt_DOBg.png"/></div></figure><p id="f7f4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，我们已经创建了我们的路线，并设置了它们的路径，我们需要使我们的导航栏链接实际上，链接到我们不同的页面。为此，我们首先需要访问我们的Navbar.js并从react router导入链接，因为这是我们将使用的单一组件。</p><p id="b676" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">正如我们之前对路由器所做的那样，我们将使用link包装我们的每个导航链接。我们不是添加一条路径，而是添加到我们想去的地方。比如我们想去/博客。你更新后的Navbar.js看起来应该和一些CSS一样，以保持这些链接看起来不错。</p><p id="838a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Navbar.js:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es me"><img src="../Images/75928b510133f9e4510a0fbdb4d4f2a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*d1rCa14SnSLVYlBk0-DBeQ.png"/></div></figure><p id="5b8b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">App.css:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mf"><img src="../Images/0b8800c85db70c8d42476addbd607ced.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*dMpUMB59dc_YKnF0kWE6Ug.png"/></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="06d8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">恭喜你！如果你一直跟随，你已经成功地在你的四个不同的显示页面之间创建了路线。您会注意到，每个页面都是单独呈现的，导航栏在整个用户体验中保持不变。您还可以通过查看当前URL来注意到您在访问博客、收藏夹或新闻时创建的路径。</p><p id="7f8f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果您想查看一份已完成的回购副本，供您自己参考，您可以在此处找到它<a class="ae ln" href="https://github.com/TheRealKevBot/ReactRouter" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="0924" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我要感谢你的阅读，并希望你学到了新的东西！</p></div></div>    
</body>
</html>