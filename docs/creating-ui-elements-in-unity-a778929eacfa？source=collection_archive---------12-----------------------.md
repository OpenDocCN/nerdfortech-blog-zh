# 在 Unity 中创建 UI 元素

> 原文：<https://medium.com/nerd-for-tech/creating-ui-elements-in-unity-a778929eacfa?source=collection_archive---------12----------------------->

## 统一指南

## 关于如何在 Unity 中创建 UI 元素的快速指南

![](img/419a2eb4594a59f7213d27563e6e8339.png)

目标:在 Unity 中创建一个太空射击游戏的用户界面。

现在我们已经在 Unity 中介绍了太空射击游戏的[加电实现](/nerd-for-tech/creating-a-power-up-for-your-game-in-unity-6810d73376a1)，是时候添加用户界面(UI)元素来添加玩家在游戏中进度的视觉反馈了。例如，这是没有 UI 元素的太空射击游戏的外观:

![](img/3678ebb5151963d3bedd664487cdc4a7.png)

因此，为了在 Unity 中创建 UI 元素，我们需要右键单击场景或层级，并添加要在游戏中使用的相应 UI 元素。在这种情况下，我将添加一个新的文本元素来显示玩家在游戏中获得的分数:

![](img/5143dd66e7830c3a711e17850d9e6d4e.png)![](img/faedf4f19bc0affff914349d6b8892d5.png)![](img/ee1f420be3352d2c46d3ed9b1dbc7c18.png)

一个**画布**总是被创建为场景中一个新 UI 元素的父元素。此外，还创建了一个 **EventSystem** ，它将作为处理输入事件的一种方式。

一旦创建了文本元素，我们就能够使用场景视图修改它在画布中的位置。我们还可以注意到它是如何在游戏视图中显示的:

![](img/edfbf091bf8efee459337958148f78c4.png)![](img/7bfc4b0ada7297be913123e8c5c203d5.png)

然后，在检查器中，我们可以修改文本的颜色，使其更加明显:

![](img/1b6e5ea481ede084ef4ed68ce69a67a0.png)![](img/767ee3ce8adcf40a9061799e0577d1ed.png)![](img/a657f34b27ca550cfd5197595ecaf422.png)

此外，我们可以修改字体大小、对齐方式和溢出等属性:

![](img/86373040bda284e2e2b50478d5f9fcc8.png)![](img/a90091d4fcec7b0ac821af00d1b0ebcf.png)

当游戏要以不同的屏幕尺寸显示时，我们需要注意 UI 元素的位置和比例。例如，如果我改变游戏视图的大小，你会注意到文本元素开始脱离屏幕:

![](img/0a45a1d7b0f715ecc4514a8d87308bd9.png)

因此，为了避免 UI 元素脱离屏幕，我们可以使用检查器中的锚预置将文本元素附加到画布的一角，并设置新的相对位置。这样，当游戏运行时，文本元素将停留在该位置，而不会在不同的屏幕尺寸中消失:

![](img/cc9af02e111cd12017aaee55ef993504.png)![](img/149c142dce103663a2d6c4666c9802f3.png)

一旦文本元素被附加到右角，我们可以将 Vector3 的位置设置为 0，我们会注意到文本将被放置在右角。

![](img/54e473d04c336ec719c08ee16533223b.png)![](img/1b07ed69555925a1a85aaec126c3e9d1.png)

如果我们在画布中移动文本元素，我们会注意到新的相对位置:

![](img/c6ceab5a57a87aa93ca79dab38d36e89.png)![](img/5894d9c45a5ef56666ccb531caeb410c.png)

现在，当屏幕大小改变时，文本元素保持在原来的位置，但它不随屏幕大小而缩放，它使它看起来比播放器更大:

![](img/b936ebf68276f76fbb1d63aed35cd312.png)

要解决这个问题，我们需要选择画布，并将 UI 缩放模式更改为**随屏幕尺寸缩放**:

![](img/d1c1da7724da071bfbd8e54575458a88.png)![](img/0e9f76705ab03d5e766eac70f9f18ba5.png)

现在，当屏幕大小改变时，文本元素会被缩放，看起来会更好:

![](img/356bb17a9b8e9a60506c5e767340b7ff.png)

继续显示分数，让我们更改元素的文本来预览它的外观:

![](img/50bb39ad01ec1fd90da6b23b6e3b6a4f.png)![](img/5ac9f6d29e467b8c7a406d53ac44958e.png)

此外，让我们创建一个新的脚本来控制 UI 元素的行为，并将其附加到画布上:

![](img/ed39239835e7850a9b57c3506176f7c4.png)![](img/0c50b8c92117d68fd34b21a98cd51e62.png)![](img/7c6daefe6a8c04a4815196cccdaaafb2.png)

现在，打开玩家脚本，我们将总分存储在一个新变量中:

![](img/ac91d6a555b51f18c12d63a1dde4c966.png)

让我们创建一个新的公共函数来增加分值。我们可以使用一个参数来接收要添加的自定义值，然后通过不同的操作重用该函数:

![](img/77dcb6f9027dc70483c4d8b91091c881.png)

然后，在敌人脚本中，让我们创建一个变量来存储对附加到播放器的播放器脚本的引用:

![](img/379199bf5cdcc21e248bc938b53148c2.png)

为了避免每次消灭敌人都要搜索玩家脚本，让我们初始化 Start 函数内部的变量:

![](img/43724609a18b3713a602d4d8debb1d15.png)

现在，在 **OnTriggerEnter2D** 函数中，让我们调用在敌人被激光摧毁之前给分数增值的公共函数。我们可以使用函数的参数选择分数增加多少:

![](img/f85c0b535998c507e3b656566ef65f60.png)

现在打开新的 UI 管理器脚本，让我们添加 UI 实用程序类来帮助我们处理脚本中的 UI 元素:

![](img/de5f61bdb45935251765893fe58d346c.png)

然后，创建一个文本类型的新变量来存储我们场景中的分数文本的引用。不要忘记使用**【序列化字段】**将文本元素拖到检查器中:

![](img/3ee70cbe9047d2a6380426e392a2dff9.png)![](img/f6b0cefbb01bcfd2b50c7142e0fc8ffb.png)![](img/121bb37b65feed2fc2522246c6167fe8.png)

将乐谱的文本元素拖到附加到画布的 UI 管理器脚本中。

现在让我们创建一个公共函数，该函数将被调用来使用相应的参数更新 score 文本元素的值:

![](img/e069a0748f24a5384c93c2f5ab826de5.png)

然后，回到播放器脚本，让我们创建一个新变量来存储附加到画布的 UI 管理器脚本的引用:

![](img/02c0e439873d29beeb06d5b05782510b.png)

让我们在 Start 函数中初始化它，以避免每次分数改变时都这样做:

![](img/f2ed23d5dbd0f0cb69aa1a3af6dbcb5a.png)

最后，让我们调用公共函数，在播放器脚本中的分数发生变化后更新分数:

![](img/e143be4afa4401f20f4f30bf5d3e76e2.png)

现在，当我们在 Unity 中运行游戏时，我们会看到每当玩家用激光摧毁一个敌人时，分数都会发生变化:

![](img/2626a59a978373dfb30f412976313984.png)

就是这样，你可以在 Unity 中为你的游戏创建和使用 UI 元素！:d .我将在下一篇文章中看到你，在那里我将展示如何创建一个带有复古行为的 UI 元素上的游戏。

> *如果你想了解我更多，欢迎登陆*[***LinkedIn***](https://www.linkedin.com/in/fas444/)**或访问我的* [***网站***](http://fernandoalcasan.com/) *:D**