<html>
<head>
<title>DataTypes in JVM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JVM 中的数据类型</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/datatypes-in-jvm-356b09fe7b46?source=collection_archive---------3-----------------------#2022-03-07">https://medium.com/nerd-for-tech/datatypes-in-jvm-356b09fe7b46?source=collection_archive---------3-----------------------#2022-03-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="474f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对不起，我弄错了吗？？？是 Java 里的数据类型吗？？？</p><p id="a19c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是的，这是正确的！！！我们要讨论 JVM 中的<strong class="ih hj"> <em class="jd">数据类型！！！</em>T3】</strong></p><p id="3071" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">众所周知，JVM 是有内存区域的。希望你们都记得！让我重述一下！</p><p id="a101" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JVM 有 3 个组件，其中一个是内存区域。已编译的。类文件首先由 JVM 读取，然后加载到 JVM 中。一边读着。类文件，它在<strong class="ih hj">方法区</strong>中存储了<strong class="ih hj">类信息</strong>。加载完。类文件到 JVM 中，它将所有的<strong class="ih hj">对象的数据</strong>存储在<strong class="ih hj">堆区</strong>、<strong class="ih hj">方法信息、<strong class="ih hj">栈</strong>中的局部变量信息</strong>、<strong class="ih hj"> PC 寄存器中的下一条指令</strong>的<strong class="ih hj">内存地址、</strong>和<strong class="ih hj">本机方法栈</strong>中的<strong class="ih hj">本机方法信息</strong>。</p><p id="9368" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这说明 JVM 是存储数据的！很明显，这就是为什么它有一个记忆区域！</p><p id="b386" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，需要知道保存这些数据的数据类型！</p><p id="e574" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JVM 中的数据类型与 Java 语言中的<strong class="ih hj">数据类型非常相似。他们有两种类型。</strong></p><ul class=""><li id="c30c" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">Primitive —这些数据类型本身保存数据的<strong class="ih hj"> <em class="jd">值</em> </strong>。</li><li id="5bd8" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">引用—这些数据类型本身不保存数据的值，但是它们保存对数据的值 的<strong class="ih hj"> <em class="jd">引用。</em></strong></li></ul><p id="bf04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下图显示了 JVM 中的数据类型是如何分类的。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es js"><img src="../Images/48e9de494581a18e02e107f3e37237cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*awt-t-9-wY_hPtnrI0cn-w.png"/></div><figcaption class="ka kb et er es kc kd bd b be z dx translated">JVM 数据类型分类</figcaption></figure><p id="a75b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，但是 JVM 如何区分这些类型呢？？？</p><blockquote class="ke kf kg"><p id="d1ef" class="if ig jd ih b ii ij ik il im in io ip kh ir is it ki iv iw ix kj iz ja jb jc hb bi translated">JVM 希望所有类型检查都在运行前完成，通常由编译器完成，这样就不需要自己检查了。在运行时，基本类型的值不需要被标记或检查来确定它们的类型。相反，JVM 的指令集使用旨在对特定类型的值进行操作的指令来区分其操作数类型。 </p><p id="e0c5" class="if ig jd ih b ii ij ik il im in io ip kh ir is it ki iv iw ix kj iz ja jb jc hb bi translated">例如，JVM 指令，如<strong class="ih hj"> <em class="hi"> ladd、iadd、fadd 和 dadd，</em> </strong>将两个数值相加&amp;产生数值结果，但每个结果都是针对每个操作数类型的。</p><p id="6de5" class="if ig jd ih b ii ij ik il im in io ip kh ir is it ki iv iw ix kj iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">【梯子】</em> </strong> - &gt;为<strong class="ih hj"> <em class="hi">长</em> </strong>数据</p><p id="9ed2" class="if ig jd ih b ii ij ik il im in io ip kh ir is it ki iv iw ix kj iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi"> iadd </em> </strong> - &gt;为<strong class="ih hj"><em class="hi">int</em>T57】数据</strong></p><p id="4a62" class="if ig jd ih b ii ij ik il im in io ip kh ir is it ki iv iw ix kj iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi"> fadd </em> </strong> - &gt;为<strong class="ih hj"> <em class="hi">浮点</em> </strong>数据</p><p id="24a1" class="if ig jd ih b ii ij ik il im in io ip kh ir is it ki iv iw ix kj iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi"> dadd </em> </strong> - &gt;为<strong class="ih hj"> <em class="hi"> double </em> </strong>数据</p></blockquote></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="9533" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JVM 支持的原始数据类型是数字、布尔和返回地址类型。</p><h1 id="cbfe" class="kr ks hi bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">数字的</h1><p id="819e" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">数字类型主要保存数值，由整型/非浮点型和浮点型组成。</p><p id="4cc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">整数类型存储整数，正数或负数，不带小数。这些包括:</p><ul class=""><li id="2f98" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">byte —取范围从-128 到 127(包括这两个值)的 2⁸位有符号整数值。</li><li id="0ed1" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">short —取 2 个⁶位有符号整数值，范围从-32768 到 32767，包括这两个值。</li><li id="a3cf" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">int —取范围从-2147483648 到 2147483647(含)的 2 位有符号整数值。</li><li id="20dd" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">long —采用 2⁶⁴位有符号整数值，范围从-9223372036854775808 到 9223372036854775807，包括这两个值。</li><li id="f94b" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">char —取 16 位无符号整数，范围从 0 到 65535，包括 0 和 65535。</li></ul><p id="b71b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">浮点类型存储包含一个或多个小数的数字。这些包括:</p><ul class=""><li id="dd5d" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">float——一个 32 位单精度浮点数，浮点值的精度表示该值在小数点后可以有多少位数。浮点数在小数点后只能有 6-7 位数。</li></ul><p id="9f9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，<em class="jd">浮点数</em>在 java 中被视为<em class="jd">双精度数</em>。因此，当在 Java 中初始化一个浮点数时，我们需要做以下事情。</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="176f" class="lz ks hi lv b fi ma mb l mc md">//Defining a float number</span><span id="9b73" class="lz ks hi lv b fi me mb l mc md">float height = 167.7;</span><span id="d739" class="lz ks hi lv b fi me mb l mc md">//Above initialisation gives a compilation error. Error corrected by //adding a suffix 'F' or 'f'</span><span id="7d09" class="lz ks hi lv b fi me mb l mc md">float height = 167.7f;<br/>//OR<br/>float height = 167.7F;</span></pre><ul class=""><li id="63b6" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">double—64 位双精度浮点数。双精度值的小数点后可以有 15 位数字。初始化双变量时，可以选择使用后缀“D”或“D”。</li></ul><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="b813" class="lz ks hi lv b fi ma mb l mc md">//Defining the double variable<br/>double price = 980.97D;<br/>//OR <br/>double price = 980.97;</span><span id="5e9d" class="lz ks hi lv b fi me mb l mc md">//Any way Java will store price as a double variable.</span></pre><p id="5e75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧，数字太多了？？？我们来讨论布尔！！！</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><h1 id="a50d" class="kr ks hi bd kt ku mf kw kx ky mg la lb lc mh le lf lg mi li lj lk mj lm ln lo bi translated">布尔代数学体系的</h1><p id="4c3c" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">尽管 JVM 定义了一个布尔类型，但它只提供了有限的支持，也就是说，没有 JVM 指令专门用于布尔值的操作。<em class="jd">相反，java 编程语言中操作布尔值的表达式被编译为使用</em><strong class="ih hj"><em class="jd">JVM</em></strong><strong class="ih hj"><em class="jd">int</em></strong>数据类型的值。所以在 JVM 中，<em class="jd">布尔型</em>用<em class="jd"> int 或者 byte 来表示。</em></p><p id="2545" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是为什么 Java 语言中的“布尔假”表示为 0，而 Java 语言中的“布尔真”表示为非零/ 1。</p><p id="d13b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JVM 直接支持布尔数组。布尔数组由字节数组表示。使用字节数组指令访问和修改布尔数组。</p><p id="4884" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简单来说，<strong class="ih hj"> <em class="jd"> Java 语言的布尔值</em> </strong>被编译器映射成 JVM 类型 int 的<strong class="ih hj"> <em class="jd">值。Java 语言</em> </strong>中的布尔数组映射到<strong class="ih hj"> <em class="jd"> JVM 字节数组。</em> </strong></p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><h1 id="cd55" class="kr ks hi bd kt ku mf kw kx ky mg la lb lc mh le lf lg mi li lj lk mj lm ln lo bi translated">回信地址</h1><p id="6497" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">JVM 中最后一个原语类型是<strong class="ih hj">返回地址类型</strong>。开发者不能使用这种数据类型，因为它是 JVM 专用的<strong class="ih hj"><em class="jd"/></strong><strong class="ih hj"><em class="jd">在 Java 语言</em> </strong>中找不到。与数字基本类型不同，返回地址类型不对应于任何 Java 语言类型，并且不能被正在运行的程序修改。</p><p id="4935" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">再次强调！！！在原语类型中，只有<strong class="ih hj"> <em class="jd">返回地址类型</em> </strong>是<strong class="ih hj"> <em class="jd">不直接与 Java 编程语言类型</em> </strong>相关联。</p><p id="c7a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JVM 使用这种数据类型来实现“final”关键字或“final 块”。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="dedb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧！唷！够原始了！！！让我们来看看引用数据类型。</p><h1 id="67ab" class="kr ks hi bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">参考类型</h1><p id="0bc6" class="pw-post-body-paragraph if ig hi ih b ii lp ik il im lq io ip iq lr is it iu ls iw ix iy lt ja jb jc hb bi translated">对对象的引用被认为具有 JVM 类型<strong class="ih hj">引用</strong>。引用类型值被认为是指向对象的指针，也就是说，该值是<strong class="ih hj">存储在堆区域中的对象的内存地址</strong>。一个对象或者是一个动态分配的<strong class="ih hj">类实例</strong>或者是一个数组<strong class="ih hj"> <em class="jd">。</em> </strong></p><p id="ef22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JVM 中有 4 种类型的引用数据类型。</p><ul class=""><li id="e389" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">类类型引用—对特定类的实例的引用。</li><li id="dd2f" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">接口类型引用—对特定接口的实现类实例的引用。</li></ul><p id="d98d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例如，有一个接口 A 和一个实现这个接口的类 B。下面的代码片段进一步解释了这一点。</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="4252" class="lz ks hi lv b fi ma mb l mc md">//Interface A<br/>interface A {<br/>   void speak();<br/>}</span><span id="6302" class="lz ks hi lv b fi me mb l mc md">//class B implements the interface A<br/>class B implements A {<br/>   public void speak() {<br/>     System.out.println("bow bow!!!");<br/>   }<br/>}</span><span id="0d5b" class="lz ks hi lv b fi me mb l mc md">//main class<br/>public class mainB {<br/>   public static void main(String args[]) {<br/>      <strong class="lv hj">B b1 = new B();</strong> //&lt;-------- <strong class="lv hj">this is an interface type //reference, it references to the instance of class B.</strong><br/>      b1.speak();<br/>   }<br/>}</span></pre><ul class=""><li id="058f" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">数组类型引用—对数组的引用。</li><li id="f0f0" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">空引用—这是一种特殊类型，它不引用任何地方，即不引用任何对象，也不引用任何对象！<em class="jd">引用类型</em>的<em class="jd">默认值</em>为<em class="jd">空。</em></li></ul></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="4353" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有一种特殊的关键字叫做<strong class="ih hj"> <em class="jd">字</em> </strong>或者<strong class="ih hj"> <em class="jd">字大小</em> </strong>。这只是一个基础/单位，因为你不能从字的大小来衡量。我们需要给单词大小赋值来解释它。</p><p id="9a79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">内部 JVM 实现表示为字长。字长由特定的 JVM 实现决定。定义单词长度有两个规则:</p><ol class=""><li id="d666" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc mk jk jl jm bi translated">字长应该能够容纳任何原始数据类型。</li></ol><p id="2e76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">比如有一个变量叫“int a”，字长要能装“a”。</p><p id="e104" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.两倍的字大小，即 2 个字(WORD WORD)应该能够保存长值或双精度值。</p><p id="72ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在实现字长时，必须考虑这两个规则。因此，这意味着字长至少应为 32 位。</p><p id="f628" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对，就是它！！！希望你喜欢阅读，并得到更好的理解！！！</p><p id="333f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐学习！！！</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><h1 id="2b00" class="kr ks hi bd kt ku mf kw kx ky mg la lb lc mh le lf lg mi li lj lk mj lm ln lo bi translated">参考</h1><ol class=""><li id="71d7" class="je jf hi ih b ii lp im lq iq ml iu mm iy mn jc mk jk jl jm bi translated"><a class="ae mo" href="https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.2" rel="noopener ugc nofollow" target="_blank">第二章。Java 虚拟机的结构(oracle.com)</a></li><li id="0a8c" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc mk jk jl jm bi translated"><a class="ae mo" href="https://www.youtube.com/watch?v=6AWckdRYWTI&amp;list=PLD-mYtebG3X-rF1hU16AC3Rf9E-mAAkXJ&amp;index=3" rel="noopener ugc nofollow" target="_blank"> (27) JVM 第三部分—JVM 中的数据类型— YouTube </a></li><li id="fbc7" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc mk jk jl jm bi translated"><a class="ae mo" href="https://www.javatpoint.com/float-vs-double-java" rel="noopener ugc nofollow" target="_blank">浮点 Vs 双 Java—Java point</a></li></ol></div></div>    
</body>
</html>