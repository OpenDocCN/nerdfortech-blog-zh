<html>
<head>
<title>Deploying a Private Blockchain with Hyperledger Fabric on Google Cloud 🚀</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Google Cloud上部署带有Hyperledger Fabric的私有区块链🚀</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/create-deploy-a-business-network-on-blockchain-using-hyperledger-on-gcp-95d582b53c7d?source=collection_archive---------1-----------------------#2021-12-20">https://medium.com/nerd-for-tech/create-deploy-a-business-network-on-blockchain-using-hyperledger-on-gcp-95d582b53c7d?source=collection_archive---------1-----------------------#2021-12-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="66b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建和启动安全🛡️区块链网络的分步指南</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/67d22c1322a6792f7b1032f45d93352e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wHtJ8Mel44Q122KVrRucEg.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图片来源:<a class="ae jt" href="https://unsplash.com/@launchpresso" rel="noopener ugc nofollow" target="_blank"> Launchpresso </a></figcaption></figure><p id="e2e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Hyperledger Fabric是一个许可的区块链平台，用于构建和部署分散的应用程序和解决方案。使用Hyperledger Composer这一开发工具集和框架，构建区块链应用程序变得更加容易。在本教程中，您将学习如何使用Hyperledger Fabric和Composer在Google云平台上创建和部署私有区块链。从从Google Cloud Marketplace启动解决方案到访问Hyperledger Composer Playground，您将被引导完成建立业务网络、定义资产、参与者和交易以及测试网络的过程。本教程将为希望深入区块链开发世界的开发人员和区块链爱好者提供一个全面的指南。</p><h1 id="d70b" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">概述</h1><ol class=""><li id="d5a3" class="ks kt hi ih b ii ku im kv iq kw iu kx iy ky jc kz la lb lc bi translated">从Google Cloud Marketplace启动Hyperledger Fabric和Composer</li><li id="495f" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">在虚拟机上启用防火墙访问</li><li id="d14c" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">部署和访问Hyperledger Composer游乐场</li><li id="419c" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">创建并连接到新的企业网络</li><li id="e37a" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">添加模型文件</li></ol><h1 id="9dd1" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">启动Hyperledger结构和Composer</h1><p id="1d31" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">在本节中，您将启动Google Cloud Marketplace上提供的Hyperledger Fabric和Composer解决方案。</p><ol class=""><li id="fa8f" class="ks kt hi ih b ii ij im in iq ll iu lm iy ln jc kz la lb lc bi translated">打开<strong class="ih hj">谷歌云平台控制台</strong>。</li><li id="7ac7" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">从<strong class="ih hj">导航菜单</strong>中选择<strong class="ih hj">市场</strong>。</li><li id="7fb0" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">搜索<strong class="ih hj"> Hyperledger </strong>并选择<strong class="ih hj"> Hyperledger Fabric和Composer </strong>。</li><li id="b76c" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">点击<strong class="ih hj">启动</strong>。</li><li id="1f2c" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">现在，您将看到部署属性设置。</li><li id="845c" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">对于<strong class="ih hj">部署名称</strong>，键入<code class="du lo lp lq lr b">hyperledger-fabric-and-composer</code>。</li><li id="b2ba" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">选中该框以接受服务条款。</li><li id="a47d" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">保持其余设置的默认值，并点击<strong class="ih hj">部署</strong>。</li><li id="d57f" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">一旦部署了解决方案，从<strong class="ih hj">导航菜单</strong>中，选择<strong class="ih hj">计算引擎</strong>。您应该看到一个作为部署的一部分创建的VM实例。</li><li id="128e" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">点击实例名称，打开<strong class="ih hj">虚拟机实例详细信息</strong>页面。</li><li id="06b9" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">点击顶部的<strong class="ih hj">编辑</strong>。</li><li id="e023" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">向下滚动到<strong class="ih hj">网络标签</strong>并在字段中输入<code class="du lo lp lq lr b">hyperledger</code>。这将允许您在已使用网络标记— <code class="du lo lp lq lr b">hyperledger</code>进行标记的实例上配置特定的防火墙规则。您将在下一节对此进行配置。</li><li id="7928" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">点击<strong class="ih hj">保存</strong>。</li></ol><h1 id="318c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">在虚拟机上启用防火墙访问</h1><p id="6ad6" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">要使用Playground，需要在已经部署的虚拟机上激活端口8080。为了安全起见，将建立一个防火墙规则，限制对端口8080的访问只能来自您的浏览器的IP地址。</p><ol class=""><li id="6df5" class="ks kt hi ih b ii ij im in iq ll iu lm iy ln jc kz la lb lc bi translated">打开一个新的浏览器选项卡，导航到<a class="ae jt" href="http://www.whatismyip.com/" rel="noopener ugc nofollow" target="_blank">http://www.whatismyip.com</a>。</li><li id="d28c" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">复制公共IPv4地址。</li><li id="745e" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">在控制台中，进入<strong class="ih hj">导航菜单</strong> &gt; <strong class="ih hj"> VPC网络</strong> &gt; <strong class="ih hj">防火墙</strong>。</li><li id="1718" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">点击<strong class="ih hj">创建防火墙规则</strong>。</li><li id="648b" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">防火墙规则的名称<code class="du lo lp lq lr b">hyperleger-firewall-rule</code>并添加可选描述。</li><li id="e66f" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">在<strong class="ih hj">目标</strong>下，确保选择了<strong class="ih hj">指定目标标签</strong>选项。</li><li id="6cbd" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">对于<strong class="ih hj">目标标签</strong>，输入您在上一节<code class="du lo lp lq lr b">hyperledger</code>中创建的<strong class="ih hj">网络标签</strong>名称。</li><li id="120b" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">在<strong class="ih hj">源过滤器</strong>下，选择<strong class="ih hj"> IP范围</strong>。</li><li id="ecc8" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">对于<strong class="ih hj">源IP范围</strong>，输入带有掩码/32的公共IPv4地址。例如，如果您的公共IPv4地址是104.132.25.98，请输入104.132.25.98/32.</li><li id="e537" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">在<strong class="ih hj">协议和端口</strong>下，选择<strong class="ih hj">指定协议和端口</strong>选项。</li></ol><p id="46c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a.勾选<strong class="ih hj"> TCP </strong>复选框</p><p id="ce50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b.在<strong class="ih hj"> TCP </strong>框中输入端口号8080。</p><p id="42a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ls">注意:这是Hyperledger Composer默认监听的端口号。</em></p><p id="6506" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">11.点击<strong class="ih hj">创建</strong>。请等待防火墙规则创建完成后再继续。</p><h1 id="fbe0" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">部署和访问Hyperledger Composer游乐场</h1><ol class=""><li id="f91e" class="ks kt hi ih b ii ku im kv iq kw iu kx iy ky jc kz la lb lc bi translated">从<strong class="ih hj">导航菜单</strong>中选择<strong class="ih hj">计算引擎</strong>。</li><li id="c653" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">点击Hyperledger虚拟机的<strong class="ih hj"> SSH </strong>按钮。</li><li id="0ee0" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">在SSH会话中，运行以下命令以root用户身份运行:</li></ol><pre class="je jf jg jh fd lt lr lu lv aw lw bi"><span id="2172" class="lx jv hi lr b fi ly lz l ma mb">sudo su</span></pre><p id="1863" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.通过运行以下命令部署Composer Playground:</p><pre class="je jf jg jh fd lt lr lu lv aw lw bi"><span id="483e" class="lx jv hi lr b fi ly lz l ma mb">composer-playground</span></pre><blockquote class="mc md me"><p id="27b1" class="if ig ls ih b ii ij ik il im in io ip mf ir is it mg iv iw ix mh iz ja jb jc hb bi translated">默认情况下，这将部署Playground解决方案并在端口8080上运行它。</p></blockquote><p id="3a6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.回到控制台，复制Hyperledger虚拟机的<strong class="ih hj">外部IP </strong>。</p><p id="0fdd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.打开新的浏览器选项卡，导航至<code class="du lo lp lq lr b">http://&lt;ExternalIP&gt;:8080</code>访问Hyperledger Composer Playground。</p><p id="6538" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.点击<strong class="ih hj">咱们区块链！</strong>按钮开始使用。</p><h1 id="901b" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">与操场一起工作</h1><p id="cbe7" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">在本节中，您将建立一个业务网络，并概述资产、参与者和交易。然后，您将通过创建参与者和资产，并提交交易以将资产的所有权从一个实体转移到另一个实体来验证网络。</p><h1 id="faea" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">使用Playground建立业务网络</h1><p id="83e5" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">本节将指导您建立业务网络，并定义其资产、参与者和交易。您还将有机会通过创建参与者和资产，以及提交将资产所有权从一个参与者转移到另一个参与者的交易来测试网络:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mi"><img src="../Images/7de9eef41e05d0b0992987b3bea9b8d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BIneRDQ9lEBuodnm"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">商用通信网</figcaption></figure><p id="e2b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于典型的解决方案架构，请参考此<a class="ae jt" href="https://hyperledger.github.io/composer/latest/introduction/solution-architecture.html" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><ol class=""><li id="c035" class="ks kt hi ih b ii ij im in iq ll iu lm iy ln jc kz la lb lc bi translated">点击<strong class="ih hj">网页浏览器</strong>标题下的<strong class="ih hj">部署新业务网络</strong>开始。</li><li id="ef4e" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">注意:不要点击标题<strong class="ih hj">连接:hlfv1 </strong>下的<strong class="ih hj">部署新业务网络</strong>。</li><li id="1937" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">在基本信息中，命名网络<code class="du lo lp lq lr b">tutorial-network</code>并选择性地添加描述。</li><li id="df18" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">在模型网络启动器模板中，选择<strong class="ih hj">空业务网络</strong>卡。你将从零开始建立一个商业网络。</li><li id="6920" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">保持其余的默认设置并点击<strong class="ih hj">部署</strong>。</li></ol><p id="069c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你应该会在你的钱包里看到一张新的商业网络卡，名为<strong class="ih hj"> admin </strong>，用于商业网络<code class="du lo lp lq lr b">tutorial-network</code>。钱包可以包含业务网卡，以连接到多个部署的业务网络。</p><p id="d030" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当连接到外部区块链时，业务网卡代表了连接到业务网络所需的一切。它们包括连接详细信息、认证材料和元数据。</p><p id="8040" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.现在业务网络已经部署完毕，点击<code class="du lo lp lq lr b">tutorial-network</code>上的<strong class="ih hj">立即连接</strong>。</p><h1 id="2e75" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">添加模型文件</h1><p id="19fd" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">你现在在<strong class="ih hj">定义</strong>选项卡上。这是您创建和编辑构成业务网络定义的文件的地方。</p><p id="1e2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于您选择了一个空的业务网络模板，您需要修改提供的默认模板文件。第一步是更新模型文件。模型文件定义了业务网络中的资产、参与者、交易和事件。</p><ol class=""><li id="09be" class="ks kt hi ih b ii ij im in iq ll iu lm iy ln jc kz la lb lc bi translated">点击<strong class="ih hj">模型文件</strong>查看。</li><li id="d827" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">删除模型文件中的现有代码行，并替换为:</li></ol><pre class="je jf jg jh fd lt lr lu lv aw lw bi"><span id="f843" class="lx jv hi lr b fi ly lz l ma mb">/**<br/> * My commodity trading network<br/> */<br/>namespace org.example.mynetwork<br/>asset Commodity identified by tradingSymbol {<br/>    o String tradingSymbol<br/>    o String description<br/>    o String mainExchange<br/>    o Double quantity<br/>    --&gt; Trader owner<br/>}<br/>participant Trader identified by tradeId {<br/>    o String tradeId<br/>    o String firstName<br/>    o String lastName<br/>}<br/>transaction Trade {<br/>    --&gt; Commodity commodity<br/>    --&gt; Trader newOwner<br/>}</span></pre><p id="b745" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该域模型定义了单个资产类型<code class="du lo lp lq lr b">Commodity</code>和单个参与者类型<code class="du lo lp lq lr b">Trader</code>以及单个交易类型<code class="du lo lp lq lr b">Trade</code>，用于修改商品的所有者。</p><h1 id="abfc" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">添加事务处理器脚本文件</h1><p id="904f" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">现在，您可以为业务网络定义事务逻辑。Composer使用JavaScript函数表达业务网络的逻辑。当提交交易进行处理时，这些功能会自动执行。</p><ol class=""><li id="abcc" class="ks kt hi ih b ii ij im in iq ll iu lm iy ln jc kz la lb lc bi translated">在左下角，点击<strong class="ih hj">添加文件</strong>链接。</li><li id="5587" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">点击<strong class="ih hj">脚本文件</strong>单选按钮，然后<strong class="ih hj">添加</strong>。</li><li id="0e3b" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">删除脚本文件中的代码行，并替换为以下代码:</li></ol><pre class="je jf jg jh fd lt lr lu lv aw lw bi"><span id="3ae9" class="lx jv hi lr b fi ly lz l ma mb">/**<br/> * Track the trade of a commodity from one trader to another<br/> * @param {org.example.mynetwork.Trade} trade - the trade to be processed<br/> * @transaction<br/> */<br/>async function tradeCommodity(trade) {<br/>    trade.commodity.owner = trade.newOwner;<br/>    let assetRegistry = await getAssetRegistry('org.example.mynetwork.Commodity');<br/>    await assetRegistry.update(trade.commodity);<br/>}</span></pre><p id="649b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个函数根据一个进来的贸易交易的<code class="du lo lp lq lr b">newOwner</code>属性改变商品的<code class="du lo lp lq lr b">owner</code>属性。然后，它将修改后的<code class="du lo lp lq lr b">Commodity</code>持久化回资产注册，用于存储商品实例。</p><h1 id="fd9c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">部署更新的业务网络</h1><p id="cfd0" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">现在您已经有了模型、脚本和访问控制文件，您可以部署和测试您的业务网络了。</p><p id="39fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击<strong class="ih hj">部署变更</strong>升级业务网络。</p><h1 id="3d42" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">测试业务网络定义</h1><p id="c88e" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">接下来，通过创建一些参与者(在本例中是交易者)，创建一项资产(一种商品)，然后使用您的交易事务来更改商品的所有权，来测试您的业务网络。</p><p id="5ba8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击<strong class="ih hj">测试</strong>选项卡开始测试。</p><h1 id="1892" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">创建参与者</h1><ol class=""><li id="9d95" class="ks kt hi ih b ii ku im kv iq kw iu kx iy ky jc kz la lb lc bi translated">确保您选择了左侧的<strong class="ih hj">交易者</strong>标签，并点击右上角的<strong class="ih hj">创建新参与者</strong>。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mj"><img src="../Images/7d4d730b5a92af4fc5ba3648b452ccb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PGTDrH9p6TKGDKAd"/></div></div></figure><ol class=""><li id="61bb" class="ks kt hi ih b ii ij im in iq ll iu lm iy ln jc kz la lb lc bi translated">你能看到的是一个交易者参与者的数据结构。我们需要一些容易识别的数据，所以删除那里的代码，然后粘贴下面的代码:</li></ol><pre class="je jf jg jh fd lt lr lu lv aw lw bi"><span id="daf6" class="lx jv hi lr b fi ly lz l ma mb">{<br/>  "$class": "org.example.mynetwork.Trader",<br/>  "tradeId": "TRADER1",<br/>  "firstName": "Jenny",<br/>  "lastName": "Jones"<br/>}</span></pre><ol class=""><li id="6e87" class="ks kt hi ih b ii ij im in iq ll iu lm iy ln jc kz la lb lc bi translated">点击<strong class="ih hj">新建</strong>创建参与者。</li><li id="b4f3" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">您应该可以看到您创建的新交易者参与者。您将需要另一个交易者来测试您的交易，所以创建另一个交易者，但是这一次，使用以下数据:</li></ol><pre class="je jf jg jh fd lt lr lu lv aw lw bi"><span id="d53a" class="lx jv hi lr b fi ly lz l ma mb">{<br/>  "$class": "org.example.mynetwork.Trader",<br/>  "tradeId": "TRADER2",<br/>  "firstName": "Amy",<br/>  "lastName": "Williams"<br/>}</span></pre><p id="2579" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在继续之前，确保两个参与者都存在于交易者视图中。</p><h1 id="3957" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">创建资产</h1><p id="72d5" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">建立了两个交易者后，你需要一个商品供他们交易。创建资产的过程类似于创建参与者。您正在创建的商品将具有一个<code class="du lo lp lq lr b">owner</code>属性，该属性将指定它属于具有TRADER1的<code class="du lo lp lq lr b">tradeId</code>的交易商。</p><ol class=""><li id="07fd" class="ks kt hi ih b ii ij im in iq ll iu lm iy ln jc kz la lb lc bi translated">点击资产下的<strong class="ih hj">商品</strong>，点击<strong class="ih hj">创建新资产</strong>。</li><li id="a479" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">删除资产数据，并替换为以下内容:</li></ol><pre class="je jf jg jh fd lt lr lu lv aw lw bi"><span id="aa51" class="lx jv hi lr b fi ly lz l ma mb">{<br/>  "$class": "org.example.mynetwork.Commodity",<br/>  "tradingSymbol": "ABC",<br/>  "description": "Test commodity",<br/>  "mainExchange": "Euronext",<br/>  "quantity": 72.297,<br/>  "owner": "resource:org.example.mynetwork.Trader#TRADER1"<br/>}</span></pre><p id="cbcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建该资产后，您应该能够在商品页面上看到它。</p><h1 id="2082" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">在参与者之间转移商品</h1><p id="d945" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">有两个交易者和一个商品在他们之间交易，你可以测试你的交易。交易是Hyperledger Composer业务网络中所有变更的基础。</p><ol class=""><li id="950d" class="ks kt hi ih b ii ij im in iq ll iu lm iy ln jc kz la lb lc bi translated">点击左下方的<strong class="ih hj">提交交易</strong>按钮。</li><li id="452e" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">确保交易类型为“交易”。</li><li id="b6a0" class="ks kt hi ih b ii ld im le iq lf iu lg iy lh jc kz la lb lc bi translated">用以下内容替换交易数据，或者只更改详细信息:</li></ol><pre class="je jf jg jh fd lt lr lu lv aw lw bi"><span id="74ab" class="lx jv hi lr b fi ly lz l ma mb">{<br/>  "$class": "org.example.mynetwork.Trade",<br/>  "commodity": "resource:org.example.mynetwork.Commodity#ABC",<br/>  "newOwner": "resource:org.example.mynetwork.Trader#TRADER2"<br/>}</span></pre><p id="38f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.点击<strong class="ih hj">提交</strong>。</p><p id="6582" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.通过展开资产的数据部分，检查资产的所有权是否已从TRADER1更改为TRADER2。您应该看到所有者被列为:<code class="du lo lp lq lr b">org.example.mynetwork.Trader#TRADER2</code>。</p><p id="1cb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击左侧的<strong class="ih hj">所有交易</strong>查看业务网络的全部交易历史。</p><p id="faa3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将获得提交的每笔交易的列表。您可以看到，使用UI执行的某些操作，如创建交易者参与者和商品资产，被记录为事务，即使它们在业务网络模型中没有被定义为事务。这些事务被称为<strong class="ih hj">系统事务</strong>，在所有业务网络中通用，并在Hyperledger Composer运行时中定义。</p><p id="dd08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本实验中，您从头开始创建了一个业务网络，并在其中定义了一个模型文件。或者，您可以部署Hyperledger提供的<a class="ae jt" href="https://github.com/hyperledger/composer-sample-networks/tree/master/packages" rel="noopener ugc nofollow" target="_blank">示例网络</a>中的一个。</p><h1 id="4e1d" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">与现有应用程序集成</h1><p id="b5c1" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">Hyperledger Composer可以使用回送API与现有系统集成。这允许您从当前的业务系统中引入数据，并将其转化为Composer业务网络中的资产或参与者。更多详情请参考此<a class="ae jt" href="https://hyperledger.github.io/composer/latest/integrating/integrating-index" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><h1 id="15b3" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">🎉干得好！</h1><p id="35ca" class="pw-post-body-paragraph if ig hi ih b ii ku ik il im kv io ip iq li is it iu lj iw ix iy lk ja jb jc hb bi translated">您已经使用Hyperledger Composer Playground成功创建、部署和测试了一个业务网络。</p></div></div>    
</body>
</html>