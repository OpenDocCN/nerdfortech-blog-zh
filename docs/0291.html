<html>
<head>
<title>Null Safety in Kotlin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">科特林的零安全</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/null-safety-in-kotlin-e5abad84280e?source=collection_archive---------0-----------------------#2020-09-12">https://medium.com/nerd-for-tech/null-safety-in-kotlin-e5abad84280e?source=collection_archive---------0-----------------------#2020-09-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a0569c37da58dce6e7abe7c2228c23ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_oNP18ugyKzl7bNx6OuDDQ.png"/></div></div></figure><p id="7bf2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在Kotlin中，默认情况下，数据类型是不可空的类型，也就是说，试图将一个值赋为空会导致错误。这样做是为了消除代码中的NullPointerException错误，这种错误在Java等其他编程语言中很常见。</p><p id="16bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在Kotlin中，像string这样的普通数据类型不能存储空值，试图这样做将会导致错误。</p><p id="3488" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要允许空值，我们必须将变量声明为可空字符串，这可以通过添加“？”来实现转换为数据类型，即“字符串”。某些类型A的可空对应物被表示为。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="fb9c" class="jx jy hi jt b fi jz ka l kb kc">var a: String? = "abc" // this is a nullable string<br/>b = null // value is set to null<br/>print(a) // null printed</span></pre><p id="d732" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是在这种情况下，当访问一个方法或属性时，有可能出现NPE错误。比如b.length在这里会导致错误。为了避免这个错误，我们必须检查b是否为空，并分别处理两种情况。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="259c" class="jx jy hi jt b fi jz ka l kb kc">var a: String? = "abc" // can be set null<br/>a = null // value set to null<br/>val l = if (a != null) a.length else -1 // condition handled<br/>print(l) // -1 printed</span></pre><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/3f224bfdb9cd385b524130237343bd35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*bkOLVUWWXMn8G5iu7A3KEQ.png"/></div></figure><p id="5bc9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">解决这个问题的另一种方法是使用安全调用。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/7ece7476983ca1c1c71dcf7eee13cefe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*e-1U6BRBdrrA04gNtkgkBQ.png"/></div></figure><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="915a" class="jx jy hi jt b fi jz ka l kb kc">val a: String? = null<br/>print(a?.length) </span></pre><p id="2258" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果a为null，那么它将打印null，否则它将打印字符串b的长度。</p><p id="db56" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当处理可空数据时，您通常希望定义在对象为空时应该使用的默认值。在这种情况下，使用Elvis运算符。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="3af9" class="jx jy hi jt b fi jz ka l kb kc">val a: String? = null  <br/>val l = a?.length ?: -1  <br/>print(l) // - 1 printed</span></pre><p id="6b92" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果被访问的值为null，那么放在它右边的任何东西都会被执行，所以另一个典型的情况是抛出一个异常。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="52dc" class="jx jy hi jt b fi jz ka l kb kc">val input: String? = null<br/>val userInput = input ?: throw IllegalArgumentException("Input must not be null.")</span></pre><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/cbb69224abc3eea9901ab5556c1aa28a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*m3BMSsmGZP-adOJKqWJP1w.png"/></div></figure><p id="27cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它也被称为非空断言操作符。这样，你就告诉编译器，你试图访问的对象在代码中的这个特定位置不能为空。Kotlin将访问该值，而无需进一步的安全检查。所以如果你错了，你会得到一个空指针异常。</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="2e18" class="jx jy hi jt b fi jz ka l kb kc">val input: String? = null<br/>val output = input!!.toUpperCase() //Error</span></pre><p id="c3dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了进一步参考，你可以看看这个。</p></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><h1 id="06b4" class="km jy hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">总结词</h1><blockquote class="lj"><p id="a640" class="lk ll hi bd lm ln lo lp lq lr ls jn dx translated"><em class="lt">这就是我的观点，希望这篇文章对你有用😊。</em></p></blockquote><blockquote class="lu lv lw"><p id="e03e" class="iq ir lx is b it ly iv iw ix lz iz ja ma mb jd je mc md jh ji me mf jl jm jn hb bi translated"><em class="hi">如果你想和我取得</em> <strong class="is hj"> <em class="hi">连接</em> </strong> <em class="hi">，请点击这些链接</em></p><p id="14aa" class="iq ir lx is b it iu iv iw ix iy iz ja ma jc jd je mc jg jh ji me jk jl jm jn hb bi translated"><em class="hi">Github-</em><a class="ae ke" href="https://github.com/Sapna2001" rel="noopener ugc nofollow" target="_blank"><em class="hi">https://github.com/Sapna2001</em></a></p><p id="f07c" class="iq ir lx is b it iu iv iw ix iy iz ja ma jc jd je mc jg jh ji me jk jl jm jn hb bi translated"><em class="hi">LinkedIn-</em><a class="ae ke" href="https://www.linkedin.com/in/sapna2001/" rel="noopener ugc nofollow" target="_blank">【https://www.linkedin.com/in/sapna2001/】T21</a></p><p id="08cc" class="iq ir lx is b it iu iv iw ix iy iz ja ma jc jd je mc jg jh ji me jk jl jm jn hb bi translated"><em class="hi">网站-</em><a class="ae ke" href="https://sapna2001.github.io/Portfolio/" rel="noopener ugc nofollow" target="_blank"><em class="hi">https://sapna2001.github.io/Portfolio/</em></a></p><p id="9734" class="iq ir lx is b it iu iv iw ix iy iz ja ma jc jd je mc jg jh ji me jk jl jm jn hb bi translated"><em class="hi">Quora-</em><a class="ae ke" href="https://www.quora.com/profile/Sapna-191" rel="noopener ugc nofollow" target="_blank">T33】https://www.quora.com/profile/Sapna-191</a></p></blockquote><p id="ee80" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如果你有任何建议，请随时通过</strong><a class="ae ke" href="https://www.linkedin.com/in/sapna2001/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">LinkedIn</strong></a><strong class="is hj">&amp;与我联系，评论区也是你的。</strong></p><p id="3687" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你喜欢这个故事，请点击拍手按钮，因为它激励我写得更多更好。</p><p id="9421" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> <em class="lx">感谢阅读！！！！</em>T13】</strong></p></div></div>    
</body>
</html>