<html>
<head>
<title>IMPLEMENTING BEAUTIFUL DRAG &amp; DROP : REACT BEAUTIFUL DND STEP BY STEP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现漂亮的拖放:一步一步反应漂亮的 DND</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/drag-drop-react-beautiful-dnd-328e00797f27?source=collection_archive---------1-----------------------#2021-07-24">https://medium.com/nerd-for-tech/drag-drop-react-beautiful-dnd-328e00797f27?source=collection_archive---------1-----------------------#2021-07-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/3bc02f4b0cde9cd135bcf1a99b912c55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*gK6w-2of28htCtiCamU2Iw.gif"/></div></div></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><blockquote class="iy iz ja"><p id="e8e2" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">构建网络应用不再是什么大事，就像没有轮子的汽车一样无聊。</p><p id="5302" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">但是让我来帮你用<strong class="je hj"> REACT-BEAUTIFUL-DND </strong>让它变得花哨一点</p><p id="b048" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">现在拖放你的组件，制作一辆有翅膀的汽车，当然还有轮子。</p></blockquote><p id="41c3" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated"><em class="jd">请忽略👆诗😋😂🤣</em></p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es kd"><img src="../Images/6641ba52424eb7b738b07a63c79af4e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WKNhrOyrhaUnpC9tAfZTqQ.gif"/></div></div></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="4948" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">内容</h1><ol class=""><li id="7107" class="lc ld hi je b jf le jj lf ka lg kb lh kc li jz lj lk ll lm bi translated">对拖放做出反应</li><li id="2904" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz lj lk ll lm bi translated">React-Beautiful-DND <strong class="je hj">(介绍和安装)</strong></li><li id="ef95" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz lj lk ll lm bi translated">创建普通组件</li><li id="cc3b" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz lj lk ll lm bi translated">将创建的组件转换为 DND 组件</li><li id="c306" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz lj lk ll lm bi translated">结果</li><li id="b959" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz lj lk ll lm bi translated">Github 链接</li></ol></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="b966" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">其他 ReactJS 教程的快速链接</h1><ol class=""><li id="2312" class="lc ld hi je b jf le jj lf ka lg kb lh kc li jz lj lk ll lm bi translated"><a class="ae ls" rel="noopener" href="/@ashikthulungrai7/how-to-create-a-new-react-app-3286a37e2189">第 1 部分:如何创建一个新的 React 应用</a></li><li id="a1b9" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz lj lk ll lm bi translated"><a class="ae ls" rel="noopener" href="/@ashikthulungrai7/part-2-easy-way-to-create-reactjs-components-7d458b577c67">第 2 部分:创建 ReactJS 组件的简单方法</a></li></ol></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="50a1" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">1.对拖放做出反应</h1><p id="6449" class="pw-post-body-paragraph jb jc hi je b jf le jh ji jj lf jl jm ka lt jp jq kb lu jt ju kc lv jx jy jz hb bi translated">有许多 react 库可以帮助您制作拖放式 React 组件。</p><blockquote class="iy iz ja"><p id="7f0c" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated"><strong class="je hj">点击此链接查看 32 个广泛使用的 React DND 软件包:</strong> <a class="ae ls" href="https://openbase.com/categories/js/best-react-drag-and-drop-libraries?orderBy=RECOMMENDED&amp;" rel="noopener ugc nofollow" target="_blank"> <strong class="je hj">链接</strong> </a></p></blockquote><p id="3ffc" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi lw translated"><span class="l lx ly lz bm ma mb mc md me di">在</span>这个博客中，我们将使用名为<a class="ae ls" href="https://www.npmjs.com/package/react-beautiful-dnd" rel="noopener ugc nofollow" target="_blank"><strong class="je hj">react-beautiful-dnd</strong></a><strong class="je hj"/>的 react 库来创建 DND 组件。<strong class="je hj"> React-Beautiful-DND </strong>是一个最用户友好和易于使用的<strong class="je hj">拖放(DND) </strong> react 库，由 JIRA 的创作者 Alex Reardon 开发。</p></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="4fcd" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">2.反应-美丽-DND</h1><h2 id="d7c8" class="mf kf hi bd kg mg mh mi kk mj mk ml ko ka mm mn ks kb mo mp kw kc mq mr la ms bi translated"><strong class="ak"> 2.1 简介</strong></h2><blockquote class="iy iz ja"><p id="573e" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated"><strong class="je hj">我们将把 React-Beautiful-DND 称为 rbd </strong></p></blockquote><p id="1b0b" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">在<strong class="je hj"> rbd </strong>库中，DND 组件由 3 个主要组件创建:</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es mt"><img src="../Images/df6b563b2b2f5cd44dbb22270cbf21e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*mcBQgUt_eh4BXA9r-H-zBA.gif"/></div><figcaption class="mu mv et er es mw mx bd b be z dx translated">BRD 的三个主要组成部分。图片来源:<a class="ae ls" href="https://user-images.githubusercontent.com/2182637/53607406-c8f3a780-3c12-11e9-979c-7f3b5bd1bfbd.gif" rel="noopener ugc nofollow" target="_blank">链接</a></figcaption></figure><ul class=""><li id="0ed2" class="lc ld hi je b jf jg jj jk ka my kb mz kc na jz nb lk ll lm bi translated"><code class="du nc nd ne nf b"><strong class="je hj">&lt;DragDropContext/&gt;</strong></code> = &gt;定义整个拖放操作的区域</li><li id="9ba4" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz nb lk ll lm bi translated"><code class="du nc nd ne nf b"><strong class="je hj">&lt;Droppable/&gt;</strong></code> = &gt;定义可拖动项目可以被放下的区域</li><li id="a4b3" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz nb lk ll lm bi translated"><code class="du nc nd ne nf b"><strong class="je hj">&lt;Draggable/&gt;</strong></code> = &gt;定义可以在可拖放区域拖动和拖放的实际项目</li></ul><blockquote class="iy iz ja"><p id="7f4d" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated"><strong class="je hj">每个 DragDropContext 可以有多个 drop ables，并且每个 drop ables 内部可以定义多个 Draggables。</strong></p></blockquote><p id="5519" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated"><strong class="je hj"> 2.2 BRD 图书馆安装</strong></p><p id="80d2" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">首先使用命令<code class="du nc nd ne nf b">npx create-react-app my_app</code>创建一个 react 应用程序。</p><blockquote class="iy iz ja"><p id="94dd" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated"><strong class="je hj">阅读这篇关于如何创建第一个 react 应用的详细教程:</strong> <a class="ae ls" rel="noopener" href="/@ashikthulungrai7/how-to-create-a-new-react-app-3286a37e2189"> <strong class="je hj">链接</strong> </a></p></blockquote><p id="ddde" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">创建应用程序后，您可以使用命令<code class="du nc nd ne nf b">npm i --save react-beautiful-dnd</code>安装 RBD 库。更多详情，请访问链接<a class="ae ls" href="https://www.npmjs.com/package/react-beautiful-dnd" rel="noopener ugc nofollow" target="_blank"><strong class="je hj">https://www.npmjs.com/package/react-beautiful-dnd</strong></a></p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es ng"><img src="../Images/2075c0535fe1c1ed98761017c5fcc4d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XaL3h_sQ_EqjWnJnzK5P5A.png"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx translated"><strong class="bd kg">安装 react BRD 库的命令</strong></figcaption></figure><blockquote class="iy iz ja"><p id="e099" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated"><strong class="je hj"> CreateAPP 是一个 git 分支名称。你可以在 Github </strong> <a class="ae ls" href="https://github.com/ashikrai/DND-React-Beautiful-DND.git" rel="noopener ugc nofollow" target="_blank"> <strong class="je hj">链接</strong> </a>找到完整的代码</p></blockquote></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="0d37" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">3.创建正常的 React 组件</h1><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es nh"><img src="../Images/e559d3a5edec541fcb3b77d8e052be14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qAB7aibQFHlob3Po9FaWUw.png"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx translated"><strong class="bd kg"> React app 在 localhost 本地运行:3000 </strong></figcaption></figure><p id="e0bb" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">创建新的 React 应用程序后，使用命令<code class="du nc nd ne nf b">npm start.</code>运行服务器</p><p id="22e3" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">react 应用程序将在默认端口 3000 的本地浏览器中呈现，如图所示。</p><h2 id="77bf" class="mf kf hi bd kg mg mh mi kk mj mk ml ko ka mm mn ks kb mo mp kw kc mq mr la ms bi translated"><strong class="ak"> 3.1 更改现有代码</strong></h2><p id="8f32" class="pw-post-body-paragraph jb jc hi je b jf le jh ji jj lf jl jm ka lt jp jq kb lu jt ju kc lv jx jy jz hb bi translated">将文件 appname/src/ <strong class="je hj"> App.js 中的代码改为</strong></p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es kd"><img src="../Images/b4e6f6558f5f72411ec3e5cb102bd6d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_tHdFBQEE__8p7I6D7eyPw.png"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx translated">修改后的 App.js</figcaption></figure><pre class="in io ip iq fd ni nf nj nk aw nl bi"><span id="7cd5" class="mf kf hi nf b fi nm nn l no np">// Filename : App.jsx<br/>import './App.css';</span><span id="bd23" class="mf kf hi nf b fi nq nn l no np">function App() {<br/>   return (<br/>      &lt;div className="App"&gt;<br/>         &lt;header className="App-header"&gt;<br/>            &lt;h4&gt;Hands on React-Beautiful-DND&lt;/h4&gt;<br/>         &lt;/header&gt;<br/>      &lt;/div&gt;<br/>   );<br/>}<br/>export default App;</span></pre><p id="bb31" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated"><strong class="je hj"> 3.2 添加新组件</strong></p><p id="cd79" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">现在我们将创建一些普通组件，稍后我们将把它们转换成 DND 组件。在文件<strong class="je hj"> ListComponent.jsx </strong>中，我们将创建一些列表项，并通过在<strong class="je hj"> App.js </strong>中导入该文件来呈现它</p><pre class="in io ip iq fd ni nf nj nk aw nl bi"><span id="eb4a" class="mf kf hi nf b fi nm nn l no np"><strong class="nf hj">// Filename : ListComponent.jsx</strong></span><span id="eb0d" class="mf kf hi nf b fi nq nn l no np">import React from 'react';</span><span id="b958" class="mf kf hi nf b fi nq nn l no np">export function ListComponents({Marvel, DC}) {<br/>return (<br/>  <strong class="nf hj"> </strong>&lt;div style={{ width: '100%', display: 'flex' }}&gt;<br/>      &lt;div style={{ width: '25%', margin: 'auto' }}&gt;<br/>         &lt;ul style={{ listStyleType: 'none', textAlign: 'left' }} &gt;<br/>            &lt;h6&gt;Marvel SuperHeroes&lt;/h6&gt;<br/>            {Marvel.map((data, index) =&gt; (<br/>               &lt;li key={index}&gt;<br/>                  {data}<br/>               &lt;/li&gt;<br/>            ))}<br/>         &lt;/ul&gt;<br/>      &lt;/div&gt;<br/>      &lt;div style={{ width: '25%', margin: 'auto' }}&gt;<br/>         &lt;ul style={{ listStyleType: 'none', textAlign: 'left' }}&gt;<br/>            &lt;h6&gt;DC SuperHeroes&lt;/h6&gt;<br/>            {DC.map((data, index) =&gt; (<br/>               &lt;li key={index}&gt;<br/>                  {data}<br/>               &lt;/li&gt;<br/>            ))}<br/>         &lt;/ul&gt;<br/>      &lt;/div&gt;<br/>   &lt;/div&gt;<strong class="nf hj"><br/></strong>)}</span></pre><p id="08f6" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">漫威和 DC 是正常的常量列表变量。为了在 ReactJS 中呈现这些列表，我们可以使用<strong class="je hj"> map() </strong>函数。map() 函数将遍历列表中的每个元素/项目，并以我们想要的方式呈现每个数据元素。为了有效地重新呈现 DOM 元素，我们需要向每个呈现的元素传递唯一的键。</p><p id="4744" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">为了在<strong class="je hj"> App.js </strong>中导入并呈现<strong class="je hj"> ListComponent.jsx </strong>，将 App.js 中的代码改为</p><pre class="in io ip iq fd ni nf nj nk aw nl bi"><span id="a705" class="mf kf hi nf b fi nm nn l no np"><strong class="nf hj">// FileName: App.js</strong><br/>import './App.css';</span><span id="ebeb" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">// importing components from another files</strong><br/>import { ListComponents } from "./ListComponent";</span><span id="4bc0" class="mf kf hi nf b fi nq nn l no np">function App() {</span><span id="34a7" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">// List 1 consisting of all MARVEL super heroes<br/></strong>const list1 = ['Captain America', 'Iron Man', 'SpiderMan', 'Thor', 'Hulk', 'Black Widow', 'Loki', 'Black Panther', 'Deadpool', 'Doctor Strange', 'Ant Man', 'Captain Marvel']</span><span id="2238" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">// List 2 consisting of all DC super heroes<br/></strong>const list2 = ['BatMan', 'SuperMan', 'Wonder Woman', 'Flash', 'Green Lantern', 'AquaMan', 'Robin', 'Cyborg', 'StarFire', 'HawkGirl', 'Shazam', '']</span><span id="55b7" class="mf kf hi nf b fi nq nn l no np">return (<br/>      &lt;div className="App"&gt;<br/>         &lt;header className="App-header"&gt;<br/>            &lt;h4&gt;Hands on React-Beautiful-DND&lt;/h4&gt;<br/>            &lt;ListComponents Marvel={list1} DC={list2} /&gt;<br/>         &lt;/header&gt;<br/>      &lt;/div&gt;<br/>   );<br/>}<br/>export default App;</span></pre><p id="9704" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">在<strong class="je hj"> ListComponent.jsx </strong>被导入到<strong class="je hj"> App.js </strong>后，输出将如下所示。</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es kd"><img src="../Images/19d234f40a2e1cba6c75a95d9758d300.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*95aRNeeyxlVo1CYO8oa7iw.png"/></div></div></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="0c03" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">4.将创建的组件转换为 DND 组件</h1><p id="9daa" class="pw-post-body-paragraph jb jc hi je b jf le jh ji jj lf jl jm ka lt jp jq kb lu jt ju kc lv jx jy jz hb bi translated">现在我们已经成功创建了两个列表组件，下一步是将它们转换为 DND 组件，以允许<strong class="je hj">拖放操作。</strong></p><blockquote class="iy iz ja"><p id="0010" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">创建拖放组件的时间😍😍</p></blockquote><p id="66a4" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">4.1 <strong class="je hj">创建 DragDropContext </strong></p><p id="414f" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">我们将从 App.js 中的 react-beautiful-dnd 库导入<strong class="je hj"> DragDropContext </strong>，并将整个应用程序包装在这个上下文中。这将包装其他两个组件，可拖放和可拖动的 BRD 组件。定义了诸如<strong class="je hj"> onDragStart、onDragUpdate 和 onDragEnd </strong>的属性，但是<strong class="je hj"> onDragEnd </strong>足以执行重新排序、添加和删除项目。</p><blockquote class="iy iz ja"><p id="3b70" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">添加<strong class="je hj"> DragDropContext </strong>后修改<strong class="je hj"> App.js </strong>代码</p></blockquote><pre class="in io ip iq fd ni nf nj nk aw nl bi"><span id="b381" class="mf kf hi nf b fi nm nn l no np"><strong class="nf hj">// FileName: App.js</strong></span><span id="a049" class="mf kf hi nf b fi nq nn l no np">import './App.css';<br/>import React from 'react';</span><span id="44ff" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">// importing components from another files</strong><br/>import { ListComponents } from "./ListComponent";</span><span id="66f4" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">// imports related to DND</strong><br/>import { DragDropContext } from 'react-beautiful-dnd';</span><span id="28bd" class="mf kf hi nf b fi nq nn l no np">function App() {</span><span id="25d5" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">   // List 1 consisting of all MARVEL super heroes</strong><br/>   const [list1, setList1] = React.useState(['Captain America', 'Iron Man', 'SpiderMan', 'Thor', 'Hulk', 'Black Widow', 'Loki', 'Black Panther', 'Deadpool', 'Doctor Strange', 'Ant Man', 'Captain Marvel'])</span><span id="6aff" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">   // List 2 consisting of all DC super heroes</strong><br/>   const [list2, setList2] = React.useState(['BatMan', 'SuperMan', 'Wonder Woman', 'Flash', 'Green Lantern', 'AquaMan', 'Robin', 'Cyborg', 'StarFire', 'HawkGirl', 'Shazam'])</span><span id="0c68" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">   // Function for deleting items from list using index</strong><br/>   const deleteItem = (list, index) =&gt; {<br/>      return list.splice(index, 1)<br/>   }</span><span id="16ca" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">   // Function called when Drag Ends</strong><br/>   const onDragEnd = (result) =&gt; {<br/>      <strong class="nf hj">// getting the source and destination object<br/>      </strong>const { source, destination } = result<br/>      if (!destination)<br/>         return;<br/>      if (source.droppableId === destination.droppableId) {<br/>         if (source.droppableId === "Marvel_drop_area") {<br/>            let tempList = list1<br/>            const removed = deleteItem(tempList, source.index)<br/>            tempList.splice(destination.index, 0, removed)<br/>            setList1(tempList)<br/>         }<br/>         else {<br/>            let tempList = list2<br/>            const removed = deleteItem(tempList, source.index)<br/>            tempList.splice(destination.index, 0, removed)<br/>            setList2(tempList)<br/>         }<br/>      } else {<br/>         let tempList1 = list1<br/>         let tempList2 = list2<br/>         if (source.droppableId === "Marvel_drop_area") {<br/>            const removed = deleteItem(tempList1, source.index)<br/>            tempList2.splice(destination.index, 0, removed)<br/>            setList1(tempList1)<br/>            setList2(tempList2)<br/>         } else {<br/>            const removed = deleteItem(tempList2, source.index)<br/>            tempList1.splice(destination.index, 0, removed)<br/>            setList1(tempList1)<br/>            setList2(tempList2)<br/>         }<br/>      }<br/>   }</span><span id="e5a8" class="mf kf hi nf b fi nq nn l no np">return (<br/>      &lt;DragDropContext onDragEnd={onDragEnd}&gt;<br/>         &lt;div className="App"&gt;<br/>            &lt;header className="App-header"&gt;<br/>               &lt;h4&gt;Hands on React-Beautiful-DND&lt;/h4&gt;<br/>               &lt;ListComponents Marvel={list1} DC={list2} /&gt;<br/>            &lt;/header&gt;<br/>         &lt;/div&gt;<br/>      &lt;/DragDropContext&gt;<br/>   )<br/>}<br/>export default App;</span></pre><p id="7656" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated"><strong class="je hj"> 4.2 创建可拖放组件</strong></p><p id="b2f2" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated">我们将从 ListComponent.jsx 中的 react-beautiful-dnd 库导入<strong class="je hj">drop able 和 Draggable </strong>，Draggagle 必须嵌套在 drop able 内，drop able 应该嵌套在 DragDropContext 内。</p><p id="95d4" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated"><strong class="je hj">可拖放</strong>定义了项目可拖放的区域。每个可丢弃组件将有一个<strong class="je hj">唯一的可丢弃 Id 道具。</strong>可丢弃组件提供变量如:</p><ul class=""><li id="5ea9" class="lc ld hi je b jf jg jj jk ka my kb mz kc na jz nb lk ll lm bi translated"><code class="du nc nd ne nf b">provided.innerRef:</code>操作 DOM 元素的 react 引用变量</li><li id="cebe" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz nb lk ll lm bi translated"><code class="du nc nd ne nf b">provided.droppableProps:</code>为拖放功能提供默认的 CSS 样式</li><li id="40d8" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz nb lk ll lm bi translated"><code class="du nc nd ne nf b">provided.placeholder:</code>为当前正在拖动的项目在可拖放区域提供额外的空间。</li><li id="e29e" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz nb lk ll lm bi translated"><code class="du nc nd ne nf b">snapshot:</code> <code class="du nc nd ne nf b">snapshot.isDraggingOver</code>可以用来获得&amp;的拖放状态来应用有条件的 CSS 样式。</li></ul><p id="7a8d" class="pw-post-body-paragraph jb jc hi je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hb bi translated"><strong class="je hj">可拖动</strong>定义了需要拖动的实际项目。它必须嵌套在可删除组件中。我们必须为以下各项提供价值</p><ul class=""><li id="35ae" class="lc ld hi je b jf jg jj jk ka my kb mz kc na jz nb lk ll lm bi translated"><code class="du nc nd ne nf b">draggableId</code> <strong class="je hj"> </strong>用于唯一标识被拖动的项目。</li><li id="8461" class="lc ld hi je b jf ln jj lo ka lp kb lq kc lr jz nb lk ll lm bi translated"><code class="du nc nd ne nf b">index:</code>用于识别当前在源中被拖动的列表中的数据，在目的地中识别列表中被拖动的项目必须放置在其下的数据。</li></ul><blockquote class="iy iz ja"><p id="21da" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">增加了<strong class="je hj">可下降</strong>和<strong class="je hj">可拖动</strong>后修改了<strong class="je hj"> ListComponent.jsx </strong></p></blockquote><pre class="in io ip iq fd ni nf nj nk aw nl bi"><span id="5556" class="mf kf hi nf b fi nm nn l no np"><strong class="nf hj">// Filename : ListComponent.jsx</strong></span><span id="4591" class="mf kf hi nf b fi nq nn l no np">import React from 'react';</span><span id="5a39" class="mf kf hi nf b fi nq nn l no np"><strong class="nf hj">// imports related to DND</strong><br/>import { Droppable, Draggable } from 'react-beautiful-dnd';</span><span id="5ad8" class="mf kf hi nf b fi nq nn l no np">export function ListComponents({ Marvel, DC }) {<br/>   const getListStyle = isDraggingOver =&gt; ({<br/>      background: isDraggingOver ? "lightblue" : "darkgrey",<br/>      width: '21%',<br/>      margin: 'auto',<br/>   });<br/>   const getItemStyle = (isDragging, draggableStyle) =&gt; ({<br/>      userSelect: "none",<br/>      background: isDragging ? "darkgrey" : "white",<br/>      color: isDragging ? "white" : "black",<br/>      padding: isDragging ? '0%' : '2%',<br/>      paddingLeft: '2%',<br/>      margin: '0%',<br/>      fontSize: '17px',<br/>      borderBottom: '0.5px solid gray',<br/>      // styles we need to apply on draggables<br/>      ...draggableStyle<br/>   });</span><span id="5a5b" class="mf kf hi nf b fi nq nn l no np">   return (<br/>      &lt;div style={{ width: '100%', display: 'flex' }}&gt;<br/>         &lt;Droppable droppableId="Marvel_drop_area"  &gt;<br/>            {(provided, snapshot) =&gt; (<br/>               &lt;div<br/>                  {...provided.droppableProps}<br/>                  ref={provided.innerRef}<br/>                  style={getListStyle(snapshot.isDraggingOver)}<br/>               &gt;<br/>                  &lt;ul style={{ listStyleType: 'none', textAlign: 'left', padding: '0%', width: '100%' }} &gt;<br/>                     &lt;h6 style={{ paddingLeft: '2%' }}&gt;Marvel SuperHeroes&lt;/h6&gt;</span><span id="b8ab" class="mf kf hi nf b fi nq nn l no np">                     {Marvel.map((data, index) =&gt; (<br/>                        &lt;Draggable key={data} <br/> draggableId={`${data}${index}`} index={index}&gt;<br/>                           {(provided, snapshot) =&gt; (<br/>                              &lt;li<br/>                                 key={index}<br/>                                 ref={provided.innerRef}<br/>                                 ...provided.draggableProps}<br/>                                 ...provided.dragHandleProps}<br/>                                 style={getItemStyle(<br/>                                    snapshot.isDragging,<br/>                                    provided.draggableProps.style<br/>                                 )}<br/>                              &gt;<br/>                                 {data}<br/>                              &lt;/li&gt;<br/>                           )}<br/>                        &lt;/Draggable&gt;<br/>                     ))}<br/>                  &lt;/ul&gt;<br/>                 {provided.placeholder}<br/>              &lt;/div&gt;<br/>           )}<br/>        &lt;/Droppable&gt;<br/>        &lt;Droppable droppableId="DC_drop_area"  &gt;<br/>           {(provided, snapshot) =&gt; (<br/>              &lt;div<br/>                {...provided.droppableProps}<br/>                ref={provided.innerRef}<br/>                style={getListStyle(snapshot.isDraggingOver)}<br/>              &gt;<br/>                &lt;ul style={{ listStyleType: 'none', textAlign: 'left', padding: '0%', width: '100%' }} &gt;<br/>                   &lt;h6 style={{ paddingLeft: '2%' }}&gt;DC SuperHeroes&lt;/h6&gt;<br/>                      {DC.map((data, index) =&gt; (<br/>                         &lt;Draggable key={data} draggableId={`${data}${index}`} index={index}&gt;<br/>                            {(provided, snapshot) =&gt; (<br/>                               &lt;li<br/>                                  key={index}<br/>                                  ref={provided.innerRef}<br/>                                  {...provided.draggableProps}<br/>                                  {...provided.dragHandleProps}<br/>                                  style={getItemStyle(<br/>                                     snapshot.isDragging,<br/>                                     provided.draggableProps.style<br/>                                  )}<br/>                               &gt;<br/>                                  {data}<br/>                               &lt;/li&gt;<br/>                            )}<br/>                         &lt;/Draggable&gt;<br/>                      ))}<br/>                   &lt;/ul&gt;<br/>                   {provided.placeholder}<br/>                &lt;/div&gt;<br/>             )}<br/>          &lt;/Droppable&gt;<br/>       &lt;/div&gt;<br/>    )<br/>}</span></pre></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="da5a" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">5.结果</h1><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es kd"><img src="../Images/6641ba52424eb7b738b07a63c79af4e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WKNhrOyrhaUnpC9tAfZTqQ.gif"/></div></div><figcaption class="mu mv et er es mw mx bd b be z dx translated">使用 React-Beautiful-DND 拖放</figcaption></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="304e" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">6.Github 链接</h1><blockquote class="iy iz ja"><p id="88de" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated">你可以使用链接在 github 中找到完整的代码:<a class="ae ls" href="https://github.com/ashikrai/DND-React-Beautiful-DND.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ashikrai/DND-React-Beautiful-DND.git</a></p></blockquote></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="e650" class="ke kf hi bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb bi translated">阅读更多我关于 React 应用程序开发和其他令人敬畏的 React 包的文章</h1><blockquote class="iy iz ja"><p id="7f35" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated"><a class="ae ls" rel="noopener" href="/@ashikthulungrai7/how-to-create-a-new-react-app-3286a37e2189">第 1 部分:<strong class="je hj"> </strong>如何创建新的 React App | by ki HSA Rai | Medium | Medium</a></p><p id="7733" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated"><a class="ae ls" rel="noopener" href="/@ashikthulungrai7/part-2-easy-way-to-create-reactjs-components-7d458b577c67">第 2 部分:创建 ReactJS 组件的简单方法|作者 ki HSA Rai | 2021 年 7 月| Medium </a></p><p id="023b" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hb bi translated"><a class="ae ls" rel="noopener" href="/@ashikthulungrai7/learning-reactjs-two-way-data-binding-5c5ce1ab9b3d"> Learning ReactJS:双向数据绑定|由 KIHSA Rai | May 年 5 月| Medium </a></p></blockquote></div></div>    
</body>
</html>