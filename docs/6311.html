<html>
<head>
<title>5 steps to secure your next Flutter app</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">保护下一个Flutter应用的5个步骤</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/5-steps-to-secure-your-next-flutter-app-549def2428b3?source=collection_archive---------0-----------------------#2022-02-02">https://medium.com/nerd-for-tech/5-steps-to-secure-your-next-flutter-app-549def2428b3?source=collection_archive---------0-----------------------#2022-02-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="6a3d" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在将应用程序发布到生产环境之前，保护应用程序是至关重要的</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/9d1447ca265c18b55b5a68686abf00b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9-ClmnrzSsWXs9YBQo-atA.png"/></div></div></figure><p id="cfd4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">随着全球超过200万开发者的加入，Flutter已经成为最流行的跨平台移动开发框架之一。在2021年下半年，Flutter还宣布了Flutter Web和桌面的稳定版本，这增加了它的受欢迎程度。</p><p id="b885" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">作为开发人员，我们专注于代码，却常常忽略了应用程序的一个重要方面:<strong class="jl hj">安全性</strong>。确保你的应用程序是安全的，这与添加令人兴奋的新功能同样重要。当发布到生产中时，不安全的应用程序可能容易受到攻击，导致用户数据泄露或资源滥用，这可能代价高昂。</p><p id="335a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">本文将讨论保护您的应用程序的五个步骤，这将使您的应用程序在受到攻击者攻击时能够站稳脚跟。如果你喜欢看视频，一定要看看下面的视频，更详细地分析这些步骤。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="kf kg l"/></div></figure><h1 id="31b6" class="kh ki hi bd kj kk kl km kn ko kp kq kr io ks ip kt ir ku is kv iu kw iv kx ky bi translated">代码混淆</h1><p id="8be1" class="pw-post-body-paragraph jj jk hi jl b jm kz ij jo jp la im jr js lb ju jv jw lc jy jz ka ld kc kd ke hb bi translated">代码混淆是修改应用程序的二进制文件以使其更难被人类理解的过程。对你的应用程序进行逆向工程可以暴露API键、类、函数名和所有的字符串。这些信息对您的业务逻辑至关重要，并可能让攻击者获得敏感的用户数据。模糊处理将这些隐藏在您编译的Dart代码中，使攻击者难以对您的专有应用程序进行逆向工程。</p><p id="b7e3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><em class="le">如果你有兴趣了解更多关于如何逆向开发一个Flutter应用程序的信息，请点击下面的链接— </em></p><div class="lf lg ez fb lh li"><a href="https://blog.tst.sh/reverse-engineering-flutter-apps-part-1/" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">逆向工程颤振应用(第一部分)</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">第1章:从兔子洞开始这个旅程，我将介绍一些关于Flutter栈的背景故事以及它是如何工作的…</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">blog.tst.sh</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw jh li"/></div></div></a></div><p id="51f4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">谢天谢地，Flutter使得混淆应用程序变得非常容易。为了混淆你的应用程序，结合使用<code class="du lx ly lz ma b">--obfuscate</code>标志和<code class="du lx ly lz ma b">--split-debug-info</code>标志构建一个发布版本。</p><pre class="iy iz ja jb fd mb ma mc md aw me bi"><span id="e519" class="mf ki hi ma b fi mg mh l mi mj">flutter build apk --obfuscate --split-debug-info=/&lt;project-name&gt;/&lt;directory&gt;</span></pre><p id="7a72" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这将生成符号文件，然后可以使用下面的<code class="du lx ly lz ma b">flutter symbolize</code>来对堆栈跟踪进行模糊处理</p><pre class="iy iz ja jb fd mb ma mc md aw me bi"><span id="1216" class="mf ki hi ma b fi mg mh l mi mj">flutter symbolize -i &lt;stack trace file&gt; -d /out/android/app.android-arm64.symbols</span></pre><p id="abc0" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Android、iOS和MacOS上的发布版本目前支持模糊处理。类似的，Flutter web应用程序会自动缩小。</p><h1 id="7bbf" class="kh ki hi bd kj kk kl km kn ko kp kq kr io ks ip kt ir ku is kv iu kw iv kx ky bi translated">后台快照保护</h1><p id="fef7" class="pw-post-body-paragraph jj jk hi jl b jm kz ij jo jp la im jr js lb ju jv jw lc jy jz ka ld kc kd ke hb bi translated">当你的应用程序在后台时，你的应用程序最后状态的快照会自动显示在任务切换器中。虽然在应用程序之间切换很有用，但显示敏感的用户数据(如银行账户信息)是不可取的。以前见过这个功能吗？也许下面的图片会让你想起什么—</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mk"><img src="../Images/84beeaeceea5a5baa9d6974677af437e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*u3NlbGByVPrriSjdnLU6Mw.jpeg"/></div><figcaption class="ml mm et er es mn mo bd b be z dx translated">Google Pay会隐藏敏感信息(在进行银行转账时),而Gmail会显示该应用的最后一张快照。</figcaption></figure><p id="a3fa" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们可以使用下面的插件来实现。</p><div class="lf lg ez fb lh li"><a href="https://pub.dev/packages/secure_application" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">安全应用| Flutter包</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">这个插件允许你保护你的应用程序内容不被观看</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">公共开发</p></div></div><div class="lr l"><div class="mp l lt lu lv lr lw jh li"/></div></div></a></div><p id="14a1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">通常，重新打开应用程序需要用户在本地再次进行身份验证(例如，使用生物特征扫描)，这就引出了我们的第三点。</p><h1 id="ff16" class="kh ki hi bd kj kk kl km kn ko kp kq kr io ks ip kt ir ku is kv iu kw iv kx ky bi translated">本地认证</h1><p id="6c43" class="pw-post-body-paragraph jj jk hi jl b jm kz ij jo jp la im jr js lb ju jv jw lc jy jz ka ld kc kd ke hb bi translated">本地身份验证是指用户的设备上身份验证。如果您的应用程序有订阅或支付功能，这是有益的，因为它在屏幕锁定后提供了一个额外的身份验证层。</p><p id="2027" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">为此，我们将在iOS上使用生物认证(触控ID或锁码)，在Android上使用指纹API(在Android 6.0中引入)。下面的插件实现了flutter应用的本地认证。</p><div class="lf lg ez fb lh li"><a href="https://pub.dev/packages/local_auth" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">local_auth | Flutter包</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">这个Flutter插件提供了在本地设备上执行用户认证的方法。这意味着参考…</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">公共开发</p></div></div><div class="lr l"><div class="mq l lt lu lv lr lw jh li"/></div></div></a></div><h1 id="8019" class="kh ki hi bd kj kk kl km kn ko kp kq kr io ks ip kt ir ku is kv iu kw iv kx ky bi translated">安全存储</h1><p id="5b1f" class="pw-post-body-paragraph jj jk hi jl b jm kz ij jo jp la im jr js lb ju jv jw lc jy jz ka ld kc kd ke hb bi translated">共享首选项是为Flutter应用程序存储简单键值对的最常见方式之一。然而，它也有一些风险—</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mr"><img src="../Images/81b8b986852c0df1cd91bcfaf14103ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OZWZ7r6sc624q7gAYL8GYQ.png"/></div></div></figure><ol class=""><li id="a9d6" class="ms mt hi jl b jm jn jp jq js mu jw mv ka mw ke mx my mz na bi translated">如果你看一下pub.dev中shared_preferences插件的自述文件，你会发现并不能保证它的写操作会被持久化到磁盘上。</li><li id="8a86" class="ms mt hi jl b jm nb jp nc js nd jw ne ka nf ke mx my mz na bi translated">共享首选项或SQLite仍然会给关键用户数据带来另一个问题。由于数据没有加密，它可以在任何其他设备上打开，从而导致数据泄漏。我们可以使用下面这个插件来保证加密，它在iOS上使用Keychain，在Android上使用AESEncryption。</li></ol><div class="lf lg ez fb lh li"><a href="https://pub.dev/packages/flutter_secure_storage" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">颤振_安全_存储|颤振包</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">Flutter安全存储提供API将数据存储在安全存储中。钥匙串用于iOS，基于密钥库的解决方案…</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">公共开发</p></div></div><div class="lr l"><div class="ng l lt lu lv lr lw jh li"/></div></div></a></div><h1 id="1c6e" class="kh ki hi bd kj kk kl km kn ko kp kq kr io ks ip kt ir ku is kv iu kw iv kx ky bi translated">生根或越狱保护</h1><p id="6573" class="pw-post-body-paragraph jj jk hi jl b jm kz ij jo jp la im jr js lb ju jv jw lc jy jz ka ld kc kd ke hb bi translated">安卓设备可以rooted，iOS设备也可以越狱，去掉了厂商给用户设置的限制。这可能会引入影响您的应用程序或其数据的恶意软件。在这种情况下，您可能希望检测到这一点并采取相应的措施。</p><div class="lf lg ez fb lh li"><a href="https://pub.dev/packages/flutter_jailbreak_detection" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">flutter _越狱_检测| Flutter包</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">Flutter越狱和root检测插件。这个插件包装了Rootbeer用于Android和DTTJailbreakDetection…</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">公共开发</p></div></div><div class="lr l"><div class="nh l lt lu lv lr lw jh li"/></div></div></a></div><p id="f25f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Flutter越狱检测使用Android上的<a class="ae ni" href="https://github.com/scottyab/rootbeer" rel="noopener ugc nofollow" target="_blank"> RootBeer </a>和iOS上的<a class="ae ni" href="https://github.com/thii/DTTJailbreakDetection" rel="noopener ugc nofollow" target="_blank"> DTTJailbreakDetection </a>来检测你的应用程序当前是否运行在有根设备或越狱设备上。</p><p id="c446" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">所以，这是让你的Flutter应用程序更加安全和健壮的五个步骤。除此之外，请确保您正在保护应用程序和服务器之间传输的数据。您应该使用SSL或TLS加密，对网络流量进行限制，并确认您的应用程序的身份验证是可靠的。</p><h1 id="766d" class="kh ki hi bd kj kk kl km kn ko kp kq kr io ks ip kt ir ku is kv iu kw iv kx ky bi translated">结论</h1><p id="faa4" class="pw-post-body-paragraph jj jk hi jl b jm kz ij jo jp la im jr js lb ju jv jw lc jy jz ka ld kc kd ke hb bi translated">对于像Flutter这样不断发展的框架来说，谈论安全性是一个非常广泛的主题，不可能在一篇博客中概括。同样，无论你认为你的应用程序的安全性有多精确和完美，都不能保证你的应用程序不会被滥用或篡改。然而，作为开发人员，我们有责任在将应用程序发布到生产环境之前确保它尽可能的安全。</p><p id="3fef" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你以前在你的Flutter应用中使用过这些，或者有更多的建议，请在评论中告诉我！</p><p id="12e9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在Github知识库中找到实现的代码</p><div class="lf lg ez fb lh li"><a href="https://github.com/Imperial-lord/securing-flutter-apps" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">GitHub -帝国-领主/安全-颤振-应用程序</h2><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">github.com</p></div></div><div class="lr l"><div class="nj l lt lu lv lr lw jh li"/></div></div></a></div><p id="d8ae" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">另外，你可以在LinkedIn上联系我</p><div class="lf lg ez fb lh li"><a href="https://www.linkedin.com/in/ab-satyaprakash/" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hj fi z dy ln ea eb lo ed ef hh bi translated">AB Satyaprakash</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">我是数学和计算机专业的毕业生，IIT·古瓦哈蒂。作为一名热情的程序员，我喜欢解决问题和…</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">www.linkedin.com</p></div></div><div class="lr l"><div class="nk l lt lu lv lr lw jh li"/></div></div></a></div><h2 id="1d22" class="mf ki hi bd kj nl nm nn kn no np nq kr js nr ns kt jw nt nu kv ka nv nw kx nx bi translated">一如既往，祝你黑客生涯愉快！！！😃</h2></div></div>    
</body>
</html>