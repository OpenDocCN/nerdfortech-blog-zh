<html>
<head>
<title>POP -Make protocols your first pick with protocol oriented programming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">POP-使协议成为面向协议编程的首选</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/pop-make-protocols-your-first-pick-1545b0ef3e?source=collection_archive---------4-----------------------#2021-01-21">https://medium.com/nerd-for-tech/pop-make-protocols-your-first-pick-1545b0ef3e?source=collection_archive---------4-----------------------#2021-01-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="b306" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">iOS 编程指南</h2><div class=""/><figure class="ev ex ip iq ir is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es io"><img src="../Images/f423b1556e8cfd85283e21e0872b2ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qa9RiTLOnKIoLmcZJFnhGA.png"/></div></div></figure><p id="1c47" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">让我们看一个例子。</p><p id="2cd7" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">假设我们的项目在很多地方需要一些数学运算，你想创建一个助手类来做同样的事情。</p><figure class="jy jz ka kb fd is er es paragraph-image"><div class="er es jx"><img src="../Images/5d49f3ffef4af6e73f11ff323a96142c.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*83xj4domuq0pPB3F6DeqIA.jpeg"/></div></figure><h1 id="acc3" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">协议</h1><p id="55c7" class="pw-post-body-paragraph iz ja hi jb b jc la je jf jg lb ji jj jk lc jm jn jo ld jq jr js le ju jv jw hb bi translated">这时候其实不需要上课。我不想用你为什么不应该做那件事来烦你。然而，我会很简短😁协议是轻量级的，我听到有人说它们就像蓝图。类让你担心内存问题，比如死锁和其他与内存相关的问题。</p><blockquote class="lf lg lh"><p id="7c6a" class="iz ja li jb b jc jd je jf jg jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv jw hb bi translated">“一个<em class="hi">协议</em>定义了适合特定任务或功能的方法、属性和其他需求的蓝图。”- <a class="ae lm" href="https://docs.swift.org/swift-book/LanguageGuide/Protocols.html" rel="noopener ugc nofollow" target="_blank"> Swift docs </a></p></blockquote><p id="4dbe" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">好了，让我们直接跳到代码</p><p id="16c0" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">用你需要的所有好东西创建一个协议。对于我们的计算器，我们需要两个输入和一些数学函数。</p><pre class="jy jz ka kb fd ln lo lp lq aw lr bi"><span id="4e7b" class="ls kd hi lo b fi lt lu l lv lw">// UseAnyWhereCalculator Protocol</span><span id="1edc" class="ls kd hi lo b fi lx lu l lv lw">protocol UseAnyWhereCalculator{</span><span id="3deb" class="ls kd hi lo b fi lx lu l lv lw">var a:Int { get }</span><span id="7f64" class="ls kd hi lo b fi lx lu l lv lw">var b:Int { get }</span><span id="2ddc" class="ls kd hi lo b fi lx lu l lv lw">func addValues(inputA:Int,inputB:Int)-&gt;Int</span><span id="d18a" class="ls kd hi lo b fi lx lu l lv lw">func addAB()-&gt;Int</span><span id="0cba" class="ls kd hi lo b fi lx lu l lv lw">}</span></pre><h1 id="2f03" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">引入协议扩展</strong></h1><p id="424c" class="pw-post-body-paragraph iz ja hi jb b jc la je jf jg lb ji jj jk lc jm jn jo ld jq jr js le ju jv jw hb bi translated">协议扩展是 swift 工具集的强大功能之一。许多人对此不太关注，因为这不是主流对话的一部分。你甚至可以通过扩展添加更多你需要的东西，比如我们的乘法方法。</p><blockquote class="lf lg lh"><p id="bf42" class="iz ja li jb b jc jd je jf jg jh ji jj lj jl jm jn lk jp jq jr ll jt ju jv jw hb bi translated">协议可以被扩展来为符合的类型提供方法、初始化器、下标和计算的属性实现。这允许你在协议本身上定义行为，而不是在每种类型的单个一致性或一个全局函数中。”- <a class="ae lm" href="https://docs.swift.org/swift-book/LanguageGuide/Protocols.html#ID521" rel="noopener ugc nofollow" target="_blank">协议扩展</a></p></blockquote><pre class="jy jz ka kb fd ln lo lp lq aw lr bi"><span id="81ff" class="ls kd hi lo b fi lt lu l lv lw">// Protocol Extension<br/>extension UseAnyWhereCalculator{   <br/> <br/>func addValues(inputA:Int,inputB:Int)-&gt;Int{</span><span id="dc33" class="ls kd hi lo b fi lx lu l lv lw">                return inputA+inputB    <br/>}  <br/>     <br/>func addAB()-&gt;Int{  <br/>      <br/>return addValues(inputA: a, inputB: b)  <br/>         <br/> } </span><span id="7d92" class="ls kd hi lo b fi lx lu l lv lw">func multiplyValues(inputA:Int,inputB:Int)-&gt;Int{ <br/>  <br/>             return inputA*inputB   <br/> <br/>}   <br/>     <br/>func multiplyAB()-&gt;Int{ <br/>       <br/>return multiplyValues(inputA: a, inputB: b)  <br/>         <br/>}<br/>}</span></pre><p id="51a5" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">在您的类或您已经继承的类之后声明您的协议。</p><pre class="jy jz ka kb fd ln lo lp lq aw lr bi"><span id="ec68" class="ls kd hi lo b fi lt lu l lv lw">// ViewController you are gonna use.</span><span id="fc0e" class="ls kd hi lo b fi lx lu l lv lw">class MyViewController : UIViewController,UseAnyWhereCalculator{</span></pre><p id="1be4" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">使您的 ViewController 符合协议。不要担心这个 Xcode 会通过抛出错误信息让你遵从它。它也会帮助你修复它。</p><figure class="jy jz ka kb fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es ly"><img src="../Images/9288cbf226a7645955561c67809a1099.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LX-GXoTk16AutKMFBKQs-w.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">编译器因不符合声明的协议而引发错误</figcaption></figure><p id="9759" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">单击警告左侧的圆形红色按钮查看更多信息。</p><figure class="jy jz ka kb fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es md"><img src="../Images/6288dc0e328bf745026f0ba63ffa7747.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pum8p4_Cdf3aHLePXGf4Zw.png"/></div></div><figcaption class="lz ma et er es mb mc bd b be z dx translated">编译器提供了一个单击即可修复的选项</figcaption></figure><p id="bbc0" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">单击“修复”以消除错误。这将把强制存根添加到您的类中。</p><pre class="jy jz ka kb fd ln lo lp lq aw lr bi"><span id="a014" class="ls kd hi lo b fi lt lu l lv lw">var a: Int</span><span id="72ec" class="ls kd hi lo b fi lx lu l lv lw">var b: Int</span></pre></div><div class="ab cl me mf gp mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hb hc hd he hf"><p id="95f7" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">就这样，伙计们，你们完成了重任。现在让我们享受工作的好处。</p><figure class="jy jz ka kb fd is er es paragraph-image"><div class="er es jx"><img src="../Images/4bf0be4dfbd1e7e56e646f41167cc2f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*LQywYUkmy2JIviwC6UoQcw.jpeg"/></div></figure><pre class="jy jz ka kb fd ln lo lp lq aw lr bi"><span id="02ce" class="ls kd hi lo b fi lt lu l lv lw">// Where you are gonna use.</span><span id="a488" class="ls kd hi lo b fi lx lu l lv lw">// Your input</span><span id="3ff5" class="ls kd hi lo b fi lx lu l lv lw">var a: Int = 3  <br/>     <br/>var b: Int = 4</span><span id="6849" class="ls kd hi lo b fi lx lu l lv lw">// Use the addAB method to add two given values</span><span id="7d85" class="ls kd hi lo b fi lx lu l lv lw">labelAdd.text = "\(a)+\(b)=\(addAB())"</span><span id="c3bd" class="ls kd hi lo b fi lx lu l lv lw">// Use the multiplyAB method to multiply two given values</span><span id="5449" class="ls kd hi lo b fi lx lu l lv lw">labelMultiply.text = "\(a)x\(b)=\(multiplyAB())" </span></pre><p id="f2c2" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">好了，我该走了。T11】</p><p id="ac54" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><em class="li">在此链接中查找完整代码— </em></p><p id="27db" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><a class="ae lm" href="https://github.com/Rajaikumar-iOSDev/Simple-POP-Example" rel="noopener ugc nofollow" target="_blank">https://github.com/Rajaikumar-iOSDev</a></p><div class="ml mm ez fb mn mo"><a href="https://github.com/Rajaikumar-iOSDev/Simple-POP-Example/tree/main/SimplePOPExample.playground" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab dw"><div class="mq ab mr cl cj ms"><h2 class="bd hs fi z dy mt ea eb mu ed ef hr bi translated">rajaikumar-IOs dev/Simple-POP-Example</h2><div class="mv l"><h3 class="bd b fi z dy mt ea eb mu ed ef dx translated">🍿这是在 iOS-Swift 中使用面向协议编程的一个例子。…</h3></div><div class="mw l"><p class="bd b fp z dy mt ea eb mu ed ef dx translated">github.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc ix mo"/></div></div></a></div></div></div>    
</body>
</html>