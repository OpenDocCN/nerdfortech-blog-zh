<html>
<head>
<title>Daily Progress — Getting Free Animations from Mixamo into your Unity Game</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每日进度-从 Mixamo 获得免费动画到你的 Unity 游戏中</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/daily-progress-getting-free-animations-from-mixamo-into-your-unity-game-e64b794e05dd?source=collection_archive---------12-----------------------#2021-07-05">https://medium.com/nerd-for-tech/daily-progress-getting-free-animations-from-mixamo-into-your-unity-game-e64b794e05dd?source=collection_archive---------12-----------------------#2021-07-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5349bf61b5137acd205e642ef2a4c9c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AaaGYH-nrcso3QEoxP2AXA.png"/></div></div></figure><p id="6103" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你需要游戏角色的动画，Adobe 提供了 Mixamo，一个巨大的各种动画库，你可以在游戏中使用。在这里，我将演示如何为我昨天选择的消防员角色导入一个空闲状态。</p><p id="4f41" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">登录后，我搜索了一个闲置的动画，很快找到了一个我喜欢的角色正在四处张望，准备行动！</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/bef6a6e5b18a6c69e81ee4ede643e9eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RkELNUhsvccafI4lQtlrSw.gif"/></div></div></figure><p id="6098" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">点击下载按钮，确保选择了 Unity 的 FBX 以及“带皮肤”。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/4e4708082b0605ceea39210e227e8f9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nafgWH_TUZuDdtjlIk_yMQ.gif"/></div></div></figure><p id="590b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后将新下载的动画拖到消防员模型中。从技术上来说，它不一定要去那里，但方便的是把东西放在一起。然后进入钻机和动画类型下，选择人形和应用。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/96a40de036ffb0fe3a470a6533068f13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*k78SFZCH1tuh2dXTADTSEA.gif"/></div></div></figure><p id="58d2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，创建一个名为 Animations 的目录，并创建一个新的 Animator 控制器，将其重命名为 Player_Animator_Controller，并将其拖到 models Animator 中。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/3dab31abca68ac244edcb4ec1d7f8f95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Rs2Fhyfe21sHKAUuj01qgA.gif"/></div></div></figure><p id="d07f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们想把空闲的动画拖到动画制作工具中，但是它的选项目前是受限制的。如果我们复制一个(ctrl-d ),选项会向我们打开，所以让我们做一个，然后把它拖进动画。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/c53799d12d86a79e544234a30b8a7ad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*w_HFWFhGNPfK6gj7F7vbhQ.gif"/></div></div></figure><p id="4ea1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，为了让事情有条理，继续在角色文件夹资产中创建一个动画文件夹，并将新复制的空闲文件拖到其中。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/488c8f79167c1b480cf5ce6d3e40f3e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xJJZQyoo2U4I-PWv2Hs3gg.gif"/></div></div></figure><p id="4566" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">确保首先进入场景并选择角色，然后双击 animator 组件或打开窗口(如果可用)，然后拖动空闲动画。它应该自动将自己附加为第一个动作。双击空闲的动画，在右手边，一定要点击'循环时间'，让动画循环播放。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/7bca6b11a29571f50beccec8f4ab297c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rqvZgdqsT4mDGVM4nh3Jgg.gif"/></div></div></figure><p id="68e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在只需点击播放按钮，如果一切顺利，你的角色将环顾四周，准备行动！</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/a2095bd9697acae6b53195019bd45ead.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fN8MkzUAsrqo6wNUVUHLSQ.gif"/></div></div></figure><p id="b724" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们在 animator 窗口中连接动画，并添加一个速度浮动参数来进行过渡。空转运行时，速度会大于 0，空转运行时，速度会小于 0。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/e11f673bb88953ee00c52c124e629bf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*lPQKtUytaE8piDKysfdNoA.gif"/></div></div></figure><p id="4d74" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我们通过代码控制了动画师。最初我们会制作一个单独的玩家动画脚本，但现在，我们会在玩家脚本中编码。</p><p id="4f4d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我们将引用我们的 animator，虽然这并不新鲜，animator 是一个子对象，所以我们用 GetComponentInChildren 方法考虑到了这一点。：</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jw"><img src="../Images/0d60d0912f4f3a06220a8b1d585f0351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dPMT7XozojpslRGEj8Mc2A.png"/></div></div></figure><p id="3df9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来只需要调用控制器并使用水平输入作为参数。因为向左移动是一个负数，所以我们用 Mathf。Abs 命令返回一个正整数。效果非常好！</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/7b00239729259a7b441ee197c63b40b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIXYyCv9AjhWlBUZeOzYAQ.png"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/de7e89c43b0d7f954314737fa5366160.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*b_8iPlFMT19Zy8e6ma3DJg.gif"/></div></div></figure><p id="5e12" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">除了意外死亡，我认为它工作得很好！</p><p id="7395" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，我用和第一种方法完全一样的方法导入了一个跳跃，尽管动画确实覆盖了一段距离，而且没有选项来保持它“在原位”，所以我们只是照原样下载了它。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/ab594c1f1f51823fde2cb9ad6e0778c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*kK2sK4zprFd28dRdKKs6bA.gif"/></div></div></figure><p id="9d66" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在复制动画后，我们可以使用“烘焙成姿势”选项来移除根变换 y 位置的距离。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/d4f89506e9920aa68cd12459ee78726c.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*-KmfHTxqg1AklcmNe6P4cg.png"/></div></figure><p id="6c98" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我也尝试在一开始从任何状态转换到跳转并使用触发器时对它进行稍微不同的连线，但它似乎没有像我预期的那样工作。然后，我使用一个名为 jump 和 running states 的 bool 参数创建了从 Jump 到 idle 的来回转换，效果好了很多。调整过渡也是感觉良好的角色控制的关键。以下是我使用的逻辑:</p><p id="efba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">空转跳转:无退出时间，0 转换持续时间，<br/>条件:速度&lt; .2，跳转=真。</p><p id="89d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">跳转到怠速:无退出时间. 1 过渡持续时间<br/>条件:速度&lt; .2，跳转=假</p><p id="6341" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">跳转运行:无退出时间. 1 过渡持续时间<br/>条件:速度&gt; 0，跳转=假</p><p id="2595" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行到跳转:无退出时间，0 转换持续时间<br/>条件:速度&gt; 0，跳转=真</p><p id="a70d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">空转运行:无退出时间，0 过渡持续时间<br/>条件:速度&gt; .15</p><p id="a629" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">空转运行:无退出时间. 25 过渡持续时间<br/>条件:速度&lt;1</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/539b7ac21ca9262c1a48d99a81db77a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*cm-LCCvfoJx-Jm6wRlXIgw.png"/></div></figure><p id="d530" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然比使用触发器多做了一点工作，但代码仍然很简单，我们创建了一个名为 _jumping 的新 bool 变量，并在播放器脚本中添加了适当的 _anim。SetBool("Jump "，true)行。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kb"><img src="../Images/cb66f8c7dfe95893e3daf18964e1b121.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0dKvybyIkFLvRXIcT8WABg.png"/></div></div></figure><p id="a339" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为我们把跳转设置为真，我们需要把它设置为假。当玩家被禁足是最符合逻辑的地方。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/4ffc7d573cc248f131f9cab0dd556dc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-SZU_10Ss177AmnSqkYwWQ.png"/></div></div></figure><p id="bf1a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这导致了一个非常好的工作跳跃！</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/551005e59287510374b3f4768854997b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*f7O5U1_cYcMSzgNofa2lbA.gif"/></div></div></figure><p id="aac9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后还有球员没有面对正确方向的问题。解决方案是根据 horizontalInput 的值将播放器旋转 180 度！</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/1421d7fc7539ea6402b9ad1c1a4cc731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*16MOZ1vHR1IPPhWWI8HRfg.png"/></div></div></figure><p id="4526" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然第一行的逻辑看起来有点奇怪，但它实际上是一个三进制运算符<a class="ae ke" href="https://learn.unity.com/tutorial/ternary-operator" rel="noopener ugc nofollow" target="_blank">形式的 if else 语句！基本上你给出一个 if 语句，然后一个问号。问号后面，如果为真，就是冒号前的第一项，如果为假，那么就是后面的选项。</a></p><p id="6a57" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以这里:facing.y = _direction.z &gt;0？0:180;</p><p id="9120" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请记住，z 方向保存水平输入，如果水平输入向右移动，则为正 1，因此为真，如果它向左移动，则为-1，因此为假。所以如果为真，旋转为 0，如果为假，旋转为 180 度或翻转。</p><p id="4800" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望有意义。但是你有它！我今天学到的一切！明天我们要去抓壁架！</p></div></div>    
</body>
</html>