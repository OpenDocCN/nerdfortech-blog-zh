<html>
<head>
<title>Hybrid Cloud Architecture (Database on AWS RDS, WordPress on Kubernetes)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">混合云架构(AWS RDS 上的数据库，Kubernetes 上的 WordPress)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/hybrid-cloud-architecture-database-on-aws-rds-wordpress-on-kubernetes-a9873b483209?source=collection_archive---------0-----------------------#2020-09-29">https://medium.com/nerd-for-tech/hybrid-cloud-architecture-database-on-aws-rds-wordpress-on-kubernetes-a9873b483209?source=collection_archive---------0-----------------------#2020-09-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/668b7dd74b6af8bdf176a55fa4685066.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oq7dlsmttltD6Ram5PRnGg.gif"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">由 Raktim 创建</figcaption></figure><div class=""/><div class=""><h2 id="14a8" class="pw-subtitle-paragraph iu hw hx bd b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl dx translated">让我们一起了解什么是混合云计算和一个奇妙的实用工具！！！</h2></div><p id="8e04" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi ki translated"><span class="l kj kk kl bm km kn ko kp kq di">在</span>这篇文章中，我将演示如何<strong class="jo hy">将 Amazon RDS 设置为后端服务器</strong>并将 Kubernetes 上的<strong class="jo hy"> WordPress 设置为前端服务器</strong>以理解混合云计算。<br/>我已经使用<strong class="jo hy"> Terraform 脚本自动化</strong>创建了<strong class="jo hy"> EC2 安全组、AWS RDS 实例、Kubernetes 部署&amp;服务</strong>等等。但是在进入实践之前，让我们先学习一些概念…</p><h1 id="5572" class="kr ks hx bd kt ku kv kw kx ky kz la lb jd lc je ld jg le jh lf jj lg jk lh li bi translated">AWS RDS:</h1><figure class="lk ll lm ln fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lj"><img src="../Images/4d09de8fb5ae6134c1b9096953a8bfa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9x8OgiaXIe05Y2I3QC81sw.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:谷歌</figcaption></figure><ul class=""><li id="1ea8" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated"><strong class="jo hy">亚马逊关系数据库服务(Amazon RDS)是一种 web 服务，它使在 AWS 云中建立、操作和扩展关系数据库变得更加容易。</strong>它为行业标准关系数据库提供经济高效、可调整大小的容量，并管理常见的数据库管理任务。</li><li id="eb9c" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">当我们购买服务器时，我们获得了 CPU、内存、存储和 IOPS，所有这些都捆绑在一起。<strong class="jo hy">在亚马逊 RDS 中，这些都是分开的，因此我们可以独立扩展它们。</strong>如果您需要更多的 CPU、更少的 IOPS 或更多的存储，您可以轻松分配它们。Amazon RDS 管理备份、软件修补、自动故障检测和恢复。</li><li id="8bdc" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">我们可以使用数据库产品，如<strong class="jo hy"> MySQL、MariaDB、PostgreSQL、Oracle、Microsoft SQL Server 等。在亚马逊 RDS 上。</strong></li><li id="216e" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jo hy"> <em class="mc">了解更多 AWS RDS:</em></strong><a class="ae md" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Welcome.html" rel="noopener ugc nofollow" target="_blank"><strong class="jo hy"><em class="mc">https://docs . AWS . Amazon . com/Amazon RDS/latest/user guide/welcome . html</em></strong></a></li></ul><h1 id="b24e" class="kr ks hx bd kt ku kv kw kx ky kz la lb jd lc je ld jg le jh lf jj lg jk lh li bi translated">Kubernetes:</h1><figure class="lk ll lm ln fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es me"><img src="../Images/f7f32764c75fb6dd82c2f1c360b7899d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FhzRhmBCYuNqckrqBfzt4g.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">Kubernetes 标志</figcaption></figure><ul class=""><li id="e6d0" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">Kubernetes 是一个开源的容器编排系统，用于自动化计算机应用程序的部署、扩展和管理。最初由谷歌设计，现在由云原生计算基金会维护。</li><li id="1ac9" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">它旨在提供一个“跨主机集群自动部署、扩展和操作应用程序容器的平台”。<strong class="jo hy">它可以和一系列容器工具一起工作，包括 Docker。</strong></li><li id="c008" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jo hy"> <em class="mc">了解更多 Kubernetes:</em></strong><a class="ae md" href="https://kubernetes.io/docs/concepts/overview/what-is-kubernetes" rel="noopener ugc nofollow" target="_blank"><strong class="jo hy"><em class="mc">https://Kubernetes . io/docs/concepts/overview/what-is-Kubernetes</em></strong></a></li></ul><h1 id="7776" class="kr ks hx bd kt ku kv kw kx ky kz la lb jd lc je ld jg le jh lf jj lg jk lh li bi translated">混合云计算:</h1><figure class="lk ll lm ln fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mf"><img src="../Images/dca9f9671c8d23e210585c114c8faad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mxpe4YhMDQZUNhgQ.png"/></div></div></figure><ul class=""><li id="dd4e" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated"><strong class="jo hy">混合云的最基本含义是公共云和私有云的结合。</strong>通常，当我们托管任何应用程序时，我们都需要启动不同的服务或组件，并最终需要将它们组合在一起。</li><li id="6010" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">现在，公共云可以轻松满足我们的大部分需求，但在一些关键情况下，我们希望获得更多的安全性，这就是为什么我们在自己的数据中心上推出我们的<strong class="jo hy">数据库，而我们<strong class="jo hy">在公共云上推出我们的前端服务</strong>，因为它更快，而且它的全球基础设施令人身临其境。</strong></li><li id="fc08" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">接下来<strong class="jo hy">我们通过网络连接运行在两个不同云上的前端服务器和后端服务器，并构建混合云设置。</strong></li><li id="0d5e" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jo hy"> <em class="mc">了解 AWS 如何提供混合云请关注:</em></strong><a class="ae md" href="https://aws.amazon.com/hybrid/" rel="noopener ugc nofollow" target="_blank"><strong class="jo hy"><em class="mc">https://aws.amazon.com/hybrid/</em></strong></a></li></ul><h1 id="f10a" class="kr ks hx bd kt ku kv kw kx ky kz la lb jd lc je ld jg le jh lf jj lg jk lh li bi translated">但是，我在做相反的事情:</h1><figure class="lk ll lm ln fd hk er es paragraph-image"><div class="er es mg"><img src="../Images/e3f7656dc18dde6a07db61a56205776d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/0*gXwvaJuuj4nmOQjn"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:谷歌</figcaption></figure><ul class=""><li id="c09f" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated"><strong class="jo hy">在这个实践中，我们将执行完全相反的设置，这意味着我们将在公共云上推出一个受欢迎的数据库托管服务，名为 Amazon RDS。接下来，在我们自己的本地主机中，我们将在 Kubernetes 上推出我们的前端服务(WordPress ),并将两者连接起来以实现混合云架构。</strong></li><li id="3f24" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">很明显，你可能会想为什么我们要这样做。第一个原因是<strong class="jo hy">亚马逊 RDS 非常安全，它是一项托管服务，这意味着我们不需要建立自己的基础设施。</strong></li><li id="9d93" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">第二，你可以认为我正在实现我的前端应用程序，因为它是我们产品的外观，作为<strong class="jo hy">我们需要在前端上执行大量测试</strong>，所以与其在云上投资，不如让我们在本地主机上构建它，一旦它准备好了，我们就可以把它放在云上。</li></ul><h1 id="3058" class="kr ks hx bd kt ku kv kw kx ky kz la lb jd lc je ld jg le jh lf jj lg jk lh li bi translated">让我们看看问题陈述:</h1><p id="6fac" class="pw-post-body-paragraph jm jn hx jo b jp mh iy jr js mi jb ju jv mj jx jy jz mk kb kc kd ml kf kg kh hb bi translated">使用 terraform 在 Kubernetes 和 AWS 上部署 WordPress 应用程序，包括以下步骤:</p><p id="ab35" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">1.使用 terraform 编写一个基础架构代码，它会自动部署 WordPress 应用程序<br/> 2。在 AWS 上，对 WordPress 应用程序的关系数据库使用 RDS 服务。<br/> 3。将 WordPress 作为一个容器部署在 Minikube 或者 EKS 或者 AWS 上的 Fargate 服务之上。如果部署在 AWS 上，WordPress 应用程序应该可以从公共世界访问，如果部署在 Minikube 上，应该可以通过 workstation 访问。</p><h1 id="3c03" class="kr ks hx bd kt ku kv kw kx ky kz la lb jd lc je ld jg le jh lf jj lg jk lh li bi translated">先决条件:</h1><p id="5139" class="pw-post-body-paragraph jm jn hx jo b jp mh iy jr js mi jb ju jv mj jx jy jz mk kb kc kd ml kf kg kh hb bi translated">在开始实现之前，我想提出一些理解这一特定实践所需的先决条件。让我们看看那些是什么…</p><ul class=""><li id="4ea1" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">您应该至少需要一个有效的 AWS 帐户。接下来在您的本地系统中，您需要安装<strong class="jo hy"> Terraform 程序</strong>。<strong class="jo hy">需要 AWS 和 Terraform 的基础知识</strong>才能理解本文。</li><li id="b0ac" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">但是不要担心，如果你不知道这些事情，因为几天前我写了一篇文章，我谈到了这些基本的事情。下面提到的链接供参考…</li></ul><div class="hh hi ez fb hj mm"><a rel="noopener follow" target="_blank" href="/faun/getting-started-with-aws-terraform-293e9125dff"><div class="mn ab dw"><div class="mo ab mp cl cj mq"><h2 class="bd hy fi z dy mr ea eb ms ed ef hw bi translated">AWS &amp; Terraform 入门。</h2><div class="mt l"><h3 class="bd b fi z dy mr ea eb ms ed ef dx translated">如何入门使用 Terraform 在 AWS 中构建基础设施？</h3></div><div class="mu l"><p class="bd b fp z dy mr ea eb ms ed ef dx translated">medium.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na hp mm"/></div></div></a></div><ul class=""><li id="5be9" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated"><strong class="jo hy">在问题中，它被要求使用 Minikube 或亚马逊 EKS 或 AWS Fargate 服务。我之前说过我们将在本地主机上托管我们的 WordPress，这就是我使用 Minikube 的原因。</strong></li><li id="9134" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jo hy"> Minikube 在我们的本地机器上为我们提供了单节点 Kubernetes 集群。Minikube 的安装非常简单。我建议观看任何 YouTube 视频来安装和设置 Minikube。另外，一旦你安装了 Minikube，不要忘记安装"<strong class="jo hy"> Kubectl 程序</strong> ( Kubernetes 客户端)"。这里是这两个项目的官方链接，供参考…</strong></li><li id="a077" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jo hy"><em class="mc">Minikube:</em></strong><a class="ae md" href="https://kubernetes.io/docs/tasks/tools/install-minikube/" rel="noopener ugc nofollow" target="_blank"><strong class="jo hy"><em class="mc">https://kubernetes.io/docs/tasks/tools/install-minikube/</em></strong></a></li><li id="f665" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jo hy"><em class="mc">ku bectl:</em></strong><a class="ae md" href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" rel="noopener ugc nofollow" target="_blank"><strong class="jo hy"><em class="mc">https://kubernetes.io/docs/tasks/tools/install-kubectl/</em></strong></a></li></ul><blockquote class="nb nc nd"><p id="c90c" class="jm jn mc jo b jp jq iy jr js jt jb ju ne jw jx jy nf ka kb kc ng ke kf kg kh hb bi translated">注:虽然我用的是 Minikube，但如果你想用 AWS EKS，你可以很容易做到。最近我在 AWS EKS 完成了一个有趣的实践。在那里，我谈到了从非常基础的东西，直到使用 AWS EKS 托管自己的 Web 应用程序。请随意查看…</p></blockquote><div class="hh hi ez fb hj mm"><a rel="noopener follow" target="_blank" href="/@raktim00/deploying-joomla-prometheus-grafana-on-aws-eks-37177a116acb"><div class="mn ab dw"><div class="mo ab mp cl cj mq"><h2 class="bd hy fi z dy mr ea eb ms ed ef hw bi translated">在 AWS EKS 上部署 Joomla、Prometheus 和 Grafana</h2><div class="mt l"><h3 class="bd b fi z dy mr ea eb ms ed ef dx translated">在本文中，您将了解如何在 AWS EKS 上部署 Joomla、Prometheus 和 Grafana</h3></div><div class="mu l"><p class="bd b fp z dy mr ea eb ms ed ef dx translated">medium.com</p></div></div><div class="mv l"><div class="nh l mx my mz mv na hp mm"/></div></div></a></div><h1 id="2ca3" class="kr ks hx bd kt ku kv kw kx ky kz la lb jd lc je ld jg le jh lf jj lg jk lh li bi translated">让我们开始:</h1><p id="a296" class="pw-post-body-paragraph jm jn hx jo b jp mh iy jr js mi jb ju jv mj jx jy jz mk kb kc kd ml kf kg kh hb bi translated">像往常一样，我们会看到整个地形代码的不同部分，并试图理解每一位。最后，我们将组合这些小代码，并部署我们的基础设施。</p><h2 id="64e1" class="ni ks hx bd kt nj nk nl kx nm nn no lb jv np nq ld jz nr ns lf kd nt nu lh nv bi translated">提供商设置和数据收集:</h2><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="nw nx l"/></div></figure><ul class=""><li id="bb9b" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">你可以注意到我们选择了两个提供商，<strong class="jo hy">一个是 Kubernetes，另一个是 AWS。</strong>我还在 AWS 提供商内部设置了我的个人资料和地区。</li><li id="1341" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">接下来使用“<strong class="jo hy">数据</strong>”我正在收集一些信息，如默认 VPC 和默认子网，因为我们将来会用到它们。</li></ul><h2 id="4482" class="ni ks hx bd kt nj nk nl kx nm nn no lb jv np nq ld jz nr ns lf kd nt nu lh nv bi translated">安全组和子网组:</h2><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="nw nx l"/></div></figure><ul class=""><li id="ab10" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">这里我们为 RDS 的实例创建一个<strong class="jo hy">安全组。在这里，您可以注意到我们正在默认的 VPC 中创建这个 SG。</strong></li><li id="4d8a" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">接下来在入口中，我们只允许 3306 号端口的<strong class="jo hy">，因为 MySQL </strong>工作在这个端口上。另外<strong class="jo hy">我们已经允许来自任何地方的流量</strong>，因为当我的本地主机 WordPress 将联系 RDS 时，那么对于 RDS，我们的流量将是外部流量。</li><li id="e7b7" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">在出口，我们允许任何 IP，因为 RDS 可能需要从互联网上下载一些东西。</li><li id="e6d1" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">接下来，我们将为 Amazon RDS 创建一个<strong class="jo hy">子网组，因为我希望 RDS 可以在我的默认 VPC 下的任何可用子网中启动。</strong></li></ul><h2 id="e2d9" class="ni ks hx bd kt nj nk nl kx nm nn no lb jv np nq ld jz nr ns lf kd nt nu lh nv bi translated">RDS 实例:</h2><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="nw nx l"/></div></figure><ul class=""><li id="f85e" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">在这里，如果你注意到我使用了<strong class="jo hy">依赖于</strong>。这是因为我希望在创建这两个资源后，开始创建 RDS 实例，因为在创建 RDS 时，我们需要提供这两个资源。</li><li id="3a05" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">接下来我们提到了我们想要使用的数据库和版本。这里<strong class="jo hy">我选择 MySQL 版本 5.7 </strong>是因为<strong class="jo hy"> WordPress 可以与 MySQL 或 MariaDB 一起工作。</strong></li><li id="cf2b" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">标识符只是 AWS 资源的名称。<strong class="jo hy">那么用户名和密码就是数据库的用户名和密码。</strong>请注意，用户名和密码区分大小写。</li><li id="4bca" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">然后，我们简单地告诉数据库实例需要哪种风格。另外<strong class="jo hy">在 RDS 中，我们可以提供的最小存储容量是 20GB。</strong>我选择 gp2 存储，但如果您有其他需求，您也可以相应选择。</li><li id="7149" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">接下来，我们选择了 VPC 和子网，我们希望在其中调配实例。此外，由于<strong class="jo hy">我们从 AWS 外部连接到数据库，因此打开公共访问</strong>。</li><li id="3caa" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">Finally name 代表您想要创建的数据库名称，那么“<strong class="jo hy">跳过最终快照</strong>”为真，因为当我们删除数据库时，我们不想创建快照。但是在实际工业中，这个选项总是被禁用。</li></ul><h2 id="7854" class="ni ks hx bd kt nj nk nl kx nm nn no lb jv np nq ld jz nr ns lf kd nt nu lh nv bi translated">Kubernetes 部署:</h2><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="nw nx l"/></div></figure><ul class=""><li id="0312" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">这个脚本正在 Kubernetes 上部署 WordPress Pod。正如我们可以看到的，这个脚本依赖于 RDS 实例，因为我希望我的 WordPress 一启动，它就获取数据库来存储数据。</li><li id="ef9a" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">下一个元数据是选择需要部署的配置。它正在从“spec”获取配置。现在，由于“规范”下的“模板”和“元数据”具有相同的标签，这就是元数据能够定位规范的原因。</li><li id="6441" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">然后<strong class="jo hy">“spec”从“spec”获取配置，该配置包含所有信息，如映像名称、pod 名称、环境变量、容器端口等。</strong>这里只需注意一件事，我们正在从 RDS 资源中动态选择环境变量的值。这就是为什么这段代码依赖于前面的资源。</li><li id="31af" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">最后，“选择器”也是一个重要的选项。我们这样做是为了将来如果任何一个吊舱出现故障，那么<strong class="jo hy">这个选择器会帮助部署启动一个新的。</strong></li></ul><h2 id="9a38" class="ni ks hx bd kt nj nk nl kx nm nn no lb jv np nq ld jz nr ns lf kd nt nu lh nv bi translated">Kubernetes 服务:</h2><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="nw nx l"/></div></figure><ul class=""><li id="4aaf" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">该代码依赖于 Kubernetes 部署，因为在部署完成后<strong class="jo hy">我们通常会公开我们的部署，以便客户可以访问该网站。</strong></li><li id="2e96" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">在这里，元数据创建服务的名称，<strong class="jo hy">选择器帮助选择那些标签为“app”=“WordPress”</strong>的容器，并在这些容器上应用服务。</li><li id="60a7" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">最后，我使用了 80 号端口<strong class="jo hy">来暴露</strong>，因为<strong class="jo hy"> WordPress 工作在 Httpd WebServer 之上，而 Httpd web server 工作在 80 号端口</strong>。我还提到了 30050 的<strong class="jo hy">外部端口。在这里你可以选择任何外部端口，但是记住有一定的限制。最后，我选择 NodePort，因为我没有任何外部负载平衡器。</strong></li></ul><h2 id="83bb" class="ni ks hx bd kt nj nk nl kx nm nn no lb jv np nq ld jz nr ns lf kd nt nu lh nv bi translated">镀铬开口:</h2><figure class="lk ll lm ln fd hk"><div class="bz dy l di"><div class="nw nx l"/></div></figure><ul class=""><li id="78d7" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">最后，这段代码运行到最后，他打开我们的本地主机浏览器，直接把我们带到 WordPress 工作的 IP 地址。</li></ul><h1 id="6929" class="kr ks hx bd kt ku kv kw kx ky kz la lb jd lc je ld jg le jh lf jj lg jk lh li bi translated">让我们部署:</h1><p id="26a7" class="pw-post-body-paragraph jm jn hx jo b jp mh iy jr js mi jb ju jv mj jx jy jz mk kb kc kd ml kf kg kh hb bi translated">最后，我们完成了代码。现在是部署代码的时候了。像往常一样，我们将在您有完整代码的文件夹中运行下面提到的两个命令，Terraform 将创建整个设置。</p><blockquote class="nb nc nd"><p id="4e80" class="jm jn mc jo b jp jq iy jr js jt jb ju ne jw jx jy nf ka kb kc ng ke kf kg kh hb bi translated"><strong class="jo hy">注意:确保 Minikube 正在您的本地主机上运行，或者您的 AWS EKS 已连接到您的本地主机。</strong></p></blockquote><pre class="lk ll lm ln fd ny nz oa ob aw oc bi"><span id="aa43" class="ni ks hx nz b fi od oe l of og">terraform init</span><span id="6e6d" class="ni ks hx nz b fi oh oe l of og">terraform apply --auto-approve</span></pre><p id="483e" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">这里还有 GitHub 链接供参考，你可以在那里找到完整的代码……</strong></p><div class="hh hi ez fb hj mm"><a href="https://github.com/raktim00/AWS-RDS-WordPress" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab dw"><div class="mo ab mp cl cj mq"><h2 class="bd hy fi z dy mr ea eb ms ed ef hw bi translated">raktim00/AWS-RDS-WordPress</h2><div class="mt l"><h3 class="bd b fi z dy mr ea eb ms ed ef dx translated">在 GitHub 上创建一个帐户，为 raktim00/AWS-RDS-WordPress 开发做贡献。</h3></div><div class="mu l"><p class="bd b fp z dy mr ea eb ms ed ef dx translated">github.com</p></div></div><div class="mv l"><div class="oi l mx my mz mv na hp mm"/></div></div></a></div><ul class=""><li id="2753" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">只需等待 5 分钟，您就会看到笔记本电脑浏览器自动打开，带您进入 IP 地址。你会注意到 WordPress 运行完全正常。</li><li id="f782" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated"><strong class="jo hy">选择语言然后点击</strong>继续。接下来给出这些基本的细节，如<strong class="jo hy">网站名称、用户名、密码、电子邮件等</strong>。作为参考，请查看下面提到的截图…</li></ul><figure class="lk ll lm ln fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es oj"><img src="../Images/e44c3c76f9ed61922bbba6ae2d600262.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RmvjPdGAU3lMjEhhPyFG0Q.png"/></div></div></figure><blockquote class="nb nc nd"><p id="2a3b" class="jm jn mc jo b jp jq iy jr js jt jb ju ne jw jx jy nf ka kb kc ng ke kf kg kh hb bi translated"><em class="hx">接下来点击</em> <strong class="jo hy"> <em class="hx">安装 WordPress </em> </strong> <em class="hx">，然后登录，你将拥有自己的 WordPress Web 应用程序。</em></p></blockquote><figure class="lk ll lm ln fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ok"><img src="../Images/044c3a8c0f53a5020c8b91e2d01e0e9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v9kD_9XDgesnHrSFVv6nzA.png"/></div></div></figure><p id="377d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">快点…我们已经成功完成了一个基本但有趣的混合云设置。😎</strong></p><h1 id="453f" class="kr ks hx bd kt ku kv kw kx ky kz la lb jd lc je ld jg le jh lf jj lg jk lh li bi translated">最后的话:</h1><ul class=""><li id="1daf" class="lo lp hx jo b jp mh js mi jv ol jz om kd on kh lt lu lv lw bi translated">这种实践在未来有很多可能性，例如<strong class="jo hy">我们可以使用 OpenStack 等私有云来构建适当的混合云设置。</strong>我们还可以使用 AWS EKS，这是一项出色的托管服务。除了使用 WordPress，我们还可以使用 Joomla、Drupal 等。</li><li id="2eea" class="lo lp hx jo b jp lx js ly jv lz jz ma kd mb kh lt lu lv lw bi translated">就在最近，我在 AWS cloud 上做了同样的实践，但采用了更高级的方式。我提供下面的链接。请随意查看…</li></ul><div class="hh hi ez fb hj mm"><a rel="noopener follow" target="_blank" href="/faun/webapp-on-aws-ec2-instance-with-best-possible-security-9184d5d44981"><div class="mn ab dw"><div class="mo ab mp cl cj mq"><h2 class="bd hy fi z dy mr ea eb ms ed ef hw bi translated">AWS EC2 实例上的 WebApp 具有最佳的安全性！！！</h2><div class="mt l"><h3 class="bd b fi z dy mr ea eb ms ed ef dx translated">这篇文章将帮助您建立 AWS AMI，并实现 VPC，子网，互联网网关，路由表，安全…</h3></div><div class="mu l"><p class="bd b fp z dy mr ea eb ms ed ef dx translated">medium.com</p></div></div><div class="mv l"><div class="oo l mx my mz mv na hp mm"/></div></div></a></div><ul class=""><li id="624f" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">我试图让它尽可能简单。希望你从这里学到了一些东西。请随意查看我的 LinkedIn 个人资料，当然也可以随意发表评论。</li></ul><div class="hh hi ez fb hj mm"><a href="https://www.linkedin.com/in/raktim00/" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab dw"><div class="mo ab mp cl cj mq"><h2 class="bd hy fi z dy mr ea eb ms ed ef hw bi translated">微软学习学生大使(Alpha) -微软学习学生大使 CEE |…</h2><div class="mt l"><h3 class="bd b fi z dy mr ea eb ms ed ef dx translated">★我是一名技术爱好者，致力于更好地理解不同热门技术领域背后的核心概念…</h3></div><div class="mu l"><p class="bd b fp z dy mr ea eb ms ed ef dx translated">www.linkedin.com</p></div></div><div class="mv l"><div class="op l mx my mz mv na hp mm"/></div></div></a></div><ul class=""><li id="1cb8" class="lo lp hx jo b jp jq js jt jv lq jz lr kd ls kh lt lu lv lw bi translated">我写 DevOps，云计算，机器学习等等。博客，所以请随时关注我的媒体。最后但同样重要的是，如果您有任何疑问，请在 LinkedIn 上联系我。</li></ul><p id="6b07" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><strong class="jo hy">感谢大家的阅读。就这样…结束…😊</strong></p><figure class="lk ll lm ln fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es oq"><img src="../Images/8c7f1f8215dc1aaecd1e708e7650e726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Piks8Tu6xUYpF4DU"/></div></div></figure></div></div>    
</body>
</html>