<html>
<head>
<title>Character Controller in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Unity 中的角色控制器</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/character-controller-in-unity-9f9c7cb19240?source=collection_archive---------4-----------------------#2021-08-12">https://medium.com/nerd-for-tech/character-controller-in-unity-9f9c7cb19240?source=collection_archive---------4-----------------------#2021-08-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/30a2ca8a2cdf2c325b173d75b164b004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BjGFaIv1S11U0F0L"/></div></div></figure><p id="95c3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我已经开始了一个新项目，是时候为我的玩家开发角色控制器了。</p><p id="8897" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，向播放器添加角色控制器组件。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jo"><img src="../Images/ad1715b2717eab298ca1f1e32e72f3a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*C5rfAfTL_HIQOy_NtdcUrg.png"/></div></figure><p id="e7a9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在创建一个新的播放器脚本，并将其附加到播放器上。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/cc6e8d585cd57c0dcec014c751d6232d.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*KgKi77pqu0UCXLKyAA4ypw.png"/></div></div></figure><p id="b2c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">运动</strong></p><p id="76ba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于角色控制器，你需要速度、跳跃高度和重力的变量。您还需要角色控制器的变量和一个保存玩家 y 轴值的变量。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/74a6de0af7b8259f5bd2281f38cd3f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*DVKHUQYNVbl43Wes6NFzSg.png"/></div><figcaption class="jv jw et er es jx jy bd b be z dx translated">注意:我将在后面解释这两个重力变量</figcaption></figure><p id="665c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在 start 方法中设置你的角色控制器变量。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/9869b6be17a19db73d81fc6c55f2fba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*P1WYTuskY7qZxpnxDysgvw.png"/></div></figure><p id="245a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">创建一个处理玩家移动的方法，并在 update 方法中调用这个方法，以使您的代码更容易阅读，更有条理。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/a93659fd7f803c76610d450ee5e923a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:454/format:webp/1*QkFQIHAc4yF-K0OOkUMz8g.png"/></div></figure><p id="4612" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在移动方法中，创建变量来保存玩家的水平和垂直输入。然后，您将创建一个向量 3 来存储玩家的位置，然后创建另一个向量 3 来存储玩家的速度。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kb"><img src="../Images/be1d5ce5fea3656acc764d0e725732e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iUm2ZBh16kkJmPwXNFH4-g.png"/></div></figure><p id="ccf4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">调用角色控制器的 Move 方法，你将让玩家移动。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/7d13fbf388d86dca962c8a615fd44439.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*7XtPbqtJpNCnZFRyiXXiZw.png"/></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/95971629507ea8316c89abaa63f8ca6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AMHIZiHTYKVsw-EYAZfD1Q.gif"/></div></div></figure><p id="fb89" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">重力</strong></p><p id="550c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在是施加重力的时候了。</p><p id="f885" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要获得重力变量，请将重力值乘以 Time.deltaTime 和重力乘数。我发现这给了玩家一个很好的跳跃感觉，通过用 Time.deltaTime 平滑它，然后乘以重力乘数来控制玩家下落的速度。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ke"><img src="../Images/9c2fa50af51a9c59450be24b59188c71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*Jk3IAJ6HOHLrqHkoAoDUeA.png"/></div></figure><p id="4f71" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">示例:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/229c4221ce7bbfa1118afc949eb9bb2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*vaqwSB1_qpD2mK4A7KLA4Q.gif"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx translated">重力乘数是 1</figcaption></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kg"><img src="../Images/0bf48d8f3e1713ab691af032162e01c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rFrQA7WLltrkJ3Br0rWNVg.gif"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx translated">重力乘数是 4.5</figcaption></figure><p id="1d05" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用 if 语句检查播放器是否接地。如果玩家没有被固定，从玩家的 y 速度中减去重力。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kh"><img src="../Images/086a89202ac4807acd1f0a58beefd63f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*uJniI949tqNSG5J5qkQA1w.png"/></div></figure><p id="d440" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将对玩家施加重力。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ki"><img src="../Images/3d29b9e4e0cbf3f4a108ad2f24e88580.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*A6WsXO6ZqjWkcnZpQbWS2Q.gif"/></div></div></figure><p id="b9fd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">跳跃</strong></p><p id="cd30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">加跳很简单。</p><p id="51d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果玩家被禁足并按下空格键，则将玩家的 y 值设置为跳跃高度。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/176d8e0f90a61361990507cd5f071558.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*_e_HJWklWAcFH9pw6i-mhQ.png"/></div></figure><p id="fcba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将允许玩家跳跃。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/8ab05a39b9308b67f20412237b442d2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Tr38EQVVZXaN4FHwg39PvQ.gif"/></div></div></figure></div></div>    
</body>
</html>