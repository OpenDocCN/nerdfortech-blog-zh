# 第二阶段:波浪系统

> 原文：<https://medium.com/nerd-for-tech/phase-2-wave-system-2ff6b7353a4?source=collection_archive---------8----------------------->

**目标:**实施一波敌人序列，每波都有更多的敌人到来

![](img/b05c7c419680314f24336f7f6e3ab412.png)

第一波

实现这个 wave 系统需要大量的编码，因此，我们需要一些变量。一个存储波之间时间的浮点数，一个跟踪波的整数。最后是几本书，一本告诉我们是否能产生敌人，一本让我们知道我们是否在等待下一波，还有一本让我们知道这一波什么时候结束，我们正在检查所有被消灭的敌人，这样我们就可以进入下一波了。

![](img/d84a166a99982e8d490890ebc3181b65.png)

我要做的第一件事是创建一个结构来存储波形的属性。它将有波的名称，敌人产卵，敌人产卵的数量和敌人产卵的速度。

![](img/ad42e0194f7ef11829003bc423ff1e98.png)

接下来，我将创建该结构的数组，并在检查器中分配属性。

![](img/655002935b8a08593b7946a39f2b9e15.png)

为每一波分配敌人的游戏对象和属性。

![](img/4f7b38150ae41beaa10e40bd3e867de9.png)

下面是用来繁殖敌人的程序和方法。

![](img/976d905e58a5cfe9c1341aa94108f60c.png)

当这一波的所有敌人都被繁殖后，我调用一个方法来检查所有的敌人都被消灭了。

![](img/620ccee07002dc0931f073f2ef7b2a76.png)

当这一波的所有敌人都被消灭时，我启动协程等待下一波。这让玩家在下一波敌人开始前有一点时间放松。

![](img/fb7d68bc81b61b73a26f7679065cac66.png)

让我们来看看实际情况。

![](img/06f06e221dc6ef3fa0240296f048cfc8.png)

编码快乐！！