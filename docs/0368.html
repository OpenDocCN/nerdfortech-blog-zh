<html>
<head>
<title>Understand the Weird Parts of JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解JavaScript奇怪的部分</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/understand-the-weird-parts-of-javascript-c7f2e9e1ae47?source=collection_archive---------1-----------------------#2020-11-07">https://medium.com/nerd-for-tech/understand-the-weird-parts-of-javascript-c7f2e9e1ae47?source=collection_archive---------1-----------------------#2020-11-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0766" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">javascript如何在内部工作的简单解释</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/8ec28836fecb91c3fbf7a1a8a8392430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lsP5elbAddPdKPhV"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Artem Sapegin 在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="3d8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Javascript是开发人员最喜欢也最讨厌的编程语言。这是因为大多数初级开发人员不知道它在内部是如何工作的，并且发现它很难调试和执行。</p><p id="5450" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我开始使用javascript时，我不理解很多事情，并且发现很难知道为什么我的代码会这样。处理未定义的错误或定义变量的范围是困难的。</p><p id="828f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是一旦我找到了这是如何发生的以及为什么会发生的答案，它就成了我最喜欢的编程语言。</p><p id="e916" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将向您展示Javascript的方式和原因，以及像提升和作用域链这样的奇怪行为。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/1cdb9781e16aef9e95a056f2f426f44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9VO_MmSVXcZneL0g"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">照片由<a class="ae jt" href="https://unsplash.com/@benwhitephotography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">本·怀特</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="7693" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">执行上下文</h1><blockquote class="kt ku kv"><p id="d6c9" class="if ig kw ih b ii ij ik il im in io ip kx ir is it ky iv iw ix kz iz ja jb jc hb bi translated"><strong class="ih hj">JavaScript代码是如何执行的？</strong></p></blockquote><p id="e559" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在javascript引擎中，代码执行的环境称为执行上下文。每当Javascript引擎执行代码时，就会创建执行上下文。</p><p id="dd16" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">执行上下文分两个阶段工作:</strong></p><ul class=""><li id="0101" class="la lb hi ih b ii ij im in iq lc iu ld iy le jc lf lg lh li bi translated"><strong class="ih hj">创建阶段</strong></li><li id="54a9" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated"><strong class="ih hj">执行阶段</strong></li></ul><p id="6213" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj">创建阶段，</strong>脚本第一次执行，并创建一个全局执行上下文。将执行以下任务:</p><ul class=""><li id="6aa7" class="la lb hi ih b ii ij im in iq lc iu ld iy le jc lf lg lh li bi translated">在web浏览器中创建名为window的全局对象</li><li id="c857" class="la lb hi ih b ii lj im lk iq ll iu lm iy ln jc lf lg lh li bi translated">创建一个内存堆来存储所有变量和函数</li></ul><p id="cc9b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还创建了一个调用栈来跟踪被调用的函数，并且全局执行上下文存在于该栈中。</p><p id="c4ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<strong class="ih hj">执行阶段</strong>，javascript引擎通过从内存中为变量赋值并执行函数调用来逐行执行代码。</p><p id="384f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每当进行函数调用时，javascript引擎都会为该函数创建一个新的执行上下文，称为函数执行上下文，它会被添加到调用堆栈中</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="a9c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的示例中，输出是:</p><pre class="je jf jg jh fd lq lr ls lt aw lu bi"><span id="c9c3" class="lv jw hi lr b fi lw lx l ly lz">test<br/>undefined<br/>10</span></pre><blockquote class="kt ku kv"><p id="1dee" class="if ig kw ih b ii ij ik il im in io ip kx ir is it ky iv iw ix kz iz ja jb jc hb bi translated">函数在声明之前是如何执行的？</p></blockquote><p id="a17b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们一行一行地理解上面的例子。</p><p id="05df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如前所述，执行上下文声明一个全局上下文，将所有变量和函数存储在内存中。</p><p id="4f9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先在创建阶段，变量在内存中声明，并初始化为未定义。因此，最初它记录的“x”是未定义的。</p><p id="df4e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是函数没有被初始化为未定义的，它们是在创建阶段声明的，因此我们能够调用函数test并执行它。</p><h1 id="1250" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">提升</h1><p id="ec09" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mc is it iu md iw ix iy me ja jb jc hb bi translated">当我们在创建阶段执行函数和变量并执行。所有变量和函数声明都被移动到当前作用域的顶部。</p><p id="1ba4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在创建阶段，javascript引擎将变量放在内存中，并用未定义的值初始化所有变量。</p><p id="f1af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">函数也在创建阶段初始化，声明被移到脚本的顶部。</p><h1 id="6381" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">范围链</h1><p id="5472" class="pw-post-body-paragraph if ig hi ih b ii ma ik il im mb io ip iq mc is it iu md iw ix iy me ja jb jc hb bi translated">在javascript中，一旦理解了执行上下文的概念，就很容易理解变量的范围。</p><p id="354f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们前面讨论的，无论何时调用一个函数，它都会在调用堆栈中创建自己的执行上下文，并使用自己的内存(称为本地内存)。</p><blockquote class="kt ku kv"><p id="7ea8" class="if ig kw ih b ii ij ik il im in io ip kx ir is it ky iv iw ix kz iz ja jb jc hb bi translated">我们如何访问本地内存之外的变量？</p></blockquote><p id="20fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们考虑这个例子:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="8edb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述示例的输出是:</p><pre class="je jf jg jh fd lq lr ls lt aw lu bi"><span id="149d" class="lv jw hi lr b fi lw lx l ly lz">10<br/>100</span></pre><blockquote class="kt ku kv"><p id="56e0" class="if ig kw ih b ii ij ik il im in io ip kx ir is it ky iv iw ix kz iz ja jb jc hb bi translated">在函数test2中，当我们使用console.log(x)时，首先在本地内存中搜索变量，当没有找到时，它在父作用域test1中查找x，其中x被定义为100。类似地，对于test1，它在它的父作用域中寻找x。</p></blockquote><p id="630f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">执行上下文、提升和作用域链是理解Javascript的良好开端，但是如果你想深入学习Javascript，还有更多的主题需要讨论，我将很快添加这些主题。</p></div><div class="ab cl mf mg gp mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="hb hc hd he hf"><p id="121f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kw">感谢你一直读到最后，希望这篇文章对你有用。请关注我，获取更多此类科技文章。万事如意！！！</em> </strong></p><h1 id="8f15" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">参考</h1><div class="mm mn ez fb mo mp"><a href="https://www.javascripttutorial.net/javascript-execution-context/" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">通过示例理解JavaScript执行上下文</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">摘要:在本教程中，您将学习JavaScript执行上下文，以深入理解JavaScript如何…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">www.javascripttutorial.net</p></div></div><div class="my l"><div class="mz l na nb nc my nd jn mp"/></div></div></a></div><div class="mm mn ez fb mo mp"><a rel="noopener follow" target="_blank" href="/@happymishra66/execution-context-in-javascript-319dd72e8e2c"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hj fi z dy mu ea eb mv ed ef hh bi translated">执行上下文、作用域链和JavaScript内部</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">在本帖中，我们将讨论什么是JavaScript中的执行上下文和作用域链。我们还将检查内部…</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">medium.com</p></div></div><div class="my l"><div class="ne l na nb nc my nd jn mp"/></div></div></a></div></div></div>    
</body>
</html>