<html>
<head>
<title>Pure functions in JavaScript (demystified)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript中的纯函数(非神秘化)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/pure-functions-in-javascript-demystified-c43a3b96eefc?source=collection_archive---------0-----------------------#2022-04-21">https://medium.com/nerd-for-tech/pure-functions-in-javascript-demystified-c43a3b96eefc?source=collection_archive---------0-----------------------#2022-04-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="cda6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为一名开发人员，我们都在日常生活中编写代码，编写代码并不是我们肩上唯一的责任(编写好的代码才是)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/1c073be098ad2a4b4d587643c5143726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gNzv-njMbLAarLtd"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://unsplash.com/@enginakyurt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> engin akyurt </a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="900a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在日常的编码会话中，您必须编写一些函数，这些函数接收一些输入，并基于某些条件返回一些输出。在编写函数时，我们应该注意某些条件，我们需要确保这些函数，</p><ul class=""><li id="2e75" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc jz ka kb kc bi translated">可预测:它为相同的输入产生可预测的输出。</li><li id="4496" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">可读性:任何把函数作为独立单元阅读的人都能完全理解它的用途。</li><li id="2c26" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">可重用:可以在源代码的多个地方重用函数，而不改变函数和调用者的行为。</li><li id="276c" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc jz ka kb kc bi translated">可测试性:我们可以把它作为一个独立的单元来测试。</li></ul><p id="b925" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个纯函数具有上述所有特征。对于相同的输入，它总是产生相同的输出，这是一段可重用的代码。例如，让我们看看下面这段代码</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="4d80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里我们可以看到，无论发生什么情况，这个函数都将为相同的输入返回相同的输出，因为它没有任何会使其输出不同的外部依赖性。</p><p id="2eca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们来看一个不同的场景，在不同的执行中输出可能是不同的。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="05ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们可以看到一个看起来几乎与我们的旧函数相同的函数，但这里有一个问题，对于相同的输入，该函数的输出不会相同(至少我们不能保证这一点)，因为该函数有一个依赖关系，而该依赖关系是<code class="du kk kl km kn b">greeting</code>变量。想象一下，如果我们将这个变量的值改为<code class="du kk kl km kn b">hello</code>，那么输出将与现在不同。</p><p id="8b93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，这里我们已经看到了依赖外部状态值的副作用，该值可能在函数不知道的情况下发生变化。</p><p id="7051" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">任何与函数的最终输出没有直接关系的操作都被称为<code class="du kk kl km kn b">Side Effect</code>。</p><p id="d56e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们再举一个非纯函数的例子</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="26e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你能告诉我这个函数的输出是什么吗？是的，它是可预测的，对于相同的输入，它总是返回相同的输出，但是它不是一个纯粹的函数，因为它在修改一个全局变量。有一组事情是纯函数做不到的</p><ol class=""><li id="5034" class="ju jv hi ih b ii ij im in iq jw iu jx iy jy jc ko ka kb kc bi translated">纯函数不能修改全局变量。</li><li id="7a4f" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc ko ka kb kc bi translated">纯函数的输出不应该依赖于外部值或全局变量。</li><li id="4858" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc ko ka kb kc bi translated">一个纯函数不能操纵DOM(因为你在“变异”函数范围之外的东西。)</li><li id="bf26" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc ko ka kb kc bi translated">日志(甚至在控制台中)因为<code class="du kk kl km kn b">console</code>是一个<a class="ae jt" href="https://developer.mozilla.org/en-US/docs/Web/API" rel="noopener ugc nofollow" target="_blank">外部API </a>，而不是一个JavaScript方法。</li><li id="7da6" class="ju jv hi ih b ii kd im ke iq kf iu kg iy kh jc ko ka kb kc bi translated">打一个XHR/取货电话。因为我们使用外部资源。</li></ol><p id="73b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这都是关于纯函数的，在这里我们学到了什么是纯函数，它们能做什么，它们不应该做什么。我希望你喜欢阅读和学习纯函数。</p></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><p id="4ab2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后一个问题来了那么，我能让所有函数都是纯函数吗？</p><p id="7a93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是的，技术上来说，你可以。但是只有纯功能的应用可能做不了多少。你的应用程序会有副作用，比如HTTP调用、IO操作等等。请在尽可能多的地方使用纯函数。尽可能隔离不纯的功能(副作用)。这将大大提高你的程序的可读性、可调试性和可测试性。</p></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><p id="d6b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="kw">如果你明白我在这里说的任何话，请鼓掌回应并跟我来，因为这有助于我保持动力，并从我的日程安排中抽出时间来写这些文章。这不会花你任何钱，但会帮我很多忙</em></p></div><div class="ab cl kp kq gp kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hb hc hd he hf"><blockquote class="kx ky kz"><p id="1513" class="if ig kw ih b ii ij ik il im in io ip la ir is it lb iv iw ix lc iz ja jb jc hb bi translated">高拉夫·夏尔马是一个狂热的读者和热情的旅行者。他试图通过传播他的知识和他的生活经历来过一个更有意义和目标的生活！跟随他踏上平衡数字生活和现实生活的新旅程。他住在印度的北阿坎德邦。他在Instagram上的<a class="ae jt" href="https://www.instagram.com/golf._.sierra/" rel="noopener ugc nofollow" target="_blank"> @golf。_.塞拉</a></p></blockquote></div></div>    
</body>
</html>