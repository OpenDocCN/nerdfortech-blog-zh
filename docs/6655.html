<html>
<head>
<title>Hot Reload for SwiftUI and UIKit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SwiftUI 和 UIKit 的热重装</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/hot-reload-for-swiftui-and-uikit-347ff6c47282?source=collection_archive---------0-----------------------#2022-04-13">https://medium.com/nerd-for-tech/hot-reload-for-swiftui-and-uikit-347ff6c47282?source=collection_archive---------0-----------------------#2022-04-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/27e8cafff3802392903b0ff521726c5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6wpKU33nShtKatAbZG2XgQ.jpeg"/></div></div></figure><div class=""/><p id="5ee5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你好。</p><p id="8f64" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天我想向大家介绍一个非常热门的话题，我认为这是我见过的最好的 iOS 第三方库！</p><p id="03bd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我要呈现的第三方库是<strong class="is hu"> </strong> <a class="ae jo" href="https://github.com/krzysztofzablocki/Inject" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu"> <em class="jp">注入</em> </strong> </a>。</p><p id="4398" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一个由 Krzysztof zab ocki 制作的<a class="ae jo" href="https://merowing.info/2022/04/hot-reloading-in-swift/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">工具</em> </a>，多亏了他，我们可以在 UI 上看到关于视觉格式的变化，而无需重新编译，所有这些都在运行的应用程序中完成。</p><p id="e79a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其他平台才有的东西终于来找我们了！</p><p id="c8cb" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们用两种方式来施展魔法:SwiftUI 和 UIKit。</p><p id="3944" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">除了<a class="ae jo" href="https://github.com/krzysztofzablocki/Inject" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu"> <em class="jp">注射</em></strong></a><strong class="is hu"><em class="jp"/></strong>我们还需要用到<a class="ae jo" href="https://github.com/johnno1962/InjectionIII" rel="noopener ugc nofollow" target="_blank"> <strong class="is hu"> <em class="jp">注射</em></strong></a></p></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="8e35" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于 SwiftUI 和 UIKit，您需要进行相同的配置，即:</p><p id="9282" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">致 SPM:</p><ul class=""><li id="a728" class="jz ka ht is b it iu ix iy jb kb jf kc jj kd jn ke kf kg kh bi translated"><a class="ae jo" href="https://github.com/krzysztofzablocki/Inject.git" rel="noopener ugc nofollow" target="_blank">https://github.com/krzysztofzablocki/Inject.git</a></li><li id="6bb3" class="jz ka ht is b it ki ix kj jb kk jf kl jj km jn ke kf kg kh bi translated"><a class="ae jo" href="https://github.com/johnno1962/HotReloading.git" rel="noopener ugc nofollow" target="_blank">https://github.com/johnno1962/HotReloading.git</a></li></ul><p id="e991" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来转到构建设置，搜索其他链接器标志并添加:</p><ul class=""><li id="e958" class="jz ka ht is b it iu ix iy jb kb jf kc jj kd jn ke kf kg kh bi translated">-Xlinker</li><li id="c82c" class="jz ka ht is b it ki ix kj jb kk jf kl jj km jn ke kf kg kh bi translated">-可插值</li></ul><h2 id="9522" class="kn ko ht bd kp kq kr ks kt ku kv kw kx jb ky kz la jf lb lc ld jj le lf lg lh bi translated">SwiftUI:</h2><p id="c60c" class="pw-post-body-paragraph iq ir ht is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">现在，在目标视图文件中进行类似的更改，如下所示:</p><figure class="ln lo lp lq fd hk"><div class="bz dy l di"><div class="lr ls l"/></div></figure><ol class=""><li id="d561" class="jz ka ht is b it iu ix iy jb kb jf kc jj kd jn lt kf kg kh bi translated">导入注入</li><li id="6f23" class="jz ka ht is b it ki ix kj jb kk jf kl jj km jn lt kf kg kh bi translated">添加在发生更改时侦听通知的属性</li><li id="c724" class="jz ka ht is b it ki ix kj jb kk jf kl jj km jn lt kf kg kh bi translated">根据我们运行代码的平台，调用该方法将在 InjectionIII 中加载适当的包。</li></ol><h2 id="2fc8" class="kn ko ht bd kp kq kr ks kt ku kv kw kx jb ky kz la jf lb lc ld jj le lf lg lh bi translated">仅供参考:在对代码进行更改后，请记住保存文件(cmd + s ),或者等到 IDE 自动保存它。</h2><p id="f09f" class="pw-post-body-paragraph iq ir ht is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">现在，开始项目，你应该看到像这样的魔术:</p><figure class="ln lo lp lq fd hk"><div class="bz dy l di"><div class="lu ls l"/></div></figure><h2 id="7ded" class="kn ko ht bd kp kq kr ks kt ku kv kw kx jb ky kz la jf lb lc ld jj le lf lg lh bi translated">UIKit:</h2><p id="59fa" class="pw-post-body-paragraph iq ir ht is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">在 UIKit 中，我们可以添加对从 UIViewController 或 UIView 继承的对象的跟踪。</p><p id="b5c8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">与 SwiftUI 配置相比，这两种情况下的设置都很简单:</p><p id="47b1" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> UIViewController: </strong></p><figure class="ln lo lp lq fd hk"><div class="bz dy l di"><div class="lr ls l"/></div></figure><p id="30ad" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果:</p><figure class="ln lo lp lq fd hk"><div class="bz dy l di"><div class="lu ls l"/></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">ViewController.swift 文件</figcaption></figure><h2 id="7dc2" class="kn ko ht bd kp kq kr ks kt ku kv kw kx jb ky kz la jf lb lc ld jj le lf lg lh bi translated">UIView:</h2><figure class="ln lo lp lq fd hk"><div class="bz dy l di"><div class="lr ls l"/></div></figure><p id="7ef9" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果:</p><figure class="ln lo lp lq fd hk"><div class="bz dy l di"><div class="lu ls l"/></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">SomeView.swift 文件</figcaption></figure></div><div class="ab cl js jt gp ju" role="separator"><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx jy"/><span class="jv bw bk jw jx"/></div><div class="hb hc hd he hf"><p id="1e20" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢<a class="ae jo" href="https://github.com/krzysztofzablocki/Inject" rel="noopener ugc nofollow" target="_blank"> <em class="jp">注入</em> </a> <em class="jp">，</em>我们代码中的变化可以即时可见！当我们只想对单个文件中的几行代码进行小的修改时，考虑到有时需要花费多少时间来重新构建整个项目，这确实很方便。</p><p id="1404" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢您花时间阅读到目前为止。</p><p id="c535" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">祝你好运！</p><p id="c921" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">全码</strong>:<a class="ae jo" href="https://github.com/Rafal-Prazynski/Inject_medium" rel="noopener ugc nofollow" target="_blank">https://github.com/Rafal-Prazynski/Inject_medium</a></p><h1 id="453a" class="lz ko ht bd kp ma mb mc kt md me mf kx mg mh mi la mj mk ml ld mm mn mo lg mp bi translated">附言:</h1><p id="4d8a" class="pw-post-body-paragraph iq ir ht is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">如果您遇到未定义的<code class="du mq mr ms mt b">FSEventStream*</code>符号，这是由于在模拟器中使用了 macOS api，如果添加以下附加“其他链接器标志”，您会发现这种情况会消失:</p><ul class=""><li id="e928" class="jz ka ht is b it iu ix iy jb kb jf kc jj kd jn ke kf kg kh bi translated">-Xlinker</li><li id="5616" class="jz ka ht is b it ki ix kj jb kk jf kl jj km jn ke kf kg kh bi translated">-未定义</li><li id="bccc" class="jz ka ht is b it ki ix kj jb kk jf kl jj km jn ke kf kg kh bi translated">-Xlinker</li><li id="907f" class="jz ka ht is b it ki ix kj jb kk jf kl jj km jn ke kf kg kh bi translated">动态查找</li></ul></div></div>    
</body>
</html>