<html>
<head>
<title>The importance of the compare function in angular material select</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">比较函数在角材选择中的重要性</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-importance-of-the-compare-function-in-angular-material-select-4ad273bbe777?source=collection_archive---------3-----------------------#2021-04-10">https://medium.com/nerd-for-tech/the-importance-of-the-compare-function-in-angular-material-select-4ad273bbe777?source=collection_archive---------3-----------------------#2021-04-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="7b4e" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">选择不加载我以前选择的选项。为什么？</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/f01eac96d4489376c7da2bb469a9882f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*exOAGJHhd5aXYzvo"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">照片由<a class="ae jn" href="https://unsplash.com/@halacious?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">HalGatewood.com</a>在<a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><p id="183c" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在本文中，我们可以了解比较函数<code class="du kr ks kt ku b">compareWith</code>的重要性，这个属性与表单控件<code class="du kr ks kt ku b">&lt;mat-select&gt;</code>一起使用，用于比较选项值和选定值。</p><p id="b29e" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在选择材料时，我们经常会忘记一些重要的元素或属性，没有这些元素或属性，选择将无法按预期进行。在我的演示中，我将使用一个包含两个组件的简单角度项目。在第一页上，用户可以选择一种颜色，然后导航到下一页并返回以查看选择是否加载了之前选择的选项。</p><h1 id="c389" class="kv kw hi bd kx ky kz la lb lc ld le lf io lg ip lh ir li is lj iu lk iv ll lm bi translated">答。先决条件</h1><h2 id="13da" class="ln kw hi bd kx lo lp lq lb lr ls lt lf ke lu lv lh ki lw lx lj km ly lz ll ma bi translated"><strong class="ak">导入</strong> API 引用</h2><p id="45a4" class="pw-post-body-paragraph jv jw hi jx b jy mb ij ka kb mc im kd ke md kg kh ki me kk kl km mf ko kp kq hb bi translated">角度材料选择的 API 参考需要导入角度应用模块。</p><pre class="iy iz ja jb fd mg ku mh mi aw mj bi"><span id="96d2" class="ln kw hi ku b fi mk ml l mm mn">import {MatSelectModule} from '@angular/material/select';</span></pre><h2 id="09d1" class="ln kw hi bd kx lo lp lq lb lr ls lt lf ke lu lv lh ki lw lx lj km ly lz ll ma bi translated">具有材料形式字段</h2><blockquote class="mo mp mq"><p id="5c93" class="jv jw mr jx b jy jz ij ka kb kc im kd ms kf kg kh mt kj kk kl mu kn ko kp kq hb bi translated">“它被设计成在一个<code class="du kr ks kt ku b"><a class="ae jn" href="https://material.angular.io/components/form-field/overview" rel="noopener ugc nofollow" target="_blank">&lt;mat-form-field&gt;</a></code>元素内工作”，<em class="hi">根据</em> <a class="ae jn" href="https://material.angular.io/components/select/api" rel="noopener ugc nofollow" target="_blank"> material.angular </a></p></blockquote><h2 id="999a" class="ln kw hi bd kx lo lp lq lb lr ls lt lf ke lu lv lh ki lw lx lj km ly lz ll ma bi translated">拥有 HTML 视图和模块元素</h2><p id="2983" class="pw-post-body-paragraph jv jw hi jx b jy mb ij ka kb mc im kd ke md kg kh ki me kk kl km mf ko kp kq hb bi translated">我们需要一个带有<code class="du kr ks kt ku b">&lt;mat-select&gt;</code>的表单字段，其中包含由<code class="du kr ks kt ku b">&lt;mat-options&gt;</code>元素持有的选项。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">main-page-component.html</figcaption></figure><p id="28d3" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在我们的 angular 模块中，我们需要一个表单域元素来存储我们的数据，在我们的例子中是从颜色列表中选择的颜色。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">主页组件. ts</figcaption></figure><h2 id="e592" class="ln kw hi bd kx lo lp lq lb lr ls lt lf ke lu lv lh ki lw lx lj km ly lz ll ma bi translated">存储我们选择的数据</h2><p id="855e" class="pw-post-body-paragraph jv jw hi jx b jy mb ij ka kb mc im kd ke md kg kh ki me kk kl km mf ko kp kq hb bi translated">在我们的示例中，我们将数据存储在浏览器的本地存储中。在其他情况下，这可能由从后端服务器获取数据并将其加载到<code class="du kr ks kt ku b">FormControl</code>的服务来执行。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">主页组件. ts</figcaption></figure><p id="cfa1" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">导航到下一页时，所选颜色将保存在单击事件中。</p><p id="66b0" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">除此之外，我们有两个模块，主要模块，我们可以选择一种颜色，另一个用于演示目的。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h1 id="ea05" class="kv kw hi bd kx ky mx la lb lc my le lf io mz ip lh ir na is lj iu nb iv ll lm bi translated">[B]。选择不加载我以前选择的选项！为什么以及如何解决</h1><p id="b7ba" class="pw-post-body-paragraph jv jw hi jx b jy mb ij ka kb mc im kd ke md kg kh ki me kk kl km mf ko kp kq hb bi translated">当导航到下一页，然后返回到主页时，我们可以看到数据被正确地存储并加载到我们的表单字段中，但是我们注意到 select 字段没有预加载我们的选项值。</p><p id="a360" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">这是因为我们在 HTML 视图中没有使用<code class="du kr ks kt ku b">compareWith</code>功能，因此物料选择不知道如何从其他选择选项中比较和选择我们的项目。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">main-page-component.html</figcaption></figure><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mv mw l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">主页组件. ts</figcaption></figure><p id="1cf4" class="pw-post-body-paragraph jv jw hi jx b jy jz ij ka kb kc im kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">我们可以有多种形式的比较。在上面的例子中，我们指定了我们想要比较两个对象的确切模型。在返回一个<code class="du kr ks kt ku b">boolean</code>值的限制下，<code class="du kr ks kt ku b">compareWith</code>函数可以根据我们的需要定制。</p></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h1 id="0f79" class="kv kw hi bd kx ky mx la lb lc my le lf io mz ip lh ir na is lj iu nb iv ll lm bi translated">D。工作示例源代码</h1><p id="1789" class="pw-post-body-paragraph jv jw hi jx b jy mb ij ka kb mc im kd ke md kg kh ki me kk kl km mf ko kp kq hb bi translated">下面你可以在我做的一个简单的例子中看到这一点，如果我们不写一个<code class="du kr ks kt ku b">compareWith </code>函数，选中的颜色将在从下一页返回后消失，即使它被加载到<code class="du kr ks kt ku b">FormControl</code>中。</p><h2 id="1808" class="ln kw hi bd kx lo lp lq lb lr ls lt lf ke lu lv lh ki lw lx lj km ly lz ll ma bi translated">请在此查看源代码:</h2><blockquote class="mo mp mq"><p id="feba" class="jv jw mr jx b jy jz ij ka kb kc im kd ms kf kg kh mt kj kk kl mu kn ko kp kq hb bi translated"><a class="ae jn" href="https://github.com/bnam0154/AngularMaterialSelect" rel="noopener ugc nofollow" target="_blank">https://github.com/bnam0154/AngularMaterialSelect</a></p></blockquote></div><div class="ab cl jo jp gp jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="hb hc hd he hf"><h1 id="2070" class="kv kw hi bd kx ky mx la lb lc my le lf io mz ip lh ir na is lj iu nb iv ll lm bi translated"><strong class="ak">【E】。</strong>资源。<strong class="ak">去哪里找更多！</strong></h1><p id="0933" class="pw-post-body-paragraph jv jw hi jx b jy mb ij ka kb mc im kd ke md kg kh ki me kk kl km mf ko kp kq hb bi translated">属性的详细描述可以在官方的 Angular 文档中找到，其中有更有用的指令和示例。</p><div class="nc nd ez fb ne nf"><a href="https://material.angular.io/components/select/api" rel="noopener  ugc nofollow" target="_blank"><div class="ng ab dw"><div class="nh ab ni cl cj nj"><h2 class="bd hj fi z dy nk ea eb nl ed ef hh bi translated">角状材料</h2><div class="nm l"><h3 class="bd b fi z dy nk ea eb nl ed ef dx translated">用于移动和桌面 Angular web 应用程序的 UI 组件基础结构和材料设计组件。</h3></div><div class="nn l"><p class="bd b fp z dy nk ea eb nl ed ef dx translated">材料.角度. io</p></div></div><div class="no l"><div class="np l nq nr ns no nt jh nf"/></div></div></a></div></div></div>    
</body>
</html>