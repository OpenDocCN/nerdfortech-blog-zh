<html>
<head>
<title>SWAP() Function</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SWAP()函数</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/swap-function-1793f4acf10e?source=collection_archive---------17-----------------------#2021-07-10">https://medium.com/nerd-for-tech/swap-function-1793f4acf10e?source=collection_archive---------17-----------------------#2021-07-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/861ed732be48b8fa7a113cac10d96cf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*ezPYZLukU6DzNVyHmk1ngQ.png"/></div></div></figure><blockquote class="iq ir is"><p id="4abe" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">交换</strong> () <strong class="iw hj">函数</strong>用于<strong class="iw hj">交换</strong>两个数。</p></blockquote><h1 id="0039" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">交换功能是如何在机器级别发生的？</h1><p id="32f1" class="pw-post-body-paragraph it iu hi iw b ix kq iz ja jb kr jd je ks kt jh ji ku kv jl jm kw kx jp jq jr hb bi translated">步骤01: 首先，你要创建一个目录。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/bb24f70c8fc1ad9b559b7539604e85f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q6nd8149cpCe_D5Dshwzsg.png"/></div></div></figure><p id="d981" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">步骤02: 创建一个交换。c文件。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/cc383fbb7c69a0bc9ae2541ae10d029e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aa3XhP6IemenABgngbqohA.png"/></div></div></figure><p id="a181" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">当我们描述上面的交换代码时。</p><p id="ae02" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">首先，我们需要使用scanf语句接受两个数字。现在，您需要将两个变量的地址传递给函数。参数传递方案称为按指针传递。现在看一下函数定义，我们已经将两个变量的地址从主函数传递给了交换函数。所以我们需要一个变量容器来存储整型变量的地址，即:整型指针。因此，第一个数字的地址将被收集在“a”指针变量中，而第二个数字将被收集在“b”指针变量中。</p><p id="f813" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">步骤03: </strong>运行并编译swap.c代码。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/b183a3c7694f8f9501125ed2dafd521d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WWGzC-7YKZVzg9-TAHrUgA.png"/></div></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/7a6a522911ab5f5d00dd44c890bcbbfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oiAi8XMknUMibHc-3HNNrQ.png"/></div></div></figure><p id="ea0c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">步骤04: </strong>下图5显示了删除编译交换文件。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/f4fd0e8f844fb51423437d87c9f545a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GysDcmKCDfkbJECp5r0JBQ.png"/></div></div></figure><p id="8a59" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">步骤05: </strong>编译32位程序。我的机器是64位机器，我已经处理了32位。</p><p id="3306" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">我用了“gcc swap . c-o swap-fno-stack-protector-32”</p><p id="7f1a" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">然后我得到一个错误“无法定位libc6-dev-i386包</p><p id="4186" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">我用代码“sudo apt-get install libc 6-dev-i386”解决了这个错误</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/002144425dbacc1f7f11607e8d2c2ad1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UrhvX601QrDVPnuxsfvOPw.png"/></div></div></figure><p id="5359" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">步骤06: </strong>之后再次编译32位代码。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/792902da056e1a26139db7d41c37cf12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UYnS4H-QlEWcAxnvVG0L6g.png"/></div></div></figure><p id="e152" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">步骤07: </strong>执行带“”的代码。/swap”。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/eea7682fe72b5a4867c4dbacf82a8578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*urm9gXtVuXpU2aeeMjdadg.png"/></div></div></figure><p id="771b" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">步骤08: </strong>用“gcc -s swap.c”组装代码，得到文件a.out</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/9fb0340ededa31a2091dea3720018616.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wCb-xtNd-AG9u103bp2vMA.png"/></div></div></figure><p id="b651" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">步骤09: </strong>然后我用objdump得到了反汇编的代码。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/252ecb16985a2d4d88ea1faef040317f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2WmyJNHW6nTt5EO_xcNjTQ.png"/></div></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ky"><img src="../Images/27933fcf5a816e53fc8248859477d8cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aSZgszz3mV6adWQEeWLrSw.png"/></div></div></figure><p id="a8fa" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated"><strong class="iw hj">我们来解释一下流程。</strong></p><p id="7556" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">080483b4 <swap>:</swap></p><p id="5a2f" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">80483b4: 53推送%ebx</p><p id="0f7a" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">80483b5: 8b 54 2408 mov 0x8(%esp)，%edx</p><p id="93f9" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">80483b9: 8b 44 240c mov 0xc(%esp)，%eax</p><p id="4dc4" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">80483bd: 8b 0a mov (%edx)，%ecx</p><p id="6169" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">80483bf: 8b 18 mov (%eax)，%ebx</p><p id="2606" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">80483c1: 89 1a mov %ebx，(%edx)</p><p id="30c6" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">80483c3: 89 08 mov %ecx，(%eax)</p><p id="c2e7" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">80483c5: 5b pop %ebx</p><p id="b377" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je ks jg jh ji ku jk jl jm kw jo jp jq jr hb bi translated">80483c6: c3 ret</p><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es ld"><img src="../Images/80589a6891964c56105b41b50bd26afd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*DqzWVlHl1PjnsL6UwqPciA.png"/></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es le"><img src="../Images/ce8b2fc3fa26f37fde8ff9fbb53347d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*1Iy5o3bxuqTdCC8YFTFhvw.png"/></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es lf"><img src="../Images/7ae0f31c702c4c4220c387a75734369f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*FIZ1XzxvkxKFQEmsWhzkpw.png"/></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/7cf5663481f7aa683158472354bdc479.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*yrA_-n9Mq2sDUuKgd_zOGQ.png"/></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es lg"><img src="../Images/f2f70c885d368bac3492467b173fbed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*XQ66DudC9ZfsqUDFiwHB2w.png"/></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es lh"><img src="../Images/fa2472df8a564bb435f055153259ae84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*ouSC8FAofzRpwjJZWHGUxw.png"/></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es li"><img src="../Images/c5c4718868b7332fc23b935d5480b233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*oTnX80SOeQbtBkUD7Jch1A.png"/></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es lj"><img src="../Images/a07cdc99af59a9e2af4b64e5802817eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*gzZVlkWXBGkc7Kw0YnMNkQ.png"/></div></figure><figure class="kz la lb lc fd ij er es paragraph-image"><div class="er es lk"><img src="../Images/872fc8cc73ef85641e9437699395a2df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*I-Oj0NGTh8stSjpyG782hw.png"/></div></figure></div></div>    
</body>
</html>