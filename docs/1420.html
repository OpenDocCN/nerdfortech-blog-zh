<html>
<head>
<title>OpenAPI Specification — Swagger Authentication</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OpenAPI 规范— Swagger 认证</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/openapi-specification-swagger-authentication-c150f86748ea?source=collection_archive---------1-----------------------#2021-03-18">https://medium.com/nerd-for-tech/openapi-specification-swagger-authentication-c150f86748ea?source=collection_archive---------1-----------------------#2021-03-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3010986a6e4e29dba767f8804e533c2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHEaLIcfeMO97p7ug0MUbA.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://www.synopsys.com/blogs/software-security/wp-content/uploads/2020/05/api-security-offtoagoodstart.jpg" rel="noopener ugc nofollow" target="_blank">https://www . synopsys . com/blogs/software-security/WP-content/uploads/2020/05/API-security-offtoagodstart . jpg</a></figcaption></figure><p id="f80f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">我为什么信任你？</em>这是 API 可以向访问 API 资源的客户提出的问题。当需要保护资源，防止未经授权的访问时，它可能会要求提供客户端凭据。</p><p id="ae44" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在第 2 部分——哦，等等，你可以通过<a class="ae iu" href="https://sourabhparsekar.medium.com/open-api-specification-swagger3-fc9ad3bbacdd" rel="noopener">第 1 部分——了解基本的 Swagger 3 OAS </a>,没有认证复杂性。第 1 部分涵盖了什么是 Swagger &amp; OAS，它如何改进 API 文档，以及它如何使<strong class="ix hj"> <em class="jt"> other </em> </strong>开发者的生活变得简单。</p><blockquote class="ju jv jw"><p id="e2cd" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><em class="hi"/><a class="ae iu" href="https://swagger.io/specification/" rel="noopener ugc nofollow" target="_blank"><em class="hi">open API 规范</em> </a> <em class="hi"> (OAS)为 RESTful APIs 定义了一个标准的、与语言无关的接口，允许人类和计算机在不访问源代码、文档或通过网络流量检查的情况下发现和理解服务的功能。</em></p><p id="0ae0" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><a class="ae iu" href="https://swagger.io/tools/swagger-ui/" rel="noopener ugc nofollow" target="_blank"><em class="hi">Swagger UI</em></a><em class="hi">生成一个交互式 API 文档，让消费者通过与实时 API 交互，直接在浏览器中试用 API 调用。</em></p></blockquote><p id="07b2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文的第 2 部分中，我们将看到如何保护我们的 swagger 端点。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="b0e0" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">为什么和什么是 API 安全？</h1><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es lf"><img src="../Images/efde0630b489ede5fa8849b5b1529a48.png" data-original-src="https://miro.medium.com/v2/resize:fit:602/format:webp/1*ss37HpMbLZ-tU_diZIfI6g.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://www.soapui.org/learn/security/state-of-api-security/" rel="noopener ugc nofollow" target="_blank">https://www . soap ui . org/learn/security/state-of-API-security/</a></figcaption></figure><p id="12e0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Guy Levin 在他的博客中写了五大 REST API 安全指南。正如他所说，我们有许多动词，即 GET、POST、PUT、DELETE 等来通过 HTTP 访问和修改资源，但是所有的资源都需要被认证。</p><p id="3516" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对于身份验证，我们将只验证客户端/用户应用程序的身份。</p><p id="9e4e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本文中，我们没有看到角色或其他 Spring 认证是如何工作的。我们将看到开发人员如何配置 OAuth 令牌(<em class="jt">让我们在下一节</em>中看看它的含义)，然后验证它，只是为了展示它是如何完成的。我们只是看到了其中一个选项，有多种方式进行身份验证和授权。</p><p id="bf57" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你可以随时用新的认证方式更新我的<a class="ae iu" href="https://github.com/sourabhparsekar/open-api-spec" rel="noopener ugc nofollow" target="_blank"> GitHub </a>库。随意派生、使用和重用存储库。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="5954" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">让我们检查几种验证 HTTP 请求的方法</h1><h2 id="9dbf" class="lk ki hi bd kj ll lm ln kn lo lp lq kr jg lr ls kv jk lt lu kz jo lv lw ld lx bi translated">HTTP 基本身份验证</h2><p id="36c0" class="pw-post-body-paragraph iv iw hi ix b iy ly ja jb jc lz je jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">这是最简单的技术，我们将用户名和密码组合在一起形成一个值。然后，这个值用 Base64 编码，并通过 HTTP 头授权传递。服务器检查授权头，并将其与存储的凭证(用户名和密码)进行比较。如果它们匹配，服务器满足客户端的请求。然而，如果它们不匹配，则指示未授权访问的 HTTP 状态代码 401 被发送回请求者。该代码通知客户端身份验证失败，因此客户端的请求被拒绝。</p><h2 id="81ef" class="lk ki hi bd kj ll lm ln kn lo lp lq kr jg lr ls kv jk lt lu kz jo lv lw ld lx bi translated">OAuth 认证</h2><p id="bcc2" class="pw-post-body-paragraph iv iw hi ix b iy ly ja jb jc lz je jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">OAuth 是一种基于令牌的身份验证，也可以涵盖授权。在发出请求之前，客户端需要向身份验证服务器请求一个身份验证令牌。该令牌被添加到 HTTP 授权报头中，并与请求一起发送。服务器需要将令牌转发给身份验证服务器或在本地对其进行验证。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es md"><img src="../Images/998872874a5d6ee79169459384551f5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ZmFPRYfqwY9TmuWGbZmFw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://pragmaticwebsecurity.com/files/cheatsheets/oauth2securityfordevelopers.pdf" rel="noopener ugc nofollow" target="_blank">https://pragmatic web security . com/files/cheat sheets/oauth 2 security fordevelopers . pdf</a></figcaption></figure><p id="7816" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">OAuth 认证实际上比其他可用的认证机制更安全，它很快成为许多客户端和应用程序的首选。出于同样的原因，我们将看到如何使用 Swagger3 - OpenAPI 规范实现 OAuth 令牌验证。令牌授权不会完全实现，但我们将编写足够的代码来了解令牌如何传递给决定接受或拒绝请求的服务层。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="9ffe" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">让我们看看代码实现</h1><p id="cb47" class="pw-post-body-paragraph iv iw hi ix b iy ly ja jb jc lz je jf jg ma ji jj jk mb jm jn jo mc jq jr js hb bi translated">现在我们知道了为什么身份验证如此重要，以及我们可以用什么方法做到这一点，让我们看看如何将它集成到我们的项目中。对于这个例子，我使用的是<a class="ae iu" href="https://docs.spring.io/spring-boot/docs/2.3.4.RELEASE/reference/html/index.html" rel="noopener ugc nofollow" target="_blank">spring boot-2 . 3 . 4 . release</a>、<a class="ae iu" href="https://maven.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Maven </a>作为构建工具，以及<a class="ae iu" href="https://www.oracle.com/java/technologies/java8.html" rel="noopener ugc nofollow" target="_blank"> Java 8 </a>。完整的演示项目代码可在<a class="ae iu" href="https://github.com/sourabhparsekar/open-api-spec" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得。参考<a class="ae iu" href="https://github.com/sourabhparsekar/open-api-spec#readme" rel="noopener ugc nofollow" target="_blank"> README.md </a>文件，在您的本地环境中设置并运行项目。</p><blockquote class="ju jv jw"><p id="24f4" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="ix hj"> <em class="hi">我们的最终目标是什么？</em> </strong></p></blockquote><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/ad4d1468bd3e301f0cf886a22c3c7380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FHb1mzR9Pre_SFLlaWHLtw.png"/></div></div></figure><p id="4b38" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将逐步了解如何在 Swagger UI - OpenAPI 规范中添加身份验证。</p><p id="96d9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还将看到如何使用它来测试我们的服务。务必使用<a class="ae iu" href="https://github.com/sourabhparsekar/open-api-spec" rel="noopener ugc nofollow" target="_blank">样本代码</a>亲自尝试一下。</p><p id="5522" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">那么让游戏开始吧……</em></p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><blockquote class="ju jv jw"><p id="b5c1" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="ix hj">第一步:OpenAPI 规范 Maven 依赖</strong></p></blockquote><p id="f127" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在 Swagger 中设置身份验证不需要额外的依赖。最新版本的<code class="du mf mg mh mi b">springdoc-openapi-ui</code>可以在<a class="ae iu" href="https://search.maven.org/classic/#search%7Cga%7C1%7Cspringdoc-openapi-ui" rel="noopener ugc nofollow" target="_blank"> <em class="jt"> Maven 中央</em> </a> <em class="jt">上找到。</em>要将它添加到我们的 Maven 项目中，我们需要在<em class="jt"> pom.xml </em>中添加依赖项</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="mj mk l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">springdoc-openapi-ui 的依赖关系</figcaption></figure><blockquote class="ju jv jw"><p id="5d87" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="ix hj">第二步:使用跳趾的摇摆配置</strong></p></blockquote><p id="b682" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Swagger3 的配置需要<code class="du mf mg mh mi b"><strong class="ix hj">OpenAPI</strong></code> bean。还可以使用 OpenAPI bean 添加许可证和联系信息。为了认证，我们必须调用<code class="du mf mg mh mi b"><strong class="ix hj">addSecurityItem(SecurityRequirement securityItem)</strong></code> <strong class="ix hj"> </strong>，它在授权模式中添加消息。我们还为必要的安全模式添加了组件。安全模式由模式名称、类型、方案和其他细节组成。</p><p id="3232" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们的例子中，我们使用 JWT 令牌的不记名令牌。以下是我们的 swagger 配置:</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="mj mk l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">使用载体认证的 Swagger 配置</figcaption></figure><blockquote class="ju jv jw"><p id="bd7d" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="ix hj">第三步:授权按钮:运行应用程序</strong></p></blockquote><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es ml"><img src="../Images/27ba45aba5c0a9a2bcad4c060000ac6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:332/format:webp/1*XMsvfVyXTfpt0ku9e4jGQQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">授权按钮</figcaption></figure><p id="e02a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就像之前的代码变化一样，Swagger 现在会在右上角显示“<code class="du mf mg mh mi b"><strong class="ix hj">Authorize</strong></code>”按钮。</p><p id="975e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还没有为实际的身份验证编写任何代码，但是是的，swagger UI 的更改已经完成。当我们点击授权按钮，下面的模式应该弹出，我们可以添加令牌和授权的 API。现在您可以像以前一样调用 API 了。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/35564e43c9c4e5a2353364774fa4c604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*raNnCkSCFtAWJPAU8QzVTg.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">Swagger 授权令牌的输入屏幕</figcaption></figure><blockquote class="ju jv jw"><p id="3fac" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="ix hj">步骤 4:让我们修改代码来验证令牌</strong></p></blockquote><p id="7345" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，我们不打算进行完整的实现来验证 JWT 令牌。然而，我们将尝试生成<a class="ae iu" href="https://jwt.io/" rel="noopener ugc nofollow" target="_blank"> JWT 令牌</a>并在我们的请求中传递它们。</p><p id="647f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们看看下面的代码，看看是什么改变了！！</p><figure class="lg lh li lj fd ij"><div class="bz dy l di"><div class="mj mk l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">创建员工的安全 HTTP Post 端点</figcaption></figure><p id="50ef" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如我们所看到的，我们在现有的代码中添加了一些东西</p><ol class=""><li id="ec19" class="mn mo hi ix b iy iz jc jd jg mp jk mq jo mr js ms mt mu mv bi translated">对于<code class="du mf mg mh mi b"><strong class="ix hj">HttpStatus</strong></code>代码 401，我们有一个额外的<code class="du mf mg mh mi b"><strong class="ix hj">ApiResponse</strong></code>来指示由于令牌验证失败而导致的未经授权的用户请求。</li><li id="97fa" class="mn mo hi ix b iy mw jc mx jg my jk mz jo na js ms mt mu mv bi translated">我们添加了<code class="du mf mg mh mi b"><strong class="ix hj">HttpServletRequest</strong></code>参数来读取 servlet 请求。</li><li id="db07" class="mn mo hi ix b iy mw jc mx jg my jk mz jo na js ms mt mu mv bi translated">添加 Try-catch 块是为了捕获身份验证失败并返回带有 401 HttpStatus 代码的响应</li><li id="2758" class="mn mo hi ix b iy mw jc mx jg my jk mz jo na js ms mt mu mv bi translated">我还添加了额外的服务类来验证令牌，否则会在令牌无效的情况下抛出身份验证异常。这个令牌是从<code class="du mf mg mh mi b"><strong class="ix hj">HttpServletRequest</strong></code>报头中提取的。<code class="du mf mg mh mi b"><strong class="ix hj">httpServletRequest.getHeader(HttpHeaders.<em class="jt">AUTHORIZATION</em>)</strong></code></li></ol><blockquote class="ju jv jw"><p id="6e3b" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="ix hj">步骤 5:行动中的认证</strong></p></blockquote><p id="520a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们之前已经了解了如何使用<code class="du mf mg mh mi b"><strong class="ix hj">Authorize</strong></code>按钮。当发送请求时，令牌被应用于所有 API 头。我们将着眼于创建新的员工记录。其他 API 以类似的方式运行。</p><p id="9322" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">请求:</strong>我们已经添加了令牌和请求体。</p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nb"><img src="../Images/62948b75c75a6d2233285bb8ad112ba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FXZmXUj1BwI34XQV5GVZlg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">带有令牌验证的 Swagger Post 请求</figcaption></figure><p id="e3e7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">响应:</strong>我们可以看到，对于 swagger 生成的 curl 请求，在请求头中分配了 token。</p><p id="108a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">你可以试着看看不设置令牌时会发生什么。</em></p><figure class="lg lh li lj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/6ee77ac34e8f9da6fb956d5bb9442e9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9SZIx494gsUirfpAPc5Q8A.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">使用令牌身份验证的招摇 Post 响应</figcaption></figure><blockquote class="ju jv jw"><p id="3cfc" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">第六步:瞧。我们完了！！考验的时候到了</p></blockquote><figure class="lg lh li lj fd ij er es paragraph-image"><div class="er es nd"><img src="../Images/a615ddcd21d4dc589490c6c87d76cc5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:282/format:webp/0*0QWgxtuXXxUAEuS7.png"/></div></figure><p id="9e7a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">霸气"<code class="du mf mg mh mi b"><strong class="ix hj">Try it out</strong></code>"</p><p id="42e6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您已经在本地机器上下载了<a class="ae iu" href="https://github.com/sourabhparsekar/open-api-spec" rel="noopener ugc nofollow" target="_blank">示例代码</a>，编译并运行了它，那么您可能已经在您最喜欢的浏览器中加载了 Swagger UI。</p><p id="24a2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要运行 swagger，在运行 SpringBoot 应用程序后，您可以点击 URL:</p><p id="d037" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du mf mg mh mi b">http://localhost:10001/open-api-demo/swagger-ui.html</code></p><blockquote class="ju jv jw"><p id="3147" class="iv iw jt ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated">作为下载、编译和/或运行代码的指南，请参考示例代码根目录中的<code class="du mf mg mh mi b">README.md</code>文件。如果你仍然不能让它工作，给我留言或笔记。我们可以一起努力让它成功。毕竟，把手弄脏会让你更容易理解。</p></blockquote><p id="eb14" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我假设示例代码在您的系统上运行良好。Swagger 针对每个 API 都有一个内置的“<code class="du mf mg mh mi b"><strong class="ix hj">Authorize</strong></code>”、&amp;、<code class="du mf mg mh mi b"><strong class="ix hj">Try it out</strong></code>按钮，它能够运行请求，以便消费者可以验证输出。它还显示了与授权头和其他参数一起发送的请求。</p><p id="8b7e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，当您尝试执行请求时，Swagger UI 将读取请求的定义，并期望使用者提供相关的测试数据，如路径/查询参数或请求体。一旦提供了数据，消费者可以点击<code class="du mf mg mh mi b"><strong class="ix hj">Execute</strong></code>按钮来运行请求，请求的响应被返回。</p><p id="4e05" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，我们用 OAuth 令牌更新了 SpringBoot 应用程序。我们添加了 Swagger 依赖项和身份验证所需的 OpenAPI 规范配置。</p><p id="4429" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这样，我们为 API 文档  <em class="jt">向 Swagger UI 添加认证的旅程就结束了。</em></p><p id="82f1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt">直到下次再见…继续编码...继续学习…继续分享… </em></p><p id="2d59" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请随意发表评论，让我知道你喜欢什么或不喜欢什么。我非常期待您的建议和反馈，告诉我如何做得更好。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="a383" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">参考资料:</h1><div class="ne nf ez fb ng nh"><a href="https://sourabhparsekar.medium.com/open-api-specification-swagger3-fc9ad3bbacdd" rel="noopener follow" target="_blank"><div class="ni ab dw"><div class="nj ab nk cl cj nl"><h2 class="bd hj fi z dy nm ea eb nn ed ef hh bi translated">开放 API 规范— Swagger3</h2><div class="no l"><h3 class="bd b fi z dy nm ea eb nn ed ef dx translated">SpringBoot API 文档</h3></div><div class="np l"><p class="bd b fp z dy nm ea eb nn ed ef dx translated">sourabhparsekar.medium.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv io nh"/></div></div></a></div><div class="ne nf ez fb ng nh"><a href="https://rapidapi.com/blog/api-glossary/api-authentication/#:~:text=Since%20API%20is%20a%20profound,to%20authorized%20full%20access%20when" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab dw"><div class="nj ab nk cl cj nl"><h2 class="bd hj fi z dy nm ea eb nn ed ef hh bi translated">什么是 API 认证？| API 验证定义| RapidAPI</h2><div class="no l"><h3 class="bd b fi z dy nm ea eb nn ed ef dx translated">我们都知道 API 是帮助客户机和服务器通信的软件协议和工具。然而……</h3></div><div class="np l"><p class="bd b fp z dy nm ea eb nn ed ef dx translated">rapidapi.com</p></div></div><div class="nq l"><div class="nw l ns nt nu nq nv io nh"/></div></div></a></div><div class="ne nf ez fb ng nh"><a href="https://blog.restcase.com/top-5-rest-api-security-guidelines/" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab dw"><div class="nj ab nk cl cj nl"><h2 class="bd hj fi z dy nm ea eb nn ed ef hh bi translated">5 大 REST API 安全指南</h2><div class="no l"><h3 class="bd b fi z dy nm ea eb nn ed ef dx translated">开发 REST API 时，必须从一开始就注意安全性。在这篇文章中，我将回顾并…</h3></div><div class="np l"><p class="bd b fp z dy nm ea eb nn ed ef dx translated">blog.restcase.com</p></div></div><div class="nq l"><div class="nx l ns nt nu nq nv io nh"/></div></div></a></div><div class="ne nf ez fb ng nh"><a href="https://www.baeldung.com/spring-security-oauth2-jws-jwk" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab dw"><div class="nj ab nk cl cj nl"><h2 class="bd hj fi z dy nm ea eb nn ed ef hh bi translated">Spring 安全 OAuth2 应用程序中的| Baeldung</h2><div class="no l"><h3 class="bd b fi z dy nm ea eb nn ed ef dx translated">在本教程中，我们将了解 JSON Web 签名(JWS)，以及如何使用 JSON Web Key 实现它…</h3></div><div class="np l"><p class="bd b fp z dy nm ea eb nn ed ef dx translated">www.baeldung.comm</p></div></div><div class="nq l"><div class="ny l ns nt nu nq nv io nh"/></div></div></a></div></div></div>    
</body>
</html>