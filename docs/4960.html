<html>
<head>
<title>How Deadlines Fast-Tracked my Career at Amazon</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">截止日期如何快速跟踪我在亚马逊的职业生涯</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/anatomy-of-a-helpful-deadline-at-amazon-21231085a4e1?source=collection_archive---------0-----------------------#2021-08-17">https://medium.com/nerd-for-tech/anatomy-of-a-helpful-deadline-at-amazon-21231085a4e1?source=collection_archive---------0-----------------------#2021-08-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="9bf3" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">在沙滩上画线是让你集中注意力的好方法</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/bb8b353e2fe586f3df73a7aa443d7f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G2dmIp3rj-rRT083CWZRUw.png"/></div></div></figure><p id="6366" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">亚马逊极其精干、务实、守纪律。我在那里工作的11年间(2009年至2020年)，我总是发现效率低下的地方需要改进，但当我走出大楼，不得不处理我儿子的小学工作人员(抱歉，埃德蒙兹小学……)，或者在医院就诊后出院的官僚主义，或者政府办公室做过的几乎任何事情时，它提供了一个更加公平和平衡的视角，让我看到亚马逊实际上运行得有多紧张。但是我有一个问题:天生我是一个非常没有纪律性的人！T3】</p><p id="18f7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">日期很重要。</strong>我很早就知道，当一位领导问我什么时候完成一项任务时，我的期望是提供一个明确的日期，其中包含可跟踪的交付里程碑以评估进展，或者说是一个约会的日期。我特别记得在亚马逊的一次会议上，一位主管问一位工程师“X什么时候能完成？”这位天生罗嗦的工程师开始了一个东拉西扯、长篇大论的回答。导演不耐烦地打断了我，“好吧，但是,<em class="kf">X在哪个日期</em>完成？”工程师再次试图回答，但回答是令人费解和不明确的。导演第二次打断了他，显然很沮丧。他说得很慢:“我要问第三次。接下来从你嘴里说出来的话要么是约会，要么是约会的约会。<em class="kf">这个什么时候</em>做好？”这个人在几个月内就消失了。虽然措辞严厉，而且本可以用更多一点的情商来处理，但我明白了日期在文化中的重要性。</p><p id="a762" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在人生的某个阶段，我们都有过由一个看似武断、与世隔绝的主管强加给我们的最后期限。死亡进行曲来了！你看着你的<a class="ae kg" href="https://www.atlassian.com/agile/agile-at-scale/agile-iron-triangle" rel="noopener ugc nofollow" target="_blank">铁三角</a>(范围、资源、时间)，尽你所能。</p><p id="b2f9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> <em class="kf">我的故事不是讲那些</em>。由于我倾向于高度不守纪律，我很早就学会了给自己设定最后期限，作为让我保持正轨的护栏。这些内在的最后期限激励着我，迫使我关注最重要的事情。一般来说，我会根据业务需求逆向工作。下面是我生活中的两个小插曲，来举例说明选择最后期限(并坚持执行)对我的职业生涯产生了重大的积极影响。</strong></p><p id="7c9d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这些故事来自于我在亚马逊(TPSGenerator)创建和发展负载和性能测试平台的时候。T3】</p><p id="0940" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这里有一点背景。创建一个亚马逊范围的工具并不是我的初衷，但是有一个事件让我走上了这条路。2011年，我负责的服务出现了一个引人注目的运营问题，导致零售网站损失了数百万美元(<a class="ae kg" rel="noopener" href="/geekculture/the-multimillion-dollar-failure-that-changed-my-professional-life-for-the-better-2011-f96ad1afd9db">，下面是这个故事</a>)。如果我做了适当的负载和性能测试，我本可以识别并防止这种令人尴尬的失败。因此，我在2012年就这么做了，并获得了回报。然后，我意识到我构建的测试基础设施在某种程度上是可重用的，所以我抓紧时间与我的副总裁交流，并提出了我在接下来的六个月中与他的组织中最需要负载测试的前5名服务合作的想法。这给了我一个机会去了解更多，并在每个采用我的负载生成器的团队中多推广一点。在那之后，我想:如果我把它更广泛地开放给公司里的任何人会怎么样？</p><p id="a6f1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我写了一封公告邮件草稿，打算发送给几个广泛的群体，以使我的小工具社会化，但每次我准备发送它时，我都会对我想实现的功能提出一些很酷的想法，我会推迟发送电子邮件，直到该功能准备好。因此“发布”日期被推迟了一段时间。我最终意识到我需要更多的纪律，为了我自己，我需要一个期限，否则我将继续我的“但只是一个小功能！”恶性循环。</p><p id="a2d0" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在那些日子里，我们有一个内部会议，叫做工程卓越日。EE Days是亚马逊范围内的年度会议，主要关注开发工具和过程(对于阅读这篇文章的亚马逊人来说:它后来演变成了今天的DevCon)。EE Days是一个影响到成千上万工程师的大事件。我提交了一份关于负载测试的报告，并且被批准了！对我来说，这是一个很好的途径来做我的“发布”,并一举获得大量的观众。同样重要的是:EE Days发生在一个特定的日期。因此，要么我的工具当天就准备好了，要么我将错过机会之窗。这是我一年中最好的布道机会。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kh"><img src="../Images/a4f6e99479d035100aad7ba2dab35d99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q8qnmGAQ7q8Eil1F"/></div></div><figcaption class="ki kj et er es kk kl bd b be z dx translated">一点点亚马逊赃物。EE Days马克杯(来自不同的年份，2016年)</figcaption></figure><p id="7c35" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">那是三月，会议是在六月。我有3个月的时间来做任何必要的清理工作，这样当我在舞台上宣布这个工具和它的特性时，我可以感到自豪。约会的压力让我充满活力。这迫使我对我在这三个月里写的每一行代码都要无情地务实、自律和深思熟虑。在那个特定的时刻，我所做的工作会让我的客户更好地了解产品吗？没有吗？好吧，那可以等等。</p><p id="e6e7" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在这三个月里，我主要关注两个方面。</p><p id="a60c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">第一个领域:工程师们倾向于每年对他们的产品进行一次负载测试，然后忘记它，直到第二年绝对有必要的时候，这让我很困扰。比如交税。我希望我的工具能创造一种文化变革。它需要是<em class="kf">粘性的</em>，作为<a class="ae kg" href="https://en.wikipedia.org/wiki/CI/CD" rel="noopener ugc nofollow" target="_blank"> CI/CD </a>的一部分持续运行，以便它无处不在地验证每一个代码变更。有很多其他工具可以生成负载，但是能够与CI/CD本地集成是<strong class="jl hj">的一个与众不同的特性</strong>。问题是，为了在CI/CD中不受监督地运行，需要有一种自动的方法来决定通过/失败的结果。但是负载测试是一件复杂的事情，可能有数百万个数据点要分析(每个尝试的事务的延迟和响应，硬件指标，如运行服务的主机中的CPU使用率或内存使用率，JVM指标和其他特定于产品的指标)。我想出了<em class="kf">审批试探法</em>的概念(我甚至为此申请了<a class="ae kg" href="https://patents.justia.com/patent/10289539" rel="noopener ugc nofollow" target="_blank">专利</a>！).TL；dr是您可以说“如果超过0.5%的事务失败，则失败”，或者“如果事务的第90百分位延迟超过100毫秒，则失败”，等等。编写代码来实时有效地处理数百万个数据点以避免运行失败被证明是一项复杂的任务。因此，我发现自己在三周前的一次家庭度假中，在海滩上疯狂地实施<a class="ae kg" href="https://en.wikipedia.org/wiki/Reservoir_sampling" rel="noopener ugc nofollow" target="_blank">油藏取样</a>。我决心在EE日揭开批准启发法。无论晴雨，我都要上台展示自己。我不是穿着高领毛衣发布iPhone的史蒂夫·乔布斯，但当我登上舞台时，我仍然想要一点惊喜。今天，当我的孩子在沙滩上玩耍时，我在沙滩上编写的代码仍然在生产中每秒执行数百万次。回顾过去，我想如果我没有这个自我强加的迫在眉睫的最后期限，我知道我不会如此努力地让自己获得批准启发；[2]如果我在推出我的产品时没有这些与众不同的特点，我想人们不会以现在的速度采用它；[3]如果我没有这样的客户，我想我不会有今天的职业生涯。这一切都是有联系的。</p><p id="41f1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我想停下来强调一件消极的事情:我错过了一次重要的家庭度假。升职后，我休了两个月的假，在中美洲的一个热带渔村租了一栋僻静的海滨别墅，以此来补偿家人。这是一生难得的假期。你的工作强度会有所波动，需要的时候愿意努力工作，但也要确保从长远来看，你能看到你生活中真正重要的东西。对我来说，是我的妻子和孩子。</p><p id="f7f0" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">第二个重要的方面是:我需要关注入职故事，并使它尽可能简单。TPSGenerator提供了所有的样板功能来以极高的吞吐量执行测试，并且它是与产品无关的，所以我的客户编写了与他们的服务交互的(Java)代码，将其打包在一个JAR文件中，并作为一个插件提供给我的框架(类似于jMeter)。问题是，这个customer JAR可能是用与TPSGenerator代码本身的依赖项冲突的依赖项编译的，从而导致奇怪的运行时故障(相同的Java类，但不同版本的类使用不同的API，或者更糟，相同的API但不同的行为)。深入研究之后，我意识到我可以使用<a class="ae kg" href="https://en.wikipedia.org/wiki/Java_Classloader" rel="noopener ugc nofollow" target="_blank"> Java类加载器</a>。具体来说，我的框架(我的代码及其所有依赖项)的<em class="kf">运行时闭包</em>可以驻留在<em class="kf">主类加载器</em>中，我可以创建一个<em class="kf">辅助类加载器</em>，在那里加载客户代码及其依赖项。结合<a class="ae kg" href="https://www.oracle.com/technical-resources/articles/java/javareflection.html" rel="noopener ugc nofollow" target="_blank">反射</a>，类加载器是一个优雅的解决方案，可以让一个类的多个版本共存于同一个JVM中。但是它们也是一个非常晦涩和缺乏文档记录的特性，所以我不得不学习更多关于JVM的内部知识，这是我曾经想知道的。我们最终为整个过程申请了另一项专利。说到底，您在运行时使用了一种非标准的加载类的方式，在某些边缘情况下可能会发生不好的事情。最有趣的是，如果你*和*其他框架*都*乱用类加载器，不仅仅是坏事，而且会发生非常糟糕的事情。在这种情况下，Amazon用于创建RPC服务的标准框架Coral正在发挥自己聪明的类加载器魔力，打破了我们聪明的类加载器魔力。当然，我们在EE日的前一周才发现这一点。丹尼尔和我夜以继日地工作，调试Coral的数千行代码，以了解他们用类加载器做了什么，以及为什么它与我们用类加载器做的不兼容。Coral团队很可爱，他们和我们见了几次面，集思广益，寻求解决方案。最终，丹尼尔和我提议对他们的代码进行紧急修补，奇迹般地，我们能够用甜言蜜语说服他们立即推出它。在我上台前10分钟，这个补丁就投入生产了！！！再说一次，我认为约会的压力激发了我们的创造力，迫使我们比以往任何时候都更加努力。</p><p id="eea3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">当我回顾那次EE Days大会时，我认为那是我职业生涯中的一个转折点。这是一个独特的机会，可以接触到成千上万的工程师，并让我的小工具的存在社会化。从那一天起，客户采用率呈指数级增长。我想，如果我错过了那个日期，我将很难如此有效地接触到如此广泛的受众，也许我的工具会变得默默无闻或停滞不前。EE Days也是一种强迫功能，让我变得更加专注，更加深思熟虑，更加自律。不要总是用随意的日期来消磨自己，但是偶尔，有一个期限，即使有点随意，也只是你需要给自己注入活力的压力。</p><p id="230e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">第二个故事说明<em class="kf">日期的重要性</em>发生在几个月后。在疯狂的冲刺中，我推迟了许多功能。其中之一是能够通过以某种多主机模式运行来产生极大的负载。这对于v1来说是没问题的，因为您仍然可以从单个主机中提取适当的负载，纵向扩展以获得更多负载，甚至可以通过ssh连接到多个主机，并自己启动多个TPSGenerator实例。但这是不雅的；任何有自尊的负载生成器都需要能够横向扩展到每秒数千万个事务。EE日是在六月，黑色星期五和网络星期一很快就要到了(11月)。您可能会猜到，在这些购物日，零售网站(如Amazon.com)的访问量是平常的数倍，因此为第四季度做好准备是一件非常重要的事情。您不想成为在一年中最繁忙的购物日因扩展问题而失败的团队吧！(<a class="ae kg" rel="noopener" href="/geekculture/the-multimillion-dollar-failure-that-changed-my-professional-life-for-the-better-2011-f96ad1afd9db">我曾经是</a>)。我又一次看到了一个有明确期限的商机。回溯工作:(a)黑色星期五是11月底，(b)所以大多数团队在10月进行了最后的准备工作负载测试，(c)所以我需要在9月有一个值得生产的多主机负载生成器。10月份将会有一波团队非常积极地进行负载测试，这提供了一个独特的机会，让我的客户群翻两番、三番、四番。去年11月，他们对负载测试的兴趣将会大大降低。如果我错过了约会怎么办？我会错过一年一次的机会。</p><p id="84ca" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">起初，我认为这将是一个很好的实习，所以我找了一个暑期实习生，向他解释了我对算法的想法，然后他就离开了。但是在insight中，首先，我对我的实习生来说是一个糟糕的导师，其次，这不是一个合适范围的项目。实习结束时，代码无法使用，所以我把它扔了。现在我在八月。我有一个月的时间从头开始编写一个适合生产的、水平可伸缩的负载生成器。由于工程师可能会在处理客户流量时将它指向生产环境，因此它需要可靠、精确，并且能够在被测系统遭到破坏时快速关闭。约会的压力再次激励了我。我每天都编码到深夜。我进入了一个未知的领域，所以我不得不尝试各种新的、未经证实的想法，并最终获得了一个<a class="ae kg" href="https://patentimages.storage.googleapis.com/51/e5/0d/a7136f41a3a4cb/US9396039.pdf" rel="noopener ugc nofollow" target="_blank">东西</a>、<a class="ae kg" href="https://patentimages.storage.googleapis.com/f9/e7/be/fe15d648bd3b81/US9507681.pdf" rel="noopener ugc nofollow" target="_blank">另一个东西</a>、<a class="ae kg" href="https://patentimages.storage.googleapis.com/22/54/80/14f92128a114ae/US9363156.pdf" rel="noopener ugc nofollow" target="_blank">另一个东西</a>和另一个<a class="ae kg" href="https://patentimages.storage.googleapis.com/5b/2b/54/8efe15af8106fe/US9229845.pdf" rel="noopener ugc nofollow" target="_blank">东西</a>的专利。这是一个非常紧张的月份。但是，令人惊讶的是，我确实让它工作了(对于最初的版本来说有点粗糙，但是重要的东西工作得很稳定)。那些代码今天仍然在运行，可能就在你读我的句子的时候，在亚马逊数据中心的成千上万的机器上。</p><p id="409a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我非常相信生活和工作的平衡，但这些故事并不是最好的例子。相信我，在我任职的大部分时间里，我平均每周在亚马逊工作40小时。但偶尔我会看到机会溜走，我必须迅速采取行动，我不怕长时间工作来抓住它们。永远不要低估偶尔给自己设定最后期限来激励自己的积极影响！</p></div></div>    
</body>
</html>