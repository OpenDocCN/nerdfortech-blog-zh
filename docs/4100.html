<html>
<head>
<title>Hoisting in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 JavaScript 中提升</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/hoisting-in-javascript-7d17d28b4abb?source=collection_archive---------4-----------------------#2021-07-07">https://medium.com/nerd-for-tech/hoisting-in-javascript-7d17d28b4abb?source=collection_archive---------4-----------------------#2021-07-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="320d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">了解 JavaScript 的提升行为。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f20ced0869c219054ac2dd1920b06313.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yw9D7e-_XNUIP3MihxM5Aw.jpeg"/></div></div></figure><p id="8df7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JavaScript 的独特行为之一是变量和函数提升，提升使我们能够在变量或函数被声明之前使用它。</p><p id="b7a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jp">无论我们在哪里声明变量和函数，JavaScript 都会在编译阶段将其移动到作用域的顶部。这里需要注意的一点是 JavaScript 只提升声明而不是初始化。用 var 关键字声明的变量也被提升，而不是用 let 和 const 关键字</em>声明的变量</strong></p><p id="0e38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在下面看到各种例子，帮助我们更好地理解 JavaScript 的变量和函数提升行为。</p><h2 id="82d4" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">举例理解:</h2><p id="82c2" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">下面我们将看到各种场景，并理解什么时候起重工作，什么时候不工作。</p><h2 id="c289" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">可变提升📌</h2><p id="3568" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">考虑下面这段代码，看看输出会是什么？</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="170c" class="jq jr hi kr b fi kv kw l kx ky">name = ‘tony’</span><span id="50b2" class="jq jr hi kr b fi kz kw l kx ky">console.log(name);</span><span id="2ba5" class="jq jr hi kr b fi kz kw l kx ky">var name;</span></pre><p id="192e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">输出</strong>:托尼</p><p id="99a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">尽管我们在声明变量之前已经初始化了变量<strong class="ih hj"> name </strong>，但是当 JavaScript 将声明移动到作用域的顶部时，我们的程序将输出显示为<strong class="ih hj"> tony </strong>，所以这就是程序的实际行为。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="a9a7" class="jq jr hi kr b fi kv kw l kx ky">var name;</span><span id="b350" class="jq jr hi kr b fi kz kw l kx ky">name = ‘tony’</span><span id="a26a" class="jq jr hi kr b fi kz kw l kx ky">console.log(name);</span></pre><p id="29fa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意📝</strong> : <strong class="ih hj"> <em class="jp">虽然看起来在提升中声明在程序中上移了，但这里实际发生的是函数和变量声明在编译阶段被添加到内存中。</em>T19】</strong></p><p id="3023" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看，如果我们在 console 之后声明并初始化变量，会发生什么。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="df16" class="jq jr hi kr b fi kv kw l kx ky">console.log(name);</span><span id="2901" class="jq jr hi kr b fi kz kw l kx ky">var name = ‘tony’</span></pre><p id="0189" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">输出:</strong>未定义</p><p id="2914" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们得到的输出是未定义的，因为只提升声明，而不是初始化，所以我们的程序实际上如下所示。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="662e" class="jq jr hi kr b fi kv kw l kx ky">var name;</span><span id="6021" class="jq jr hi kr b fi kz kw l kx ky">console.log(name);</span><span id="b406" class="jq jr hi kr b fi kz kw l kx ky">name = ‘tony’</span></pre><p id="f5e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">变量声明被移动到顶部，但初始化仍保留在控制台语句之后，因此名称变量被声明但尚未初始化，我们得到的输出为<strong class="ih hj">未定义</strong>。</p><p id="0317" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当变量在函数中声明时，它将被悬挂在函数的顶部，见下面的例子。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="539c" class="jq jr hi kr b fi kv kw l kx ky">var text = ‘Hello’;</span><span id="88a5" class="jq jr hi kr b fi kz kw l kx ky">function sayHello() {<br/>name = ‘tony’;<br/>console.log( text + ‘ ‘ + name);<br/>var name;</span><span id="41d0" class="jq jr hi kr b fi kz kw l kx ky">}</span><span id="f16c" class="jq jr hi kr b fi kz kw l kx ky">sayHello();</span><span id="b618" class="jq jr hi kr b fi kz kw l kx ky">console.log(name);</span></pre><p id="689e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:你好，托尼</p><p id="01da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ReferenceError:未定义名称</p><p id="e68d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们试图在函数之外访问控制台语句中的 name 变量时，我们得到了引用错误，因为现在变量<strong class="ih hj"> name </strong>被提升到 greet 函数的顶部而不是程序的顶部，并且它变成了一个局部变量而不是全局变量，如下所示</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es la"><img src="../Images/2f7410cb224c3190f115681a58330b2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*taT6ADxetSGOlI-ReAASGg.png"/></div></figure><h2 id="0ba8" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated">功能选择📌：</h2><p id="c65b" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated">与变量声明被提升并移动到顶部一样，被声明的函数也被提升，见下面的例子:</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="ac18" class="jq jr hi kr b fi kv kw l kx ky">sayHello();</span><span id="b545" class="jq jr hi kr b fi kz kw l kx ky">function sayHello() {</span><span id="c1da" class="jq jr hi kr b fi kz kw l kx ky">console.log( ‘Hi there, nice to meet you !!’);</span><span id="5421" class="jq jr hi kr b fi kz kw l kx ky">}</span></pre><p id="9dd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你好，很高兴见到你！！</p><p id="b012" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们在 sayHello()函数声明之前调用了它，并由于提升而获得了所需的输出，程序执行如下:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lb"><img src="../Images/92a0611fb96cb1bc8723f08d31285747.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*J5eciKsHqC6eDmf7if7JDQ.png"/></div></figure><p id="4bc9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于提升，函数声明被移到顶部！</p><p id="ed3e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，如果我们使用函数作为表达式，那么它不会被提升，因为无论是变量还是函数提升，它只对 var 关键字起作用，见下文。</p><pre class="je jf jg jh fd kq kr ks kt aw ku bi"><span id="8f01" class="jq jr hi kr b fi kv kw l kx ky">sayHello();</span><span id="4f19" class="jq jr hi kr b fi kz kw l kx ky">let sayHello = function() {</span><span id="97f5" class="jq jr hi kr b fi kz kw l kx ky">console.log( ‘Hi there, nice to meet you !!’);</span><span id="c81d" class="jq jr hi kr b fi kz kw l kx ky">}</span></pre><p id="c69e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">输出:</strong>引用错误:初始化前无法访问“sayHello”</p><h2 id="1602" class="jq jr hi bd js jt ju jv jw jx jy jz ka iq kb kc kd iu ke kf kg iy kh ki kj kk bi translated"><strong class="ak">总结📝:</strong></h2><p id="b6d4" class="pw-post-body-paragraph if ig hi ih b ii kl ik il im km io ip iq kn is it iu ko iw ix iy kp ja jb jc hb bi translated"><strong class="ih hj">提升是 JavaScript 的默认行为，使我们能够在声明变量和函数之前访问它们</strong>。<strong class="ih hj">提升使用 var 关键字而不是</strong> <strong class="ih hj"> let 和 const 关键字，只提升声明而不提升初始化</strong>。<strong class="ih hj">如果一个变量是在函数内部声明的，它将被提升到函数的顶部，而不是全局作用域级别。函数也被提升，但是作为表达式的函数不是</strong>。</p><p id="2b11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望这篇文章能帮助你理解 JavaScript 提升，如果你喜欢这篇文章，给它一些掌声👏分享知识。T15】</p></div></div>    
</body>
</html>