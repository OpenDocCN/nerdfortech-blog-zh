<html>
<head>
<title>Remove and Optimizing Your Conda Environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">移除并优化您的 Conda 环境</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/remove-and-optimizing-your-conda-environment-319c92dbccbd?source=collection_archive---------1-----------------------#2022-02-08">https://medium.com/nerd-for-tech/remove-and-optimizing-your-conda-environment-319c92dbccbd?source=collection_archive---------1-----------------------#2022-02-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6325976be8e340cd9eb905be9c94c082.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NTPBML5L0Y99gRSWy2Hb0w.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Neal E. Johnson 在<a class="ae iu" href="https://unsplash.com/s/photos/sweep?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><blockquote class="iv"><p id="ecb3" class="iw ix hi bd iy iz ja jb jc jd je jf dx translated">吃太多不好~我的经验</p></blockquote><p id="6c30" class="pw-post-body-paragraph jg jh hi ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc jf hb bi translated">这个故事基于我使用蟒蛇的经历。我在学习深度学习的时候，日常生活中使用 TensorFlow 库。但是由于我是初级开发人员，我讨厌在运行从互联网上获得的代码时遇到问题。所以我用康达环境。</p><p id="d7cf" class="pw-post-body-paragraph jg jh hi ji b jj kd jl jm jn ke jp jq jr kf jt ju jv kg jx jy jz kh kb kc jf hb bi translated">Conda environment 对我的 Python 工作帮助很大，因为它构建了一个专注于我们所做的事情的隔离环境。几个月后，我意识到创造太多的 Conda 环境不是一个好主意。为什么？？？因为它需要大量的内存空间。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div class="er es ki"><img src="../Images/e372977c6e3681fe949e85a390bbb622.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*6yErFxuWJwsFWGYX0xpksQ.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">我所有环境的内存空间</figcaption></figure><p id="f8b1" class="pw-post-body-paragraph jg jh hi ji b jj kd jl jm jn ke jp jq jr kf jt ju jv kg jx jy jz kh kb kc jf hb bi translated">当我找到记忆满的主要原因时，我很惊讶。当然，我创造了太多的新环境，而不是解决问题。在上图中，它占用了我构建的大约 23.6 GB 的内存。这是我的环境列表</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/50ec1cb81e20765564d10c893ebd42c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dH5oW17GCReoaLvgbVvTwA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">我的环境</figcaption></figure><p id="be95" class="pw-post-body-paragraph jg jh hi ji b jj kd jl jm jn ke jp jq jr kf jt ju jv kg jx jy jz kh kb kc jf hb bi translated">肮脏的权利？我从这里删除了一些东西，从而有了整理环境的动力。删除 Conda 环境很容易。但是，因为一开始没看懂，所以有点迷茫。所以我写了这篇文章，告诉你如何移除不再使用的 Conda 环境，同时也给你一些优化环境的建议。</p><h1 id="3e39" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">删除 Conda 环境</h1><p id="27fe" class="pw-post-body-paragraph jg jh hi ji b jj lm jl jm jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc jf hb bi translated">要删除 Conda 环境，您只需要一个以下格式的命令行。</p><pre class="kj kk kl km fd lr ls lt lu aw lv bi"><span id="2389" class="lw kp hi ls b fi lx ly l lz ma">Conda env remove -n {env_name}</span></pre><p id="11f7" class="pw-post-body-paragraph jg jh hi ji b jj kd jl jm jn ke jp jq jr kf jt ju jv kg jx jy jz kh kb kc jf hb bi translated">将<code class="du mb mc md ls b">env_name</code>更换为不带支架的环境。就这么简单。下面是删除不再使用的“ktp”环境的示例。</p><figure class="kj kk kl km fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/663cee8d0f4bfc273c1d6ccd6465206d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dO82pLCf8h5ozQeibrWJIw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">正在删除 ktp 环境</figcaption></figure><p id="8ea8" class="pw-post-body-paragraph jg jh hi ji b jj kd jl jm jn ke jp jq jr kf jt ju jv kg jx jy jz kh kb kc jf hb bi translated">您可以使用此命令重新检查环境</p><pre class="kj kk kl km fd lr ls lt lu aw lv bi"><span id="5ec2" class="lw kp hi ls b fi lx ly l lz ma">conda env list</span></pre><p id="2167" class="pw-post-body-paragraph jg jh hi ji b jj kd jl jm jn ke jp jq jr kf jt ju jv kg jx jy jz kh kb kc jf hb bi translated">看来‘KTP’环境已经不存在了。恭喜你，你已经做到了。</p><h1 id="c401" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">优化您的 Conda 环境</h1><p id="0194" class="pw-post-body-paragraph jg jh hi ji b jj lm jl jm jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc jf hb bi translated">使用康达几个月后，以下是我推荐给你的</p><ol class=""><li id="208f" class="mf mg hi ji b jj kd jn ke jr mh jv mi jz mj jf mk ml mm mn bi translated">创建一个支持 Python 2 的环境。也许这是可选的，但有时互联网上的源代码仍然使用旧版本的 Python。除非您想在系统中手动安装 Python 2，否则可以使用 Conda 快速运行代码。</li><li id="51b0" class="mf mg hi ji b jj mo jn mp jr mq jv mr jz ms jf mk ml mm mn bi translated">专注于你想要的。深度学习项目应该有几个环境，比如<strong class="ji hj"> NLP、时间序列、计算机视觉</strong>等。您不需要安装所有的库，但是它们会保护您不会出现问题，因为每个库都有一些不同的需求。</li><li id="db93" class="mf mg hi ji b jj mo jn mp jr mq jv mr jz ms jf mk ml mm mn bi translated">说到 TensorFlow 库和 CUDA，要小心花费存储空间。它占用了大量内存空间。千万不要把这个张量流只放在一个环境里。回到我的第二个技巧，它可能会导致错误，花费更多的时间和资源。</li><li id="3212" class="mf mg hi ji b jj mo jn mp jr mq jv mr jz ms jf mk ml mm mn bi translated">去掉不必要的东西。在日语中，有些文化是你应该实现的；被称为“极简主义”。通过成为极简主义者，你可以更专注于你所做的事情。所以几次之后，你不用你的环境，去掉它而不内疚。(我这才意识到，我有太多已经没用的环境。所以我也会把它去掉)</li></ol><h1 id="9b6e" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">结论</h1><p id="1a53" class="pw-post-body-paragraph jg jh hi ji b jj lm jl jm jn ln jp jq jr lo jt ju jv lp jx jy jz lq kb kc jf hb bi translated">嗯，就这些。在这个故事中，我分享了如何删除和优化您的 Conda 环境和使用 Conda 的技巧。我希望你得到了信息，并喜欢这篇文章。谢谢</p></div></div>    
</body>
</html>