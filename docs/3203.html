<html>
<head>
<title>Using sound effects in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中使用音效</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-sound-effects-in-unity-c003d4d21154?source=collection_archive---------18-----------------------#2021-06-01">https://medium.com/nerd-for-tech/using-sound-effects-in-unity-c003d4d21154?source=collection_archive---------18-----------------------#2021-06-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="33dd" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="ea4f" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于如何在Unity中使用音效的快速指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/592c2decb8d2e5c06b995644aab56c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*K_oBtDlds90Z_bGi4o9BjQ.gif"/></div></div></figure><p id="3159" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:在Unity中实现一个太空射击游戏的音效。</p><p id="5c97" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在上一篇文章中，我介绍了<a class="ae ko" rel="noopener" href="/nerd-for-tech/using-audio-in-unity-61a925b622a5">如何在Unity </a>中开始使用音频，现在是时候为太空射击游戏实现音效了。</p><h1 id="8df3" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">激光音效</h1><p id="efb2" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">为了在玩家飞船每次射击时实现一个激光音效，我们需要在玩家gameobject中添加一个音源组件。让我们确保<strong class="ju hs"> <em class="lm">在唤醒时播放</em> </strong>属性被禁用，这样它只在拍摄时播放声音:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl lo lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c30b1dd95fab31ae7896797634d84032.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/1*7mPTnd8O07u2jnN4gEprpQ.gif"/></div></figure><figure class="ln jl lt lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/9e32d62877ebc41e19d416460cf61134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/1*CyrjghoifJffKp67JgumMw.gif"/></div></figure></div><p id="ebdc" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们打开播放器脚本并创建2个新变量:</p><ul class=""><li id="d378" class="lu lv hi ju b jv jw jy jz kb lw kf lx kj ly kn lz ma mb mc bi translated"><strong class="ju hs"><em class="lm">_音频剪辑</em> </strong></li></ul><p id="8918" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个数组将存储玩家在游戏中使用的不同音频文件的引用。例如，我们将只使用它来存储激光音效。</p><ul class=""><li id="890f" class="lu lv hi ju b jv jw jy jz kb lw kf lx kj ly kn lz ma mb mc bi translated"><strong class="ju hs"><em class="lm">_音频源</em> </strong></li></ul><p id="d816" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">该变量将存储对播放器包含的音频源组件的引用，以在游戏中输入相应的音频文件。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es md"><img src="../Images/9b7f82e70ee56f221512519c6a4204db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*sM7Cd3TeJAKH9_i1DSeqmA.gif"/></div></div><figcaption class="me mf et er es mg mh bd b be z dx translated">不要忘记使用<strong class="bd kr">【serialize field】</strong>将音频文件拖入检查器。</figcaption></figure><p id="d696" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们将激光声音效果文件从项目文件夹拖到检查器中:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl mi lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/09610d84ccf48b31e990bbaf8a0de9c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/1*GqWemB6F0Tu4WZNpy0AMFQ.gif"/></div></figure><figure class="ln jl mj lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/bd785deeb8b5bd3ddc31e428ebb9e2d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/1*eNTy1fDEUu0mlvkdE_K_6Q.gif"/></div></figure></div><p id="9726" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在<strong class="ju hs"> <em class="lm">开始</em> </strong>的方法中，让我们给新变量中的音频源组件赋值:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mk"><img src="../Images/116bb5aaf6a27997e652db82d8e220dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Bz99rPXw1gKtJek5JXaZtQ.gif"/></div></div><figcaption class="me mf et er es mg mh bd b be z dx translated">总是检查你分配的组件是否为空来调试错误。</figcaption></figure><p id="2e48" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了播放不同的声音效果，让我们创建一个新函数，它将接收音频剪辑数组中声音文件的索引作为参数:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es ml"><img src="../Images/8980e6b1015c754241c552e39e829cb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/1*H8BY7o5kc9UszvMlKCxxRg.gif"/></div></figure><p id="0ead" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们将各自的音频文件分配到音频源的clip属性中，用<strong class="ju hs"><em class="lm">Play</em></strong><em class="lm"/>方法播放正确的音效:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mm"><img src="../Images/94a8e86bd2f9666240be460b51abab25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/1*s11esbsEhdG7hWVzFzhztQ.gif"/></div><figcaption class="me mf et er es mg mh bd b be z dx translated">如果需要，您可以在将索引分配给音频源之前检查它是否存在于音频片段数组中。</figcaption></figure><p id="af44" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您想了解更多关于此方法的信息，您可以访问Unity文档:</p><div class="mn mo ez fb mp mq"><a href="https://docs.unity3d.com/ScriptReference/AudioSource.Play.html" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hs fi z dy mv ea eb mw ed ef hr bi translated">音频源。玩</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">建议更改感谢您帮助我们提高Unity文档的质量。虽然我们不能接受所有的…</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">docs.unity3d.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne jq mq"/></div></div></a></div><p id="4742" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，在实例化激光射击的函数中，我们可以用音效的索引调用<strong class="ju hs"> <em class="lm"> PlayAudio </em> </strong>函数来播放它:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nf"><img src="../Images/fbcfcedbf2c7675b72c40f08792ea4c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UHS00zucF6QS-eMIJwIQnQ.gif"/></div></div></figure><p id="46c1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">而且现在玩家每次射击都会播放激光音效。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/fa2caf2b478746d39c3eb25dd074b97b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ebEVRBtuWyFmUADEmxcdCw.gif"/></div></div></figure><h1 id="3e84" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">开机音效</h1><p id="2856" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">另一个需要实现的音频是开机物品收集音效。在太空射击游戏中有3种不同的能量:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl ng lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/76fe10d8f96d3f28b1ff6704f8d7a00a.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*QhGMD8Cq0k0crWtHae2Ztw.png"/></div></figure><figure class="ln jl nh lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/635353fe8a8815d08443be228527c6b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*LJOrH75cLCbAEHyWR4Wp9Q.png"/></div></figure><figure class="ln jl ni lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a86abc00ff1c5cacf5248b3fc2f5e959.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*hRdJplqkq5hyWBZr4iW-IA.png"/></div></figure></div><p id="2230" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了实现玩家收集每个加电物品时的声音，让我们打开<strong class="ju hs"> <em class="lm">加电</em> </strong>脚本，让我们创建一个变量来存储对收集音效的引用:</p><blockquote class="nj nk nl"><p id="4725" class="js jt lm ju b jv jw is jx jy jz iv ka nm kc kd ke nn kg kh ki no kk kl km kn hb bi translated">注意:我们将使用不同的方法来播放声音效果。</p></blockquote><div class="jh ji jj jk fd ab cb"><figure class="ln jl np lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/168e6c0de9bffd85fc227ec6f3fb3882.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/1*ZBblzjS2zWS7cpKevT-VgA.gif"/></div></figure><figure class="ln jl nq lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/4d6dbb2a72a5c6ea10fc6b6df4700a02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/1*cfKRM0YbzVlK0Na4fDPNUg.gif"/></div><figcaption class="me mf et er es mg mh bd b be z dx nr di ns nt translated">不要忘记使用<strong class="bd kr">【串行字段】</strong>来将音频文件拖到检查器中。</figcaption></figure></div><p id="fb03" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们选择3个不同的启动物品的预设，让我们将声音效果拖到检查器中:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl nu lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/18e7fe51d03543854d64dafc419d843b.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/1*kaZ06oDvDzwQkGFymiRZ9A.gif"/></div></figure><figure class="ln jl nv lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/218c6e0efc1d9aa042312afbe80fd1d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/1*Nql7SdPg_PS0ZR3N948C8g.gif"/></div></figure></div><p id="a9c7" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，为了在收集到加电时播放声音效果，让我们使用来自<strong class="ju hs"> <em class="lm"> AudioSource </em> </strong>类的<strong class="ju hs"><em class="lm">PlayClipAtPoint</em></strong><em class="lm"/>方法，使用各自的音频剪辑和我们将在场景中播放声音的位置。</p><p id="07b7" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">我们使用这种方法是因为当玩家收集到启动物品时，我们会立即销毁游戏对象，所以声音不会播放。<strong class="ju hs"><em class="lm">PlayClipAtPoint</em></strong><em class="lm"/>提供了一种实例化音频源组件的方法，该组件将在游戏中播放声音，然后，当声音结束时，它将从场景中被处理掉。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nw"><img src="../Images/d1a1d81c94c55222905edf2caf566e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uJFzd7rlJy_Mxcsur9Lo5g.gif"/></div></div></figure><p id="3054" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您想了解更多关于<strong class="ju hs"><em class="lm">playclip at point</em></strong>方法的信息，您可以访问Unity文档:</p><div class="mn mo ez fb mp mq"><a href="https://docs.unity3d.com/ScriptReference/AudioSource.PlayClipAtPoint.html" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hs fi z dy mv ea eb mw ed ef hr bi translated">音频源。播放剪辑点</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">建议更改感谢您帮助我们提高Unity文档的质量。虽然我们不能接受所有的…</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">docs.unity3d.com</p></div></div><div class="mz l"><div class="nx l nb nc nd mz ne jq mq"/></div></div></a></div><p id="399a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，每当玩家在游戏中收集一个异能时，由<strong class="ju hs"><em class="lm">PlayClipAtPoint</em></strong>方法创建的实例就会播放收集音效。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/b70147ea0e5e2a422207f87084a9c629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0f7c7HIYYJH9ReQfbnxuEA.gif"/></div></div></figure><p id="e213" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就是这样，你可以在Unity中为你的游戏实现音效！:d .我会在下一篇文章中看到你，在那里我将展示我的Unity太空射击游戏中添加的日常功能。</p></div><div class="ab cl ny nz gp oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="hb hc hd he hf"><blockquote class="nj nk nl"><p id="17b4" class="js jt lm ju b jv jw is jx jy jz iv ka nm kc kd ke nn kg kh ki no kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，请随时登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>