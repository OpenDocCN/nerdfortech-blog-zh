<html>
<head>
<title>Making A Custom Bullet Hell-style Attack System (Part 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">打造定制的子弹地狱式攻击系统(第 2 部分)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/making-a-custom-bullet-hell-style-attack-system-part-2-2f3673a332a4?source=collection_archive---------10-----------------------#2021-08-11">https://medium.com/nerd-for-tech/making-a-custom-bullet-hell-style-attack-system-part-2-2f3673a332a4?source=collection_archive---------10-----------------------#2021-08-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="1f30" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">今天我完成了昨天想象的攻击模板库，让创建和使用子弹地狱式攻击变得更加容易。如果您错过了，请查看第 1 部分！</h2></div><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es iy"><img src="../Images/bcc0f6a1595c5a6526be50d7ab2be8e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/1*ZfwyP2Zc26iypjNjj-qwuQ.gif"/></div></figure><blockquote class="jg"><p id="18be" class="jh ji hi bd jj jk jl jm jn jo jp jq dx translated"><strong class="ak">仅用 8 行代码就激活了四种不同的攻击！</strong></p></blockquote><figure class="js jt ju jv jw jd er es paragraph-image"><div class="er es jr"><img src="../Images/887df770276dc8e911b8ef62bcb5ef37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*DvvJrzrBqRYsGQQL_eT9gw.png"/></div></figure><p id="52d4" class="pw-post-body-paragraph jx jy hi jz b ka kb ij kc kd ke im kf kg kh ki kj kk kl km kn ko kp kq kr jq hb bi translated"><strong class="jz hj">今天的目标:</strong>创建一个全球通用的<strong class="jz hj"> <em class="ks">攻击模板</em> </strong>类库来保存我所有的攻击模板，随时可供游戏中的任何单位使用。</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><h2 id="6371" class="la lb hi bd lc ld le lf lg lh li lj lk kg ll lm ln kk lo lp lq ko lr ls lt lu bi translated">首先，创建一个名为"<strong class="ak"><em class="lv">attack library</em></strong>的新静态类:</h2><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es lw"><img src="../Images/e00ccabaa4c3c3c17d17fd295a8c1ab2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/1*bLftFIPm2UOnvsb7zmHlRg.gif"/></div></figure><p id="e0d0" class="pw-post-body-paragraph jx jy hi jz b ka kb ij kc kd ke im kf kg kh ki kj kk kl km kn ko kp kq kr jq hb bi translated">由于<strong class="jz hj"> <em class="ks">攻击模板</em> </strong>包含一个<strong class="jz hj">游戏对象</strong>变量用于投射预设，一个<strong class="jz hj">音频剪辑</strong>用于音频，我们必须以某种方式将它放入这个类，它不在任何场景对象上。</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es lx"><img src="../Images/e33cddc5133b6aa1a04595dabf1a22ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/1*3V3ObAnM6CRZmuyINEe2cQ.gif"/></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">为预设和音频剪辑文件(项目文件中唯一的攻击模板数据)创建私有静态变量</figcaption></figure><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="er es et"><img src="../Images/fdc778897beecd4fa2a39ce611464611.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1PQUCKOkqvXLbMFrm-1OIQ.gif"/></div></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">创建一个公共静态初始化函数来设置这些变量，使用相同类型的参数</figcaption></figure><h2 id="2b02" class="la lb hi bd lc ld le lf lg lh li lj lk kg ll lm ln kk lo lp lq ko lr ls lt lu bi translated"><strong class="ak">现在，创建另一个名为“<em class="lv">attacktlibraryinformatizer</em>”的新类:</strong></h2><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es mg"><img src="../Images/d901f640acc55c0d28538789e5d9460b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/1*LwZZgUtRpUIDQ6jUaMj7HA.gif"/></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">添加与 AttackTemplate 需要的项目文件相同的变量，并初始化 Awake 函数调用</figcaption></figure><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es mh"><img src="../Images/61dcdaa9cd761744c433d45ce45ccdc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*SbdMflpsxLDuidWZ_NDNSw.png"/></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">将这个类添加到第一个场景的游戏管理器游戏对象中，并填入变量</figcaption></figure><h2 id="fef7" class="la lb hi bd lc ld le lf lg lh li lj lk kg ll lm ln kk lo lp lq ko lr ls lt lu bi translated">现在回到攻击库类，我们可以创建和存储任何我们想要的攻击模板:</h2><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es mi"><img src="../Images/67d5f57874a09541a5b004416fb021cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*v2EhXaJ031M91dgXfJ7a0w.png"/></div></figure><p id="ce35" class="pw-post-body-paragraph jx jy hi jz b ka kb ij kc kd ke im kf kg kh ki kj kk kl km kn ko kp kq kr jq hb bi translated">注意:这些实际上是函数，而不是变量，因为它们需要获得我们之前缓存的初始化并存储的预置和音频变量。</p></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><p id="dbe5" class="pw-post-body-paragraph jx jy hi jz b ka kb ij kc kd ke im kf kg kh ki kj kk kl km kn ko kp kq kr jq hb bi translated">我已经将在<a class="ae ix" href="https://vintay.medium.com/making-a-custom-radial-attack-system-part-1-198228cc85ce" rel="noopener">第 1 部分</a>中的单位枪脚本内创建的“<strong class="jz hj"><em class="ks">spawn punchets()”</em></strong>函数变成了一个<strong class="jz hj"> <em class="ks"> IEnumerator </em> </strong>协程，这样我就可以根据需要在两次产卵之间有一个延迟，并且我还将该函数重命名为“<strong class="jz hj"><em class="ks">MakeAnAttack(attack template attack data)</em></strong>”。</p><p id="037d" class="pw-post-body-paragraph jx jy hi jz b ka kb ij kc kd ke im kf kg kh ki kj kk kl km kn ko kp kq kr jq hb bi translated">在那个函数中 循环的<strong class="jz hj"> <em class="ks">底部，我添加了【下面】来处理延迟，并决定是否需要为每个产卵播放音频剪辑:</em></strong></p><figure class="iz ja jb jc fd jd er es paragraph-image"><div class="er es mj"><img src="../Images/c77cf4fca3985959cac3f070f64982a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/1*4vfMTP-H2XUVHOVSqQqWdg.gif"/></div></figure></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><p id="84ba" class="pw-post-body-paragraph jx jy hi jz b ka kb ij kc kd ke im kf kg kh ki kj kk kl km kn ko kp kq kr jq hb bi translated">最后，要激活攻击，只需要两行代码:</p><figure class="iz ja jb jc fd jd er es paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="er es mk"><img src="../Images/008311a38570670abbef8d8fb7e2feec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aibOmM9CbuvG52gbvzKBvQ.gif"/></div></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">你可以选择增加额外的激活条件，比如攻击冷却等。</figcaption></figure></div><div class="ab cl kt ku gp kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hb hc hd he hf"><p id="ed95" class="pw-post-body-paragraph jx jy hi jz b ka kb ij kc kd ke im kf kg kh ki kj kk kl km kn ko kp kq kr jq hb bi translated">现在创建和使用非常独特的攻击超级容易，游戏中的任何单位都可以做到！这段代码也能正确处理变换旋转！</p><p id="e39d" class="pw-post-body-paragraph jx jy hi jz b ka kb ij kc kd ke im kf kg kh ki kj kk kl km kn ko kp kq kr jq hb bi translated">我计划对这个系统做一些更小的改进，加上新的攻击模板，但是我不确定我是否会再发一篇关于它的帖子。</p><p id="7dde" class="pw-post-body-paragraph jx jy hi jz b ka kb ij kc kd ke im kf kg kh ki kj kk kl km kn ko kp kq kr jq hb bi translated">我希望这是有用的，给你一些想法！</p></div></div>    
</body>
</html>