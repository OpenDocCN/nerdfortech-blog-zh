<html>
<head>
<title>Finding Primes with Ruby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Ruby寻找素数</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/finding-primes-with-ruby-bfd3cee8ee1c?source=collection_archive---------0-----------------------#2021-07-12">https://medium.com/nerd-for-tech/finding-primes-with-ruby-bfd3cee8ee1c?source=collection_archive---------0-----------------------#2021-07-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fccb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">质数是除1之外的只能被自身和1整除的数。例如，1和10之间的质数是2、3、5和7。因此，仅仅知道素数的定义就给了我们一个巨大的提示，告诉我们如何构建一个算法来找到0到n之间的所有素数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/21d0d61d54ba40a586c4531416ea7dea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/0*yOD8JuJwg1N1oXum"/></div></figure><p id="07ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">解决这个问题最简单的方法就是使用<a class="ae jl" href="https://en.wikipedia.org/wiki/Trial_division" rel="noopener ugc nofollow" target="_blank">审判师</a>。检查每个数字n，并检查n除以除1之外的它之前的每个数字的余数。如果你找到一个余数为0的数，你就知道n不是质数。所以如果n = 9，你说<code class="du jm jn jo jp b">9 % 2 == 0 #=&gt; false</code>，那么<code class="du jm jn jo jp b">9 % 3 == 0 #=&gt; true</code>。因为你找到了一个真实的结果，你知道9不是质数。下面是一个代码示例，它打印出从0到n的所有质数:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/658bd9ede5fbfd2efe79bf1c1fd47218.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*vKr4bYg4ynPnMdZOFkwA8w.png"/></div></figure><p id="ce0e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将为任何输入提供正确的答案，但你可以看到，随着n变大，它会成倍地变慢。我们怎样才能做得更好？</p><p id="4451" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们想出一些我们知道的可以应用于代码的关于质数的一般规则。我们对所有的数字都知道些什么？嗯，数字不是偶数就是奇数，所以我们通常可以把数字分成两组。我们对偶数了解多少？它们能被2整除。因此，根据定义，唯一的偶数素数是2。就在这里，我们刚刚将必须完成的工作量减少了一半。因此，让我们添加一个简单的if语句来实现该规则:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jr"><img src="../Images/4eb126adba19e257359c41e2c447ac1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bM7BbiOqwuEd8UlIPw1TNQ.png"/></div></div></figure><p id="1420" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们有了一个如何改进的想法，我们可以扩展它来进一步减少我们需要检查的数量。合乎逻辑的下一步是添加一个规则，对于我们找到的每一个素数，如果下一个要检查的数可以被前面的任何一个素数整除，我们可以跳过它。因此，我们将创建一个已经找到的质数数组，然后对照已经找到的每个质数检查接下来的数字。代码如下:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="er es jr"><img src="../Images/1f4a5da9c9b90d32d29cfecc35651c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wD0Z9-fyXx2ZNP2vF1M4YA.png"/></div></div></figure><p id="44be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们通过一些基准测试来验证这一点。我们将使用n = 20，000来演示时差。代码如下:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jw"><img src="../Images/c771e3fc525cce034c918fc69f8e9648.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*PqTW6rGKrVsmUuXEXvlVWw.png"/></div></figure><p id="df26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果如下:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jx"><img src="../Images/4894a38015690687bf1a9dc874bd7b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*MnOhw4w1KwqJLh2g-vvnwA.png"/></div></figure><p id="3bcb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经看到了几种不同的方法来寻找质数，并探讨了如何使它更快。关于这方面的进一步阅读，请查看厄拉多塞的<a class="ae jl" href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes" rel="noopener ugc nofollow" target="_blank">筛子。</a></p></div></div>    
</body>
</html>