<html>
<head>
<title>The Debian Series: network tools</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Debian系列:网络工具</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-debian-series-network-tools-ebcf21f47b0c?source=collection_archive---------3-----------------------#2019-11-15">https://medium.com/nerd-for-tech/the-debian-series-network-tools-ebcf21f47b0c?source=collection_archive---------3-----------------------#2019-11-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e2d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于这最后一个故事，我将简单谈谈基本的网络工具和网络适配器。我想从这个特殊的故事中重温网络命令，以及简短的描述性解释和孤立的例子。</p><p id="fe40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用的所有工具命令都是由Debian OS提供的，不需要额外安装，当然也不需要配置，我们几乎不需要一个已经建立的互联网连接。</p><p id="dbaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个命令是<code class="du jd je jf jg b">ping</code>，这个工具帮助你检测到一个特定服务器的连接，就是这样。在幕后，<code class="du jd je jf jg b">ping</code>命令向远程机器的目标发送网络数据包，执行的输出是一个格式化的消息，其中包含有关已建立连接的某些细节。</p><p id="344b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一个对本地网络进行<code class="du jd je jf jg b">ping</code>以检查TCP/IP协议健康状况的快速示例，但也可以用来查看从网络角度来看计算机是否可达</p><p id="c2a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">ping 192.168.50.201</code></p><p id="a9fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">ping -c 3 192.168.1.1</code> (ping网关)，<code class="du jd je jf jg b">-c</code>标志表示要发送的数据包数量</p><p id="66a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们转到<code class="du jd je jf jg b">arp</code>命令，这个命令获取包含IP地址的网络适配器的MAC地址。</p><p id="4117" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这可以通过<code class="du jd je jf jg b">arp -a</code>完成</p><p id="1186" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">traceroute</code>命令在两台机器(本地—服务器)之间生成网络路由路径，并跟踪每一步。换句话说，<code class="du jd je jf jg b">traceroute</code>命令是本地机器在节点、路由器、机器等之间“旅行”到指定的IP地址(目标)。</p><p id="97be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它决定了机器获取目标信息所需的路线和流量</p><p id="4b1e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">traceroute 192.168.1.1</code></p><p id="d3f9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一个是老掉牙的，<code class="du jd je jf jg b">telnet</code>命令通过端口<code class="du jd je jf jg b">21</code>建立到服务器的远程连接，几乎不用于测试服务器端口状态。通过telnet的通信是加密的，但在很多年后，“加密强度”被infosec的专业人员和黑客打破了。</p><p id="928f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用它，但不再推荐使用。</p><p id="bcb4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一个例子:</p><p id="ab58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">telnet ftp.microsoft.com 21</code></p><p id="f768" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">netstat</code>显示我的本地机器的开放和活动端口</p><p id="a721" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">netstat -a</code>或<code class="du jd je jf jg b">netstat -ntl</code>(检查该男子，以便更好地了解)。</p><p id="2af7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然还有显示网络适配器信息的<code class="du jd je jf jg b">ifconfig</code>命令。<code class="du jd je jf jg b">ifconfig</code>或<code class="du jd je jf jg b">ifconfig eth0</code>(或任何可用的接口)</p><p id="eee8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还可以(也将会这样做)，改变<code class="du jd je jf jg b">eth0</code>接口的默认值，为了澄清事情，<code class="du jd je jf jg b">eth0</code>是一个物理网络适配器，它让你连接到互联网，周围还有很多适配器，另一个值得一提的是<code class="du jd je jf jg b">lo</code>适配器，称为<strong class="ih hj">环回适配器</strong>，用于本地测试。</p><p id="d000" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们更改某个网络适配器的IP。我们只是。</p><p id="5cf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">ifconfig eth0 192.168.50.205/24 up</code></p><p id="fea4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到这样的详细信息:</p><p id="cfff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">ifconfig eth0</code></p><p id="14a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们使用另一个名为<code class="du jd je jf jg b">route</code>的命令来添加网关</p><p id="4041" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">route add default gw 192.168.1.1</code></p><p id="3efd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">route命令修改IP路由表，根据Debian的<a class="ae jh" href="http://Its primary use is to set up static routes to specific hosts or networks via an interface after it has been configured with the ifconfig(8) program." rel="noopener ugc nofollow" target="_blank">手册页</a>该命令“它的主要用途是在用<code class="du jd je jf jg b"><a class="ae jh" href="https://manpages.debian.org/stretch/net-tools/ifconfig.8.en.html" rel="noopener ugc nofollow" target="_blank">ifconfig</a></code>程序配置后，通过接口建立到特定主机或网络的静态路由。”</p><p id="e022" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于最近的实例(特别是Debian 9 ),事情以不同的方式进行。幸运的是，我们可以安装一个包来使用这个<code class="du jd je jf jg b">route</code>和<code class="du jd je jf jg b">ifconfig</code>，就像旧版本一样</p><p id="88a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果不重新启动并保持，将不会有有效的更改。为此。我们需要关闭接口，然后生成持久配置。我们可以再次设置接口并进行测试。</p><p id="f4ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很好，让我们做最后一个例子。</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="2e88" class="jq jr hi jg b fi js jt l ju jv">ifconfig eth0 down</span></pre><p id="2332" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们在<code class="du jd je jf jg b">/etc/networks/interfaces</code>文件上保存配置</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="cf28" class="jq jr hi jg b fi js jt l ju jv">auto eth0<br/>iface eth0 inet static <br/>address 192.168.50.210<br/>netmask 255.255.255.0<br/>gateway 192.168.1.1</span></pre><p id="aaa0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来消化一下每一行，<code class="du jd je jf jg b">auto [interface]</code>在引导阶段启动界面。<code class="du jd je jf jg b">iface</code>代表<strong class="ih hj">接口族</strong>,<code class="du jd je jf jg b">inet</code>参数定义了一个<strong class="ih hj"> IP协议版本</strong>，这里定义的IP是<code class="du jd je jf jg b">static</code>，但是也可以通过<code class="du jd je jf jg b">scripts</code>或者<code class="du jd je jf jg b">dhcp</code>生成。</p><p id="0b59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">address</code>、<code class="du jd je jf jg b">netmask</code>和<code class="du jd je jf jg b">gateway</code>是接口值。</p><p id="a18d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦输入正确，我们需要像这样重新启动服务:</p><pre class="ji jj jk jl fd jm jg jn jo aw jp bi"><span id="6e02" class="jq jr hi jg b fi js jt l ju jv">service networking restart</span></pre><p id="18e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">确保接口是打开的，应该就是这样。您可以再次使用<code class="du jd je jf jg b">ifconfig</code>来验证生成的设置</p><p id="f9b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当然，还有更复杂的事情要做，这个故事(以及整个Debian系列)是关于解释服务器管理或普通Debian或UNIX用户的每一个关键部分的小步骤。</p><p id="0b02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就是这样。</p><p id="d699" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更多即将推出。</p><p id="0846" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐编码:)</p></div></div>    
</body>
</html>