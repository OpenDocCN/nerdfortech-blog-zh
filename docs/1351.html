<html>
<head>
<title>Deploying a simple FASTAPI in Azure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Azure中部署简单的FASTAPI</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/deploying-a-simple-fastapi-in-azure-79c59c430064?source=collection_archive---------2-----------------------#2021-03-15">https://medium.com/nerd-for-tech/deploying-a-simple-fastapi-in-azure-79c59c430064?source=collection_archive---------2-----------------------#2021-03-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ea09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">我与KonfHub的恋爱关系大赛</em><a class="ae je" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fdevstories.konfhub.com%2F&amp;text=Hey%F0%9F%96%90%EF%B8%8F%20I%20am%20taking%20part%20in%20%23azuredevstories%20" rel="noopener ugc nofollow" target="_blank"><em class="jd"># azure deporties</em></a></p><p id="5f22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Konfhub举办了一个技术博客竞赛暨学习项目，所有参与者都必须完成任何一个MS Learn课程。我已经完成了天蓝色赛道上的Python。该计划的目标是培养开发者在MS Learn上学习新技术的技能，并创建内容分享他们在Azure上的经验。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/23687a299cd3fd4659ff5f62d63907f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZOv-T0vf5L0EtMNY"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">Joshua Aragon 在<a class="ae je" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="ed0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了更好地理解Azure App服务，我创建了一个简单的快速API应用程序部署到Azure。</p><div class="jv jw ez fb jx jy"><a href="https://github.com/dini-rockz93/FastAPi_azure/blob/main/README.md" rel="noopener  ugc nofollow" target="_blank"><div class="jz ab dw"><div class="ka ab kb cl cj kc"><h2 class="bd hj fi z dy kd ea eb ke ed ef hh bi translated">dini-rockz93/FastAPi_azure</h2><div class="kf l"><h3 class="bd b fi z dy kd ea eb ke ed ef dx translated">在azure上创建快速API服务。通过在…上创建帐户，为dini-rockz93/FastAPi_azure开发做出贡献</h3></div><div class="kg l"><p class="bd b fp z dy kd ea eb ke ed ef dx translated">github.com</p></div></div><div class="kh l"><div class="ki l kj kk kl kh km jp jy"/></div></div></a></div><p id="2bcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">先决条件:</p><ol class=""><li id="0b47" class="kn ko hi ih b ii ij im in iq kp iu kq iy kr jc ks kt ku kv bi translated">Azure帐户</li><li id="9162" class="kn ko hi ih b ii kw im kx iq ky iu kz iy la jc ks kt ku kv bi translated">Github帐户(了解任何框架)</li><li id="5eeb" class="kn ko hi ih b ii kw im kx iq ky iu kz iy la jc ks kt ku kv bi translated">Git的基础知识</li></ol><h1 id="4474" class="lb lc hi bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">步骤1:在Azure上创建应用服务</h1><p id="c0ba" class="pw-post-body-paragraph if ig hi ih b ii lz ik il im ma io ip iq mb is it iu mc iw ix iy md ja jb jc hb bi translated">前往<a class="ae je" href="https://portal.azure.com/" rel="noopener ugc nofollow" target="_blank">portal.azure.com</a>并登录(如果没有，请注册)。点击左侧边栏中的<em class="jd">“创建资源”</em>。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es me"><img src="../Images/23f73d16e79dcba20f2cc90ddcfeda8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:120/0*onTygZTT8tVZ5RAj"/></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mf"><img src="../Images/5432804c2cf60837e7d17208acd8d28c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*t4xCPn5U3RANlLPQ.png"/></div></div></figure><p id="3353" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">搜索“<em class="jd">Web App”</em>并点击。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es me"><img src="../Images/eed0855f922506b302f200f7ee638848.png" data-original-src="https://miro.medium.com/v2/resize:fit:120/0*g1ExOB5VvytgZHQu"/></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es mg"><img src="../Images/17c7bee752d249aeb5c309caecfdba47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/0*i4BRDKdR1TAoNavI.png"/></div></figure><p id="3cad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并按照您的帐户设置填写如下所示的详细信息(<strong class="ih hj">注</strong> : <em class="jd">您可能会为复制本教程</em>时创建的一些资源付费)。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es mh"><img src="../Images/e05441e089fbf442ba379489d84aa2c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/0*4Cx6OVpE81px0DzG.png"/></div></figure><p id="5107" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">订阅</strong>:已有订阅名称。<br/> <strong class="ih hj">资源组</strong>:新建并命名它(在我的例子中是<em class="jd">“TestRG”，它已经是一个现有的资源组</em>)。<br/> <strong class="ih hj">名称</strong>:您选择的应用名称</p><p id="1f3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">发布:</strong>选择<em class="jd">代码</em>。<br/> <strong class="ih hj">运行时栈</strong>:挑'<em class="jd"> Python 3.8 </em>'。<br/> <strong class="ih hj">操作系统</strong>:挑选'<em class="jd">Linux</em>'<br/>'<strong class="ih hj">地区</strong>:挑选'<em class="jd">美国中部</em>'或F1应用服务计划层级可用的任何其他地区。</p><p id="eaf8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">应用服务计划::<br/> Linux计划(美国中部)</strong>:创建一个新计划(<em class="jd">在我的情况下，它已经存在/您可能需要创建一个新计划。</em> ) <br/> <strong class="ih hj"> SKU和尺寸:</strong> <em class="jd">自由F1 </em> <strong class="ih hj"> ( </strong> 1 GB内存)【挑这个尺寸】</p><p id="3404" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击<strong class="ih hj">查看并创建</strong>，确认后点击<strong class="ih hj">创建</strong>按钮。Azure部署所需资源可能需要一段时间。</p><p id="88df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">步骤2:配置应用服务的部署设置</p><p id="ff66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">部署过程完成后，您可以在Azure Dashboards的“所有资源”选项卡中看到之前创建的应用服务。</p><p id="20ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击该资源并转到资源侧栏中的部署中心。</p><p id="86f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择<strong class="ih hj"> Github </strong>作为源代码管理提供者。如果你还没有从Azure授权Github，它会通过要求你授权来打开一个新窗口。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mi"><img src="../Images/3f7c729a914f32d31f217799cd4b88d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7zc9jOp5GySsQqO-.png"/></div></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mj"><img src="../Images/68abe0dd1aff8ea2068e04646c8318db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4jDPe12ucmaFPCTv.png"/></div></div></figure><p id="7495" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过提供您的Github凭据点击授权，然后点击'<strong class="ih hj">授权/批准</strong>'。</p><p id="e334" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关闭GitHub授权后，你可以看到Azure中的<strong class="ih hj">‘继续’</strong>选项，如上图所示。之后，您将选择构建提供者小部件。</p><p id="7436" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">选择'<strong class="ih hj"> Kudu </strong>'作为您的构建提供者，并再次点击'<strong class="ih hj"> Continue </strong>'。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mk"><img src="../Images/96a9ec7f373d561b2f0092734bcbf0cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*s1KK02Ekp5Jtg9HJ.png"/></div></div></figure><p id="dff5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您将被带到<strong class="ih hj">配置</strong>选项卡，以选择您的GitHub帐户中您想要发布到Azure App服务的相应回购。</p><p id="0c5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong> <em class="jd">如果你的GitHub里没有基于Python的Web App，那么从</em> <a class="ae je" href="https://github.com/dini-rockz93/FastAPi_azure/" rel="noopener ugc nofollow" target="_blank"> <em class="jd">这里</em> </a> <em class="jd">把它分出来，然后用它部署到Azure App Service里。</em></p><p id="fee1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击<strong class="ih hj">继续</strong>，将进入部署配置的最后一步，即查看摘要。您可以在这里看到哪个存储库将被推送到应用服务。</p><p id="25a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最棒的是，你甚至可以在Azure中优化应用服务计划，以确保有多个部署槽用于不同的目的。例如，如果配置有效，在同一个应用服务中可以有一个生产部署槽和一个临时部署槽。</p><p id="6c45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是我们如何在短时间内从GitHub Repos到Azure配置和部署基于python的web应用程序。</p></div><div class="ab cl ml mm gp mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="hb hc hd he hf"><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ms"><img src="../Images/b9994ec8ba3698008b1b3ebd9aa22e35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4TsUMPDSupaik0x1"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">照片由<a class="ae je" href="https://unsplash.com/@novantino?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Rendy Novantino </a>在<a class="ae je" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="29ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我在Azure的第一次尝试，让我知道任何改进点</p><p id="d815" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编辑:完成工作后，不要忘记删除资源</p><p id="0806" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae je" href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/delete-resource-group?tabs=azure-powershell" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/azure-resource-manager/management/delete-resource-group？tabs=azure-powershell </a></p><blockquote class="mt mu mv"><p id="dcfe" class="if ig jd ih b ii ij ik il im in io ip mw ir is it mx iv iw ix my iz ja jb jc hb bi translated">az资源删除—详细— id <id_name/></p></blockquote></div><div class="ab cl ml mm gp mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="hb hc hd he hf"><p id="86b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">最后的话</strong> <br/>通过KonfHub举办的这个技术博客竞赛，我坚信每个软件工程师都会认真阅读文档/博客/文章/参考资料，这有助于探索处理错误的专业方法。谢谢你，KonfHub，让我有如此美好的经历。</p></div></div>    
</body>
</html>