<html>
<head>
<title>Optimizing Code Using Class Inheritance in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Unity 中使用类继承优化代码</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/optimizing-code-using-class-inheritance-in-unity-3c4eca7c617e?source=collection_archive---------8-----------------------#2021-07-17">https://medium.com/nerd-for-tech/optimizing-code-using-class-inheritance-in-unity-3c4eca7c617e?source=collection_archive---------8-----------------------#2021-07-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b18a2a7e3e5022929e4c58792c02cc8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*05Up8-G6QYumf_V45p7NRA.gif"/></div></div></figure><p id="6907" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在游戏中，我创造了多个敌人，他们有自己的脚本，本质上做着同样的事情。我决定这将是一个使用类继承的好时机，这样如果我决定添加更多的敌人，我就不必一遍又一遍地输入相同的代码。</p><p id="87da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，我必须获得对敌人类中的 animator 和 sprite 渲染器组件的引用来控制动画。我创建了引用并在一个虚拟方法中初始化它们。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jo"><img src="../Images/f906dd61606586e3c00284408b88990f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*I5LB63yJmGvIY8Mt7oBJAQ.png"/></div></figure><p id="e584" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在创建一个虚拟方法来保存敌人的移动代码，并将代码复制到虚拟方法中。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/503b71415a9df0b58d2602c637e8172e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vYWqnmNuz3d9qVNGqMthFg.png"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">注意:将 animator 引用替换为敌人类中的那个</figcaption></figure><p id="536a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">用翻转精灵的方法做同样的事情。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/15319ad94d27b70c4eae526a0cc78d23.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*vgxs6YvIpL_vpUijXXHMow.png"/></div></figure><p id="d459" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在敌人类中设置更新方法，使其与在单个敌人脚本中的方法相同，只是替换了 animator 引用。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/f8c6c976909f15d03f7114e687920339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*_ypDsHvwgzj0v66K17gB0g.png"/></div></figure><p id="cd7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在敌人类中创建一个将调用 init 方法的 start 方法。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/d103723cab9df1f520b01f2a8900572f.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*VlhFXWL2e9WyhZi0p4XDog.png"/></div></figure><p id="3342" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在你可以删除单个敌人脚本中的所有代码。</p><div class="jp jq jr js fd ab cb"><figure class="kb ij kc kd ke kf kg paragraph-image"><img src="../Images/29bc84215ccbcb16244ca928453cc872.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*DnWsLMdBeDI327W_r2Lx_w.png"/></figure><figure class="kb ij kh kd ke kf kg paragraph-image"><img src="../Images/065a584a72986db240ee40b72a2be9c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*FCjje0O9rLNpc8naeqve2Q.png"/></figure></div><p id="fc27" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当这些类继承了敌人的类时，它们现在不需要任何代码就可以工作了。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ki"><img src="../Images/841992abf8a3f25ee881c8a456e02ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/1*ThadKbUBBXMzrfN-tvIUlA.gif"/></div></figure><p id="4f3b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这也允许你保留原来的功能，并为每个敌人添加特定的代码。</p><p id="8410" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想增加苔藓巨人的高度，创建高度变量。然后您可以覆盖 init 方法并添加代码。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/a5c5faefd1725ffca965e4fa92648ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*GfrmijcNNYTro4TIFUQPcg.png"/></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">注:基数。init()；保留基本功能</figcaption></figure><p id="9afd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在身高变量只会出现在苔藓巨人身上。</p><div class="jp jq jr js fd ab cb"><figure class="kb ij kk kd ke kf kg paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/8cb1342b91b59c43732a1d5f36c9b359.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*8txa7VhmKxpgGh8jRaSMnQ.png"/></div></figure><figure class="kb ij kl kd ke kf kg paragraph-image"><img src="../Images/0dee99912bfa1536b0ce489cd56ec27c.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*mJEfOkFwrP2EhffGovU2Pg.png"/></figure></div><p id="6d4e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我点击 play 时，它会将高度变量设置为 10。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es km"><img src="../Images/acd9bb3174abb13574821dbd88d67c3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*9uEENL1Rb0eZVpTkOJSY5g.png"/></div></figure></div></div>    
</body>
</html>