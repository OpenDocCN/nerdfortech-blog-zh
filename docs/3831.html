<html>
<head>
<title>BPMN2.0 - camunda workflow spring boot application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">BPMN2.0 - camunda 工作流春季启动应用程序</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/bpmn2-0-camunda-workflow-spring-boot-application-2381f3d42e5f?source=collection_archive---------0-----------------------#2021-06-26">https://medium.com/nerd-for-tech/bpmn2-0-camunda-workflow-spring-boot-application-2381f3d42e5f?source=collection_archive---------0-----------------------#2021-06-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="48ca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">有趣的</em> …。这种与 spring boot 的 DIY camunda 工作流流程集成旨在让您对什么是 camunda 以及我们如何轻松地将其与 spring boot 集成以创建一个<em class="jd">独立流程应用程序</em>？</p><p id="9401" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">如果你想在继续下一步之前找到代码，那么就去查看一下</em><a class="ae je" href="https://github.com/sourabhparsekar/camunda-masala-noodles" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="jd">GitHub</em></strong></a><em class="jd">库。该用例尝试使用嵌入式 camunda 工作流流程引擎烹饪 veg masala 方便面。</em></p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/9354d53faf4db68bda3fd9406dc76ca5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JsknnsqHeq-qhtoXiBQelw.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">Camunda —弹簧靴—独立过程应用</figcaption></figure></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="2cfe" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">维基百科是怎么说卡蒙达的？</h1><p id="658a" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated"><strong class="ih hj"> Camunda 平台</strong>是一个开源的<a class="ae je" href="https://en.wikipedia.org/wiki/Workflow_automation" rel="noopener ugc nofollow" target="_blank">工作流</a>和<a class="ae je" href="https://en.wikipedia.org/wiki/Decision_support_system" rel="noopener ugc nofollow" target="_blank">决策自动化</a>平台。Camunda 平台附带了用于创建工作流和<a class="ae je" href="https://en.wikipedia.org/wiki/Decision_model" rel="noopener ugc nofollow" target="_blank">决策模型</a>的工具，在生产中操作部署的模型，并允许用户执行分配给他们的工作流任务。它在<a class="ae je" href="https://en.wikipedia.org/wiki/Java_(programming_language)" rel="noopener ugc nofollow" target="_blank"> Java </a>中开发，并在<a class="ae je" href="https://en.wikipedia.org/wiki/Apache_License" rel="noopener ugc nofollow" target="_blank"> Apache 许可</a>的条款下作为<a class="ae je" href="https://en.wikipedia.org/wiki/Open-source_software" rel="noopener ugc nofollow" target="_blank">开源软件</a>发布。</p><p id="6e42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它提供了一个符合<a class="ae je" href="https://en.wikipedia.org/wiki/Business_Process_Model_and_Notation" rel="noopener ugc nofollow" target="_blank">业务流程模型和符号</a> (BPMN)标准的<a class="ae je" href="https://en.wikipedia.org/wiki/Workflow_engine" rel="noopener ugc nofollow" target="_blank">工作流引擎</a>和一个符合 (DMN)标准的<a class="ae je" href="https://en.wikipedia.org/wiki/Decision_engine" rel="noopener ugc nofollow" target="_blank">决策引擎</a>，可以通过<a class="ae je" href="https://en.wikipedia.org/wiki/REST" rel="noopener ugc nofollow" target="_blank"> REST </a>嵌入到<a class="ae je" href="https://en.wikipedia.org/wiki/Java_(programming_language)" rel="noopener ugc nofollow" target="_blank"> Java </a>应用和其他语言中。</p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="f49f" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">让我们自己动手吧</h1><p id="453b" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated"><em class="jd">这是我为这个博客创建的</em><a class="ae je" href="https://github.com/sourabhparsekar/camunda-masala-noodles" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="jd">GitHub</em></strong></a><em class="jd">知识库。关于如何构建和运行项目，可以参考<a class="ae je" href="https://github.com/sourabhparsekar/camunda-masala-noodles/blob/main/README.md" rel="noopener ugc nofollow" target="_blank"> Readme </a>文件。这将有助于您了解最少的 camunda 配置，以及 camunda 工作流引擎与 spring boot 的集成。</em></p><h2 id="5a9b" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">项目配置</h2><ul class=""><li id="57f9" class="lt lu hi ih b ii la im lb iq lv iu lw iy lx jc ly lz ma mb bi translated">JAVA(1.8 版)</li><li id="27ac" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">弹簧靴:(2.4.3 版)</li><li id="3f80" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">Camunda 平台:(7.15.0 版)</li><li id="38bf" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">卡蒙达平台 Spring Boot 启动器:(7.15.0 版)</li><li id="c969" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">构建工具:Apache Maven(3 . 6 . 3 版)—包装器</li><li id="d162" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">数据库:H2 内存</li><li id="80d8" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">单元测试:JUnit5 - Jupiter (v5.7.1)</li><li id="c5e5" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">代码质量:sonar cube(3 . 7 . 0 版)</li></ul><h2 id="3f8e" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">我们今天在建造什么？</h2><p id="2d46" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">我们所有人一定都在某个时候吃过方便面。有些人可能还为自己做了这道菜。</p><p id="0502" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">我们今天的使用案例是尝试用现有的原料来烹饪方便面。如果我们没有所需的原料，或者我们不会做饭，或者我们在做饭时把面条烧焦了，那么我们会像往常一样从你最喜欢的餐馆点菜。</em></p><blockquote class="mh mi mj"><p id="587f" class="if ig jd ih b ii ij ik il im in io ip mk ir is it ml iv iw ix mm iz ja jb jc hb bi translated">注意:你可能会看到一些烹饪步骤不直观。添加它们是为了利用 camunda 的功能来理解 camunda 的基础知识。</p></blockquote><h2 id="f071" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">卡蒙达流程步骤</h2><p id="4d3a" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">在<a class="ae je" href="https://docs.camunda.org/manual/7.15/reference/bpmn20/" rel="noopener ugc nofollow" target="_blank"> BMPN 2.0 实现</a>中，我们在用例中使用了以下内容来煮面:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es mn"><img src="../Images/9ad4cdd05522d8b2e6829c7f9b5000c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/0*JbMHBY9gAJL7fxD_.png"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">用于用例的 BPMN 2.0</figcaption></figure><ul class=""><li id="85db" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated"><code class="du mr ms mt mu b"><strong class="ih hj">Service Tasks</strong></code>:服务任务用于调用服务。我们使用了<code class="du mr ms mt mu b">JavaDelegate</code>接口来委托流程。</li><li id="a8c6" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated"><code class="du mr ms mt mu b"><strong class="ih hj">Gateway</strong></code>:网关控制流程中的令牌流。它们允许基于数据和事件的建模决策。</li><li id="9c49" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated"><code class="du mr ms mt mu b"><strong class="ih hj">Event Based Gateway</strong></code>:基于事件的网关允许您根据事件做出决定。网关的每个传出序列流都需要连接到一个中间捕获事件。</li><li id="05d9" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated"><code class="du mr ms mt mu b"><strong class="ih hj">Message Intermediate Catch Event</strong></code>:消息事件是指引用指定消息的事件。消息有一个名称和一个有效载荷。</li><li id="13be" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated"><code class="du mr ms mt mu b"><strong class="ih hj">Timer Intermediate Catch Event</strong></code>:定时器事件是由定义的定时器触发的事件。它们可以用作开始事件、中间事件或边界事件。</li></ul><p id="81a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">所有可用的</em><a class="ae je" href="https://docs.camunda.org/manual/7.15/reference/bpmn20/" rel="noopener ugc nofollow" target="_blank"><em class="jd">【BPMN】2.0 实现参考</em> </a>参考卡蒙达文档</p><h2 id="2069" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">使用案例——Veg Masala 方便面烹饪流程</h2><p id="1292" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">我们已经使用<a class="ae je" href="https://camunda.com/download/modeler/" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj"><em class="jd">cam unda Modeler</em></strong></a>构建了流程，可以下载并在本地运行。它生成一个. bpmn 或。添加到项目<a class="ae je" href="https://github.com/sourabhparsekar/camunda-masala-noodles/blob/main/src/main/resources/cook_noodles_process.bpmn" rel="noopener ugc nofollow" target="_blank">的 dmn 文件。/src/main/resources </a>文件夹。</p><p id="ce94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以查看<a class="ae je" href="https://docs.camunda.org/manual/7.15/modeler/" rel="noopener ugc nofollow" target="_blank"> Camunda Modeler </a>文档，了解如何使用它来创建或修改流程。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mv"><img src="../Images/c51022c9d19bb11e587bea21b2af2d44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*IN5DmW32hN06Znc8.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">卡蒙达 BPMN 2.0 流程图</figcaption></figure><ul class=""><li id="06ca" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated">我们首先检查我们有最少的配料，方便面、水、锅和锅铲是必须的。蔬菜、奶酪等。都是随意做泡面。</li><li id="98d9" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">如果有最基本的配料，我们就把所有的东西都放进锅里，搅拌一下，盖上盖子，保持加热。(在那里使用您的加热偏好)。</li><li id="67c9" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">如果你记得你留了一些烹饪用的东西，而且你闻起来很香，那么打开盖子，检查一下它是否煮熟了。或者再等几分钟。</li><li id="6be4" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">然而，很可能你忙于其他事情，而忘记检查。在这种情况下，15 分钟后烹饪计时器将到期，你必须在线订购，因为面条会烧焦。哎呀…</li><li id="2513" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">但是，如果你看到它煮得很好，味道很好，那就享受你的速食方便面吧。否则…哎呀，你的努力白费了，因为面条煮过头了/烧焦了。在那种情况下，你将不得不在网上订购。</li></ul><p id="31f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">享受烹饪！！</p><p id="2448" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">至此，我们结束了煮方便面非直观流程。顺便说一下，我就是这样煮方便面的，而且大多数时候都很好吃。</p><h2 id="e6ff" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">Camunda 弹簧靴初始化器</h2><p id="37d2" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">包含 spring boot 框架的<a class="ae je" href="https://start.camunda.com/" rel="noopener ugc nofollow" target="_blank"> Camunda 平台初始化器</a>可以轻松创建 Camunda spring boot 项目。这使得 Spring 可以在 camunda 工作流应用程序中工作。</p><p id="5ca5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些启动器预先配置了 Camunda 流程引擎、REST API 和 Web 应用程序，因此可以轻松地在独立的流程应用程序中使用它们。</p><p id="8352" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有关设置的详细说明和指南，请参考<a class="ae je" href="https://docs.camunda.org/get-started/spring-boot/" rel="noopener ugc nofollow" target="_blank"> Camunda 文档-弹簧靴</a></p><h2 id="ea0c" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">从 GIT repo 构建和部署 API</h2><p id="5ee5" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">以下步骤涵盖了使用 Apache Maven 配置和部署 spring boot jar 所需的高级任务。</p><ol class=""><li id="f84a" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc mw lz ma mb bi translated">本地系统上的克隆存储库。默认情况下，jar 将取自 Maven 中央存储库。<br/>URL =<a class="ae je" href="https://github.com/sourabhparsekar/camunda-masala-noodles.git" rel="noopener ugc nofollow" target="_blank">https://github . com/sourabhparsekar/cam unda-masala-noodles . git</a></li><li id="8a06" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc mw lz ma mb bi translated">如果需要，更新 logback-spring.xml、application.yaml 中的属性</li><li id="7d38" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc mw lz ma mb bi translated">使用 maven 包装器构建任务<code class="du mr ms mt mu b">mvnw clean install</code></li><li id="1ea0" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc mw lz ma mb bi translated">收到。jar 文件从/target/到您的<code class="du mr ms mt mu b">deployment-directory</code></li><li id="a1a1" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc mw lz ma mb bi translated">特定于环境的<code class="du mr ms mt mu b">application.yaml</code> &amp; <code class="du mr ms mt mu b">logback-spring.xml</code>将被修改并与<code class="du mr ms mt mu b">.jar</code>一起放置在部署目录中(如果适用)</li><li id="b6f0" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc mw lz ma mb bi translated">用<code class="du mr ms mt mu b">java -jar camunda-masala-noodles-&lt;version&gt;.jar</code>开始执行</li><li id="d682" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc mw lz ma mb bi translated">日志在部署目录/logs 文件夹中生成，文件名为' cam unda-masala-noodles-logger . log '或在 logback-spring.xml 中提到</li></ol><h2 id="a211" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">用 maven &amp; cmd 运行 spring boot 应用程序</h2><p id="82aa" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">如果您想快速检查工作情况，那么您可以使用本地终端或命令提示符来运行项目</p><ul class=""><li id="8e36" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated">导航到项目根目录</li><li id="51e0" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">使用<code class="du mr ms mt mu b">mvnw clean install</code>在本地构建并安装 jar</li><li id="e762" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">使用<code class="du mr ms mt mu b">mvnw spring-boot:run</code>在本地运行 spring boot 应用程序</li><li id="1f99" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">或者，您可以导航到文件<a class="ae je" href="https://github.com/sourabhparsekar/camunda-masala-noodles/blob/main/src/main/java/com/noodles/MasalaNoodlesApplication.java" rel="noopener ugc nofollow" target="_blank">MasalaNoodlesApplication</a>并从 IDE 中启动该应用程序</li></ul><p id="9689" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果一切正常，你应该会在你的控制台上看到下面的日志</p><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="mx my l"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">camunda spring boot 应用程序启动日志</figcaption></figure><p id="6104" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">参考</em> <a class="ae je" href="https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-running-your-application.html" rel="noopener ugc nofollow" target="_blank"> <em class="jd">运行您的应用</em> </a> <em class="jd">获取更多关于运行启动应用的帮助。</em></p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="6f3a" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">测试我们的用例</h1><h2 id="d032" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">举例说明制作蔬菜马萨拉面条的新流程</h2><p id="c636" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">现在您已经在本地托管了您的应用程序，让我们看看如何测试它</p><p id="a14f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步。在浏览器</strong>中打开&amp;登录 Camunda</p><ul class=""><li id="cedf" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated">使用<br/>http://localhost:10101/camunda-masala-noodles 在本地访问 cam unda</li><li id="742a" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">凭证在<a class="ae je" href="https://github.com/sourabhparsekar/camunda-masala-noodles/blob/main/src/main/resources/application.yaml" rel="noopener ugc nofollow" target="_blank"> application.yaml </a>文件中配置</li></ul><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="mx my l"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">camunda 默认登录凭据</figcaption></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mz"><img src="../Images/d6b7bf0b2c90e37831e0df08e16e3163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xnVktnvYRTNE__E2.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">camunda 欢迎登录页面</figcaption></figure><p id="df8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步。开始“烹饪蔬菜面条”流程</strong></p><ul class=""><li id="8629" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated">点击登录页面中的<code class="du mr ms mt mu b">TaskList</code>,您可以在这里生成新流程</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es na"><img src="../Images/9e41f808c7ac08293f40ee0ff29899f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cEcZV9dgNvxE8gPI.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">camunda 登录页面</figcaption></figure><ul class=""><li id="edaa" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated">在右上角，我们有菜单。点击<code class="du mr ms mt mu b">Start process</code>，选择流程<code class="du mr ms mt mu b">Cook Masala Veggies Noodles</code></li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mz"><img src="../Images/2260c7202d322fde706bac0498204790.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nd4ePtU_syD--Czl.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">从任务列表启动流程</figcaption></figure><p id="1e75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步。输入详细信息以启动流程实例</strong></p><ul class=""><li id="89d1" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated">现在我们将看到一个<code class="du mr ms mt mu b">form</code>来选择我们有的配料。基于输入，工作流将决定行动的过程。<em class="jd">您可以检查控制台日志，看看您的流程发生了什么。</em></li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es nb"><img src="../Images/c9eb95bf25255871974888ba2cc52457.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tUgbwUQQGPgiPpCW.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">camunda 开始流程输入详细信息表单</figcaption></figure><p id="e30a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第四步。导航至卡蒙达驾驶舱</strong></p><ul class=""><li id="fbf2" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated"><code class="du mr ms mt mu b">Cockpit</code>帮助我们形象化流程的当前步骤。它还会给我们流程实例 id。</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mz"><img src="../Images/3f236e12439015298a4b52a417094634.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zD6nQ3Y0K9ek_UXM.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">卡蒙达驾驶舱可视化过程</figcaption></figure><ul class=""><li id="a188" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated">您现在可以点击<code class="du mr ms mt mu b">Cook Masala Veggies Noodles</code>过程定义来查看正在运行的过程。</li><li id="9535" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated"><em class="jd">复制流程实例 id </em>，面条煮熟后，我们需要使用它来恢复我们的烹饪流程。如果您不这样做，那么计时器将过期，流程将出错，提示您在线订购</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mz"><img src="../Images/68ba91f12b94473fdf33ca6d3ab33379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_9GwpHx5oclSZzqG.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">卡蒙达驾驶舱显示我们的等待步骤</figcaption></figure><blockquote class="mh mi mj"><p id="b39a" class="if ig jd ih b ii ij ik il im in io ip mk ir is it ml iv iw ix mm iz ja jb jc hb bi translated">一旦进入等待步骤，配料检查过程将结束，烹饪过程将从外部开始。如果您在驾驶舱中看不到您的流程，请检查控制台上的日志。它可能会出错，因为你没有足够的原料来煮方便面，或者你可能忘记在煮完面条后继续这个过程。无论是哪种失败的情况，你都必须在线订购。</p></blockquote><h2 id="bccb" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">完成后，使用实例 id 恢复流程</h2><p id="5406" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">我们的面条现在已经煮好了，我们需要向我们的过程表明，以便它可以继续下一步。</p><p id="ff90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第一步。打开 Swagger API 浏览器</strong></p><ul class=""><li id="25f4" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated">当你忙着用手机的时候，你碰巧记得方便面还在煮。如果你的过程还没有结束，比如面条没有烧焦，可以吃了，那么你可以触发一个 api 来恢复等待过程。这也表明你的面条煮得很好...:)</li><li id="bb68" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">你现在可以使用<br/>http://localhost:10101/cam unda-masala-noodles/Swagger-ui . html<br/><a class="ae je" href="https://sourabhparsekar.medium.com/open-api-specification-swagger3-fc9ad3bbacdd" rel="noopener"><em class="jd">访问 Swagger API，想了解更多关于 swagger ui 的内容，可以参考我的另一篇文章。</em> </a></li></ul><p id="1ef4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步。恢复实例 id 为</strong>的流程</p><ul class=""><li id="6714" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated">点击<code class="du mr ms mt mu b">Try it out</code>启用 API。从 cockpit 复制的流程实例 id 进入 path 参数。</li><li id="b5c9" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">点击<code class="du mr ms mt mu b">Execute</code>发送请求，恢复流程。</li><li id="fe7a" class="lt lu hi ih b ii mc im md iq me iu mf iy mg jc ly lz ma mb bi translated">你可以查看会说<br/> <code class="du mr ms mt mu b">&lt;process-instance-id&gt; is ready to eat.</code>的回复</li></ul><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es nc"><img src="../Images/d6b2677e0db9c963046802350f22c565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kp7bRlbMO0lfBPvg.png"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">Swagger UI 进程已恢复，进程实例 id 为</figcaption></figure><h2 id="1cc0" class="lf kd hi bd ke lg lh li ki lj lk ll km iq lm ln kq iu lo lp ku iy lq lr ky ls bi translated">检查日志以跟踪流程</h2><p id="bc4c" class="pw-post-body-paragraph if ig hi ih b ii la ik il im lb io ip iq lc is it iu ld iw ix iy le ja jb jc hb bi translated">像往常一样，检查日志以查看我们的工作流程遵循的所有步骤。它将通过控制台中的日志来跟踪该过程。如果您使用关键字<code class="du mr ms mt mu b">workflow-service-info</code>过滤日志，那么您会看到下面的内容</p><ul class=""><li id="e743" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated"><strong class="ih hj">流程实例化</strong></li></ul><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="mx my l"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">新的烹饪过程开始了</figcaption></figure><ul class=""><li id="b450" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated"><strong class="ih hj">进程成功恢复</strong></li></ul><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="mx my l"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">恢复暂停的烹饪过程</figcaption></figure><ul class=""><li id="f80f" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated"><strong class="ih hj">进程恢复失败</strong></li></ul><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="mx my l"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">未能恢复暂停的进程</figcaption></figure><ul class=""><li id="43d1" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated"><strong class="ih hj">烹饪食材不足</strong></li></ul><figure class="jg jh ji jj fd jk"><div class="bz dy l di"><div class="mx my l"/></div><figcaption class="jr js et er es jt ju bd b be z dx translated">缺少烹饪原料</figcaption></figure><ul class=""><li id="d448" class="lt lu hi ih b ii ij im in iq mo iu mp iy mq jc ly lz ma mb bi translated"><strong class="ih hj">忘记检查烹饪状态——面条烧焦了</strong></li></ul><p id="9a2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">这个，你可以自己试试。检查 resources 文件夹中的</em> <a class="ae je" href="https://github.com/sourabhparsekar/camunda-masala-noodles/blob/main/src/main/resources/cook_noodles_process.bpmn" rel="noopener ugc nofollow" target="_blank"> <em class="jd"> BPMN 定义</em> </a> <em class="jd">以检查多少分钟后该进程将失败并且不恢复该进程… :) </em></p><p id="fbe2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">希望你已经发现了这一点，一个非常</em> <strong class="ih hj"> <em class="jd">有趣的</em> </strong> <em class="jd">使用卡蒙达工作流程和 spring boot 烹饪方便面的旅程。</em></p><p id="8245" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这篇文章，请留下你的反馈或者鼓掌。如往常一样，对于在设置您的本地环境方面的任何疑问或问题，我们可以通过电子邮件或下面的评论进行联系。</p><p id="7bee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">下次见，快乐烹饪！！</em></p></div><div class="ab cl jv jw gp jx" role="separator"><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka kb"/><span class="jy bw bk jz ka"/></div><div class="hb hc hd he hf"><h1 id="15cb" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">参考</h1><div class="nd ne ez fb nf ng"><a href="https://github.com/sourabhparsekar/camunda-masala-noodles" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab dw"><div class="ni ab nj cl cj nk"><h2 class="bd hj fi z dy nl ea eb nm ed ef hh bi translated">sourabhparsekar/cam unda-masala-面条</h2><div class="nn l"><h3 class="bd b fi z dy nl ea eb nm ed ef dx translated">这个独立的流程应用程序是一个使用 Camunda Workflow &amp; Springboot 和 JUnit5 测试用例的例子。至于…</h3></div><div class="no l"><p class="bd b fp z dy nl ea eb nm ed ef dx translated">github.com</p></div></div><div class="np l"><div class="nq l nr ns nt np nu jp ng"/></div></div></a></div><div class="nd ne ez fb nf ng"><a href="https://en.wikipedia.org/wiki/Camunda" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab dw"><div class="ni ab nj cl cj nk"><h2 class="bd hj fi z dy nl ea eb nm ed ef hh bi translated">卡蒙达-维基百科</h2><div class="nn l"><h3 class="bd b fi z dy nl ea eb nm ed ef dx translated">Camunda 平台是一个开源的工作流和决策自动化平台。Camunda 平台配有工具，可用于…</h3></div><div class="no l"><p class="bd b fp z dy nl ea eb nm ed ef dx translated">en.wikipedia.org</p></div></div></div></a></div><div class="nd ne ez fb nf ng"><a href="https://camunda.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab dw"><div class="ni ab nj cl cj nk"><h2 class="bd hj fi z dy nl ea eb nm ed ef hh bi translated">工作流和决策自动化平台| Camunda</h2><div class="nn l"><h3 class="bd b fi z dy nl ea eb nm ed ef dx translated">BPMN 工作流和 DMN 决策自动化的开源平台。立即下载。</h3></div><div class="no l"><p class="bd b fp z dy nl ea eb nm ed ef dx translated">camunda.com</p></div></div><div class="np l"><div class="nv l nr ns nt np nu jp ng"/></div></div></a></div><div class="nd ne ez fb nf ng"><a href="https://spring.io/" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab dw"><div class="ni ab nj cl cj nk"><h2 class="bd hj fi z dy nl ea eb nm ed ef hh bi translated">Spring 让 Java 变得简单。</h2><div class="nn l"><h3 class="bd b fi z dy nl ea eb nm ed ef dx translated">提高您的 Java 代码水平，探索 Spring 能为您做什么。</h3></div><div class="no l"><p class="bd b fp z dy nl ea eb nm ed ef dx translated">spring.io</p></div></div><div class="np l"><div class="nw l nr ns nt np nu jp ng"/></div></div></a></div><div class="nd ne ez fb nf ng"><a href="https://sourabhparsekar.medium.com/open-api-specification-swagger3-fc9ad3bbacdd" rel="noopener follow" target="_blank"><div class="nh ab dw"><div class="ni ab nj cl cj nk"><h2 class="bd hj fi z dy nl ea eb nm ed ef hh bi translated">开放 API 规范— Swagger3</h2><div class="nn l"><h3 class="bd b fi z dy nl ea eb nm ed ef dx translated">SpringBoot API 文档</h3></div><div class="no l"><p class="bd b fp z dy nl ea eb nm ed ef dx translated">sourabhparsekar.medium.com</p></div></div><div class="np l"><div class="nx l nr ns nt np nu jp ng"/></div></div></a></div></div></div>    
</body>
</html>