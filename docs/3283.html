<html>
<head>
<title>New Firing Powerup- Game Dev Series 40</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">游戏开发系列 40</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/new-firing-powerup-game-dev-series-40-73b6f6dc684c?source=collection_archive---------19-----------------------#2021-06-04">https://medium.com/nerd-for-tech/new-firing-powerup-game-dev-series-40-73b6f6dc684c?source=collection_archive---------19-----------------------#2021-06-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c024" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目的:创造一个新的具有稀有产卵率的次级火力。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es jk"><img src="../Images/d6ef0efc64904481ea5aec8250e6b63e.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/1*PfD74CuORxQgpvpbjurKPg.gif"/></div></figure><p id="44d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将创建一个新的射击技能，用罕见的产卵率代替三次射击。作为一个新的射击系统，我想在主激光射击 1 秒钟后，用激光穿过 4 个不同的方向，创造一种类似烟花的射击风格。</p><h2 id="e280" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">编辑器和激光脚本</h2><p id="fc4c" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">创建一个空的游戏对象并给它一个名字，这将在我们发射烟火激光时创建。然后将 4 个激光预制体拖向不同的方向。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ks"><img src="../Images/a59b4320208d3e87f2f57340803d7956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*i_m7fMhDSjLLyTOFYMypZA.gif"/></div></div></figure><p id="9b84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意航向。因为我们的激光总是“向上”，你应该调整“向上”的方向。</p><p id="759f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下一部分之前，我们需要调整激光脚本的销毁方法。到目前为止，当激光与敌人碰撞或 y 轴在屏幕上方时，我们会将其摧毁。由于新的烟花镜头可能不会到达我们屏幕的顶部，如果我们保持这样可能会有问题。<br/>作为我们新的点火装置，我们需要在激光用完屏幕区域时将其摧毁，我们可以使用一种方法来做到这一点。</p><p id="0da0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开激光脚本，创建<strong class="ih hj">onbecameinsvisible()</strong>。这种方法会在激光器超出边界时自动将其摧毁。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kx"><img src="../Images/3dbe843c8c83c21f43e89b58c1045e90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*iAgQ1Jo-9kd1DMX7FhlrHA.png"/></div></figure></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="c22d" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">玩家脚本</h2><p id="9841" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">现在我们需要设置当我们发射烟火激光时，它应该做什么的功能。<br/>打开<strong class="ih hj">玩家</strong>脚本，创建一些变量。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ky"><img src="../Images/3917064e17800091e7ac8d657a19dd9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*mI3Q7hN33bcqskEy9a9_6g.png"/></div></figure><p id="608d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这些变量，我们可以在<strong class="ih hj"> ShootLaser() </strong>中创建另一个<strong class="ih hj"> else if </strong>。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kz"><img src="../Images/dfc5a94494c96d9bf7b89c586623c13d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lMQj3uElf4v4U4apQlPd7w.png"/></div></div></figure><p id="1097" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们创建了一个激光游戏对象来存储我们拍摄的激光预置。这将是烟火产生的位置。同样，我们使用<strong class="ih hj">调用</strong>在激光持续 0.5 秒后发射烟花。<br/>然后创建<strong class="ih hj"> FireworkShoted() </strong>方法。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es la"><img src="../Images/e92ed4df584225b1d6f5d92a0b9a863d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J17ZEWR5mGUsvAmk0NLRSg.png"/></div></div></figure><p id="d762" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用这个方法来发射烟火激光，我们需要创建另一个公共方法来激活 bool。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lb"><img src="../Images/2114d632379d2da252539f235bf626aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*S6YIJbfJmwVlPi7CqkHJbA.png"/></div></figure><p id="f399" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个带有协程的方法就是我们在通电时要调用的。</p><p id="8cf8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">玩家</strong>的脚本现在应该完成了。下一部分是<strong class="ih hj">通电</strong>。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="cff0" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">通电脚本</h2><p id="6f46" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">启动设置很简单，只需调用我们刚刚用新的启动 ID 创建的方法。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lc"><img src="../Images/44d3884a73d70e7bcc8b7440faa15f8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*TC2Jj1sjuStqJ-iO-HgJLg.png"/></div></figure><p id="c6be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们可以设置“罕见通电”代码。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="b355" class="js jt hi bd ju jv jw jx jy jz ka kb kc iq kd ke kf iu kg kh ki iy kj kk kl km bi translated">SpawnManager 脚本</h2><p id="84ad" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在 spawn powerup 例程中，我们将创建一个整数变量来计算三重射击产生了多少次。当三重射击产生 3 次时，它将产生一个烟花激光能量。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ld"><img src="../Images/decaf2482d16098d9f83a9e3d28ecf8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*66psatpIJ3Y6bbkGn36FDA.png"/></div></figure><p id="7a57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还需要改变随机调用的方法。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es le"><img src="../Images/0632df3dadd3ad88ab33332f5aa22c6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*I_kJyfTiTJrdwmWvbj4J9A.png"/></div></div><figcaption class="lf lg et er es lh li bd b be z dx translated">应该是-1，烟花激光那个。</figcaption></figure><p id="0f7a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后我们可以创建一个新的 if 语句来替换原来的派生方法。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lj"><img src="../Images/edca5643f532f8b0d77f19484833ddc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OQFYoLQ0XemP4-oq8fyvlQ.png"/></div></div><figcaption class="lf lg et er es lh li bd b be z dx translated">当三枪打到第三次时，第四次就是烟火激光。</figcaption></figure><p id="6a86" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当次数达到 3 时，它将产生烟火激光，并将计数清零。</p><p id="1522" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">应该就这些了。回到编辑器，拖动所有需要的预设。是时候试玩了。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lk"><img src="../Images/7ebef16f01c267ec45433f0ad7be8301.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WQK8wxxz14-9gFDZH3MyBw.gif"/></div></div></figure></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="d916" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来:<a class="ae ll" href="https://sj-jason-liu.medium.com/the-maximum-ammo-amount-limit-game-dev-series-41-e7b806ee21c" rel="noopener">最大弹药量限制</a></p></div></div>    
</body>
</html>