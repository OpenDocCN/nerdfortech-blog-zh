<html>
<head>
<title>Using Unity Asset Bundles and AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Unity资产捆绑包和AWS</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-unity-asset-bundles-and-aws-82b79c4ae883?source=collection_archive---------3-----------------------#2021-07-11">https://medium.com/nerd-for-tech/using-unity-asset-bundles-and-aws-82b79c4ae883?source=collection_archive---------3-----------------------#2021-07-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="5466" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">通过在云上浮动大型资产来减轻您的应用程序</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/4a1a8e4be7839902ad358e8a710af863.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*VEBZ9EsOGLcUA6H3iBgNCQ.jpeg"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">2021年迈克尔·戴维斯</figcaption></figure><p id="f91d" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">比方说，你有一个应用程序，它的大部分被捆绑在资产中，你想在一个有大小限制的介质中部署你的应用程序。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kf"><img src="../Images/289b360da696cfbd5259cc6403cc5633.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*824aVpRVjO0UgTsL"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">好吧，也许不是我想的那样。但是你明白了。</figcaption></figure><p id="1a04" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们可以通过将您的大型资产收集到资产包中，然后将这些资产包存储在您的AWS bucket中以便在运行时检索来解决这个问题。现在你正在将带宽从应用商店转移到用户身上，所以不要期望这是解决你沉重的应用问题的神奇方法。但是把这个工具放在你的工具箱里会很有帮助。</p><p id="8de6" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">让我们看一眼。</p><p id="e8f4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">创建资产包</strong></p><p id="ae3c" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">首先，你需要<a class="ae kk" href="https://docs.unity3d.com/Manual/AssetBundles-Workflow.html" rel="noopener ugc nofollow" target="_blank">从Unity网站获取创建资产包的编辑器代码</a>。在<strong class="jl hj">资产&gt;编辑器</strong>中创建一个名为CreateAssetBundle的新C#脚本(如果您还没有编辑器文件夹，请创建它——脚本必须在这个文件夹中，否则它将无法工作)。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kl"><img src="../Images/62c94bd9ffdbb7731acf124278a3a514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43HeM4GUSINmNesjcU0FTQ.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">你不能复制和粘贴这个，但这是你在Unity网站上寻找的。</figcaption></figure><p id="c647" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，您的资产菜单将有一个选项<strong class="jl hj">构建资产包</strong>。</p><p id="2097" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">在此之前，我们必须将资产添加到捆绑包中。我有一个大的3D模型，我想离开我的项目，所以我将在我的项目视图中选择它的预设，并在检查器中查看。在最底部有一个下拉菜单，用于将资产分配到资产捆绑包。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es km"><img src="../Images/0314534d10c803198569e7d67e2c7a4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XiaUatIkF9eOLJYyH6S8uA.png"/></div></div></figure><p id="cc14" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们还需要在项目中创建一个名为<strong class="jl hj"> Assets &gt; AssetBundles </strong>的文件夹来保存结果。</p><p id="e129" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">现在，当我们选择<strong class="jl hj">构建资产捆绑包</strong>时，它会将所有标记的对象处理到Asset Bundles文件夹中的一个文件中。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kn"><img src="../Images/327521b3a1d76c642991e0f3287266ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*c6PNb45G7dyAiBBlhIs8gQ.png"/></div></figure><p id="a6bd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">接下来，我们需要获取输出文件(不是文本或清单，只是包的文件——在我的例子中是“horse ”)并将它拖到我们的AWS S3桶中。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ko"><img src="../Images/75cfcf126ff6dce85af42f7d45005b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YJndGAaePxOouc_n8NrY0w.png"/></div></div></figure><p id="dea8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">一旦您将该文件放入存储桶，您就可以在AWS S3控制台中打开该文件并找到它的直接下载链接。复制那个链接，因为我们将需要它在运行时访问文件。</p><p id="930e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">接下来，我们需要创建一个AWSManager类来处理所有的数据下载。我在本文的<a class="ae kk" href="https://michael-l-davis.medium.com/getting-started-with-aws-in-unity-2978a8fead60" rel="noopener">中详细介绍了如何创建经理。我们将根据本文</a>中的下载部分修改基本设置。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kl"><img src="../Images/8b691fbf9765c4cb73b2a46b6eac998b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pDKHOkRiuw9-oXO_sNzDiw.png"/></div></div></figure><p id="4ece" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">不同之处在于，我们不是在找到文件时创建数据流，而是启动一个协程来创建一个Unity Web请求，该请求将直接下载和实例化模型。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kl"><img src="../Images/3a4c333199088752551839510da744b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cO5i4fmBK65dx5iAopev-A.png"/></div></div></figure><p id="d054" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这就是你所需要的。现在，资产将从存储桶自动加载到您的应用程序中。</p><p id="b7e1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">感谢阅读。明天我将开始另一个新项目。跟随Unity获得更多乐趣。</p></div></div>    
</body>
</html>