<html>
<head>
<title>30 Years in Tech: from &gt;30 minutes to 3 milliseconds</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">科技30年:从30分钟到3毫秒</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/30-years-in-tech-from-30-minutes-to-3-milliseconds-ef674ee79a2d?source=collection_archive---------12-----------------------#2021-02-24">https://medium.com/nerd-for-tech/30-years-in-tech-from-30-minutes-to-3-milliseconds-ef674ee79a2d?source=collection_archive---------12-----------------------#2021-02-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="ab fe cl ij"><img src="../Images/a77163d6a486ea5cfde04c4cb53b6727.png" data-original-src="https://miro.medium.com/v2/0*s_7TnpXNPK6rghAu"/></div><figcaption class="im in et er es io ip bd b be z dx translated">图片来源:<a class="ae iq" href="https://www.codeproject.com/Articles/31941/Multi-monitor-Warp-Speed-Screen-Saver" rel="noopener ugc nofollow" target="_blank">曲速屏保</a></figcaption></figure><p id="4526" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这个有点神秘的标题并不是指过去30年硬件和软件的进步，尽管它可能也很接近。指的是(潜在)客户为什么联系我。在我担任独立顾问的这些年里，有许多项目是因为以下一个或两个原因而启动的:</p><ol class=""><li id="fe95" class="jp jq hi it b iu iv iy iz jc jr jg js jk jt jo ju jv jw jx bi translated">有些事花的时间太长了</li><li id="a432" class="jp jq hi it b iu jy iy jz jc ka jg kb jk kc jo ju jv jw jx bi translated">运行时有东西崩溃</li></ol><p id="22cb" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">原因一中“某些东西”可以是查询、ETL过程、报告打开；基本上任何花费任意时间的事情都被认为是“太长”了。大多数情况下，抱怨这个问题的是业务用户，而it或BI部门无法以令人满意的方式解决这个问题。原因二中的“某些东西”主要是中途崩溃的ETL过程。</p><p id="84f9" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">几乎每一次，问题都不在于使用的技术。</p><p id="d1ea" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">永远不会。</p><p id="938b" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">但是，人们仍然坚持认为是服务器容量、数据库版本、数据库品牌、操作系统、BI工具，无论哪种技术被认为是问题的根源。所以他们总是向我指出:你能修理/升级/更换<fill in="" tech="" here="">吗？这本来就不是问题！但是当然，有一个问题，否则他们不会咨询我。</fill></p><p id="bd75" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">那么，是什么导致了这些问题的大部分(如果不是全部的话)？简单:糟糕的设计选择。这通常是由于缺乏知识、没有适当的过程、缺乏对适当资源的访问或者这些情况的组合造成的。当然，技术本身总是可以通过升级软件和/或扩展/更新硬件来改进，但这通常是“锦上添花”；从来不是解决方案本身。为了让你有个概念，这里有三个我处理过的真实案例，我将从引起最大怀疑的一个开始:</p><h1 id="29c7" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">30分钟到3毫秒</h1><p id="602e" class="pw-post-body-paragraph ir is hi it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hb bi translated">我们说的是2004年秋天，一家大型电信运营商运营着美国最大的网站之一。每天处理的数据量为3–5gb的日志和事务文件，数据库大小&gt; 300GB。今天你可以在你的笔记本电脑上运行它，但是在17年前，这是很重要的一卷。关键查询(因此:打开主管理报告)花费了至少30分钟。他们自己的数据库管理员无法解决这个问题，并解释说，考虑到数据库的大小和查询的类型，这“显然”需要很长时间。我回到需求和原始设计，看了看他们的基础设施和软件栈。原来他们运行的是Oracle EE的完整版本，看起来很有希望。所以我问他们是否尝试过构建物化视图来获得所需的结果集，得到的是困惑的表情。他们完全不知道什么是物化视图，或者如何创建它们，所以我向他们展示了。</p><p id="fd95" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">下巴掉了。当我们向管理团队展示结果时，他们也大吃一惊。没有升级，没有新的闪亮工具，只是使用和优化已经存在的东西。你不会相信那会解决多少问题。</p><h1 id="4315" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">崩溃的ETL过程</h1><p id="b261" class="pw-post-body-paragraph ir is hi it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hb bi translated">这是我的一个老客户在2007年的一个夏季项目。我已经有几年没去那里了，但是在我不在的时候，他们自己的员工使用Business Objects Data Integrator开发了一个非常复杂的ETL过程来加载SQL Server 2005数据库。有每日负载(大部分时间运行良好)，加上每周和每月的总量。特别是后两个花费了相当长的时间，并在过程中的意外点崩溃。从来没有在同一点，它总是需要一个完整的重新运行。同样，没有技术的替代(这很好)，但重新设计流程做到了。我们将单一的集成流程划分为单独的任务，并开发了总体控制工作。每当一个(子)任务完成时，它就被检查，在(现在很少)进程崩溃的情况下，它可以重新启动并从它停止的地方重新开始。</p><h1 id="b533" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">ETL处理永远耗时，并且崩溃</h1><p id="f64a" class="pw-post-body-paragraph ir is hi it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hb bi translated">这篇文章中的最后一个案例发生在2006年，也是我的第一个医疗保健项目。我非常喜欢它，以至于我想回到医疗保健行业(我最终做到了)，但这是另一篇文章的内容了。这一个开始是一个简短的任务；我是否能弄清楚为什么两周一次的ETL过程经常崩溃，需要在周末进行手动干预。该作业甚至无法每周运行一次，因为它需要太长时间才能完成，这通常是由不断的崩溃和重启造成的。手边的工具是Cognos数据管理器(好吧，我承认:那是一堆废话……)和Oracle EE。</p><p id="1ac2" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">分析ETL设计花了我几周时间。第一次观察让我非常震惊；没有增量负载！他们每次都从头开始重新加载整个数据仓库。然后我问他们是怎么保存历史的。“哦那容易，历史是在源系统中维护的”。然后我问当一条记录被删除时会发生什么，以及他们后来是如何知道的。沉默…</p><p id="2420" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">长话短说:我得出的结论是，事情完全一团糟。例如:需要从聚合表中查找的临时表构建在更下游的地方，产生了一堆不合逻辑的依赖关系。哦，当然也没有开发/测试环境。所有开发都直接发生在生产环境中。什么可能会出错，对不对？</p><p id="24ca" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">扔掉一切重新开始是我能给他们的最好的建议，事情就是这样。适当的初始和增量加载、历史保存、每日更新、独立的开发/测试和生产，当然，不会再有崩溃。不，我们甚至没有替换Cognos数据管理器:-)</p><h1 id="f725" class="kd ke hi bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">包扎</h1><p id="e7b4" class="pw-post-body-paragraph ir is hi it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hb bi translated">这里的教训非常简单明了:当你认为一些新的闪亮工具可以解决你的数据问题时，请三思。技术本身很少是问题；通常情况下，这是技术实现和使用的方式。</p></div></div>    
</body>
</html>