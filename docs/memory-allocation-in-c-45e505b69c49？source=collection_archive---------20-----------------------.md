# C 语言中的内存分配

> 原文：<https://medium.com/nerd-for-tech/memory-allocation-in-c-45e505b69c49?source=collection_archive---------20----------------------->

## *C 编程中的静态和动态内存分配。*

![](img/8b65810559b6b8e6ab62fa888dc4d3b4.png)

来自[像素](https://www.pexels.com/photo/photo-of-code-projected-over-woman-3861969/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels)的[this is 工程](https://www.pexels.com/@thisisengineering?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels)的照片

计算机的内存只是一系列可以容纳数字、字符或布尔值的“桶”。

当变量占用计算机的内存空间时，我们称之为内存分配。

解除分配表示计算机已重新获得空间，并且无法再访问该变量。

电脑内存分为两部分；**堆栈内存**和**堆内存。**

*   堆栈内存是临时内存存储，存储由函数创建的临时变量。在堆栈中，变量在运行时被声明、存储和初始化。
*   堆内存大于堆栈内存，用于动态内存分配。

**什么是平均内存分配？**

内存分配是将物理或虚拟内存空间分配给计算机程序和服务的过程。内存分配发生在程序执行之前或期间。内存分配有两种基本类型:

1.  静态内存/编译时内存分配。
2.  动态内存/运行时内存分配。

# 静态内存分配

静态内存由编译器为声明的变量分配。内存分配在编译时完成。

*在静态内存分配中，*

*   变量被永久分配。
*   内存分配在程序执行前完成。
*   使用**堆栈**内存。
*   效率较低。
*   没有内存可重用性。
*   无法重用未使用的内存。
*   执行速度更快。
*   分配的内存从程序开始一直保持到程序结束。

*例如:内存分配发生在数组中。*

声明数组时，

```
#include<stdio.h>
int main(){

    int arr[5];
    return 0;
}
```

该数组有 5 个元素，下标从 0 到 4，用垃圾填充。

![](img/206026f4cf68c57c8f717ae5d96f5bc4.png)

编译时分配给`arr`数组的内存是固定的，以后不能改变。

无论我们是否使用了这段记忆，这都不会改变。因此出现了内存浪费。

> *注:实际物理内存是* ***而不是*** *在编译时分配给变量的。仅在运行时分配的实际物理内存。*

# 动态存储分配

内存分配是在执行时(或运行时)完成的，被定义为动态内存分配。`calloc()`和`malloc()`是支持分配动态内存的函数。当值由函数返回并分配给指针变量时，内存空间的动态分配通过使用这些函数来分配。

*在动态内存分配中，*

*   只有当你的程序单元被激活时，变量才会被分配。
*   内存分配是在程序执行期间完成的。
*   使用**堆**内存。
*   内存可以重用，不需要时可以释放内存。
*   用户可以根据需要分配更多内存。此外，用户可以在需要时释放内存。
*   分配内存时，内存大小可以改变。
*   执行速度比静态内存分配慢。
*   内存在运行时分配。
*   分配的内存可以在程序运行期间随时释放。

*例如:c 中的链表*

> 链表是一种线性数据结构，其中的元素不是存储在连续的内存位置。

这就是 C 编程中内存分配是如何发生的。希望这个信息有用。感谢您的阅读！！！。