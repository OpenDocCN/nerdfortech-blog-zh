<html>
<head>
<title>OWASP Juice Shop: Level 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">OWASP果汁店:第二层</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/owasp-juice-shop-level-2-2ead67a77b5e?source=collection_archive---------1-----------------------#2021-03-14">https://medium.com/nerd-for-tech/owasp-juice-shop-level-2-2ead67a77b5e?source=collection_archive---------1-----------------------#2021-03-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/d5fd86e1f58af718feaaea2d5b88a55b.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/0*EYNsRw2lIWsHT3g3.png"/></div></figure><p id="b103" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">完成所有第一关的挑战后，现在是第二关的时候了。第二级的挑战肯定比第一级的要难一些，但是通过努力可以很容易解决。</p><h1 id="ace0" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">登录到管理员帐户</h1><p id="b29d" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">每当涉及管理时，我们首先想到的应该是默认凭证、简单的SQLi或暴力攻击。首先，我们可以转到登录页面，尝试一些基本用户名和密码的组合，例如:</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es ko"><img src="../Images/653b7729a4291a1ee41b132100eb606b.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*PZmUVhYBK4YsZJXCUmICCA.png"/></div></figure><p id="b54f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但显然这些都不起作用。因此，我们可以尝试一些简单的SQLi，比如:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="45e2" class="ky jm hi ku b fi kz la l lb lc">1' OR 1=1;<br/>' OR TRUE;</span></pre><p id="1c18" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是可行的，所有需要做的就是在用户名中输入任何上述有效负载和任何随机密码(因为它与该有效负载无关)，然后我们登录到admin帐户。</p><p id="4e9d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以，这里发生的是:</p><ul class=""><li id="fe5c" class="ld le hi io b ip iq it iu ix lf jb lg jf lh jj li lj lk ll bi translated">通常，当创建一个用户数据库时，创建的第一个条目属于管理员，当我们输入上面的有效负载时，它的执行有点像:</li></ul><p id="f268" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du lm ln lo ku b">SELECT * FROM users WHERE username='1' OR 1=1;' AND password='&lt;passed value&gt;'</code></p><ul class=""><li id="7e90" class="ld le hi io b ip iq it iu ix lf jb lg jf lh jj li lj lk ll bi translated">其中原始查询类似于:</li></ul><p id="2cc9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><code class="du lm ln lo ku b">SELECT * FROM users WHERE username='&lt;passed username&gt;' AND password='&lt;passed password&gt;'</code></p><ul class=""><li id="48f5" class="ld le hi io b ip iq it iu ix lf jb lg jf lh jj li lj lk ll bi translated">现在，由于有效载荷中的<code class="du lm ln lo ku b">OR 1=1</code>部分，查询结果总是为真。(此外，这将返回存储在表中的第一个条目)</li><li id="cfa0" class="ld le hi io b ip lp it lq ix lr jb ls jf lt jj li lj lk ll bi translated">下一部分是<code class="du lm ln lo ku b">;</code>，这个分号基本上标志着SQL语句的结束，其后的任何内容都被视为注释，因此<code class="du lm ln lo ku b">' AND password='&lt;passed password&gt;</code>被作为注释处理，而不是检查是否传递了正确的密码。</li></ul><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es lu"><img src="../Images/2a90e934177c4814dc9640e7bfded87a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Tl__zn2c9rPQ54Z_XbqoZg.gif"/></div></div></figure><p id="525d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">通过一个简单的SQLi，我们可以以管理员的身份访问。</p><h1 id="e2bf" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">访问商店的管理部分</h1><p id="a076" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">现在，我们可以访问administrators帐户了，我们可以开始寻找administration部分了。我们可以直观地检查所有对我们可见的链接，并检查我们是否可以找到到管理部分的链接，但不能找到任何直接的链接。因此，就像一些1级任务一样，我们可以去检查<code class="du lm ln lo ku b">main-es2018.js</code>文件，看看是否有路径指向管理部分。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/c4e7e78d0a8f132597537766c50b38ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*XKoGEOODIXpFkFDA8x4BQw.png"/></div></figure><p id="e444" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">只需简单地搜索“admin”这个词，我们就可以找到管理部分的路径。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es ma"><img src="../Images/8f931f8a2bc91d7120454f26eef07fb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_UpiDczpF9W4ghdHN2k9HQ.png"/></div></div></figure><h1 id="7df2" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">消除所有五星级客户反馈</h1><p id="8baa" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">这是一些真正具有破坏性的工作:p .从前面的挑战中，我们能够到达管理部分，在那里我们可以看到所有的客户反馈。现在，我们需要做的就是从管理页面中删除所有的五星反馈！</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/48bdcee23637a282f4ba61996796b998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/1*ovEHdZUcbe6ND_H4U1Si8A.gif"/></div></figure><h1 id="cfc4" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">在行动之前，表现得像任何“白帽子”应该表现的那样</h1><p id="7c34" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">所以，这个问题的答案看起来非常简单。任何pentester在开始pentest之前都应该做几件事，它们是:</p><ul class=""><li id="2981" class="ld le hi io b ip iq it iu ix lf jb lg jf lh jj li lj lk ll bi translated">阅读目标的隐私政策</li><li id="4c9c" class="ld le hi io b ip lp it lq ix lr jb ls jf lt jj li lj lk ll bi translated">通知当局关于圣灵降临节的事</li><li id="4715" class="ld le hi io b ip lp it lq ix lr jb ls jf lt jj li lj lk ll bi translated">开始之前获得适当的批准</li></ul><p id="31b9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">对于果汁店，我们可以从第1级中的隐私政策页面查看隐私政策。在那里，我们可以找到一封电子邮件，邮件可以发送到那里，但在那里找不到任何与pentest相关的内容。即使挖掘了很多，也找不到有用的信息。</p><p id="bade" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但是当我们查看OWASP果汁店的官方指南时，他们提到了一个名为<code class="du lm ln lo ku b">security.txt</code>的文件。当我们<strong class="io hj">转到链接:</strong><a class="ae jk" href="https://random-juice.herokuapp.com/security.txt" rel="noopener ugc nofollow" target="_blank"><strong class="io hj">【https://random-juice.herokuapp.com/security.txt】</strong></a><strong class="io hj">时，我们会发现隐私政策中也有相同的细节。</strong></p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mc"><img src="../Images/3632a42352db7cbfd32185a76e838099.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H6_ekYqCOnmksAXGj90zjA.png"/></div></div></figure><h1 id="ec74" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">使用未正确关闭的不推荐使用的B2B接口</h1><p id="b20e" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">现在，我们已经探索了web应用程序的整个UI，我们可以得出一个明确的观点，即该应用程序旨在用于B2C目的，即企业对客户。但这里的挑战是找到一个与B2B相关的端点，即企业对企业的接口。因此，寻找这一点的最佳方法是对web应用程序运行目录遍历攻击，以检查和查找是否有任何页面或门户以前用于任何B2B目的。同时，我们可以手动检查JS文件中的关键字，如<em class="md"> B2B、shutdown、closed等</em>。</p><p id="80f5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">仅通过第一次搜索，我们可以发现有一个为B2B订单上传XML文件的选项。<strong class="io hj">因此，我们需要做的就是转到投诉部分，上传任意一个XML文件作为发票。</strong></p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es me"><img src="../Images/29e09cd24733ce3944be6bd06f42ed62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TM7v7wAJorNZAPNcalOmYQ.png"/></div></div></figure><h1 id="2345" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">查看另一个用户的购物篮</h1><p id="c132" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">最好的方法是访问别人的购物篮，首先了解我们自己的购物篮是如何装载的。为了进行同样的测试，我们可以在自己的篮子中添加一些项目，然后在访问我们的篮子时拦截流量。</p><p id="0a38" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">步骤:</strong></p><ul class=""><li id="9ff4" class="ld le hi io b ip iq it iu ix lf jb lg jf lh jj li lj lk ll bi translated">创建一个新帐户，并使用该帐户登录</li><li id="78a8" class="ld le hi io b ip lp it lq ix lr jb ls jf lt jj li lj lk ll bi translated">将项目添加到购物篮</li><li id="7cdd" class="ld le hi io b ip lp it lq ix lr jb ls jf lt jj li lj lk ll bi translated">去篮子那里</li><li id="5445" class="ld le hi io b ip lp it lq ix lr jb ls jf lt jj li lj lk ll bi translated">检查访问篮子链接时产生的流量</li></ul><p id="95b7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在检查访问购物篮时产生的流量时，可以找到一个URL，其中提到了“<strong class="io hj"> basket </strong>”。因此，可能的情况是，它被用来根据传递给它的值访问正确的篮子。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mf"><img src="../Images/b16866a4d637f26d29bdcc199b7cd808.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OFkDrZAwUdZuJfAXy81zJg.png"/></div></div></figure><p id="7230" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因此，我们可以尝试更改URL中<code class="du lm ln lo ku b">/basket/&lt;value&gt;</code>旁边的值，并检查我们是否可以访问其他人的购物车。但是当我们试图从浏览器访问URL时，它返回401错误。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mg"><img src="../Images/1cb3da033bb0ea3ebcbcfb4000dcadfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gKNUeW4J3EYL3H6NrXpU-A.png"/></div></div></figure><p id="d240" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了解决这个问题，我们可以向购物篮请求添加一个断点，操纵它，转发它，并检查是否返回了其他人的购物篮。</p><p id="d812" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在下面的GIF中，篮子首先显示我们自己的篮子。当我们刷新购物篮页面时，请求在OWASP Zap上被拦截，我们可以将购物篮值从6更改为1，然后在网页上我们可以看到1号购物篮的内容。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mh"><img src="../Images/50fcd2854147cef551dc2d154c5690f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Fl1EkQuWhVbd-lbRcv5AxQ.gif"/></div></div></figure><h1 id="5d1a" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">使用管理员的用户凭据登录，无需事先更改或应用SQL注入</h1><p id="b09e" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">因此，在第一个2级挑战中，我们以管理员身份使用SQLi登录，但这里SQLi不在范围内，我们需要找到该帐户的正确密码。所以，我们唯一的选择就是猜测正确的密码或者强行破解相同的密码。要做到这一点，我们可以通过使用一些默认凭证的列表来运行暴力攻击，从而将这两件事结合起来。</p><p id="4b6e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">需要注意的一点是，管理员帐户的用户名是</strong> <code class="du lm ln lo ku b"><strong class="io hj">admin@juice-sh.op</strong></code> <strong class="io hj">，这是我们使用SQLi </strong>以管理员身份登录时发现的</p><p id="5400" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要执行暴力攻击，可以使用OWASP Zap。我们需要做的就是捕获一个登录请求，并开始用一个密码列表来模糊密码值。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mi"><img src="../Images/0d2f1fbca3f3b6f9cb7090200db9e5ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pjYj0l5_FqaCK3UPQzSPkA.png"/></div></div></figure><p id="aa49" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在那里，我们通过暴力破解获得了管理员帐户的密码。</p><blockquote class="mj mk ml"><p id="a544" class="im in md io b ip iq ir is it iu iv iw mm iy iz ja mn jc jd je mo jg jh ji jj hb bi translated"><em class="hi">我使用的列表是</em> <code class="du lm ln lo ku b"><em class="hi">seclists/Passwords/cirt-default-passwords.txt</em></code> <em class="hi">，可以在</em><a class="ae jk" href="https://github.com/danielmiessler/SecLists/blob/master/Passwords/cirt-default-passwords.txt" rel="noopener ugc nofollow" target="_blank"><em class="hi">https://github . com/danielmiessler/sec lists/blob/master/Passwords/cirt-default-Passwords . txt</em></a>找到</p></blockquote><h1 id="318a" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">通过查看Emma上传到照片墙的照片来确定她的安全问题的答案，并使用它通过忘记密码机制来重置她的密码</h1><p id="9bdf" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">首先，我们需要找到艾玛的电子邮件地址，然后我们才能登录她的帐户。现在我们已经可以访问“<strong class="io hj">管理部分</strong>”，我们可以从那里获得她的电子邮件地址，然后进入“<strong class="io hj">忘记密码</strong>”页面，在那里我们可以看到安全问题“你成年后第一次为哪家公司工作？”输入艾玛的邮箱地址后。现在，我们需要从艾玛上传到照片墙上的照片中找到这个问题的答案。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div class="er es if"><img src="../Images/a8690c0e66a0bc064de312a9e4ca2044.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*wOKGcHogtHyRkqoi-My-kA.png"/></div></figure><p id="1352" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当有图像时，首先想到的是检查它的Exif数据。所以，我们可以保存图像并把它传给<code class="du lm ln lo ku b">exiftool</code>，检查它是否有一些有用的信息。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="3d58" class="ky jm hi ku b fi kz la l lb lc">┌──(kali㉿kali)-[~/Downloads]<br/>└─$ exiftool IMG_4253.png <br/>ExifTool Version Number         : 12.16<br/>File Name                       : IMG_4253.png<br/>Directory                       : .<br/>File Size                       : 6.0 MiB<br/>File Modification Date/Time     : 2021:03:11 16:18:48-05:00<br/>File Access Date/Time           : 2021:03:13 18:53:26-05:00<br/>File Inode Change Date/Time     : 2021:03:11 16:18:48-05:00<br/>File Permissions                : rw-r--r--<br/>File Type                       : PNG<br/>File Type Extension             : png<br/>MIME Type                       : image/png<br/>Image Width                     : 2270<br/>Image Height                    : 3022<br/>Bit Depth                       : 8<br/>Color Type                      : RGB<br/>Compression                     : Deflate/Inflate<br/>Filter                          : Adaptive<br/>Interlace                       : Noninterlaced<br/>SRGB Rendering                  : Perceptual<br/>Gamma                           : 2.2<br/>Pixels Per Unit X               : 3779<br/>Pixels Per Unit Y               : 3779<br/>Pixel Units                     : meters<br/>Image Size                      : 2270x3022<br/>Megapixels                      : 6.9</span></pre><p id="56bf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但是这里找不到有用的信息。我们也可以使用Yandex和Google图片搜索来找到任何类似的照片，但这张照片没有什么特别的，因此我们可以在反向图片搜索后看到大量与同一栋建筑相似的结果，但没有一张是我们的解决方案。</p><p id="15d9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">还有一件事我们可以做，就是目测图像。与此同时，我们可以看到其中一扇窗户上写着“IT Sec”，这可能是我们问题的答案。此外，无法从图像中解读出其他有意义的信息。所以，我们可以试着输入这个作为问题的答案，看看是否可行。它不能直接工作，所以我们可以尝试修改大写字母和空格，然后尝试:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="ab8f" class="ky jm hi ku b fi kz la l lb lc">IT Sec<br/>ITSec<br/>IT sec<br/>ITsec</span></pre><p id="d041" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">有效的是“ITsec ”,通过它我们可以更改Emma的密码并登录她的账户。</p><h1 id="08f9" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">通过查看John上传到照片墙的照片来确定他的安全问题的答案，并使用该答案通过忘记密码机制来重置他的密码</h1><p id="960e" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">同样，我们首先需要从管理部分获得约翰的电子邮件地址，然后我们可以检查他的安全问题"<strong class="io hj">你最喜欢去哪里徒步旅行？</strong>”来自“忘记密码”页面。现在我们知道了问题，我们可以开始分析他上传到照片墙上的图像。</p><p id="8def" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这一次，我们也可以遵循与Emma相同的过程，首先检查Exif数据。</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="6527" class="ky jm hi ku b fi kz la l lb lc">┌──(kali㉿kali)-[~/Downloads]<br/>└─$ exiftool favorite-hiking-place.png <br/>ExifTool Version Number         : 12.16<br/>File Name                       : favorite-hiking-place.png<br/>Directory                       : .<br/>File Size                       : 651 KiB<br/>File Modification Date/Time     : 2021:03:13 19:10:07-05:00<br/>File Access Date/Time           : 2021:03:13 19:10:07-05:00<br/>File Inode Change Date/Time     : 2021:03:13 19:10:07-05:00<br/>File Permissions                : rw-r--r--<br/>File Type                       : PNG<br/>File Type Extension             : png<br/>MIME Type                       : image/png<br/>Image Width                     : 471<br/>Image Height                    : 627<br/>Bit Depth                       : 8<br/>Color Type                      : RGB<br/>Compression                     : Deflate/Inflate<br/>Filter                          : Adaptive<br/>Interlace                       : Noninterlaced<br/>Exif Byte Order                 : Little-endian (Intel, II)<br/>Resolution Unit                 : inches<br/>Y Cb Cr Positioning             : Centered<br/>GPS Version ID                  : 2.2.0.0<br/>GPS Latitude Ref                : North<br/>GPS Longitude Ref               : West<br/>GPS Map Datum                   : WGS-84<br/>Thumbnail Offset                : 224<br/>Thumbnail Length                : 4531<br/>SRGB Rendering                  : Perceptual<br/>Gamma                           : 2.2<br/>Pixels Per Unit X               : 3779<br/>Pixels Per Unit Y               : 3779<br/>Pixel Units                     : meters<br/>Image Size                      : 471x627<br/>Megapixels                      : 0.295<br/>Thumbnail Image                 : (Binary data 4531 bytes, use -b option to extract)<br/>GPS Latitude                    : 36 deg 57' 31.38" N<br/>GPS Longitude                   : 84 deg 20' 53.58" W<br/>GPS Position                    : 36 deg 57' 31.38" N, 84 deg 20' 53.58" W</span></pre><p id="64d8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这里，我们发现了一个非常有用的信息，那就是图片被点击位置的GPS坐标。但是首先我们需要把这些六十进制坐标转换成十进制坐标。为此，我们可以使用许多在线工具，其中一个就是<a class="ae jk" href="https://www.gps-coordinates.net/gps-coordinates-converter" rel="noopener ugc nofollow" target="_blank">这个</a>。我们需要做的只是输入我们从图像细节中获得的GPS坐标，我们将获得十进制坐标。我们需要这样做，因为谷歌地图只理解十进制坐标。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mp"><img src="../Images/a7d87b3d88e84aace3b564533db47144.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XPl1YUP919iPm0XK2blQKQ.png"/></div></div></figure><p id="289f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在，我们可以复制十进制度数，并在谷歌地图中搜索相同的度数。</p><p id="bfb7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">但是当我们在谷歌地图中寻找位置时，可以看到这个位置是在一些偏远的林区，接近坐标的地方并不多。因此，我们可以列出附近所有的地方，然后将它们传递给OWASP Zap Fuzzer。靠近坐标的一些位置是:</p><pre class="kp kq kr ks fd kt ku kv kw aw kx bi"><span id="1ad5" class="ky jm hi ku b fi kz la l lb lc">Laurel County School District<br/>Laurel County School<br/>Laurel County <br/>Scuttlehole Trailhead<br/>Goodin Branch<br/>Dutch Branch<br/>Rockcastle Campground<br/>Daniel Boone National Forest<br/>Holly Bay Campground<br/>Mt Victory<br/>Cumberland River</span></pre><p id="fb73" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">经过模糊处理后，我们得到了这个问题的正确答案是“<strong class="io hj">丹尼尔·布恩国家森林</strong>”，用它我们可以重设约翰的密码。</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="er es mq"><img src="../Images/9803b34a11acd3b96b469391b8bcbd8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3jwIqB5yd_--RMicW5KgqA.png"/></div></div></figure><h1 id="3da8" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">使用MC SafeSearch的原始用户凭据登录，无需应用SQL注入或任何其他旁路。</h1><p id="736a" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">这个挑战有点不同，也很有趣！</p><p id="af08" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">同样，我们首先需要的是MC SafeSearch的电子邮件，它可以在“管理部分”找到，但这次我们没有任何图像或除用户名本身之外的任何东西。所以，我们需要开始寻找这个人本人，看看能不能找到一些关于他的有用信息。</p><p id="9a4a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">显然，在谷歌上快速搜索的第一个链接是MC SafeSearch的一首歌，名为“<a class="ae jk" href="https://www.youtube.com/watch?time_continue=12&amp;v=v59CX2DiX0Y&amp;feature=emb_logo" rel="noopener ugc nofollow" target="_blank">保护你的密码(2014) </a>”。所以，我们可以边听这首歌边阅读描述和评论。</p><p id="ee1f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在听这首歌的时候，SafeSearch会在歌词中说出自己的密码</p><blockquote class="mj mk ml"><p id="ec3f" class="im in md io b ip iq ir is it iu iv iw mm iy iz ja mn jc jd je mo jg jh ji jj hb bi translated"><em class="hi">为什么不用你最喜欢的宠物的名字。</em></p><p id="ec95" class="im in md io b ip iq ir is it iu iv iw mm iy iz ja mn jc jd je mo jg jh ji jj hb bi translated"><em class="hi">我的是我的狗面条先生</em></p><p id="4abf" class="im in md io b ip iq ir is it iu iv iw mm iy iz ja mn jc jd je mo jg jh ji jj hb bi translated"><em class="hi">知道不知道也没关系</em></p><p id="c7d4" class="im in md io b ip iq ir is it iu iv iw mm iy iz ja mn jc jd je mo jg jh ji jj hb bi translated"><em class="hi">因为我很狡猾，用零替换了一些元音</em></p></blockquote><p id="d512" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以，现在我们知道他的宠物的名字是面条先生，他已经用0代替了密码中的0。所以，正确的密码是“<strong class="io hj">n 00 dles先生</strong>”，用这个密码我们可以登录MC SafeSearch的账号！</p><h1 id="1660" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">告知商店某个算法或库绝对不应该以这种方式使用。</h1><p id="e816" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">这个有点棘手，因为我们还没有遇到任何算法或库。因此，我们可以随机尝试一些算法，如MD5，SHA1，RSA等。并通过客户反馈页面发送。显然，MD5解决了这个问题。</p><h1 id="d044" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">参考链接:</h1><ol class=""><li id="cd00" class="ld le hi io b ip kj it kk ix mr jb ms jf mt jj mu lj lk ll bi translated">OWASP果汁店一级:<a class="ae jk" href="https://0xnirvana.medium.com/owasp-juice-shop-level-1-2bb04f14375b" rel="noopener">https://0x nirvana . medium . com/OWASP-Juice-Shop-Level-1-2bb 04 f 14375 b</a></li><li id="ca5e" class="ld le hi io b ip lp it lq ix lr jb ls jf lt jj mu lj lk ll bi translated">CIRT默认密码:<a class="ae jk" href="https://github.com/danielmiessler/SecLists/blob/master/Passwords/cirt-default-passwords.txt" rel="noopener ugc nofollow" target="_blank">https://github . com/danielmiessler/sec lists/blob/master/Passwords/cirt-Default-Passwords . txt</a></li><li id="5f8c" class="ld le hi io b ip lp it lq ix lr jb ls jf lt jj mu lj lk ll bi translated">六十进制到十进制坐标:<a class="ae jk" href="https://www.gps-coordinates.net/gps-coordinates-converter" rel="noopener ugc nofollow" target="_blank">https://www.gps-coordinates.net/gps-coordinates-converter</a></li><li id="2d2f" class="ld le hi io b ip lp it lq ix lr jb ls jf lt jj mu lj lk ll bi translated">MC safe search—Protect Ya password z(2014):<a class="ae jk" href="https://www.youtube.com/watch?time_continue=12&amp;v=v59CX2DiX0Y&amp;feature=emb_logo" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?time_continue=12&amp;v = v 59 CX 2 dix 0y&amp;feature = emb _ logo</a></li></ol></div><div class="ab cl mv mw gp mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="hb hc hd he hf"><p id="c6b8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一定要看看我在https://github.com/0xNirvana的其他作品和评论</p></div></div>    
</body>
</html>