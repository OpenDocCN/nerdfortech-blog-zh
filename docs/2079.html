<html>
<head>
<title>A Modern Jazz Discovery Tool (pt. 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">现代爵士乐发现工具(pt。1)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/a-modern-jazz-discovery-tool-420344872985?source=collection_archive---------27-----------------------#2021-04-19">https://medium.com/nerd-for-tech/a-modern-jazz-discovery-tool-420344872985?source=collection_archive---------27-----------------------#2021-04-19</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><div class=""/><div class=""><h2 id="6ffc" class="pw-subtitle-paragraph ig hi hj bd b ih ii ij ik il im in io ip iq ir is it iu iv iw ix dy translated">这是两部分系列的第一部分。本文主要关注使用Pitchfork Jazz专辑评论构建一个基于内容的发现工具。</h2></div><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et iy"><img src="../Images/2b768f95a3922562012ffe2796f483d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sHqptjJsnKL9DBLiOGcDCg.png"/></div></div></figure><p id="bf92" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">我对音乐充满热情，和许多阅读这篇文章的人一样，我尤其热衷于爵士音乐。因此，对于我在<a class="ae kg" href="https://www.thisismetis.com/" rel="noopener ugc nofollow" target="_blank"> Metis </a>为期12周的沉浸式数据科学训练营的最后一个顶点项目，我决定为现代爵士乐专辑探索建立一个基于内容的推荐工具。这是由两部分组成的博客文章的第一部分。第一部分将带领我们完成构建工具的旅程，从项目的<em class="kh">动机</em>开始，使用的<em class="kh">数据</em>，从分析数据中收集的<em class="kh">见解</em>，以及推荐器是如何构建的。第二部分将关注于<a class="ae kg" href="https://pitchfork-metis.herokuapp.com/" rel="noopener ugc nofollow" target="_blank"> Streamlit应用</a>本身。</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et ki"><img src="../Images/c400776035a767701ec53b9316bd6957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5WMey0eqklKKtcLGT5_mEQ.png"/></div></div></figure><p id="061c" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">首先让我们从一个简单的问题开始…</p><h1 id="b270" class="kj kk hj bd kl km kn ko kp kq kr ks kt ip ku iq kv is kw it kx iv ky iw kz la bi translated">什么是爵士乐？</h1><p id="ed88" class="pw-post-body-paragraph jk jl hj jm b jn lb ik jp jq lc in js jt ld jv jw jx le jz ka kb lf kd ke kf hc bi translated"><strong class="jm hk">简单的问题吧？嗯，不完全是。我相信你知道，要用几句话概括爵士是什么太难了，所以我在这里谦虚地画几个大概。</strong></p><blockquote class="lg"><p id="9290" class="lh li hj bd lj lk ll lm ln lo lp kf dy translated">“爵士乐是现在的力量。没有剧本。<em class="lq">——</em>温顿·马萨利斯(爵士小号手)</p></blockquote><p id="7b05" class="pw-post-body-paragraph jk jl hj jm b jn lr ik jp jq ls in js jt lt jv jw jx lu jz ka kb lv kd ke kf hc bi translated">正如温顿·马萨利斯指出的那样，爵士乐团不仅仅是音乐表演。这是民主在行动:参与性、包容性、挑战性、竞争性和集体性。</p><blockquote class="lg"><p id="c5c9" class="lh li hj bd lj lk ll lm ln lo lp kf dy translated">“… <strong class="ak">唯一的音乐</strong>有一个<strong class="ak">社会时代</strong>以它的荣誉命名:爵士时代(20世纪20年代)”——杰拉尔德·林恩·厄尔利(美国散文家和文化评论家)</p></blockquote><p id="0985" class="pw-post-body-paragraph jk jl hj jm b jn lr ik jp jq ls in js jt lt jv jw jx lu jz ka kb lv kd ke kf hc bi translated">正如杰拉尔德·厄尔利所写的，要知道爵士乐曾是世界范围内流行音乐的主要形式长达几十年。</p><blockquote class="lg"><p id="0f40" class="lh li hj bd lj lk ll lm ln lo lp kf dy translated">“爵士乐是20世纪的产物，但它现在已经离开了家”——迈克·诺克(爵士钢琴家)</p></blockquote><p id="c9f3" class="pw-post-body-paragraph jk jl hj jm b jn lr ik jp jq ls in js jt lt jv jw jx lu jz ka kb lv kd ke kf hc bi translated">近年来，爵士乐已经成为音乐产业中的一个利基市场，有些人甚至说它是过去的遗物，对今天的听众来说已经失去了意义和相关性。</p><blockquote class="lg"><p id="5401" class="lh li hj bd lj lk ll lm ln lo lp kf dy translated">“…像<strong class="ak">卡马西·华盛顿</strong> … <strong class="ak">肯德里克·拉马尔</strong>…锻造了一种<strong class="ak">新的爵士乐综合</strong>…在<strong class="ak">艺术</strong>和<strong class="ak">流行</strong> …”杰拉尔德·林·厄尔利之间提供了一种全新的<strong class="ak">关系</strong></p></blockquote><p id="6636" class="pw-post-body-paragraph jk jl hj jm b jn lr ik jp jq ls in js jt lt jv jw jx lu jz ka kb lv kd ke kf hc bi translated">然而，如果你在音符、之间读一读，你会意识到爵士乐与当今流行音乐和文化是多么的紧密相连。正如我将在这篇博文中描述的那样，在<strong class="jm hk"> <em class="kh">现代爵士专辑评论</em> </strong>中可以生动地看到这些联系。</p><p id="2e18" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">鉴于这些对爵士乐的粗略描述和今天对爵士乐的理解，我对这个项目的总体动机是:</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et lw"><img src="../Images/f0c7372769fb6a88f0c6abab8bef6d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PgYP_7w97sUYKANxOkTUFQ.png"/></div></div></figure><h1 id="8c87" class="kj kk hj bd kl km kn ko kp kq kr ks kt ip ku iq kv is kw it kx iv ky iw kz la bi translated">数据</h1><p id="6d60" class="pw-post-body-paragraph jk jl hj jm b jn lb ik jp jq lc in js jt ld jv jw jx le jz ka kb lf kd ke kf hc bi translated">专辑评论总是为发现新音乐提供一个有价值的媒介。为了让观众发现爵士乐，我寻找各种方法来揭示各种音乐风格(除了爵士乐)和现代爵士乐艺术家之间的联系。这就是<a class="ae kg" href="https://pitchfork.com/" rel="noopener ugc nofollow" target="_blank">干草叉</a>出现的地方。Pitchfork在历史上以评论独立艺术家专辑而闻名，但后来它将触角延伸到了流行音乐、爵士乐和许多其他流派。我决定使用Pitchfork jazz评论作为推荐工具的基础文本语料库。我将在关键见解部分进一步解释这些评论中爵士乐和其他流派之间的联系。</p><p id="2182" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">我通过使用Selenium和BeautifulSoup的网络抓取技术获得了Pitchfork jazz专辑的评论。我以大约20年的回顾(1999-2021)结束。在大约20，000个专辑评论中，大约700个是专门针对爵士乐的，这也是我们这个项目的重点。让我们看看专辑评论数据本身的一些关键见解。</p><h1 id="dbcb" class="kj kk hj bd kl km kn ko kp kq kr ks kt ip ku iq kv is kw it kx iv ky iw kz la bi translated">关键见解— <strong class="ak">流派提及频率</strong></h1><p id="f522" class="pw-post-body-paragraph jk jl hj jm b jn lb ik jp jq lc in js jt ld jv jw jx le jz ka kb lf kd ke kf hc bi translated">从Pitchfork jazz专辑评论中得到的一个重要的关键见解是评论者如何直接或间接地将jazz专辑分类成不同的音乐类型。让我用一个例子来说明:</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et lx"><img src="../Images/f961580c1c9019a9583e58996374d70b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GCQHLvdMVPrNaVtBdKoRdw.png"/></div></div></figure><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et ly"><img src="../Images/0448c927de7699a9ba903007096f4932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_GPye2pTV5vFKlxN_jwjiw.png"/></div></div><figcaption class="lz ma eu es et mb mc bd b be z dy translated">节选自pitchfork专辑对倭黑猩猩迁徙的评论</figcaption></figure><p id="9b4f" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">从上面的评论摘录中可以看出，根据评论者的观点，高亮显示的单词代表了这张专辑所体现的不同音乐流派。为了帮助识别无数的音乐流派，我使用了一个音乐流派分类法，这是一个对公众开放的音乐百科全书。他们使用两个层次的分类——类型<em class="kh">和子类型</em>和子类型。比如<em class="kh">电子</em>音乐有很多子流派，比如<em class="kh">“down tempo”、“house”、“极简主义”</em>等等。现在，让我们再次对照我们的类型分类来看看Bonobo的专辑评论节选。</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et md"><img src="../Images/66dfa914d38f681930f6930e142c9e25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7CofsEX6fWCOWo3Mgr_68w.png"/></div></div></figure><p id="1ac6" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">从右到左，我们看到评论中的几个单词和短语出现在我们的分类中。通过使用spaCy的短语匹配器<em class="kh"/><a class="ae kg" href="https://spacy.io/usage/rule-based-matching#phrasematcher" rel="noopener ugc nofollow" target="_blank"><em class="kh"/></a><em class="kh"/>，我们可以匹配短语，而不是单个单词，从而对这些专辑评论进行分类。应用短语匹配的代码很简单，它从导入包开始，如下所示:</p><pre class="iz ja jb jc fe me mf mg mh aw mi bi"><span id="8df4" class="mj kk hj mf b fj mk ml l mm mn">import spacy<br/>nlp = spacy.load(‘en_core_web_sm’)</span><span id="0548" class="mj kk hj mf b fj mo ml l mm mn">from spacy.matcher import PhraseMatcher<br/>phrase_matcher = PhraseMatcher(nlp.vocab)</span></pre><p id="343a" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">接下来，我编写了一个函数，根据我通过MusicBrainz获得的音乐流派分类法，在专辑评论文本中的短语之间应用短语匹配:</p><pre class="iz ja jb jc fe me mf mg mh aw mi bi"><span id="84dd" class="mj kk hj mf b fj mk ml l mm mn">import os<br/>from os import listdir<br/>from os.path import isfile, join<br/>from io import StringIO<br/>import pandas as pd<br/>from collections import Counter<br/>import en_core_web_sm<br/>nlp = en_core_web_sm.load()<br/>from spacy.matcher import PhraseMatcher</span><span id="a641" class="mj kk hj mf b fj mo ml l mm mn"><em class="kh">#function that does phrase matching and builds a candidate profile</em><br/>def create_profile(file):<br/> <br/> text = file<br/> keyword_dict = pd.read_csv(‘../data/mbrainz_genres.csv’)<br/> stats_words = [nlp(text) for text in keyword_dict[‘subgenre’].dropna(axis = 0)]</span><span id="9f6a" class="mj kk hj mf b fj mo ml l mm mn">matcher = PhraseMatcher(nlp.vocab)<br/> matcher.add(‘Stats’, None, *stats_words)</span><span id="8902" class="mj kk hj mf b fj mo ml l mm mn">doc = nlp(text)<br/> <br/> d = [] <br/> matches = matcher(doc)<br/> <br/> for match_id, start, end in matches:<br/> rule_id = nlp.vocab.strings[match_id] <em class="kh"># get the unicode ID, i.e. ‘COLOR’</em><br/> span = doc[start : end] <em class="kh"># get the matched slice of the doc</em><br/> d.append((rule_id, span.text)) <br/> keywords = “\n”.join(f’{i[0]} {i[1]} ({j})’ for i,j in Counter(d).items())<br/> <br/> <em class="kh">## convertimg string of keywords to dataframe</em><br/> _df = pd.read_csv(StringIO(keywords),names = [‘Keywords_List’])<br/> _df1 = pd.DataFrame(_df.Keywords_List.str.split(‘ ‘,1).tolist(),columns = [‘Subject’,’Keyword’])<br/> _df2 = pd.DataFrame(_df1.Keyword.str.split(‘(‘,1).tolist(),columns = [‘Keyword’, ‘Count’])<br/> _df3 = pd.concat([_df1[‘Subject’],_df2[‘Keyword’], _df2[‘Count’]], axis =1) <br/> _df3[‘Count’] = _df3[‘Count’].apply(lambda x: x.rstrip(“)”))<br/> <br/><em class="kh"> # initialize list of lists </em><br/> cdata = [[i]] <br/> <br/><em class="kh"> # Create the pandas DataFrame </em><br/> cdata2 = pd.DataFrame(cdata, columns = [‘album’]) <br/> <br/> dataf = pd.concat([ cdata2[‘album’], _df3[‘Subject’], _df3[‘Keyword’], _df3[‘Count’]], axis = 1) <br/> dataf[‘album’].fillna(dataf[‘album’].iloc[0], inplace = True)<br/> #print(“dataf 2”,dataf)<br/> <br/> return(dataf)<br/> <br/><em class="kh">#function ends</em><br/> <br/><em class="kh">#code to execute/call the above functions</em><br/>final_database=pd.DataFrame()<br/>i = 0</span><span id="2d46" class="mj kk hj mf b fj mo ml l mm mn">for i in range(0,len(df)):<br/> file = df[‘review_clean’].iloc[i]<br/> dat = create_profile(file)<br/> final_database = final_database.append(dat)<br/> i +=1</span><span id="b588" class="mj kk hj mf b fj mo ml l mm mn"><em class="kh"># transpose — convert nans to zero</em><br/>df_wide = final_database.pivot(“album”,”Keyword”,”Count”) <br/>df_wide.fillna(0,inplace=True)<br/>print(“df wide”,df_wide)</span></pre><p id="b337" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated"><strong class="jm hk">作为运行上述代码的结果，</strong>我们可以将Bonobo专辑归类为具有电子音乐的暗示(流派=电子)，更具体地说，是“down tempo”、“house”和“minimalism”属性(子流派=down tempo、house、minimalism)。就我们的目的而言，一张专辑包含多个流派或子流派是完全可以的。正如我们将在第二部分的Streamlit应用中看到的，用户将能够通过评论短语匹配，根据连接从非爵士流派和子流派列表中选择要引入爵士专辑的流派。</p><p id="718d" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">现在，在这种背景下，我们可以看看下面的图表，它显示了这些子流派在这些年的Pitchfork jazz评论中被提及的频率。</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et mp"><img src="../Images/6dad3d48ce7374710d6278a8c6b654bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rw6om8g0SNiCcMzwC_0nxQ.png"/></div></div></figure><p id="2107" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">热图的y轴列出了Pitchfork jazz评论中提到的前10个子流派(超过200个)(不包括爵士乐流派)。前3名分别是<em class="kh">电音、摇滚</em>和<em class="kh"> hiphop </em>。在x轴上，我们可以展示这些流派不同的时代。例如，21世纪初，圣日耳曼和窃盗集团等电子艺术家将爵士乐融入他们的音乐中。从2008年到2015年，一些摇滚乐队，如电台司令和威尔科，在融入爵士乐方面略有增加。今天，我们注意到爵士乐元素在嘻哈音乐中的复兴，就像在艺术家Kendrick Lamar的音乐中听到的那样。</p><h1 id="be8e" class="kj kk hj bd kl km kn ko kp kq kr ks kt ip ku iq kv is kw it kx iv ky iw kz la bi translated">关键见解— <em class="lq">艺术家被提及的频率</em></h1><p id="8928" class="pw-post-body-paragraph jk jl hj jm b jn lb ik jp jq lc in js jt ld jv jw jx le jz ka kb lf kd ke kf hc bi translated"><strong class="jm hk">既然我们已经了解了流派提及的频率</strong>，那么艺术家提及的频率呢？下面是爵士乐评论中最常提及的前50位艺术家的图表:</p><p id="8bc0" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated"><strong class="jm hk"> <em class="kh">爵士专辑评论中最常提及的前50位艺人</em> </strong></p><figure class="iz ja jb jc fe jd es et paragraph-image"><div class="es et mq"><img src="../Images/41625cc5ec8b47ce9fa77a914c05a383.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*iNsu3QF7MGzEo0BAE2Cncw.png"/></div></figure><p id="cf3f" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">这表明，我们仍然可以看到历史上对现代爵士乐影响最大的两位大师——米勒·戴维斯和约翰·科尔特兰。</p><p id="5689" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">下面是一个网络图，以米勒·戴维斯为例，更仔细地观察了现代爵士乐艺术家之间的联系。</p><p id="b191" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated"><strong class="jm hk"> <em class="kh">【现代爵士乐影响(新旧)】</em> </strong></p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et mr"><img src="../Images/69c9a9996f8c8b2af5d2d4d24833bea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JH3whs3ZsJAHnOo3SCUyyg.png"/></div></div></figure><p id="8bed" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">为了清楚起见，我只注释了几个艺术家节点。从中心节点开始，你有米勒·戴维斯。在中间部分(星形部分)，我们有来自Pitchfork的现代爵士乐艺术家的专辑评论。从评论中，我们已经收集到这些艺术家/专辑中的每一个(即罗伯特·格拉斯佩尔，乔伊·德弗朗斯科等。)在某些方面受到了迈尔斯的影响，也受到了主流艺术家的影响。这再次显示了现代爵士乐是如何与传统和主流音乐领域相互联系的。</p><h1 id="b3e3" class="kj kk hj bd kl km kn ko kp kq kr ks kt ip ku iq kv is kw it kx iv ky iw kz la bi translated">工具功能—相册纹理</h1><p id="b5a0" class="pw-post-body-paragraph jk jl hj jm b jn lb ik jp jq lc in js jt ld jv jw jx le jz ka kb lf kd ke kf hc bi translated">为了向discovery工具的用户推荐爵士专辑，我对评论进行了主题建模。我主要关注评论中的名词，并提取专辑中使用的主要乐器。我使用了NMF主题模型，最终得到了8个主题。如你所见，主题从钢琴、鼓或节奏沉重的歌曲，到吉他、圆号等等。这有助于用户在听之前或听的时候理解专辑的质地:</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et ms"><img src="../Images/b24e964fc134366750a75773c102549a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ns-uA2p3QthCMdUL_rPEZA.png"/></div></div></figure><h1 id="630b" class="kj kk hj bd kl km kn ko kp kq kr ks kt ip ku iq kv is kw it kx iv ky iw kz la bi translated"><strong class="ak">推荐系统</strong></h1><p id="2014" class="pw-post-body-paragraph jk jl hj jm b jn lb ik jp jq lc in js jt ld jv jw jx le jz ka kb lf kd ke kf hc bi translated"><strong class="jm hk">最后，我们有自己的推荐系统</strong>。该系统简单地基于在清洁的评论文本上应用TF-IDF矢量器，然后使用余弦相似性来测量矢量之间的距离。下面是在Python中应用这一点的一般方法的一些代码片段。</p><pre class="iz ja jb jc fe me mf mg mh aw mi bi"><span id="dcb6" class="mj kk hj mf b fj mk ml l mm mn"><em class="kh"># first we instantiate our tfidf vectorizer</em></span><span id="e326" class="mj kk hj mf b fj mo ml l mm mn">tfidf = TfidfVectorizer(analyzer=’word’, stop_words=my_stop_words)</span><span id="7349" class="mj kk hj mf b fj mo ml l mm mn"><em class="kh"># next we fit this model against our cleaned review text</em></span><span id="efcf" class="mj kk hj mf b fj mo ml l mm mn">rev_matrix= tfidf.fit_transform(df[‘review_clean2’])</span><span id="6e17" class="mj kk hj mf b fj mo ml l mm mn"><em class="kh"># this converts our doc/word matrix to an array and outputs to a dataframe</em></span><span id="522d" class="mj kk hj mf b fj mo ml l mm mn">rev_matrix_arr = rev_matrix.toarray()</span><span id="cb35" class="mj kk hj mf b fj mo ml l mm mn">pd.DataFrame(rev_matrix_arr, columns=tfidf.get_feature_names())</span><span id="0784" class="mj kk hj mf b fj mo ml l mm mn"><em class="kh"># we compute the cosine similarity between documents using the results of our tfidf approach</em></span><span id="f3e5" class="mj kk hj mf b fj mo ml l mm mn">cosine_similarities = cosine_similarity(rev_matrix)</span><span id="ae6d" class="mj kk hj mf b fj mo ml l mm mn">np.save(‘cosine_sim.npy’, cosine_similarities)</span><span id="4d87" class="mj kk hj mf b fj mo ml l mm mn"><em class="kh"># lastly we obtain the cosine similarities between album reviews</em></span><span id="b4f1" class="mj kk hj mf b fj mo ml l mm mn">similarities = {}</span><span id="f177" class="mj kk hj mf b fj mo ml l mm mn">for i in range(len(cosine_similarities)):</span><span id="ecdf" class="mj kk hj mf b fj mo ml l mm mn"><em class="kh"># Sort each element in cosine_similarities and get the indexes of the artists</em></span><span id="69ee" class="mj kk hj mf b fj mo ml l mm mn">similar_indices = cosine_similarities[i].argsort()[:-50:-1]</span><span id="b89c" class="mj kk hj mf b fj mo ml l mm mn"><em class="kh"># Store in similarities each name of the 10 most similar artists</em></span><span id="fe58" class="mj kk hj mf b fj mo ml l mm mn"><em class="kh"># Keep the first one as the main search item — and then the remaining similar artists</em></span><span id="a32e" class="mj kk hj mf b fj mo ml l mm mn">similarities[df[‘album’].iloc[i]] = [(cosine_similarities[i][x], df[‘album’][x], df[‘artist’][x]) for x in similar_indices][0:]</span></pre><p id="dc6e" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">我们对推荐器的工作情况进行健全性检查。让我们来看看诺拉·琼斯的一张专辑《天亮了:</p><figure class="iz ja jb jc fe jd es et paragraph-image"><div role="button" tabindex="0" class="je jf di jg bf jh"><div class="es et mt"><img src="../Images/f81562b760fda6eb60964fe002d131dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GkwdZ_y7sL8gpG1JKF9kDQ.png"/></div></div></figure><p id="4999" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">根据余弦相似度得分，与她的专辑最接近的是雷·查尔斯的再版。仔细观察Pitchfork的评论，我们发现有几个常见的词或主题贯穿始终，比如<em class="kh">【乡村】</em>【音乐】<em class="kh">【低级酒吧】</em>。这是有道理的，因为他们都与乡村音乐有联系。我们看到像<em class="kh">“事业”</em>这样的词，考虑到他们在音乐行业的时间，这也是有意义的。像<em class="kh">【歌手】</em><em class="kh">【声音】</em>这样的词强调了这样一个事实:这些艺术家主要以他们的声音而闻名。</p><p id="0c24" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">在回顾了许多这样的案例后，我们认为事情表现得相当好，可以继续构建应用程序了。</p><p id="b32b" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated"><a class="ae kg" rel="noopener" href="/nerd-for-tech/a-modern-jazz-discovery-tool-pt-2-82adb4f97e36"> <strong class="jm hk">在我的下一篇文章</strong> </a>中，看看上面描述的洞察力和相似性模型是如何部署到一个Streamlit应用程序中来帮助你发现现代爵士乐的！</p><p id="33a3" class="pw-post-body-paragraph jk jl hj jm b jn jo ik jp jq jr in js jt ju jv jw jx jy jz ka kb kc kd ke kf hc bi translated">更多细节、代码或连接，请访问我的<a class="ae kg" href="https://github.com/chan-chris/Metis_proj5" rel="noopener ugc nofollow" target="_blank"> Github知识库</a>或<a class="ae kg" href="https://www.linkedin.com/in/chrischanlkn/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>页面。</p></div></div>    
</body>
</html>