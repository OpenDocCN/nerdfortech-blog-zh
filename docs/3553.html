<html>
<head>
<title>Unity - Calculating the direction to another GameObject</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">统一-计算到另一个游戏对象的方向</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/unity-calculating-the-direction-to-another-gameobject-438f1301eaea?source=collection_archive---------2-----------------------#2021-06-14">https://medium.com/nerd-for-tech/unity-calculating-the-direction-to-another-gameobject-438f1301eaea?source=collection_archive---------2-----------------------#2021-06-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="610f" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">玩家。你在哪里？我需要一些新鲜的肉…</h2></div><p id="6ca8" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好的，别担心。我们之间有一道屏障，所以你不会有事；-)</p><p id="2e75" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不管怎样？你可能以前玩过一些游戏，游戏中敌人在追你。以《我的世界》为例。还记得晚上追你的僵尸吗？或者，把纸转过来，游戏允许你用磁铁以一种简单的方式得到硬币。这是怎么回事？</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="fc9e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们先从一个小理论开始。</p><p id="6507" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">追逐的敌人总是知道你的位置和到达你的最短路径，到你的距离。</p><p id="17d9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">还记得下面这个公式吗？<em class="ka"> a + b = c <br/> </em>这也正是这里所用的！</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/45b1a4c2defa1155a2f0cc9f6531ded3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G_55wLmaZo5l2zNTxxcN2A.png"/></div></div></figure><p id="6767" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们有了 x 轴和 y 轴的方向长度，a 和 b，现在只需要计算 c 就可以得到距离向量了！</p><p id="b215" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="ka">5 = 25<br/>3 = 9<br/>c = a+b</em>→<em class="ka">c = 25+9 = 34<br/>c =√34→</em><strong class="iz hj"><em class="ka">5、83 </em> </strong></p><p id="f03e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">距离 5.83 个单位！</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="c6ac" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">编码这种行为<br/> </strong>我们浏览了文章的理论部分。但是代码是如何工作的呢？如何实现这样的数学算法？比你想象的要容易。相信我。相信一个在学校数学很差的人。</p><p id="c762" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们来看看如何计算方向:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kn"><img src="../Images/8f277496c4d0ab15dd0e3e64f89857e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JWjZLvtRQfPip7mZd8A6xA.png"/></div></div></figure><p id="04e5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了让这个向量可见，Unity 有一个名为<em class="ka"> Debug 的函数。DrawRay()。</em>这将创建一条线来显示计算出的矢量。</p><p id="0a30" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">将该方法输入到 IDE 中，我们将得到以下工具提示:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div class="er es ko"><img src="../Images/34d004da73a61b6e0feeddad807e628c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*DokxZNm4VtWn0RgDt-yBtQ.png"/></div></figure><p id="a4fd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们至少需要两个参数:</p><ul class=""><li id="9991" class="kp kq hi iz b ja jb jd je jg kr jk ks jo kt js ku kv kw kx bi translated">线条的起始位置</li><li id="44a5" class="kp kq hi iz b ja ky jd kz jg la jk lb jo lc js ku kv kw kx bi translated">线条的结束位置(或方向)</li></ul><p id="d5e2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此外，我们可以控制线条的颜色，并设置线条可见的时间。</p><p id="cf1c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">开始位置是附加了这个脚本的游戏对象。<br/>向量的方向就是玩家。</p><p id="f0cd" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在 Unity 中进入播放模式，<strong class="iz hj">场景</strong>视图将如下所示:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es ld"><img src="../Images/5d151c1d747733bd04b16c563b4b5e24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J0KM69tnUuWzeioE04qWxQ.png"/></div></div></figure><p id="1851" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了检查计算是否正确，我们可以记录 Unity 计算的幅度值:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es le"><img src="../Images/d7bdf252b38fea64a88f2b5eaf4f70b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0W4_xHsM7Ht9XJZpqjrc2g.png"/></div></div></figure><p id="5ed9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">而且你可以看到，计算出来的向量是完全一样的！</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lf"><img src="../Images/a4efa6a73c0075d4a1848668262e0adc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nV9k67nqGimVIWP2q35BfQ.png"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="3011" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">向目标移动<br/> </strong>在行为、运动方面还缺少最后一样东西。</p><p id="5cca" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们只需要告诉游戏对象哪个脚本移动到计算的方向向量。为了让移动速度一致，而不是敌人越近越慢，我们先把方向归一化。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lg"><img src="../Images/47559d89b59893ac2e5197ceaf41e18f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mCxQr9ByGFASs24Z5cNHUg.png"/></div></div></figure><p id="25b2" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是它在 Unity 中的样子:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lh"><img src="../Images/1bb64cd844af2d441a658c9f4f930555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Lsph0Oh7N7RT36AtW8sr8Q.gif"/></div></div></figure><p id="6d58" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果玩家改变位置也是一样:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es li"><img src="../Images/a1efb48a868297034b3eeaa66ad90d09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*kLygoqIFC8KAMOjkts5sWw.gif"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="24fc" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">超级令人兴奋的工作！好吧，现在玩家..你不再被敌人拯救了…记住这一点…</p><p id="8059" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">哦，在我忘记之前，这里是今天文章的完整代码:</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es lj"><img src="../Images/8d02e25e11b8df7fbd11b9dd9dd29229.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LYL2oqexT0ZU628I8pDw4g.png"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="5625" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢您阅读这篇文章和您的时间！下次见！</p></div></div>    
</body>
</html>