<html>
<head>
<title>Cleaning up our spawns</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">清理我们的卵</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/cleaning-up-our-spawns-2a0dcdbeed0d?source=collection_archive---------27-----------------------#2021-05-11">https://medium.com/nerd-for-tech/cleaning-up-our-spawns-2a0dcdbeed0d?source=collection_archive---------27-----------------------#2021-05-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a9e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">既然我们有无限繁殖的敌人，现在是我们拥有它的时候了，这样我们就可以清理我们的等级制度，这样我们的繁殖敌人就不会超载。为此，我们将在spawn manager中创建另一个空对象，并将其命名为敌方容器。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/b49b460b1063f2c2b1078370da33b6a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R4D3RuZo1BIPR1RqFypncQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">敌方集装箱</figcaption></figure><p id="358d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个物体将是我们所有敌人单位产卵的地方。然而，如果我们现在运行代码，它还不会在那个部分产生。为了解决这个问题，我们必须回到我们的spawn manager脚本，并添加一些代码来告诉Unity将敌人单位放置到新创建的容器中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/1039e1ed0ba6cc4c8bbb98ba486f3889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9zIyPnVz_0Xdp9LUJHTTKg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">容器的脚本</figcaption></figure><p id="aa45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们创建一个私有的GameObject _enemyContainer，这样我们就可以在Unity编辑器中添加新的对象了。从这里开始，我们要做是对我们的实例化代码做一点小小的改变，并添加一个新的游戏对象，这样我们就可以在我们想把敌人送到的地方写代码了。正如我们在下面看到的，我们想把我们的敌人单位发送到一个父对象，我们告诉Unity它是_enemyContainer。然而，因为_enemyContainer和敌人种子是两个独立的变量，我们需要稍微调整一下代码，这样它就能理解我们想要做的事情。因此我们把。在容器后变换。接下来，当我们的玩家死亡时，我们会想要停止种子管理员。首先，我们需要弄清楚如何与我们的种子管理者和玩家沟通。首先，我们可以进入我们的spawn manager脚本并做一些调整</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/d2751fc2d51004d364b8edbaabde2e5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I0NcKPImtORSeyUbsIUeTw.png"/></div></div></figure><p id="5240" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们所做的是在脚本中添加了一个_ stopSpawning指令，并更改了while语句，这样它就有了一个停止循环的方法。接下来，我们为OnPlayerDeath创建了一个新的公共void。现在我们必须得到它，以便当我们的玩家死亡时，stopSpawning代码激活并告诉Unity结束循环。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/0b2bd916a6ac6f269dc1592e4762eab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nuy_l6ep2lU8p9OfMFbyOw.gif"/></div></div></figure><p id="e826" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如我们所见，我们需要添加几行额外的代码。首先，我们需要创建一个私有的SpawnManager变量来使用。一旦我们创建了这个变量，我们现在必须写一些代码来找到我们的种子管理器，并告诉我们的玩家与它进行交互。<br/>我们最终在创建GetComponent时做了什么。找到线，并搜索产卵经理。这种方法的关键是你必须完全按照你在Unity编辑器中的等级来拼写。如果你拼写错误，那么它将会搜索不存在的东西。<br/>在我们得到我们的组件后，我们现在将进入玩家脚本的无效伤害部分，并添加OnPlayerDeath，它将在玩家死亡时运行。一旦这一切都完成了，我们就可以运行我们的游戏，看看我们的敌人是否会在我们的玩家死亡的那一刻停止产卵。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/22c1953efb0cd9fc18680d95522de9a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MP7jvPUxRDDg5MrvObC2GQ.gif"/></div></div></figure><p id="457d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们的种子管理员已经被清理了一点，我们现在可以展望我们游戏的下一步了。下一步是给我们的游戏添加一些精灵和背景视图，这样我们就不用再处理原始物体了。</p></div></div>    
</body>
</html>