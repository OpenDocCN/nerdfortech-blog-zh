<html>
<head>
<title>Page Visibility API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">页面可见性API</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/page-visibility-api-630c230f9efd?source=collection_archive---------7-----------------------#2021-08-01">https://medium.com/nerd-for-tech/page-visibility-api-630c230f9efd?source=collection_archive---------7-----------------------#2021-08-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0745" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，当用户浏览互联网时，他/她通常会在浏览器中打开多个标签。一次只能看到打开的所有标签中的一个标签或网页。因此，如果用户在做与用户无关的工作，所有这些对用户不可见的标签都是对电池、周期和移动数据的某种浪费。作为一名聪明的应用程序开发人员，您可能希望留意这些事件，页面可见性API可以帮助您做到这一点。</p><p id="d456" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">页面可见性API </strong>有助于识别标签或网页是活动的、隐藏的还是在后台，以便根据标签的可见性状态采取适当的行动。</p><p id="edba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性:</strong></p><p id="a76f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Document.hidden : </strong>返回真或假。如果页面对用户隐藏，则为true，否则为false。</p><p id="4309" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">document . visibility state:</strong>返回一个字符串，指示选项卡的当前可见性状态。</p><p id="6cd9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">值如下。</p><p id="99bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">visible</strong>——用户可以看到页面的内容。</p><p id="6aa4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">隐藏</strong> -用户看不到页面内容。</p><p id="acfa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">预呈现器</strong> -页面内容正在被预呈现。</p><p id="ad87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">卸载</strong> —页面从内存中卸载。</p><p id="1ab3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:并非所有的浏览器都支持prerender和unloaded值。请留意那些浏览器。</p><p id="e806" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">document . onvisibilitychange:</strong>一个事件监听器，在标签的状态发生变化时，执行提供给它的处理函数。</p><p id="2e35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">`document.onvisibilityChange("visibilitychange",handleFunction)</code></p></div><div class="ab cl jh ji gp jj" role="separator"><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm jn"/><span class="jk bw bk jl jm"/></div><div class="hb hc hd he hf"><p id="81ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">使用案例:</strong></p><p id="f6a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">页面可见性api的用例如下:</p><ol class=""><li id="d968" class="jo jp hi ih b ii ij im in iq jq iu jr iy js jc jt ju jv jw bi translated">如果用户没有观看视频，视频可以暂停(标签的状态不可见)，从而节省用户昂贵的移动数据和手机电池。当您想要在用户更改标签时从他们离开的同一点恢复视频或内容时，这也很有帮助，以便用户不会错过信息或内容。</li><li id="e8ab" class="jo jp hi ih b ii jx im jy iq jz iu ka iy kb jc jt ju jv jw bi translated">旋转式传送带可以暂停(不会前进到下一张幻灯片)。</li><li id="b2e9" class="jo jp hi ih b ii jx im jy iq jz iu ka iy kb jc jt ju jv jw bi translated">如果用户没有观看，显示信息仪表板的应用程序不必从服务器获取最新信息，从而节省了服务器和客户机的周期以及带宽。</li><li id="f6a4" class="jo jp hi ih b ii jx im jy iq jz iu ka iy kb jc jt ju jv jw bi translated">它还可以用于在检查过程中监控用户的行为，以检查用户是否在更改标签。</li></ol><p id="03e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，某个用例是否适用于您的应用程序完全取决于您的需求。可能有一个用例，你不想暂停应用程序上的视频(比如youtube)。</p><p id="968b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">例外:</strong></p><ol class=""><li id="12d9" class="jo jp hi ih b ii ij im in iq jq iu jr iy js jc jt ju jv jw bi translated">正在播放音频的标签。</li><li id="0661" class="jo jp hi ih b ii jx im jy iq jz iu ka iy kb jc jt ju jv jw bi translated">使用实时网络连接的选项卡。</li></ol><p id="3bc9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参考资料:</p><div class="kc kd ez fb ke kf"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API" rel="noopener  ugc nofollow" target="_blank"><div class="kg ab dw"><div class="kh ab ki cl cj kj"><h2 class="bd hj fi z dy kk ea eb kl ed ef hh bi translated">页面可见性API-Web API | MDN</h2><div class="km l"><h3 class="bd b fi z dy kk ea eb kl ed ef dx translated">使用选项卡式浏览，任何给定的网页都有可能在背景中，因此对…不可见</h3></div><div class="kn l"><p class="bd b fp z dy kk ea eb kl ed ef dx translated">developer.mozilla.org</p></div></div><div class="ko l"><div class="kp l kq kr ks ko kt ku kf"/></div></div></a></div><p id="fbd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们非常感谢您的反馈、建议和改进。</p><p id="0e52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您在应用程序中为任何其他功能使用了这个api，请不要忘记分享。</p></div></div>    
</body>
</html>