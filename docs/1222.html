<html>
<head>
<title>How to Use Chaos Engineering to Lower Cloud Spend</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用混沌工程来降低云开销</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-use-chaos-engineering-to-lower-cloud-spend-9dbff7177d7e?source=collection_archive---------26-----------------------#2021-03-09">https://medium.com/nerd-for-tech/how-to-use-chaos-engineering-to-lower-cloud-spend-9dbff7177d7e?source=collection_archive---------26-----------------------#2021-03-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e705b7183854c0113fdc65bc9110e988.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*maw9XWy7VkvH4dYIHNv_fQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">如何使用混沌工程来降低云开销</figcaption></figure><p id="7e88" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">应对“系统故障”紧急情况是 IT 专业人员的噩梦。当应用程序离线时，会有压力、成本和紧急因素。</p><p id="75db" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">规划可以帮助您的组织预防这种紧急情况，但是相对于所涉及的成本，规划的正确数量是多少呢？在复杂的环境中，需要考虑云、混合云和本地环境。</p><p id="8d4a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">尤其是云环境，有与基础设施相关的成本。那么，测试失败场景的正确做法是什么？</p><p id="1a92" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">混沌工程意味着采用传统的测试方法，并有意识地试图在你的环境中易受攻击的地方破坏它。通过识别和控制您的实验，您可以应用混沌测试来降低您的生产环境风险，并最终降低您的云支出。</p><p id="6536" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们看看什么是混沌工程，以及如何将其付诸实践。</p><h1 id="bb08" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">什么是混沌工程？</h1><p id="ba1f" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">首先也是最重要的:混沌工程不是你的 QA 测试的替代品。相反，它意味着通过应用无法在单元或集成测试中模拟的场景来补充您的测试。</p><p id="7771" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您实际上是在“给”您的环境施加压力，以测试其弹性并增加您对应用程序的信心。它旨在帮助开发人员和软件工程师摆脱常见的谬误，如网络可靠性和安全性、带宽和延迟。您可能认为您已经设计了可以承受所有场景的系统，但是如果没有测试，您如何知道一切是否都按预期运行呢？</p><p id="31aa" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">混沌工程是关于在你的环境中识别和建立受控实验，并检查你的系统如何响应。如果发现问题，您可以纠正它们。</p><p id="ac23" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您可以利用您的云环境进行混沌工程。如果您在生产中运行您的测试，您会给用户带来相当大的风险。最好从云中的沙盒环境开始，在那里您可以首先进行测试。</p><h1 id="55c7" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">混沌工程原理</h1><p id="124e" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">云计算对混沌工程的概念产生了双重影响。首先，云环境具有一定程度的内在不确定性，这使得混沌工程成为必要。同时，由于云环境的可伸缩性，它使得测试场景变得更加容易。</p><p id="4b2e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">根据 principlesofchaos.org 的说法，你应该围绕以下原则设计你的混沌工程。</p><h1 id="a6dd" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">围绕稳态行为建立假设</h1><p id="33ba" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">你需要知道你的系统在正常情况下是如何工作的。这创造了你的基线，你将围绕它应用你的混沌工程。与其他测试形式不同，混沌工程将验证您的系统是否工作，而不是关注它是如何工作的。</p><h1 id="8551" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">真实世界的事件变化</h1><p id="60d9" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">您需要定义在您的环境中可能发生的真实场景。影响和频率都要考虑。这将有助于你优先考虑你的混沌工程。</p><h1 id="2085" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">在生产中运行实验</h1><p id="ff3b" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">虽然您想从在沙盒环境中测试开始，但最终，您需要将您的混沌工程引入到生产中。然而，你会想要最小化爆炸半径，这样你就不会给你的用户带来不必要的痛苦。</p><p id="69aa" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您可能会在您的沙盒环境中发现问题并修复它们。您需要确保该修复也适用于生产。</p><h1 id="43e2" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">自动化实验持续运行</h1><p id="4011" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">一旦你已经定义和开发了你的测试场景，自动化它们。运行手动实验既费工又不可持续。幸运的是，云环境非常适合自动化。</p><h1 id="b595" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">混沌工程的最佳实践</h1><p id="2a65" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">光是名字就暗示了混沌工程是“不受控制的”实际上，情况正好相反。相反，你是在应用系统的实验并分析结果。</p><p id="28b1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你遵循最佳实践，你可以最大化你的混沌工程的好处。您可以为出现故障时所需的警报做好准备。如果您不遵循最佳实践，可能会导致成本增加和无益的见解。</p><h1 id="d7d9" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">集装箱测试</h1><p id="8172" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">容器是您的环境的一个小版本或片段。您可以隔离部署实验，避免大量中断。您可以攻击单个容器，并根据需要创建更多容器。</p><h1 id="5a23" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">手动测试与自动化测试</h1><p id="246b" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">您可以在模拟环境中手动执行测试的预演。这允许更多的控制和更密切的监测。一旦您完成了模拟，那么您就可以在更合适的环境中进行测试了。</p><p id="ae02" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">只有当您已经手动完成测试时，您才应该转移到自动化测试。</p><h1 id="4f8f" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">已知与未知测试</h1><p id="9efc" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">测试已知场景是一回事。对未知事物进行测试完全是另一回事。未知情景可能包括您知道但不了解其影响的因素。</p><p id="6eb8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">例如，您可能知道短暂的停机时间会产生什么影响。您可能看不到系统完全关闭或网络攻击的影响。你的混沌工程应该测试已知和未知。</p><h1 id="f880" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">准备好你的备份</h1><p id="842c" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">你需要做好准备，你被控制的混乱可能需要你重新创造你的环境。为此，请做好备份准备，这样您就可以快速恢复并完成其他实验。</p><h1 id="d607" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">利用混沌工程降低云开支</h1><p id="93b1" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">总体而言，混沌工程将减少您的云支出。随着越来越多的企业转向未来的云计算，对成本的关注将会增加。</p><p id="1a30" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您将需要考虑混沌工程的云资源的相关成本。但是，请将此与停机或其他问题相关的业务成本进行比较。</p><p id="936f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">虽然必要的测试环境会产生额外的成本，但您将在其他方面获得成本节约。例如，使用混沌工程，您可以:</p><ul class=""><li id="93ff" class="kw kx hi iw b ix iy jb jc jf ky jj kz jn la jr lb lc ld le bi translated">确定所需基础架构的规模，并平衡资源的闲置和需求。</li><li id="d214" class="kw kx hi iw b ix lf jb lg jf lh jj li jn lj jr lb lc ld le bi translated">根据停机类型，确定所需的正确冗余。</li><li id="5b15" class="kw kx hi iw b ix lf jb lg jf lh jj li jn lj jr lb lc ld le bi translated">找到未使用或无效的资源，这些资源可能会增加您的总成本。</li></ul><p id="4e1c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">由于与云基础设施相关的固有成本，您需要在测试过程中保持警惕。您需要确定达到预期结果所需的最小测试量。适当的规划将确保您不会过度分配云资源或产生不必要的成本。</p><h1 id="57e3" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">监控您环境的合适工具和警报</h1><p id="7f06" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">混沌工程允许你运行测试来找到你的系统弱点。但是，您如何确保部署了正确的监控和警报呢？如果你的团队没有立即意识到这个问题，你就无法做出反应。您的混沌工程和真实环境应该有实时监控，以及适当的警报。</p></div></div>    
</body>
</html>