<html>
<head>
<title>Create an application with Svelte Part2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建一个带有细长部件 2 的应用程序</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/create-an-application-with-svelte-part2-855c1dee1051?source=collection_archive---------26-----------------------#2021-05-03">https://medium.com/nerd-for-tech/create-an-application-with-svelte-part2-855c1dee1051?source=collection_archive---------26-----------------------#2021-05-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0a305315b571cda1649a30e4148ed6a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AkWNrj4FltiNtzLFhM3jPg.png"/></div></div></figure><p id="fbc1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇博客中，我将向你展示如何使用<code class="du jo jp jq jr b">{#if...}</code>表情和<code class="du jo jp jq jr b">{#each...}</code>表情来展示每个泰国民运人士的形象。</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/73fb0da3119f8f9512cb40fe34302e59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yLo9uVLT1OGgHqyga8iYlA.png"/></div></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">泰国民主积极分子的图像</figcaption></figure><ol class=""><li id="5171" class="kb kc hi is b it iu ix iy jb kd jf ke jj kf jn kg kh ki kj bi translated">从<a class="ae kk" href="https://drive.google.com/drive/mobile/folders/15SmPO5AQKhHzylszDeWDFH0JJ7z1O87f?usp=sharing" rel="noopener ugc nofollow" target="_blank">https://drive . Google . com/drive/mobile/folders/15 smpo 5 aqkhhzylszdewdfh 0 jj 7 z 1 o 87 f 下载图片？usp=sharing </a>并把它放到<em class="kl"> /public/assets </em>文件夹中。将图像文件名重命名为人物昵称，如 pai.jpg、ammy.jpg、penguin.jpg。稍后，我将使用 person 昵称在标记中动态引用图像文件。</li><li id="9be0" class="kb kc hi is b it km ix kn jb ko jf kp jj kq jn kg kh ki kj bi translated">用 person 对象的数组替换<code class="du jo jp jq jr b">person</code>对象，并将其命名为<code class="du jo jp jq jr b">people</code>。请注意，我向这些对象添加了两个属性，即<code class="du jo jp jq jr b">nickname</code>，我将用来指代图像名称的活动家的昵称，以及<code class="du jo jp jq jr b">releasedDate</code>，该活动家获得保释的日期；如果他/她仍被拘留，则该财产不存在。</li></ol><pre class="jt ju jv jw fd kr jr ks kt aw ku bi"><span id="e7df" class="kv kw hi jr b fi kx ky l kz la">&lt;script&gt;<br/>...<br/>const people = [<br/>{<br/>  name: `Jatupat 'Pai Dao Din' Boonpatraksa`,<br/>  nickname: 'pai',<br/>  detainedDate: new Date(2021, 2, 8),<br/>  releasedDate: new Date(2021, 3, 23),<br/>},<br/>{<br/>  name: `Parit 'Penguin' Chiwarak`,<br/>  nickname: 'penguin',<br/>  detainedDate: new Date(2021, 1, 9),<br/>},<br/>{<br/>  name: `Panupong 'Mike' Jadnok`,<br/>  nickname: 'mike',<br/>  detainedDate: new Date(2021, 2, 8),<br/>},<br/>{<br/>  name: `Somyot Pruksakasemsuk`,<br/>  nickname: 'somyot',<br/>  detainedDate: new Date(2021, 1, 9),<br/>  releasedDate: new Date(2021, 3, 23),<br/>},<br/>{<br/>  name: `Arnon Nampa`,<br/>  nickname: 'arnon',<br/>  detainedDate: new Date(2021, 1, 9),<br/>},<br/>{<br/>  name: `Patiwat Saraiyaem, 'Mor Lam Bank'`,<br/>  nickname: 'bank',<br/>  detainedDate: new Date(2021, 1, 9),<br/>  releasedDate: new Date(2021, 3, 9),<br/>},<br/>{<br/>  name: `Panusaya Sithijirawattanakul`,<br/>  nickname: 'rung',<br/>  detainedDate: new Date(2021, 2, 8),<br/>},<br/>{<br/>  name: `Chaiamorn 'Ammy' Kaewwiboonpan`,<br/>  nickname: 'ammy',<br/>  detainedDate: new Date(2021, 2, 4),<br/>},<br/>{<br/>  name: `Parinya Cheewin Kulpathom aka 'Port Faiyen'`,<br/>  nickname: 'port',<br/>  detainedDate: new Date(2021, 2, 6),<br/>},<br/>{<br/>  name: `Piyarat 'Toto' Jongthep`,<br/>  nickname: 'toto',<br/>  detainedDate: new Date(2021, 2, 6),<br/>},<br/>{<br/>  name: `Promsorn 'Fah' Veerathamjaree`,<br/>  nickname: 'fah',<br/>  detainedDate: new Date(2021, 2, 17),<br/>},<br/>{<br/>  name: `Chookiat 'Justin' Saengwong`,<br/>  nickname: 'justin',<br/>  detainedDate: new Date(2021, 2, 23),<br/>}];</span><span id="8e7b" class="kv kw hi jr b fi lb ky l kz la">...<br/>&lt;/script&gt;</span><span id="76c5" class="kv kw hi jr b fi lb ky l kz la">&lt;main&gt;...</span><span id="dc8f" class="kv kw hi jr b fi lb ky l kz la">&lt;style&gt;...</span></pre><p id="1338" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.修改函数—计算审前拘留的持续时间—以接收两个参数<code class="du jo jp jq jr b">detainedDate</code>和<code class="du jo jp jq jr b">releasedDate</code>。这两个参数用于计算活动家被拘留的天数。由于大多数活动家仍然被拘留，不得保释，<code class="du jo jp jq jr b">releasedDate</code>值将通过与<code class="du jo jp jq jr b">undefined</code>值。我使用<a class="ae kk" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters" rel="noopener ugc nofollow" target="_blank"> Javascript 默认参数</a>用默认值初始化<code class="du jo jp jq jr b">undefined</code>值，本例中为<code class="du jo jp jq jr b">todayDate</code>。</p><pre class="jt ju jv jw fd kr jr ks kt aw ku bi"><span id="ba85" class="kv kw hi jr b fi kx ky l kz la">&lt;script&gt;<br/>...<br/>function getNumberOfDaysUnderDetained(<br/>  detainedDate,<br/>  releasedDate = todayDate<br/>) {<br/>  return Math.floor((releasedDate - detainedDate) / DAYS_IN_MS);<br/>}</span><span id="f941" class="kv kw hi jr b fi lb ky l kz la">&lt;/script&gt;</span><span id="9672" class="kv kw hi jr b fi lb ky l kz la">&lt;main&gt;...</span><span id="9e87" class="kv kw hi jr b fi lb ky l kz la">&lt;style&gt;...</span></pre><p id="3e94" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.使用<code class="du jo jp jq jr b">{#each...}</code>表达式对<code class="du jo jp jq jr b">people</code>变量进行循环，在每次迭代中，将每一项分配给<code class="du jo jp jq jr b">person</code>变量。这与上一篇博客相似，除了:</p><ul class=""><li id="0dff" class="kb kc hi is b it iu ix iy jb kd jf ke jj kf jn lc kh ki kj bi translated">函数参数:传递两个参数，即<code class="du jo jp jq jr b">person.detainedDate</code>和<code class="du jo jp jq jr b">person.releasedDate</code></li><li id="2769" class="kb kc hi is b it km ix kn jb ko jf kp jj kq jn lc kh ki kj bi translated">image src 属性:通过<code class="du jo jp jq jr b">person.nickname</code>引用同名图像</li></ul><pre class="jt ju jv jw fd kr jr ks kt aw ku bi"><span id="a688" class="kv kw hi jr b fi kx ky l kz la">&lt;script&gt;...</span><span id="573a" class="kv kw hi jr b fi lb ky l kz la">&lt;main class="people"&gt;<br/>{#each people as person}<br/>  &lt;div class="individual"&gt;<br/>    &lt;div class="individual__name"&gt;<br/>      { person.name }<br/>    &lt;/div&gt;<br/>    &lt;div class="individual__caption"&gt;<br/>      &lt;span&gt;<br/>        {getNumberOfDaysUnderDetained(person.detainedDate, person.releasedDate)} Days Held Under Pre-Trial Detention<br/>      &lt;/span&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="individual__image"&gt;<br/>      &lt;img src="./assets/{person.nickname}.jpg" alt="{person.name}"/&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>{/each}<br/>&lt;/main&gt;</span><span id="0925" class="kv kw hi jr b fi lb ky l kz la">&lt;style&gt;...</span></pre><p id="b797" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.更新 css 如下。注意，我替换了在<code class="du jo jp jq jr b">main</code>元素选择器中应用的样式，而使用了类选择器<code class="du jo jp jq jr b">.people</code>。如果你对 CSS 网格感兴趣，我会有另一篇关于这个的博文。</p><pre class="jt ju jv jw fd kr jr ks kt aw ku bi"><span id="8869" class="kv kw hi jr b fi kx ky l kz la">&lt;script&gt;...</span><span id="a48a" class="kv kw hi jr b fi lb ky l kz la">&lt;main&gt;...</span><span id="c616" class="kv kw hi jr b fi lb ky l kz la">&lt;style&gt;<br/>...<br/>.people {<br/>  display: grid;<br/>  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));<br/>  column-gap: 10px;<br/>  row-gap: 20px;<br/>}<br/>...<br/>&lt;/style&gt;</span></pre><p id="4048" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来，我将演示如何使用<code class="du jo jp jq jr b">{#if...}</code>表达式为那些获得保释的人显示叠加在图像上的图章。最终结果将如下所示:</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es js"><img src="../Images/3a74490524de824c5189d6206d29a0e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eLHHi_gF0sGpLcZow6rfKw.png"/></div></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">泰国民主积极分子的图像</figcaption></figure><ol class=""><li id="6981" class="kb kc hi is b it iu ix iy jb kd jf ke jj kf jn kg kh ki kj bi translated">为了显示图章，我将检查这些活动家是否被释放(<code class="du jo jp jq jr b">person.releasedDate</code>不是<code class="du jo jp jq jr b">null</code>)。如果是，添加块以显示覆盖戳记。</li></ol><pre class="jt ju jv jw fd kr jr ks kt aw ku bi"><span id="36cd" class="kv kw hi jr b fi kx ky l kz la">&lt;script&gt;...</span><span id="ded0" class="kv kw hi jr b fi lb ky l kz la">&lt;main class="people"&gt;<br/>...<br/>    &lt;div class="individual__image"&gt;<br/>      &lt;img src="./assets/{person.nickname}.jpg" alt="{person.name}"/&gt;                <br/>      <strong class="jr hj">{#if person.releasedDate}<br/>        &lt;div class="stamp is-bailed"&gt;Bailed&lt;/div&gt;<br/>      {/if}</strong><br/>    &lt;/div&gt;<br/>...<br/>&lt;/main&gt;</span><span id="34a4" class="kv kw hi jr b fi lb ky l kz la">&lt;style&gt;...</span></pre><p id="c9ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.添加下面的 css 类来显示覆盖戳。</p><pre class="jt ju jv jw fd kr jr ks kt aw ku bi"><span id="0031" class="kv kw hi jr b fi kx ky l kz la">&lt;script&gt;...</span><span id="6f55" class="kv kw hi jr b fi lb ky l kz la">&lt;main&gt;...</span><span id="1e04" class="kv kw hi jr b fi lb ky l kz la">&lt;style&gt;<br/>...<br/>.stamp {<br/>  font-weight: 700;<br/>  text-transform: uppercase;<br/>  mix-blend-mode: multiply;<br/>  position: absolute;<br/>  top: 50%;<br/>  transform: translate(-50%, -50%);<br/>}</span><span id="dc35" class="kv kw hi jr b fi lb ky l kz la">.is-bailed {<br/>  color: #C4C4C4;<br/>  border: 1rem double #C4C4C4;<br/>  transform: rotate(-5deg);<br/>  font-size: 6rem;<br/>  font-family: "Open sans", Helvetica, Arial, sans-serif;<br/>  border-radius: 0;<br/>  padding: 0.5rem;<br/>}<br/>&lt;/style&gt;</span></pre><h1 id="ccbd" class="ld kw hi bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">参考</h1><ol class=""><li id="24aa" class="kb kc hi is b it ma ix mb jb mc jf md jj me jn kg kh ki kj bi translated"><a class="ae kk" href="https://svelte.dev/" rel="noopener ugc nofollow" target="_blank">苗条的</a></li><li id="90af" class="kb kc hi is b it km ix kn jb ko jf kp jj kq jn kg kh ki kj bi translated"><a class="ae kk" href="https://kit.svelte.dev/" rel="noopener ugc nofollow" target="_blank">超薄套装</a></li><li id="027c" class="kb kc hi is b it km ix kn jb ko jf kp jj kq jn kg kh ki kj bi translated"><a class="ae kk" href="https://www.youtube.com/watch?v=l38uRsg81ok&amp;t=3172s" rel="noopener ugc nofollow" target="_blank">介绍约翰爸爸的苗条身材</a></li></ol></div></div>    
</body>
</html>