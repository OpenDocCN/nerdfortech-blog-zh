<html>
<head>
<title>Redux in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应中的冗余</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/redux-in-react-54e05e56077e?source=collection_archive---------17-----------------------#2021-04-10">https://medium.com/nerd-for-tech/redux-in-react-54e05e56077e?source=collection_archive---------17-----------------------#2021-04-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/1eb19e993c2b1e62dc184df6633406c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M1skUCRAUCDXsJOrAIk0Vw.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">反应还原</figcaption></figure><div class=""/><div class=""><h2 id="fbfb" class="pw-subtitle-paragraph iu hw hx bd b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl dx translated">React中如何使用Redux？</h2></div><p id="f755" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">让我们开始用npm或yarn创建新的React项目。</p><p id="31d5" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">因此，如果我们想创建react项目，我们需要按照一些步骤进入我们的Visual Studio代码(vs代码)。</p><p id="7ac6" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">首先，打开新的终端，添加一些如下的东西，</p><ul class=""><li id="d015" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">npx创建-反应-应用程序项目-名称</li><li id="fd05" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">yarn create react-app项目名称</li></ul><p id="2329" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">好了，我们的项目已经创建好了，下一步在我们的项目中使用Redux是什么？</p><p id="4daa" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">💲npm安装redux redux-logger react-redux react-thunk</p><p id="da8a" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">💲纱线添加redux redux-记录器react-redux react-thunk</p><ul class=""><li id="555a" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated"><strong class="jo hy"> redux </strong> →允许我们在项目中实现redux以使用redux</li><li id="b597" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jo hy"> react-redux </strong> →允许我们绑定react和redux库</li><li id="1a88" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">这是一个中间件，允许你编写返回一个函数而不是一个动作的动作创建器。thunk可用于延迟动作的调度，或者仅在满足特定条件时才进行调度。内部函数接收存储方法<code class="du kw kx ky kz b">dispatch</code>和<code class="du kw kx ky kz b">getState</code>作为参数。</li><li id="866a" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated"><strong class="jo hy"> redux-logger </strong> →可以是带有getter函数的对象:prevState、action、nextState、error。如果您想打印基于特定状态或动作的消息，这很有用。</li></ul><p id="4e23" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">安装项目包的最后一步是下载我上面写的其他包。</p><p id="e008" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">使用cd project-name进入项目文件。然后打开终端，写下下面给出的命令</p><blockquote class="la lb lc"><p id="5c19" class="jm jn ld jo b jp jq iy jr js jt jb ju le jw jx jy lf ka kb kc lg ke kf kg kh hb bi translated">NPM I react-redux redux redux-logger redux-thunk axios</p></blockquote></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><p id="3567" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">现在让我们在src文件夹中创建一个名为store的新文件夹。该存储文件夹将包含所有redux文件。</p><p id="ff85" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">将名为rootReducer.js和store.js的新文件添加到redux中。这个rootReducer.js文件合并了我们所有的Reducer，因此我们需要导入我们所有的Reducer，以便将它们合并在一起，还需要从redux中导入combineReducers函数。js文件将包含我们的store对象。</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lo"><img src="../Images/a5e1eacc2df86a14e5a143910a00f34f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*41GKr5G2_moYUVk9OgwEEw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">store.js和rootReducer.js文件初始状态</figcaption></figure><p id="7a53" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">第二件事是创建一个新的文件夹，叫做我们有什么状态。如果你问你在说什么，那是什么？让我解释一下我在说什么。如果我们有一个名为food的状态，我们需要在redux文件夹中创建一个名为food的文件夹。这个food文件夹包含我们的foodReducer函数，它以我们的状态和动作作为参数，foodActionTypes是避免魔术字符串的对象，foodAction函数返回动作类型和动作负载。将新文件添加到我们的新食物文件夹中，创建食物状态的初始状态和名为foodReducer函数的函数。</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lt"><img src="../Images/6bd094fd7688dc022ac249598b04ed42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JlVBOLZPWyT9IolkLVBV2g.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">项目冗余文件结构</figcaption></figure><p id="1ba0" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">让我们深入准备或初始化redux。在开始时编写我们的操作类型可能会比较好，所以我将首先准备foodTypes.js文件。</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lu"><img src="../Images/4d71fe11b183364d7e16266a90ec8559.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4StQTrJ5yaGnJwZNsYTVEA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">foodTypes.js文件</figcaption></figure><p id="824f" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">然后第二步是创建动作文件。在本例中，我们需要在food文件夹中创建一个名为foodAction.js的新文件。我们也将在那里写我们的动作函数。</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lv"><img src="../Images/f8335bbc10f6faeb52efe9f5b41c95a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ldp9gn2ZVCEn_LLxQVV_Sg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">foodAction.js文件</figcaption></figure><p id="ecf6" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">第三步是foodReducer函数。</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lt"><img src="../Images/ef267da338155eab87b7e073ba2c50e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eip3cXWaE3k8W1BRoindPQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">foodReducer.js文件</figcaption></figure><p id="cda9" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">第四步是编写rootReducer函数，将所有的Reducer组合到项目中。我们的项目只有一个减速器，但是您可以按照示例步骤添加新的减速器。总之让我们写reducer函数。</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/c6f61b240221dac9597f5568f2136806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VXnavuIaSNn3QQtYK4pxVg.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">rootReducer.js文件</figcaption></figure><p id="728c" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">哦，最后，是时候创建存储对象了😅</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lv"><img src="../Images/8a50ded710264ed9bc02379434f22429.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8VV9WD4JeqAHYjbdOiZ7g.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">store.js文件</figcaption></figure><p id="e285" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">从现在开始，我们有了存储对象，我们可以在任何地方管理它。🚀</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><h2 id="43d1" class="lx ly hx bd lz ma mb mc md me mf mg mh jv mi mj mk jz ml mm mn kd mo mp mq mr bi translated">我们如何管理我们的存储对象？</h2><p id="634f" class="pw-post-body-paragraph jm jn hx jo b jp ms iy jr js mt jb ju jv mu jx jy jz mv kb kc kd mw kf kg kh hb bi translated">让我们将store添加到名为index.js的顶层项目中。</p><p id="3756" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">正如你所记得的，我们创造了一个食物减肥器。为了使用这个函数，我们必须用react-redux库提供的名为Provider的容器来包装我们的整个项目。这个提供者获取一个名为store的道具，它将获取我们到目前为止创建的store对象。</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lw"><img src="../Images/6af448e0f4d3244837269dc430537cf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D92Vl1VCFPRKNd41eg60tw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">index.js文件</figcaption></figure><p id="525a" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">现在，我们已经将我们的商店对象包含在我们的项目中，我们将能够在全球范围内管理我们的状态，而无需在我们想要的任何地方进行道具钻探。</p></div><div class="ab cl lh li gp lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="hb hc hd he hf"><p id="0499" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">让我们添加一些组件和样式。我不会在这里分享代码，如果你想看代码，你可以克隆或者下载到我的github仓库。</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mx"><img src="../Images/59e551ccd7361698a002ad5e8f71c661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*acoAXK6pFCQZ3P6Lzd9S4A.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">App.js文件</figcaption></figure><p id="22ce" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">最后一步是运行项目文件:</p><ul class=""><li id="80b1" class="ki kj hx jo b jp jq js jt jv kk jz kl kd km kh kn ko kp kq bi translated">npm开始</li><li id="eff5" class="ki kj hx jo b jp kr js ks jv kt jz ku kd kv kh kn ko kp kq bi translated">纱线起点</li></ul><p id="549a" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">简单而有效的项目已经完成。这个项目向我们展示了许多重复的东西。顺便说一下，我们丑陋的项目看起来如下😄</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es my"><img src="../Images/7be428308a817e4be62fddcf380c0661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aw_TNvkdDUV6YKjhCPLBfQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">丑陋的项目😃</figcaption></figure><p id="2f5d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">让我告诉你，别忘了我用来获取数据的网站是这里的<a class="ae mz" href="https://developer.edamam.com/food-database-api-docs" rel="noopener ugc nofollow" target="_blank"><strong class="jo hy"/></a><strong class="jo hy">。</strong></p><p id="1231" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">项目文件在<a class="ae mz" href="https://github.com/ahmetsuhan/medium-projects/tree/main/react-redux-using/food-gallery" rel="noopener ugc nofollow" target="_blank"> <strong class="jo hy"> <em class="ld"> github </em> </strong> </a>上</p><p id="3269" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">感谢阅读，下次见👋</p></div></div>    
</body>
</html>