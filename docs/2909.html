<html>
<head>
<title>Basics of Javascript · String · charCodeAt() (method)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript字符串charCodeAt()的基础知识(方法)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/basics-of-javascript-string-charcodeat-method-8f0d8edfb256?source=collection_archive---------19-----------------------#2021-05-23">https://medium.com/nerd-for-tech/basics-of-javascript-string-charcodeat-method-8f0d8edfb256?source=collection_archive---------19-----------------------#2021-05-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e5b3bbfb8c806766c55c7ec3855a20b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*04uSMD4vvYXaomqaZXV_PQ.png"/></div></div></figure><p id="de16" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇文章是我在youtube上免费发表的关于网络开发基础的系列文章的抄本。如果你更喜欢看而不是读，请随时访问我的频道“Dev Newbs”。T3】</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="06b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你好，我的新手伙伴们。今天，我们将讨论下一个字符串对象方法，那就是charCodeAt()。抓紧你们的帽子，因为我们要开始潜水了。</p><p id="a108" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">charCodeAt()方法返回一个数字，表示指定字符串中给定索引处字符的Unicode值。第一个字符的索引是0，第二个字符的索引是1，依此类推。最后一个字符的索引等于指定字符串的长度减一。</p><pre class="jp jq jr js fd jv jw jx jy aw jz bi"><span id="d735" class="ka kb hi jw b fi kc kd l ke kf">let myNotSoLongString= "Hello newbs!";</span><span id="505b" class="ka kb hi jw b fi kg kd l ke kf">myNotSoLongString.charCodeAt(0)         // 7'<br/>myNotSoLongString.charCodeAt(1)         // 101<br/>myNotSoLongString.charCodeAt(2)         // 108<br/>myNotSoLongString.charCodeAt(3)         // 108<br/>myNotSoLongString.charCodeAt(4)         // 111<br/>myNotSoLongString.charCodeAt(5)         // 32<br/>myNotSoLongString.charCodeAt(6)         // 110<br/>myNotSoLongString.charCodeAt(7)         // 101<br/>myNotSoLongString.charCodeAt(8)         // 119<br/>myNotSoLongString.charCodeAt(9)         // 98<br/>myNotSoLongString.charCodeAt(10)        // 115       myNotSoLongString.charCodeAt(11)        // 33</span></pre><p id="7906" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类似地，像charAt()一样，当方法不返回实际的Unicode值时，也有一些例外。如果指定的索引处没有字符，或者索引小于“0”，就会出现这种情况。在这些情况下，我们用“NaN”来代替。</p><pre class="jp jq jr js fd jv jw jx jy aw jz bi"><span id="f227" class="ka kb hi jw b fi kc kd l ke kf">myNotSoLongString.charCodeAt(-1)       // NaN<br/>myNotSoLongString.charCodeAt(12)       // NaN</span></pre><p id="3f76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">两个结果都是“NaN”，因为我们在第一种情况下提供了负指数，在第二种情况下提供了超出范围指数。</p><p id="2552" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们再看几个边缘案例，看看这个方法是如何工作的:</p><pre class="jp jq jr js fd jv jw jx jy aw jz bi"><span id="d59b" class="ka kb hi jw b fi kc kd l ke kf">myNotSoLongString.charCodeAt("A")             // 72<br/>myNotSoLongString.charCodeAt(NaN)             // 72<br/>myNotSoLongString.charCodeAt(null)            // 72<br/>myNotSoLongString.charCodeAt(undefined)       // 72<br/>myNotSoLongString.charCodeAt(false)           // 72<br/>myNotSoLongString.charCodeAt(true)            // 101</span></pre><p id="c28d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">前四种情况是索引值无效的例子。因为它们不能被转换成整数，所以使用等于零的缺省索引值。</p><p id="4c52" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，我们已经完成了这个方法的基础。现在让我们深入一点。您可能还记得以前的文章，我多次提到了术语“代码单元”。如果你没有读过这篇文章或者只是忘记了，那么这里有一个简短的解释:在javascript中，代码单元是一个16位的数字。换句话说，它是一个仅由1和0组成的16位长数字。</p><p id="2850" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我还提到了一些字符不适合这些16位，因此它们由多个代码单元组成。正因为如此，我们有了Unicode码位，简称码位。</p><p id="c348" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了简单起见，我们假设一个代码点可以由一个或多个代码单元组成。并且它们表示特定的unicode字符。它们的值可以在0到1，114，111之间。</p><p id="fe07" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有趣的事实是，前128个Unicode码位与ASCII字符编码直接匹配。</p><p id="f3da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在回到我们今天的方法。charCodeAt()总是返回小于65，536的值。如果您忽略了这一点，那么它就是一个代码单元所能容纳的最大理论值。这意味着，对于由多个代码单元组成的字符，它不会返回完整的unicode值。</p><p id="ad97" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此时此刻，你可能会头疼，你可能会考虑放弃发展，去做一些压力较小的事情——比如修理高压电线。但是不要放弃。让我们用一个例子来看看这个问题。你会发现其实没那么糟。</p><pre class="jp jq jr js fd jv jw jx jy aw jz bi"><span id="98aa" class="ka kb hi jw b fi kc kd l ke kf">let thumbsUpIcon = "👍";</span><span id="6aac" class="ka kb hi jw b fi kg kd l ke kf">thumbsUpIcon.length                       // 2</span><span id="1edb" class="ka kb hi jw b fi kg kd l ke kf">thumbsUpIcon.charCodeAt(0)                // 55357<br/>thumbsUpIcon.charCodeAt(1)                // 56397</span><span id="bc1b" class="ka kb hi jw b fi kg kd l ke kf">thumbsUpIcon.codePointAt(0)               // 128077</span></pre><p id="10a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，我们可以看到，由于length属性，我们的字符长度大于1个代码单位。所以我们已经知道我们将得到的值不是正确的，但是没关系。因为有另一种方法可以帮助我们。这就是codePointAt()，它返回代码点的实际unicode值，而不仅仅是代码单元。</p><p id="a4f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是这是下一篇文章的主题。谢谢你坚持到最后。我希望你慢慢开始感觉到Javascript的专业技能在你的血管中流动。如果没有，不要担心——下一篇文章肯定会解决这个问题。</p><p id="91ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一如既往，非常感谢你的时间，我会尽快看到你的下一个方法。</p></div></div>    
</body>
</html>