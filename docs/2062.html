<html>
<head>
<title>How to perform validations in ASP .NET web applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在ASP中执行验证？NET web应用程序</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-perform-validations-in-asp-net-web-applications-da568f0edcce?source=collection_archive---------10-----------------------#2021-04-19">https://medium.com/nerd-for-tech/how-to-perform-validations-in-asp-net-web-applications-da568f0edcce?source=collection_archive---------10-----------------------#2021-04-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/bd66e14ccb37e7743fc9bccfe81ed5c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tf1aAU0ZaE8vZg-_Czm5iw.jpeg"/></div></div></figure><p id="7426" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于您今天生产的任何产品，在交付给客户之前进行验证是非常重要的。您需要强制验证制造的产品是否满足所有要求的参数。在目前的世界中，通过互联网进行这些验证是可能的。</p><p id="d547" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑一个假设的场景，你正在预订机票。预订时，您将被要求填写您的个人信息(大部分是文本字段)。现在想象一下如果没有验证会发生什么。这将增加许多旅行者被记录的无效数据的数量。为了避免这种情况，对网站中的所有输入字段进行验证是很重要的。</p><p id="6142" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为开发人员，要使一个字段成为强制字段，每次都需要编写相同的代码逻辑。相反，ASP.Net提出了以数据注释的形式进行验证的想法。它提供了一组预定义的通用控件，可用于需要验证的字段。开发人员需要做的只是为验证器提供一些规范，并在应用程序中使用它。让我们详细看看ASP附带的验证器。Net以及如何在项目中实现它们。</p><p id="7434" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">目录</strong></p><ol class=""><li id="f5b8" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">ASP.Net验证控件简介，</li><li id="23dd" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">验证控制的实际实施，</li><li id="6233" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">结论</li></ol><h1 id="76f8" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">ASP.Net验证简介</h1><p id="c670" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">ASP。Net Validations提供了一种方便的机制来验证输入，而不需要为它编写新的代码。此外，它还提供了自定义验证器来对字段进行用户定义的验证。用户甚至可以向任何控件添加验证，这将在下一节中详细介绍。当控件的焦点改变或单击提交按钮时，控件的验证就完成了。在这种情况下，提供的数据注释验证输入字段，并根据结果将页面设置为无效或有效状态。这些验证发生在代码的服务器端。</p><p id="7736" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类似地，一个字段可以有多个验证。例如，您可以有一个必填字段验证器和一个范围验证器来检查数字是否在提供的范围内。</p><p id="17ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们在下一节中详细了解不同类型的可用验证及其实现。</p><h1 id="2de3" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">验证控制的实际实施</h1><p id="fc37" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">在我们进入实现部分之前，这里是ASP中可用验证的列表。网。</p><ol class=""><li id="cb4e" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">必填字段验证器，</li><li id="ffea" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">比较验证器，</li><li id="6453" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">范围验证器，</li><li id="6a3d" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">正则表达式验证器，</li><li id="19c9" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">自定义验证程序</li></ol><p id="ad86" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了实现，我们将创建一个注册页面，并研究页面上显示的输入字段的上述验证器。</p><h2 id="61ae" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第一步</h2><p id="ee63" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">从项目模板创建一个ASP.Net核心Web应用程序，并为项目提供一个有效的名称。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/9ed9bd565da435c7973772f6e1883708.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PZHx07-AwwETiUfb"/></div></div></figure><h2 id="e3d6" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第二步</h2><p id="a353" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">选择模板为<strong class="is hj"> WebApplication(模型-视图-控制器)</strong>并创建项目。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/ac6e2ed98708b647b1d0e70a3e7a1b5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P2C3zQjOJBAUgqFQ"/></div></div></figure><h2 id="0ec1" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第三步</h2><p id="0e4d" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">项目的文件夹结构如下所示。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/cbb471a5ba0355aba757be5513a2e5f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/0*ryGV8nKHf64IZHgs"/></div></figure><h2 id="aa60" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第四步</h2><p id="a982" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">创建一个保存注册表单数据的模型。要创建模型，右键单击Models文件夹，并选择Add选项。选择Class并为该类提供一个有效的名称，然后创建将成为注册页面一部分的属性。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/c2042597cb109546e157152572aa25e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/0*_K-QBFzXHwz0fHFL"/></div></figure><h2 id="4b7e" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第五步</h2><p id="a3e0" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">一旦创建了模型，右键单击views下的home文件夹，然后单击add Razor Page。然后提供注册模型作为模型类，并选择视图的模板作为create。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/88b05d4772cf9a32333f28bd633a665a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5NoaWr2gjfprSNbx"/></div></div></figure><p id="503b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">根据模型中的属性，创建了UI的字段。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/87b4612be4fbfde592a1b239fbd31e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BbXLdQXdgJfk2Jsq"/></div></div></figure><h2 id="6760" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第六步</h2><p id="e867" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">现在，要使注册页面成为我们的主页，请转到启动文件。在“配置”下，修改现有配置，如下图所示(操作=注册)。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/dff7a98963f3fe3197809c0d31fc4480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/0*-RrEsdTlGRouvObD"/></div></figure><p id="39c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">并将HomeController中的索引方法更改为SignUp。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/233a701dd7de4ad8eebb79395e19c822.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/0*8uytc1pZGFgRozvp"/></div></figure><h2 id="2b69" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第七步</h2><p id="708f" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">让我们开始在模型上实现验证。作为第一步，让我们实现所需的字段验证器。要实现它，请在注册模型字段中的每个属性上方添加*<strong class="is hj">[必需]* </strong>属性。系统。ComponentModel.DataAnnotations必须在header部分导入。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es md"><img src="../Images/83803e85da859fae191f7c6cd673eaf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/0*2btdUMRdyV7dPInU"/></div></figure><h2 id="f0e4" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第八步</h2><p id="23ec" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">现在，运行应用程序。UI将在提供的浏览器中打开。您是否也看到了模型页面上显示的UI中的所有字段？</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/7a6fa70b2e0639917195e15544260638.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7pVEtp1Qtp1fckTh"/></div></div></figure><p id="0625" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，如果我们试图提交页面而不填充细节，它将在所有字段中抛出错误。因为我们已将所有字段标记为必填。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/ebe6c22f8d13c755fbddb943e409b0bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a75fa_STloBXZuZv"/></div></div></figure><h2 id="3077" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第九步</h2><p id="da71" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">现在，让我们尝试添加更多的验证。假设我们希望用户名最少10个字符，最多50个字符，年龄应该在1到100之间(范围验证器)，那么要实现这些，必须添加下图中的验证属性。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/257898304d619a27d77f26c274b73bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/0*HgoLcOieInaVoyiB"/></div></figure><p id="9adf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">错误是这样的。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/28626c64e83890408c8d749e4b943e1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/0*ALu_jHZ4BW3n-c7P"/></div></figure><h2 id="c886" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">第十步</h2><p id="40f8" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">因为我们有密码和确认密码字段，所以这两个字段中的输入必须相同。让我们看看如何为密码字段实现比较验证器。在比较属性的括号内提供要比较的属性的名称。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es mi"><img src="../Images/77b12d9ddec87f248117554d73f26429.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/0*N6mnaFRAJ_Myfvab"/></div></figure><p id="489d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">错误是这样的。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es mj"><img src="../Images/d862155b8ecfdf6b9eb397e88b2c773b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/0*PztEHry7cynW3ycP"/></div></figure><h2 id="fa32" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">步骤11</h2><p id="4b45" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">让我们为用户名字段添加一些正则表达式验证器。让我们验证用户名字段中输入的文本是否是电子邮件id格式。要实现它，添加属性RegularExpression并为表达式提供括号。此外，对于所有的验证器，可以提供一个定制的错误消息来覆盖默认的错误消息。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/0abf6bbc41df38938af591dbc113246a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_WwXxiCW2aleDx-1"/></div></div></figure><p id="d277" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">错误是这样的。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div class="er es mk"><img src="../Images/6e783ebec41916686b35262b33cfecd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/0*B4NANHt2Ps-jpKSo"/></div></figure><h2 id="e05f" class="lf kd hi bd ke lg lh li ki lj lk ll km jb lm ln kq jf lo lp ku jj lq lr ky ls bi translated">步骤12</h2><p id="5d0b" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">若要实现自定义验证器，请创建一个类并继承ValidationAttribute。现在在类重写中，方法IsValid返回bool类型。另外，添加需要验证的必要条件。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ml"><img src="../Images/07f8d2113df36120586f652bc54cf5a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lxLWZppw78KurW2z"/></div></div></figure><p id="11a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将创建的类名作为简写添加到相应的属性中。</p><figure class="lu lv lw lx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/a9487d08f5ae6f0cfea748eb45a00aac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*myRcyvThmcmg3Hrv"/></div></div></figure><h1 id="90cf" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">结论</h1><p id="0262" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">默认情况下，ASP.Net提供了非常有用的验证器，可以方便地验证字段。这些特性节省了大量用于验证字段的代码可维护性，以及实现更改所需的时间。</p></div><div class="ab cl mm mn gp mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hb hc hd he hf"><p id="e33d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="mt">原载于</em><a class="ae mu" href="https://www.partech.nl/nl/publicaties/2021/04/how-to-perform-validations-in-asp-net-web-applications" rel="noopener ugc nofollow" target="_blank"><em class="mt">https://www . partech . nl</em></a><em class="mt">。</em></p></div></div>    
</body>
</html>