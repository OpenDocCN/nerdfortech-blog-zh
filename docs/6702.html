<html>
<head>
<title>Train Python Code Embedding with FastText</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 FastText 训练 Python 代码嵌入</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/train-python-code-embedding-with-fasttext-1e225f193cc?source=collection_archive---------2-----------------------#2022-04-23">https://medium.com/nerd-for-tech/train-python-code-embedding-with-fasttext-1e225f193cc?source=collection_archive---------2-----------------------#2022-04-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/da22ffe3d4f06ca6a5e3cf2715ce2cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*V8CHTsWncvUvWQeL.png"/></div></figure><p id="867d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">嵌入模型广泛用于深度学习应用中，因为需要将数据从原始形式转换为数字形式。存在许多训练嵌入的方法，每种方法都有优点和缺点，也有它们自己的使用案例。这些方法中的大多数已经被应用于自然语言处理问题。今天，我们将在 Python 代码上应用 FastText，这是一种著名的嵌入技术。</p><p id="1505" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">出于本教程的考虑，我们使用 Gensim 的实现。可以通过运行以下命令获得 Gensim 包:<strong class="io hj"> <em class="jk"> pip3 安装 gensim </em> </strong></p><h1 id="9275" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">要求</h1><p id="769c" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">为了训练嵌入模型，我们需要大量的代码和耐心。</p><h1 id="8ab9" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">获取数据</h1><p id="5138" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">通过克隆一些库，我们可以从 GitHub 获得大量的代码。例如，我们通过运行以下命令克隆 scikit-learn 存储库:<strong class="io hj"> <em class="jk"> git 克隆</em></strong><a class="ae ko" href="https://github.com/scikit-learn/scikit-learn.git" rel="noopener ugc nofollow" target="_blank"><strong class="io hj"><em class="jk">https://github.com/scikit-learn/scikit-learn.git</em></strong></a></p><h1 id="3e00" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">准备数据</h1><p id="38d6" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我们首先需要从项目的所有文件中加载代码。使用下面的代码片段就足够了。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kt ku l"/></div></figure><p id="5e0f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">加载完所有文件的代码后，我们需要对代码进行令牌化。通常这些文件包含自然语言文本和代码。我们对自然语言文本使用 NLTK tokenize，对代码使用 Python 标准 tokenizer。以下代码实现了对代码进行令牌化所需的函数。您可能需要安装 NLTK 包。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kt ku l"/></div></figure><p id="d569" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后，在将代码加载到内存中之后，我们使用令牌化器对代码进行令牌化。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kt ku l"/></div></figure><h1 id="7fbb" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">训练模型</h1><p id="8d17" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">为了训练快速文本模型，我们使用以下超参数。如果需要，您可以更改或调整它们。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kt ku l"/></div></figure><p id="fee5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">之后，我们实例化模型并训练它。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kt ku l"/></div></figure><h1 id="cfa5" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">查询模型</h1><p id="bf32" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">下面的代码展示了三个不同的查询，您可以在训练后询问模型:</p><ul class=""><li id="6c69" class="kv kw hi io b ip iq it iu ix kx jb ky jf kz jj la lb lc ld bi translated">最相似的令牌</li><li id="4031" class="kv kw hi io b ip le it lf ix lg jb lh jf li jj la lb lc ld bi translated">两个记号或两个字符串之间的相似性</li><li id="08b8" class="kv kw hi io b ip le it lf ix lg jb lh jf li jj la lb lc ld bi translated">令牌的嵌入向量</li></ul><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kt ku l"/></div></figure><h2 id="e8f8" class="lj jm hi bd jn lk ll lm jr ln lo lp jv ix lq lr jz jb ls lt kd jf lu lv kh lw bi translated">更新:</h2><p id="010d" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">训练好的模型可以在:<a class="ae ko" href="https://drive.google.com/file/d/1vVRsnCWdpC2NN5q4xLzDa0ZInHLbwY31/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">https://drive . Google . com/file/d/1 vvrsncwdpc 2 nn 5 q 4 xlzda 0 zinhlbwy 31</a>上找到</p></div></div>    
</body>
</html>