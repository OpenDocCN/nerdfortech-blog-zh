<html>
<head>
<title>iOS: behavioural testing- Given When Then in UI &amp; Unit testing — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">iOS:行为测试——在UI和单元测试中给出——第2部分</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/ios-behavioural-testing-given-when-then-in-ui-unit-testing-part-2-ffbf0228604a?source=collection_archive---------8-----------------------#2021-01-31">https://medium.com/nerd-for-tech/ios-behavioural-testing-given-when-then-in-ui-unit-testing-part-2-ffbf0228604a?source=collection_archive---------8-----------------------#2021-01-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="8645" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">iOS测试指南</h2><div class=""/><figure class="ev ex ip iq ir is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es io"><img src="../Images/dc0ea0385b44f51d80b4d5698309d70f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pSsUTVD_Fu8clf7cMMg7DA.png"/></div></div></figure><p id="51b8" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">这是文章<a class="ae jx" href="https://rajaikumar.medium.com/ios-behavioural-testing-given-when-then-in-ui-unit-testing-part-1-41e3eff8811b" rel="noopener"> iOS:行为测试-在UI中给出的时候&amp;单元测试-第1部分</a>的延续。</p><p id="1235" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">我强烈建议在继续阅读本文之前先阅读第1部分。</p><p id="bcad" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">让我们回顾一下，在第1部分中，我们看到了以下内容:</p><ol class=""><li id="0278" class="jy jz hi jb b jc jd jg jh jk ka jo kb js kc jw kd ke kf kg bi translated"><strong class="jb hs"> <em class="kh">是什么时候给的呢？</em> </strong></li><li id="a97d" class="jy jz hi jb b jc ki jg kj jk kk jo kl js km jw kd ke kf kg bi translated"><strong class="jb hs"> <em class="kh">故事模板。</em>T9】</strong></li><li id="f768" class="jy jz hi jb b jc ki jg kj jk kk jo kl js km jw kd ke kf kg bi translated"><strong class="jb hs"> <em class="kh">一个账户持有人试图从ATM机提取现金的故事。</em>T13】</strong></li><li id="b71d" class="jy jz hi jb b jc ki jg kj jk kk jo kl js km jw kd ke kf kg bi translated"><strong class="jb hs"> <em class="kh">单元测试中的行为测试。</em> </strong></li></ol><p id="971a" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">现在我们将在UI测试上实现我们用于单元测试的相同策略。</p><h1 id="f745" class="kn ko hi bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated"><strong class="ak">用户界面测试:</strong></h1><p id="9397" class="pw-post-body-paragraph iz ja hi jb b jc ll je jf jg lm ji jj jk ln jm jn jo lo jq jr js lp ju jv jw hb bi translated">让我们再来看看我们的应用程序屏幕。</p><figure class="lr ls lt lu fd is er es paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="er es lq"><img src="../Images/9d43827340e06ff854d2fa0ce2cea8ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rGkU7gujVMGxSiSINwWuOw.png"/></div></div></figure><p id="0dde" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">这是一个简单的计算应用程序。我们有两个textfieds来获取输入，一个segment控件来获取数学运算符(+或-)，一个equals按钮(=) <strong class="jb hs"> </strong>来执行数学运算，还有一个label来显示答案。</p><p id="73f4" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs"> <em class="kh">在写我们的故事之前，先看看故事模板。</em>T25】</strong></p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="951e" class="ma ko hi lw b fi mb mc l md me"><strong class="lw hs">Title</strong> (one line describing the story)</span><span id="c117" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">Narrative:</strong><br/>As a [role]<br/>I want [feature]<br/>So that [benefit]</span><span id="b37f" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">Acceptance Criteria:</strong> (presented as Scenarios)</span><span id="fb4a" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">Scenario 1:</strong> Title<br/>Given [context]<br/>  And [some more context]...<br/>When  [event]<br/>Then  [outcome]<br/>  And [another outcome]...</span><span id="60c2" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">Scenario 2:</strong> ...</span></pre><p id="4153" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">现在我们要写一个有两个场景的故事。</p><ol class=""><li id="7eef" class="jy jz hi jb b jc jd jg jh jk ka jo kb js kc jw kd ke kf kg bi translated">将文本字段中给出的两个值相加，并在标签上显示结果。</li><li id="f5a3" class="jy jz hi jb b jc ki jg kj jk kk jo kl js km jw kd ke kf kg bi translated">减去文本框中给出的两个值，并在标签上显示结果。</li></ol><p id="bef5" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">让我们写下我们的故事。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="a69e" class="ma ko hi lw b fi mb mc l md me"><strong class="lw hs">Title</strong> User performs math operations<br/><br/><strong class="lw hs">Narrative:</strong><br/>As a user of this simple calc app<br/>I want to perform +/- math operations on the values in the textfield<br/>So that I could know the answer.<br/><br/><br/><strong class="lw hs">Scenario 1:</strong> Add two values<br/>Given the values are 1 &amp; 2 in the 1st and 2nd textfields respectively<br/>  And the + operator is selected in the segment control<br/>When  the equals button(=) is pressed <br/>Then  the value shown in the label should be equal to 3<br/><br/><strong class="lw hs">Scenario 2:</strong> Subtract two values<br/>Given the values are 2 &amp; 1 in the 1st and 2nd textfields respectively<br/>  And the - operator is selected in the segment control<br/>When  the equals button(=) is pressed <br/>Then  the value shown in the label should be equal to 1</span></pre><p id="9b3a" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">现在让我们进入UI测试类，编写测试代码</p><p id="5bd8" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">场景1: </strong>将文本框中给出的两个值相加，并在标签上显示结果。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="6b77" class="ma ko hi lw b fi mb mc l md me"><strong class="lw hs">Scenario 1:</strong> Add two values</span><span id="5e0e" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">//Given</strong></span><span id="2922" class="ma ko hi lw b fi mf mc l md me">let inputOne = "1"</span><span id="4a47" class="ma ko hi lw b fi mf mc l md me">let inputTwo = "2"</span><span id="ce29" class="ma ko hi lw b fi mf mc l md me">let answer = "3"</span><span id="cd17" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">//And</strong></span><span id="bb97" class="ma ko hi lw b fi mf mc l md me">XCUIApplication().buttons["+"].tap()</span><span id="343e" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">//When</strong></span><span id="6c28" class="ma ko hi lw b fi mf mc l md me">let textField1 =  app.textFields["TF1"]</span><span id="90d6" class="ma ko hi lw b fi mf mc l md me">textField1.tap()</span><span id="a91c" class="ma ko hi lw b fi mf mc l md me">textField1.typeText(inputOne)</span><span id="e617" class="ma ko hi lw b fi mf mc l md me">let textField2 =  app.textFields["TF2"]</span><span id="f088" class="ma ko hi lw b fi mf mc l md me">textField2.tap()</span><span id="f666" class="ma ko hi lw b fi mf mc l md me">textField2.typeText(inputTwo)</span><span id="65bb" class="ma ko hi lw b fi mf mc l md me">app.buttons["="].tap()</span><span id="241e" class="ma ko hi lw b fi mf mc l md me">let answerLabel = app.staticTexts[answer]</span><span id="ef61" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">//Then</strong></span><span id="ab95" class="ma ko hi lw b fi mf mc l md me">XCTAssertTrue(answerLabel.exists,"Details: Input was 1+2 and expecterd answer is 3")<br/></span></pre></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="e5c1" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs">场景2: </strong>将文本框中给出的两个值相减，并在标签上显示结果。</p><pre class="lr ls lt lu fd lv lw lx ly aw lz bi"><span id="9695" class="ma ko hi lw b fi mb mc l md me"><strong class="lw hs">Scenario 2:</strong> Subtract two values</span><span id="35a0" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">//Given</strong></span><span id="f75f" class="ma ko hi lw b fi mf mc l md me">let inputOne = "2"</span><span id="47bc" class="ma ko hi lw b fi mf mc l md me">let inputTwo = "1"</span><span id="5868" class="ma ko hi lw b fi mf mc l md me">let answer = "1"</span><span id="9094" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">//And</strong></span><span id="2f0c" class="ma ko hi lw b fi mf mc l md me">XCUIApplication().buttons["-"].tap()</span><span id="1f87" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">//When</strong></span><span id="9e20" class="ma ko hi lw b fi mf mc l md me">let textField1 =  app.textFields["TF1"]</span><span id="5ad3" class="ma ko hi lw b fi mf mc l md me">textField1.tap()</span><span id="d29c" class="ma ko hi lw b fi mf mc l md me">textField1.typeText(inputOne)</span><span id="f3f3" class="ma ko hi lw b fi mf mc l md me">let textField2 =  app.textFields["TF2"]</span><span id="41a2" class="ma ko hi lw b fi mf mc l md me">textField2.tap()</span><span id="9976" class="ma ko hi lw b fi mf mc l md me">textField2.typeText(inputTwo)</span><span id="22d9" class="ma ko hi lw b fi mf mc l md me">app.buttons["="].tap()</span><span id="9580" class="ma ko hi lw b fi mf mc l md me">let answerLabel = app.staticTexts[answer]</span><span id="b900" class="ma ko hi lw b fi mf mc l md me"><strong class="lw hs">//Then</strong></span><span id="dc8d" class="ma ko hi lw b fi mf mc l md me">XCTAssertTrue(answerLabel.exists,"Details: Input was 2-1 and expecterd answer is 1")</span></pre><p id="f039" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">现在运行您的测试，看看奇迹。将这种结构作为基本形式，以便在此基础上学习更多内容。</p></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="a9b9" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jb hs"> <em class="kh">就这样了伙计们，我该离开了。</em> </strong></p><p id="0d02" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">在此报告中找到完整的源代码:</p><p id="9805" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><a class="ae jx" href="https://github.com/Rajaikumar-iOSDev/SimpleBDDExample" rel="noopener ugc nofollow" target="_blank">https://github.com/Rajaikumar-iOSDev/SimpleBDDExample</a></p><div class="mn mo ez fb mp mq"><a href="https://github.com/Rajaikumar-iOSDev/SimpleBDDExample" rel="noopener  ugc nofollow" target="_blank"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hs fi z dy mv ea eb mw ed ef hr bi translated">rajaikumar-IOs dev/SimpleBDDExample</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">这是swift中BDD(Given，When &amp; Then)基本实施的一个例子。建立在单元测试之上的UI测试用例…</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">github.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne ix mq"/></div></div></a></div><p id="3e40" class="pw-post-body-paragraph iz ja hi jb b jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated">请记住，这个项目有测试计划和代码覆盖率，这在本教程中没有涉及。如果你需要了解更多，请告诉我。</p></div></div>    
</body>
</html>