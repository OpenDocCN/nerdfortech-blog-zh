<html>
<head>
<title>Introduction to Ruby on Rails and how MVC works!!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">介绍Ruby on Rails以及MVC是如何工作的！！</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/introduction-to-ruby-on-rails-and-how-mvc-works-c56dff61dce5?source=collection_archive---------3-----------------------#2021-11-23">https://medium.com/nerd-for-tech/introduction-to-ruby-on-rails-and-how-mvc-works-c56dff61dce5?source=collection_archive---------3-----------------------#2021-11-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/1f24315d4884ab60aa61726076f6c24d.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*MtuURq-9Fe3MZM5IZqQgyw.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated"><a class="ae iq" href="https://www.pngaaa.com/detail/4122223" rel="noopener ugc nofollow" target="_blank">图像来源</a></figcaption></figure><p id="4a08" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">作为一名开发人员，我经常从以前的项目中复制粘贴一些代码。我是一个懒惰的人，毫无疑问，但是复制粘贴是完全可以避免的。因为，它占用了我关注代码功能的时间。相反，我不得不花时间建立文件结构和一些项目语义。</p><p id="083d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">感谢上帝，大卫·海涅迈尔·汉森 ，他在2004年创造了Ruby on Rails。</p><p id="9e94" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">是的，我知道我们可以模块化，这样我们就可以重复使用。但是，仍然有一部分仍然需要ctrl+c ctrl+v。他们说细节决定成败。那些文件中有如此多的细节，这是魔鬼的真实表现。甚至不要让我从源于配置文件的问题开始。</p><p id="7233" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">无论如何，本文的目的是详细介绍MVC框架，使用ruby on rails，以及它如何使我们的生活变得更容易。</p><blockquote class="jq jr js"><p id="49ee" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated"><strong class="it hj">行话预警:</strong></p><p id="753c" class="ir is jp it b iu iv iw ix iy iz ja jb jt jd je jf ju jh ji jj jv jl jm jn jo hb bi translated">当我提到客户端时，它是一个应用程序或浏览器，或者是你访问特定网页的任何地方。</p></blockquote><h2 id="2a12" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jc kh ki kj jg kk kl km jk kn ko kp kq bi translated">现在，Ruby on Rails到底是什么</h2><p id="8172" class="pw-post-body-paragraph ir is hi it b iu kr iw ix iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo hb bi translated">Ruby on Rails是一个<strong class="it hj">框架</strong>，它处理应用程序之间常见的重复代码，并允许您专注于应用程序的其他功能。它为开发人员提供了构建web应用程序的工具。一些组件在所有的ruby应用中几乎是通用的。像路由、资产管理、数据库连接一样，可重用组件的列表还有很多！！</p><p id="09a0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这个框架是一组<strong class="it hj"> Ruby代码</strong>库。因为整个代码库都是开源的，所以你可以回顾和贡献于这个框架，并理解它是如何工作的。但是它如此流行的主要原因是它是一个<strong class="it hj"> MVC框架。</strong></p><h2 id="b992" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jc kh ki kj jg kk kl km jk kn ko kp kq bi translated"><strong class="ak">什么是MVC </strong></h2><p id="b528" class="pw-post-body-paragraph ir is hi it b iu kr iw ix iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo hb bi translated">MVC代表模型-视图-控制器。这个架构通过分离数据、业务逻辑和用户界面来帮助构建应用程序。你猜对了，它有三个组成部分:</p><p id="f05a" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">模型</strong>:这个组件是我们进行所有数据管理、解析、获取，基本上是所有数据的地方。</p><p id="de4e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">控制器</strong>:它处理业务逻辑、从模型到视图的数据流，以及输入的用户请求。</p><p id="ea38" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">视图</strong>:顾名思义，这个组件负责用户如何查看以及查看什么。</p><p id="694e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Ruby on Rails使得实现这种架构更加容易。它通过加强应用程序的结构来提高开发人员的工作效率。即Rails将文件夹结构组织成文件和变量命名，设计者必须遵循。它是MVC框架的iPhone。它让你毫不费力地做事情，但只能用它喜欢的方式。</p><p id="3d1e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">它有几个好处:标准化的结构和程序约定，决策过程更容易，并允许代码中强大的抽象！！！</p><h2 id="bf08" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jc kh ki kj jg kk kl km jk kn ko kp kq bi translated">MVC架构</h2><p id="82b0" class="pw-post-body-paragraph ir is hi it b iu kr iw ix iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo hb bi translated">在前一节中，我们了解到Ruby on Rails遵循MVC架构。但是MVC架构到底是什么？MVC代表模型-视图-控制器。</p><p id="0a39" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">提高开发人员工作效率的一种方法是加强应用程序的结构。这意味着Rails将文件夹结构组织成文件和变量命名。<br/>它有几个好处:由于其标准化的结构和程序约定，决策过程变得容易得多，并且允许代码中强大的抽象！！！</p><h2 id="f742" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jc kh ki kj jg kk kl km jk kn ko kp kq bi translated">MVC架构</h2><p id="ac4c" class="pw-post-body-paragraph ir is hi it b iu kr iw ix iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo hb bi translated">在前一节中，我们了解到Ruby on Rails遵循MVC架构。但是MVC架构到底是什么？<strong class="it hj"> MVC代表模型-视图-控制器。</strong></p><p id="bbd6" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Rails遵循约定胜于配置的原则。为了设计一个基于MVC的应用程序，人们必须遵循这些惯例。这些约定有助于将开发人员的时间从文件夹结构、文件和变量命名、路由等决策中解放出来。作为一名设计师，你必须遵守规则，只能以某种方式做事。</p><p id="fabc" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">但这为您赢得了时间，您可以用这些时间来构建更好的应用程序、添加更多功能或任何您喜欢的东西，因为您不再需要为设计做准备。你在设计。Rails是按照配置之上的约定创建的，这也适用于MVC结构的建立。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es kw"><img src="../Images/21e16c0078b87d22c563f95f1f465e5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WVvgoZnEnM8YBwztV-4sGQ.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">杂货店示例</figcaption></figure><p id="89c5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在这个例子中，</p><p id="8e7b" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">一个<strong class="it hj">app/models/杂货. rb </strong>是模型文件，它将包含:验证、数据库和任何定制逻辑。</p><p id="bc5d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">一个<strong class="it hj">应用程序/控制器/杂货_控制器. rb </strong>将包含CRUD方法来管理杂货行为的数据流。</p><p id="532d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">一个<strong class="it hj">应用程序/视图/杂货</strong>将包含用户将要访问的每个页面的相应视图。在我们的示例中，它是<strong class="it hj">index.html。</strong></p><p id="0104" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这里需要记住的重要一点是，每一层都是独立的。</p><h2 id="b92e" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jc kh ki kj jg kk kl km jk kn ko kp kq bi translated">模型</h2><p id="0b30" class="pw-post-body-paragraph ir is hi it b iu kr iw ix iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo hb bi translated">模型文件是一个Ruby类。它有一个相应的数据库表，并将从ActiveRecod::Base继承。这意味着它可以访问Ruby库中的几个方法，这些方法将有助于处理数据库。例如创建出于安全原因控制器或视图不应该知道的方法和数据属性。</p><h2 id="c63c" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jc kh ki kj jg kk kl km jk kn ko kp kq bi translated">控制器</h2><p id="5bbc" class="pw-post-body-paragraph ir is hi it b iu kr iw ix iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo hb bi translated">在示例中，资源是<strong class="it hj">/杂货。</strong>routes文件中定义的每条路由必须在控制器中有相应的方法/功能。</p><p id="59d0" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">当请求到来时，Rails使用路由文件来决定运行哪个控制器方法。一旦它解释了请求，指定的路由控制器方法将运行。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lf"><img src="../Images/55eae11b9165ca1d4ee0cded78558bd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*86G7F90t6oVPtdFbBi7g-w.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">控制器</figcaption></figure><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lf"><img src="../Images/c4c29a86674d21b3bd26bcd32cb4a8db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9LyEzDHA7r6Blw0RWh3Aaw.png"/></div></div></figure><p id="1a8e" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><strong class="it hj">控制器动作</strong> : ` <em class="jp">杂货#索引`</em>指示器告诉轨道路由系统控制通过“GroceryController”索引动作。</p><p id="ed73" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">此外，大多数业务逻辑是控制器的一部分。这意味着任何超出范围的数据验证、定制逻辑和扩展类都要写入控制器文件。当控制器方法运行时，它从模型中访问数据属性，并将其转发到正确的视图。</p><h2 id="6d98" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jc kh ki kj jg kk kl km jk kn ko kp kq bi translated">视角</h2><p id="2b60" class="pw-post-body-paragraph ir is hi it b iu kr iw ix iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo hb bi translated">视图层应该包含MVC架构中最少的逻辑。视图的作用是呈现从控制器接收的数据。控制器还可以传递关于如何呈现数据的信息。例如，您将获得给定杂货店的单位价格。但是我们可以根据用户的全局度量偏好显示每克或每磅的成本。控制器还可以请求禁用或强制/可选某些字段。此外，所有的创造性工作都发生在这里，无论输入应该是下拉菜单还是单选按钮。哪种格式可以增强用户体验。这些是视图组件工作的一些例子。</p><p id="e3e5" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">现在我们已经了解了MVC架构中的每一层。让我们把这些点连起来！！！</p><h2 id="e0ae" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jc kh ki kj jg kk kl km jk kn ko kp kq bi translated">MVC中的请求/响应流</h2><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="er es lg"><img src="../Images/0171edc07d8397502f4228e208e6e77c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A_FAsDN3AwfRCM3v4X3gMg.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">手动音量调节</figcaption></figure><ul class=""><li id="a261" class="lh li hi it b iu iv iy iz jc lj jg lk jk ll jo lm ln lo lp bi translated">客户端向web服务器发送请求。</li><li id="bd86" class="lh li hi it b iu lq iy lr jc ls jg lt jk lu jo lm ln lo lp bi translated">web服务器接受来自控制器组件的请求。</li><li id="5786" class="lh li hi it b iu lq iy lr jc ls jg lt jk lu jo lm ln lo lp bi translated">然后对请求进行评估，并适当地转发到它的路由(`/杂货店`)。路由解释请求并使用控制器方法进行映射。</li><li id="ed49" class="lh li hi it b iu lq iy lr jc ls jg lt jk lu jo lm ln lo lp bi translated">然后，控制器使用该模型从数据库中访问数据。然后，它根据任何业务逻辑需求操纵数据。</li><li id="6193" class="lh li hi it b iu lq iy lr jc ls jg lt jk lu jo lm ln lo lp bi translated">在验证之后，它安排数据供视图理解。</li><li id="9794" class="lh li hi it b iu lq iy lr jc ls jg lt jk lu jo lm ln lo lp bi translated">现在它被发送到视图进行渲染(index.html)。</li><li id="3f6f" class="lh li hi it b iu lq iy lr jc ls jg lt jk lu jo lm ln lo lp bi translated">一旦接收到数据，视图就创建一个相应的响应并发送回web服务器。</li><li id="ccf9" class="lh li hi it b iu lq iy lr jc ls jg lt jk lu jo lm ln lo lp bi translated">这个HTTP响应和JSON数据一起返回到客户机。</li></ul><h2 id="e765" class="jw jx hi bd jy jz ka kb kc kd ke kf kg jc kh ki kj jg kk kl km jk kn ko kp kq bi translated">结论</h2><p id="9199" class="pw-post-body-paragraph ir is hi it b iu kr iw ix iy ks ja jb jc kt je jf jg ku ji jj jk kv jm jn jo hb bi translated">MVC架构是一个需要理解的重要概念，因为大多数web应用程序都是基于这个架构构建的。在这种架构中，每一层都是相互独立的。因此，很容易修改一部分而不影响另一部分。总的来说，开发过程更快，因为每一层可以并行和独立地工作。这种架构也有助于开发人员更快地调试！<br/>你也可以参考<a class="ae iq" href="https://guides.rubyonrails.org/getting_started.html" rel="noopener ugc nofollow" target="_blank"> Rails文档</a>了解更多详细信息。</p><p id="22de" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated"><em class="jp">快乐编码！！！</em></p></div></div>    
</body>
</html>