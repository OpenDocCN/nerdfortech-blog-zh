<html>
<head>
<title>The difference between || and ?? operators in Javascript &amp; NodeJS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">||和|的区别？？Javascript和NodeJS中的运算符</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-difference-between-and-operators-in-javascript-nodejs-3696b0ce02ff?source=collection_archive---------0-----------------------#2021-07-30">https://medium.com/nerd-for-tech/the-difference-between-and-operators-in-javascript-nodejs-3696b0ce02ff?source=collection_archive---------0-----------------------#2021-07-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e9b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">简而言之，两个算子的区别归结为<code class="du jd je jf jg b"><a class="ae jh" href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" rel="noopener ugc nofollow" target="_blank">falsy</a> </code>和<code class="du jd je jf jg b">null/undefined</code>的区别。其中，<strong class="ih hj">逻辑或</strong> ( <code class="du jd je jf jg b">||</code>)运算符在<code class="du jd je jf jg b">falsy </code>值的情况下取右操作数，包括<em class="ji">空字符串、0、false、NaN </em>等。只有当左侧设置为<code class="du jd je jf jg b">null</code>或<code class="du jd je jf jg b">undefined</code>时，<strong class="ih hj">无效合并</strong>运算符(<code class="du jd je jf jg b">??</code>)才接受右侧操作数。说到这里，我们可以把<code class="du jd je jf jg b">??</code>操作符看作<code class="du jd je jf jg b">||</code>的子集。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jj"><img src="../Images/2769fe320f0af29ece6a2573b29ca794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0CvOVm-9cJzXTUaQIaJ21g.png"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx translated">比较||和？？节点交互shell中的运算符</figcaption></figure><p id="f54d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们希望使用<code class="du jd je jf jg b">??</code>而不是<code class="du jd je jf jg b">||</code>的一个实际例子是，当一个空字符串<code class="du jd je jf jg b">"" </code>是一个有效值并且我们希望默认值为<code class="du jd je jf jg b">N/A</code>时。如果没有<code class="du jd je jf jg b">??</code>，我们将需要编写:</p><pre class="jk jl jm jn fd jz jg ka kb aw kc bi"><span id="0dc9" class="kd ke hi jg b fi kf kg l kh ki">if(currentDescription == null) {<br/>    targetDescriptionn = "N/A";<br/>}<br/>else {<br/>    targetDescriptionn = currentDescription;<br/>}</span><span id="dbb9" class="kd ke hi jg b fi kj kg l kh ki">// or using the ternary operator</span><span id="1b43" class="kd ke hi jg b fi kj kg l kh ki">targetDescription = currentDescription == null ? "N/A": currentDescription</span></pre><p id="1850" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以替换为更短的一行程序:</p><pre class="jk jl jm jn fd jz jg ka kb aw kc bi"><span id="ca47" class="kd ke hi jg b fi kf kg l kh ki">targetDescriptionn = currentDescription ?? "N/A"</span></pre><p id="2630" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我仔细检查任何我不确定的javascript行为(我们都知道Javascript并不总是以我们期望的方式运行)的方法是运行交互式nodejs shell。根据我的经验，这比谷歌搜索答案要快。访问NodeJS交互shell的方法是简单地在终端中输入 <code class="du jd je jf jg b"><em class="ji">node </em></code> <em class="ji">(假设</em><strong class="ih hj"><em class="ji">NodeJS</em></strong><em class="ji">添加在</em> <code class="du jd je jf jg b"><em class="ji">$PATH</em></code> <em class="ji">)。</em></p><h2 id="fd77" class="kd ke hi bd kk kl km kn ko kp kq kr ks iq kt ku kv iu kw kx ky iy kz la lb lc bi translated">附加运算符—逻辑AND (&amp;&amp;=)和OR(||=)赋值运算符</h2><p id="c978" class="pw-post-body-paragraph if ig hi ih b ii ld ik il im le io ip iq lf is it iu lg iw ix iy lh ja jb jc hb bi translated"><em class="ji">逻辑与&amp;或赋值运算符只有</em> <strong class="ih hj"> <em class="ji">在NodeJS版本15+ </em> </strong>中可用</p><p id="1e13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面操作符的一个很好的补充是<code class="du jd je jf jg b">logical AND assignment (&amp;&amp;=)</code>——它的行为与<code class="du jd je jf jg b">additional assignment operator (+=)</code>非常相似。运算符的一个很好的用例是在现有变量上设置默认值。</p><pre class="jk jl jm jn fd jz jg ka kb aw kc bi"><span id="d984" class="kd ke hi jg b fi kf kg l kh ki">description &amp;&amp;= "N/A"</span></pre><p id="bc2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如前所述，只有在描述变量设置为<code class="du jd je jf jg b">null</code>或<code class="du jd je jf jg b">undefined</code>的情况下，描述的值才会设置为<code class="du jd je jf jg b">N/A</code>。</p><p id="82b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，如果要求在<code class="du jd je jf jg b">falsy</code>值(比如说空字符串)的情况下改变描述的值，则可以使用<code class="du jd je jf jg b">logical OR assignment (||=)</code></p><pre class="jk jl jm jn fd jz jg ka kb aw kc bi"><span id="2621" class="kd ke hi jg b fi kf kg l kh ki">description ||= "N/A"</span></pre><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jj"><img src="../Images/4ee1ba9a0e2ec941a548e595eba1b865.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qq64zPSIvsJvRe62GDAiRQ.png"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx translated">的用法示例？？= and ||=</figcaption></figure></div></div>    
</body>
</html>