<html>
<head>
<title>How to create custom tab layout in android | Android Studio | Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 android | Android Studio | Java 中创建自定义选项卡布局</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-create-custom-tab-layout-in-android-android-studio-java-83e87eb837ad?source=collection_archive---------0-----------------------#2021-03-10">https://medium.com/nerd-for-tech/how-to-create-custom-tab-layout-in-android-android-studio-java-83e87eb837ad?source=collection_archive---------0-----------------------#2021-03-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b096a27412aa562c729a76d4263cd60c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tE4OWwi7_d3m9i60.jpg"/></div></div></figure><p id="d175" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">如何在 android | Android Studio | Java 中创建自定义选项卡布局</strong></p><p id="8676" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本教程中，我们将在 android 中创建一个自定义选项卡布局。自定义选项卡布局帮助您为用户创建更具吸引力的选项卡布局。您可以使用这种方法创建自己的选项卡布局，只需遵循以下步骤。</p><p id="0d8a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">我们开始教程吧。</strong></p><p id="0e0d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">在那之前让我们看看，你将会看到什么</strong></p><figure class="jo jp jq jr fd ij"><div class="bz dy l di"><div class="js jt l"/></div></figure><h1 id="8a3c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">步骤 1:创建标签的背景</h1><p id="a8eb" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">为选项卡创建两个新的可绘制文件，一个用于选中的选项卡，另一个用于未选中的选项卡布局。</p><p id="a8a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> back_select.xml </strong></p><pre class="jo jp jq jr fd kx ky kz la aw lb bi"><span id="af75" class="lc jv hi ky b fi ld le l lf lg">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt;<br/>    &lt;item&gt;<br/>        &lt;shape&gt;<br/>            &lt;gradient<br/>                android:angle="0"<br/>                android:startColor="@color/colorPrimary"<br/>                android:endColor="@color/colorPrimary"/&gt;<br/>            &lt;corners<br/>                android:radius="20dp"/&gt;<br/>        &lt;/shape&gt;<br/>    &lt;/item&gt;<br/>&lt;/selector&gt;</span></pre><p id="5472" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> back_tabs.xml </strong></p><pre class="jo jp jq jr fd kx ky kz la aw lb bi"><span id="dacb" class="lc jv hi ky b fi ld le l lf lg">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;selector xmlns:android="http://schemas.android.com/apk/res/android"&gt;<br/>    &lt;item&gt;<br/>        &lt;shape&gt;<br/>            &lt;gradient<br/>                android:angle="0"<br/>                android:startColor="@color/white"<br/>                android:endColor="@color/white"/&gt;<br/>            &lt;corners<br/>                android:radius="20dp"/&gt;<br/>            &lt;stroke<br/>                android:width="1dp"<br/>                android:color="@color/black"/&gt;<br/>        &lt;/shape&gt;<br/>    &lt;/item&gt;<br/>&lt;/selector&gt;</span></pre><h1 id="6e0f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">步骤 2:创建自定义选项卡</h1><p id="f5f7" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">现在为自定义选项卡布局创建一个新布局。</p><pre class="jo jp jq jr fd kx ky kz la aw lb bi"><span id="caf5" class="lc jv hi ky b fi ld le l lf lg">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="match_parent"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    app:layout_behavior="@string/appbar_scrolling_view_behavior"<br/>    android:orientation="vertical"&gt;</span><span id="d14e" class="lc jv hi ky b fi lh le l lf lg">    &lt;FrameLayout<br/>        android:layout_width="match_parent"<br/>        android:layout_height="40dp"<br/>        android:layout_margin="10dp"<br/>        android:background="@drawable/back_tabs"&gt;</span><span id="fda1" class="lc jv hi ky b fi lh le l lf lg">        &lt;LinearLayout<br/>            android:layout_width="match_parent"<br/>            android:layout_height="match_parent"<br/>            android:orientation="horizontal"&gt;</span><span id="2711" class="lc jv hi ky b fi lh le l lf lg">            &lt;TextView<br/>                android:id="@+id/select"<br/>                android:layout_width="match_parent"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text=""<br/>                android:background="@drawable/back_select"/&gt;</span><span id="1e0d" class="lc jv hi ky b fi lh le l lf lg">            &lt;TextView<br/>                android:layout_width="match_parent"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="" /&gt;</span><span id="013d" class="lc jv hi ky b fi lh le l lf lg">            &lt;TextView<br/>                android:layout_width="match_parent"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="" /&gt;<br/>        &lt;/LinearLayout&gt;</span><span id="4b83" class="lc jv hi ky b fi lh le l lf lg">        &lt;LinearLayout<br/>            android:layout_width="match_parent"<br/>            android:layout_height="match_parent"<br/>            android:orientation="horizontal"&gt;<br/>            &lt;TextView<br/>                android:id="@+id/item1"<br/>                android:layout_width="match_parent"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="item1"<br/>                android:textColor="@android:color/white"<br/>                android:gravity="center"/&gt;</span><span id="0e6d" class="lc jv hi ky b fi lh le l lf lg">            &lt;TextView<br/>                android:id="@+id/item2"<br/>                android:layout_width="match_parent"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="item2"<br/>                android:gravity="center"/&gt;</span><span id="0e56" class="lc jv hi ky b fi lh le l lf lg">            &lt;TextView<br/>                android:id="@+id/item3"<br/>                android:layout_width="match_parent"<br/>                android:layout_height="match_parent"<br/>                android:layout_weight="1"<br/>                android:text="item3"<br/>                android:gravity="center"/&gt;</span><span id="53a7" class="lc jv hi ky b fi lh le l lf lg">        &lt;/LinearLayout&gt;<br/>    &lt;/FrameLayout&gt;</span><span id="b3ac" class="lc jv hi ky b fi lh le l lf lg">&lt;/LinearLayout&gt;</span></pre><h1 id="1c75" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">步骤 3:设计主 XML 文件</h1><p id="89e4" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">在主 XML 文件中添加自定义选项卡布局。</p><pre class="jo jp jq jr fd kx ky kz la aw lb bi"><span id="2802" class="lc jv hi ky b fi ld le l lf lg">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="match_parent"<br/>    tools:context=".CustomTab"&gt;</span><span id="0b1d" class="lc jv hi ky b fi lh le l lf lg">    &lt;com.google.android.material.appbar.AppBarLayout<br/>        android:layout_width="match_parent"<br/>        android:layout_height="wrap_content"<br/>        android:theme="@style/AppTheme"<br/>        android:layout_marginTop="28dp"&gt;</span><span id="c9e1" class="lc jv hi ky b fi lh le l lf lg">        &lt;androidx.appcompat.widget.Toolbar<br/>            android:id="@+id/toolbar"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="?attr/actionBarSize"<br/>            android:background="?attr/colorPrimary"<br/>            app:popupTheme="@style/AppTheme" /&gt;</span><span id="9e00" class="lc jv hi ky b fi lh le l lf lg">    &lt;/com.google.android.material.appbar.AppBarLayout&gt;</span><span id="1e9b" class="lc jv hi ky b fi lh le l lf lg">    &lt;include layout="@layout/content_main" /&gt;</span><span id="570c" class="lc jv hi ky b fi lh le l lf lg">&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;</span></pre><h1 id="5f1f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">步骤 4:添加功能</h1><p id="bb47" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">现在在主 java 文件中添加这些代码。</p><pre class="jo jp jq jr fd kx ky kz la aw lb bi"><span id="005a" class="lc jv hi ky b fi ld le l lf lg">public class CustomTab extends AppCompatActivity implements View.OnClickListener{</span><span id="3e90" class="lc jv hi ky b fi lh le l lf lg">    ColorStateList def;<br/>    TextView item1;<br/>    TextView item2;<br/>    TextView item3;<br/>    TextView select;</span><span id="7cc3" class="lc jv hi ky b fi lh le l lf lg">    @Override<br/>    protected void onCreate(Bundle savedInstanceState) {<br/>        super.onCreate(savedInstanceState);<br/>        setContentView(R.layout.<em class="li">activity_custom_tab</em>);</span><span id="6ff2" class="lc jv hi ky b fi lh le l lf lg">        Toolbar toolbar = findViewById(R.id.<em class="li">toolbar</em>);<br/>        setSupportActionBar(toolbar);<br/>        item1 = findViewById(R.id.<em class="li">item1</em>);<br/>        item2 = findViewById(R.id.<em class="li">item2</em>);<br/>        item3 = findViewById(R.id.<em class="li">item3</em>);<br/>        item1.setOnClickListener(this);<br/>        item2.setOnClickListener(this);<br/>        item3.setOnClickListener(this);<br/>        select = findViewById(R.id.<em class="li">select</em>);<br/>        def = item2.getTextColors();<br/>    }</span><span id="a638" class="lc jv hi ky b fi lh le l lf lg">    @Override<br/>    public void onClick(View view) {<br/>        if (view.getId() == R.id.<em class="li">item1</em>){<br/>            select.animate().x(0).setDuration(100);<br/>            item1.setTextColor(Color.<em class="li">WHITE</em>);<br/>            item2.setTextColor(def);<br/>            item3.setTextColor(def);<br/>        } else if (view.getId() == R.id.<em class="li">item2</em>){<br/>            item1.setTextColor(def);<br/>            item2.setTextColor(Color.<em class="li">WHITE</em>);<br/>            item3.setTextColor(def);<br/>            int size = item2.getWidth();<br/>            select.animate().x(size).setDuration(100);<br/>        } else if (view.getId() == R.id.<em class="li">item3</em>){<br/>            item1.setTextColor(def);<br/>            item3.setTextColor(Color.<em class="li">WHITE</em>);<br/>            item2.setTextColor(def);<br/>            int size = item2.getWidth() * 2;<br/>            select.animate().x(size).setDuration(100);<br/>        }<br/>    }<br/>}</span></pre><h1 id="65cf" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">您也可以访问之前的教程:</h1><p id="f3d8" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">如何在 android 中创建简单的标签页布局？<a class="ae lj" href="https://www.gbandroidblogs.com/2021/03/how-to-create-tab-layout-using-fragments-in-android.html" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">点击这里</strong> </a>。</p><p id="f965" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如何创建带有徽章的材料选项卡布局。<a class="ae lj" href="https://www.gbandroidblogs.com/2021/03/how-to-create-material-tab-layout-using-fragments-in-android.html" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">点击这里</strong> </a>。</p><h1 id="a7d6" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">你可以在 YouTube 上关注我:</h1><p id="edc2" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated"><a class="ae lj" href="https://www.youtube.com/channel/UCqHYLy2nzO0pONL5BueoT6Q" rel="noopener ugc nofollow" target="_blank">戈拉普酒保</a></p><h1 id="fca6" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">访问我的网站/博客</h1><p id="62f7" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated"><a class="ae lj" href="http://www.gbandroidblogs.com" rel="noopener ugc nofollow" target="_blank">www.gbandroidblogs.com</a></p><h1 id="8f9f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">在 Instagram 上关注我</h1><p id="d2ef" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated"><a class="ae lj" href="https://www.instagram.com/androidapps.development.blogs/" rel="noopener ugc nofollow" target="_blank">安卓应用开发者</a></p><h1 id="8666" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">跟着我去脸书</h1><p id="97df" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">GBAndroidBlogs </p></div></div>    
</body>
</html>