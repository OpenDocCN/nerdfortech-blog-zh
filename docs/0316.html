<html>
<head>
<title>Unlimited Shared Storage between AWS EC2 Instances using AWS EFS.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用AWS EFS在AWS EC2实例之间无限共享存储。</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/unlimited-shared-storage-between-aws-ec2-instances-using-aws-efs-2cc659351cfe?source=collection_archive---------0-----------------------#2020-09-24">https://medium.com/nerd-for-tech/unlimited-shared-storage-between-aws-ec2-instances-using-aws-efs-2cc659351cfe?source=collection_archive---------0-----------------------#2020-09-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/c38df7b0f63da7b26fb8a02bbf6f4018.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7dVr7vV5Pok3wTQ0xT-duw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">由Raktim创建</figcaption></figure><div class=""/><p id="e545" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你有没有想过，<strong class="iw hy">可供公众使用的最大文件存储是什么？</strong>你能相信<strong class="iw hy">我们只用一个CMD </strong>就能轻松使用这种无限存储吗？</p><p id="b468" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你好奇想知道吗？我敢肯定，你肯定想知道。在这篇文章中<strong class="iw hy">我将回答这些问题</strong>和<strong class="iw hy">我将展示这一实践的每一点</strong>。如果你看懂了这篇博客，那么我百分之百肯定，你最终会感到惊讶。😎</p><h1 id="fa5e" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">让我们看看问题陈述:</h1><p id="3b50" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">1.创建密钥并创建允许端口80的安全组。<br/> 2。启动EC2实例。<br/> 3。在这个Ec2实例中，使用我们在步骤1中创建的现有密钥或提供的密钥和安全组。<br/> 4。使用EFS服务启动一个卷并将其附加到您的vpc中，然后将该卷挂载到“/var/www/html”文件夹中。<br/> 5。开发人员已经上传到GitHub回购代码，回购也有一些图像。<br/> 6。将GitHub回购代码复制到“/var/www/html”中。<br/> 7。创建s3存储桶，将GitHub repo中的映像复制/部署到S3存储桶中，并将权限更改为公共可读。<br/> 8。使用s3 bucket(包含图像)创建一个Cloudfront，并使用Cloudfront URL更新“/var/www/html”中的代码。</p><h1 id="88e6" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">先决条件:</h1><ul class=""><li id="4da8" class="kv kw hx iw b ix kq jb kr jf kx jj ky jn kz jr la lb lc ld bi translated">要执行此操作，您至少需要<strong class="iw hy">一个AWS帐户</strong>，并且在您的本地系统中还需要安装<strong class="iw hy"> Terraform软件</strong>。还有，你需要<strong class="iw hy">关于地形</strong>的基础知识。</li><li id="6189" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">但是如果你不知道这些事情，不要担心，因为就在几个月前，我写了一篇关于这些事情的文章，我提供了下面的链接，如果你想，你可以看看…</li></ul><div class="hh hi ez fb hj lj"><a rel="noopener follow" target="_blank" href="/faun/getting-started-with-aws-terraform-293e9125dff"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hy fi z dy lo ea eb lp ed ef hw bi translated">AWS &amp; Terraform入门。</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">如何入门使用Terraform在AWS中构建基础设施？</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">medium.com</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx hp lj"/></div></div></a></div><blockquote class="ly lz ma"><p id="dbf8" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated"><strong class="iw hy">和我之前做的一样，但那次我用的是AWS EBS。我面临的挑战很少，这就是我转投AWS EFS公司的原因。在这篇博客中，我也将告诉你我为什么转投AWS EFS公司。</strong></p><p id="a072" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated">所以，最后一个先决条件是我以前的博客，因为我将跳过我在那个博客上详细讨论过的几个部分。作为参考，链接在下面的描述中… </p></blockquote><div class="hh hi ez fb hj lj"><a rel="noopener follow" target="_blank" href="/faun/aws-ec2-instance-ebs-key-pair-sg-s3-cloud-front-snapshot-creation-using-one-single-cmd-8d45982f494d"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hy fi z dy lo ea eb lp ed ef hw bi translated">AWS EC2实例、EBS、密钥对、SG、S3、云前端、使用单个CMD创建快照！！</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">在本文中，您将了解到我们如何通过使用terraform创建一些AWS服务，只需一个CMD…</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">medium.com</p></div></div><div class="ls l"><div class="mf l lu lv lw ls lx hp lj"/></div></div></a></div><h1 id="c892" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">好吧，让我们开始吧…</h1><p id="122d" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">让我们首先试着理解什么是AWS EFS。我们还需要了解<strong class="iw hy">EBS和EFS </strong>的区别，以及我为什么从EBS转到EFS。最后但同样重要的是<strong class="iw hy">可供公众使用的最大文件存储是什么？</strong></p><h2 id="7c3c" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated">亚马逊EFS:</h2><figure class="mv mw mx my fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mu"><img src="../Images/6ef34c4c1d1f7d29cfd2b54b6ee800cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YGAMf8vNIJU4w9gF.jpg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:谷歌</figcaption></figure><p id="5b79" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">亚马逊弹性文件系统(通常称为AWS EFS)提供可扩展的文件存储，用于亚马逊EC2实例。</strong>我们可以创建一个EFS文件系统，并配置我们的实例来挂载该文件系统。我们可以将EFS文件系统用作在多个实例上运行的工作负载和应用程序的公共数据源。</p><p id="85d6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这是一个完全托管的弹性NFS文件系统，可用于AWS云服务和内部资源。<strong class="iw hy">它可以按需扩展到Pb级，而不会中断应用程序，并且可以随着您添加和删除文件而自动扩展和缩减，从而消除了为适应增长而调配和管理容量的需求。</strong></p><ul class=""><li id="c2e7" class="kv kw hx iw b ix iy jb jc jf mz jj na jn nb jr la lb lc ld bi translated"><strong class="iw hy"> <em class="mb">了解更多亚马逊EFS:</em></strong><a class="ae nc" href="https://aws.amazon.com/efs/" rel="noopener ugc nofollow" target="_blank"><strong class="iw hy"><em class="mb">https://aws.amazon.com/efs/</em></strong></a></li></ul><h2 id="c719" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated">EBS和EFS的区别:</h2><figure class="mv mw mx my fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/758e22a6f6d5deafa7e1564c9b252310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ytPsUuURPiEghmRLfr4Ww.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">由Raktim创建</figcaption></figure><p id="23e8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">弹性块存储和弹性文件系统有很多不同之处。让我们来看看一些核心区别…</p><ul class=""><li id="37e5" class="kv kw hx iw b ix iy jb jc jf mz jj na jn nb jr la lb lc ld bi translated"><strong class="iw hy"> EBS卷仅限于单个实例，更重要的是，一次只能由一个实例访问。使用EFS，您可以让成百上千个实例同时访问文件系统。</strong>这使得AWS EFS非常适合任何需要性能良好的集中式共享存储的应用，如媒体处理或共享代码库。</li><li id="23aa" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">您还可以使用AWS EFS来提供web内容，保存各种备份，并减少存储开支。<strong class="iw hy">虽然EFS的成本确实高于EBS(EFS每GB 0.30美元，EBS每GB 0.10美元)，但您只需为每个EFS文件系统支付一次费用。这意味着，如果您附加了十几个实例，您仍将支付相同的金额，就好像您只附加了一个实例一样。使用EBS卷，您需要为每卷付费。因此，为了节省存储成本，EFS有时可以作为EBS的替代品。</strong></li></ul><h2 id="26ea" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated">为什么我从EBS转到EFS？</h2><figure class="mv mw mx my fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/995c429b37d82b1a9ace073ffd03ac05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bvxoR8hBxGu6D1Syp-drTQ.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">由Raktim创建</figcaption></figure><p id="eb1d" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从EBS转到适合我要求的EFS有两个原因。让我想想…</p><ol class=""><li id="e50e" class="kv kw hx iw b ix iy jb jc jf mz jj na jn nb jr nd lb lc ld bi translated">我们使用云是因为它的"<strong class="iw hy">随用随付模式意味着只为您使用的资源量付费</strong>。在我的情况下，如果我调配一个EBS卷，那么最初我的数据会减少，所以这纯粹是资源浪费，而且我也不知道将来我需要多少存储。<strong class="iw hy">因为，我们不能动态扩展EBS，所以在我看来，EFS是最好的选择。</strong>同样在EFS，我只需要为我使用的存储空间付费。</li><li id="9c04" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr nd lb lc ld bi translated"><strong class="iw hy">接下来，我想启动多个将托管相同数据的实例，因为将来我想在它们上面使用负载平衡器</strong>，现在如果我使用EBS，那么我需要在每个实例中放置数据，但是使用EFS，我只需要使用一个EC2实例来放置数据，所有其他实例都将能够使用该存储。</li></ol><p id="a6a2" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最后<strong class="iw hy">的答案可供公众使用的最大文件存储是亚马逊弹性文件系统</strong>，我观察到<strong class="iw hy"> EFS提供8eb</strong>存储，但根据亚马逊，你可以获得无限的存储。</p><h1 id="2372" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">现在是时候执行任务了…</h1><p id="63d2" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">在我以前的博客中，我讨论了如何使用Terraform代码创建AWS EC2实例、EC2密钥对、安全组、S3桶、云前端和一些额外的资源，所以我也跳过了这个任务中相同的几个部分。<strong class="iw hy">在这篇博客中，我的全部重点是EFS以及如何利用共享存储的力量。</strong>作为参考，我再次在下面给出那个博客链接…</p><div class="hh hi ez fb hj lj"><a rel="noopener follow" target="_blank" href="/faun/aws-ec2-instance-ebs-key-pair-sg-s3-cloud-front-snapshot-creation-using-one-single-cmd-8d45982f494d"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hy fi z dy lo ea eb lp ed ef hw bi translated">AWS EC2实例、EBS、密钥对、SG、S3、云前端、使用单个CMD创建快照！！</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">在本文中，您将了解到我们如何通过使用terraform创建一些AWS服务，只需一个CMD…</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">medium.com</p></div></div><div class="ls l"><div class="mf l lu lv lw ls lx hp lj"/></div></div></a></div><h2 id="ae0f" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated">EFS安全小组:</h2><p id="1906" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">在我之前的博客中，我创建了Terraform代码，它可以为AWS EC2实例创建一个安全组。该代码还创建了一个tls私钥，然后创建了一个AWS密钥对。<strong class="iw hy">现在我们需要在前面的代码中再添加一个安全组，这个安全组是EFS的。</strong>作为参考，代码如下…</p><figure class="mv mw mx my fd hk"><div class="bz dy l di"><div class="ne nf l"/></div></figure><blockquote class="ly lz ma"><p id="4500" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated"><strong class="iw hy">注意:</strong> <strong class="iw hy">在我之前的博客中我没有添加任何名为“数据”的选项。通常我们使用这个选项来获取一些关于我们当前AWS资源的信息，比如这里我获取了默认的子网id和默认的vpc id。这些是供将来参考的。</strong></p><p id="7d1a" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated"><strong class="iw hy">在“efs”安全组入站中，我还提到了EC2实例的安全组，因为它将帮助我的EC2实例在EFS集群中发送数据。</strong></p></blockquote><h2 id="9fdb" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated">启动EFS集群:</h2><figure class="mv mw mx my fd hk"><div class="bz dy l di"><div class="ne nf l"/></div></figure><ul class=""><li id="1d9e" class="kv kw hx iw b ix iy jb jc jf mz jj na jn nb jr la lb lc ld bi translated">您已经注意到<strong class="iw hy">我正在使用“efs资源”在AWS上调配efs存储。</strong>接下来，在配置完成后，我需要为他们分配该集群将工作的特定子网。这就是为什么我使用“efs挂载目标”并提到，选择默认vpc下的所有子网。</li><li id="5baf" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">我还提到了安全组，即我们之前为efs集群创建安全组。</li></ul><h2 id="5e5f" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated">启动S3和云锋:</h2><p id="3313" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">这与我在之前的博客中使用的配置S3和云前端的代码完全相同。这段代码将一个映像从我的本地存储上传到S3存储桶，然后配置云前端并将其与S3连接。</p><blockquote class="ly lz ma"><p id="bcc5" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated">虽然在问题中已经要求从GitHub上传代码，为此我们可以很容易地在terraform中运行一个空资源，并在本地系统中克隆图像，然后上传到S3。但是为了简单起见，我从我的本地存储器上传。作为参考，代码如下…</p></blockquote><figure class="mv mw mx my fd hk"><div class="bz dy l di"><div class="ne nf l"/></div></figure><h2 id="e4ab" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated">启动第一个实例:</h2><p id="a235" class="pw-post-body-paragraph iu iv hx iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">下面提到的代码将在AWS上启动第一个EC2实例。<strong class="iw hy">在我之前的实践中，我启动了一个实例，因为我使用EBS存储来存储我的网页。但是这里我使用了EFS，所以我可以使用多个实例来获取相同的数据。这是EFS最大的灵活性。</strong></p><p id="75f9" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在让我们看看代码，然后我们将讨论我对以前的代码做了哪些新的东西和改变…</p><figure class="mv mw mx my fd hk"><div class="bz dy l di"><div class="ne nf l"/></div></figure><ul class=""><li id="8d55" class="kv kw hx iw b ix iy jb jc jf mz jj na jn nb jr la lb lc ld bi translated">正如你可能注意到的那样，<strong class="iw hy">这段代码依赖于所有以前的资源</strong>，这是因为我希望我的Web服务器一启动，我的客户端就能看到网页，为此我的EFS和云前端应该准备好了。</li><li id="8851" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">接下来，我使用了<strong class="iw hy"> Amazon Linux 2 ami </strong>和一些基本细节，如实例类型、密钥对、安全组、标签等。</li><li id="9d56" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">接下来重要的是远程执行器。使用远程执行器，我首先安装了所需的软件，如httpd，git，然后启动httpd服务。直到现在，它几乎和我以前的博客一样。</li><li id="9772" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">这里的新东西是安装<strong class="iw hy">“Amazon-efs-utils”，因为需要这个软件来与EFS集群通信。</strong>接下来，我使用mount命令在EC2实例的“/var/www/html”文件夹中挂载EFS集群。</li><li id="fc00" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">最后，我复制了GitHub html文件并部署在web服务器上，我还在预先创建的html代码中添加了一行，以使用Cloud Front显示图像。</li></ul><h2 id="8271" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated">启动第二个实例:</h2><figure class="mv mw mx my fd hk"><div class="bz dy l di"><div class="ne nf l"/></div></figure><ul class=""><li id="3f32" class="kv kw hx iw b ix iy jb jc jf mz jj na jn nb jr la lb lc ld bi translated">与第一个实例类似，我用相同的配置启动了第二个实例，只是要注意这个实例依赖于第一个实例。但是如果你注意到远程执行器，你会看到这里我没有从GitHub复制任何代码。</li><li id="2e21" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">在这里，我刚刚安装了EFS存储。现在，由于我的前一个实例已经把网页放在EFS集群中，所以从第二个实例我可以很容易地访问它们。</li></ul><h2 id="6b0d" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated">打开本地浏览器:</h2><ul class=""><li id="8553" class="kv kw hx iw b ix kq jb kr jf kx jj ky jn kz jr la lb lc ld bi translated">最后，正如我在以前的博客中提到的，为了检查两个实例是否都正常工作，我们可以使用空资源和本地执行器。作为参考，代码如下所述。</li></ul><figure class="mv mw mx my fd hk"><div class="bz dy l di"><div class="ne nf l"/></div></figure><h1 id="d7bf" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">现在是时候建立基础设施了:</h1><blockquote class="ly lz ma"><p id="341e" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated">我想如果你读过我以前的博客，你就会知道我们主要使用两个主要命令来执行terraform上的工作。这些命令如下所述。</p><p id="f930" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated">请记住，只在包含完整代码文件夹中运行这两个命令。作为参考，我提供了GitHub链接，你可以从那里下载完整的代码…</p></blockquote><div class="hh hi ez fb hj lj"><a href="https://github.com/raktim00/AWS-EFS" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hy fi z dy lo ea eb lp ed ef hw bi translated">raktim00/AWS-EFS</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">通过在GitHub上创建帐户，为raktim00/AWS-EFS的发展做出贡献。</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">github.com</p></div></div><div class="ls l"><div class="ng l lu lv lw ls lx hp lj"/></div></div></a></div><p id="2adf" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">让我们运行这两个命令，观察输出… </strong></p><pre class="mv mw mx my fd nh ni nj nk aw nl bi"><span id="281d" class="mg jt hx ni b fi nm nn l no np">terraform init</span><span id="5adf" class="mg jt hx ni b fi nq nn l no np">terraform apply --auto-approve</span></pre><p id="ead8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">创建过程需要将近5分钟，然后你会发现你的桌面浏览器会自动启动Chrome并带你去那些IP地址。</p><figure class="mv mw mx my fd hk er es paragraph-image"><div class="er es nr"><img src="../Images/436dcd11137577c10242b1e73e852fea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*bLiVIfhLV1O-9gpl4M7PkQ.png"/></div></figure><h2 id="3819" class="mg jt hx bd ju mh mi mj jy mk ml mm kc jf mn mo kg jj mp mq kk jn mr ms ko mt bi translated"><strong class="ak">为了快速参考，让我告诉你这些资源是否已经在AWS上创建。来看看AWS WebUI的部分截图……</strong></h2><figure class="mv mw mx my fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ns"><img src="../Images/f82735bf05f9fcbcdde297f90df50381.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eZfNFNlHuxumjEUwY4K7_g.png"/></div></div></figure><blockquote class="ly lz ma"><p id="11e1" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated"><strong class="iw hy">您可以注意到两个AWS EC2实例都成功运行。也只是为了将来参考收集这两个实例的公共IP。</strong></p></blockquote><figure class="mv mw mx my fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ns"><img src="../Images/3818e60f9b92144de3265f36d4974af0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o6qouFCuTak-0dJfUwwqog.png"/></div></div></figure><blockquote class="ly lz ma"><p id="73c7" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated"><strong class="iw hy">在S3，你会注意到图像已经成功上传，许可是公开的。</strong></p></blockquote><figure class="mv mw mx my fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ns"><img src="../Images/fb66906dffac354d735a5d5b308085fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bFGbj98_RYg-19x7r9ig5w.png"/></div></div></figure><blockquote class="ly lz ma"><p id="3cc2" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated"><strong class="iw hy">在Cloud Front中，您会注意到它创建了一个分布，并与S3桶相关联。</strong></p></blockquote><figure class="mv mw mx my fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ns"><img src="../Images/adba62a45bdada9d9a2a4b0acba0f625.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mkr-tyg6-ID9RaQm2uxQsw.png"/></div></div></figure><blockquote class="ly lz ma"><p id="3bd1" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated"><strong class="iw hy">最后，如果您注意到EFS，您会看到它已经成功创建。</strong></p></blockquote><figure class="mv mw mx my fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ns"><img src="../Images/4f2c9e3cec436814df65266d9afe3d18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AkedkpIkV-xT7ds3diSS2A.png"/></div></div></figure><blockquote class="ly lz ma"><p id="8508" class="iu iv mb iw b ix iy iz ja jb jc jd je mc jg jh ji md jk jl jm me jo jp jq jr hb bi translated"><strong class="iw hy">最后如果你注意到了，terraform开通了两个链接。但最有趣的事实是，这两个IP都是我们提供的这两个实例的公共IP，并且仍然显示相同的页面。虽然我们只克隆了一个IP内的页面。</strong></p></blockquote><h1 id="1de5" class="js jt hx bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">最后的话:</h1><ul class=""><li id="ef9b" class="kv kw hx iw b ix kq jb kr jf kx jj ky jn kz jr la lb lc ld bi translated">我们可以实现许多未来的可能性，让这个基础设施变得越来越大。例如，我们可以在这些实例上添加负载平衡器，如果我们愿意，还可以创建更多优秀的html代码来展示我们的产品。</li><li id="1abe" class="kv kw hx iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">我试着尽可能多的解释。希望你从这里学到了一些东西。请随意查看我的LinkedIn个人资料，当然也可以随意发表评论。</li></ul><div class="hh hi ez fb hj lj"><a href="https://www.linkedin.com/in/raktim00/" rel="noopener  ugc nofollow" target="_blank"><div class="lk ab dw"><div class="ll ab lm cl cj ln"><h2 class="bd hy fi z dy lo ea eb lp ed ef hw bi translated">微软学习学生大使(Alpha) -微软学习学生大使CEE |…</h2><div class="lq l"><h3 class="bd b fi z dy lo ea eb lp ed ef dx translated">★我是一名技术爱好者，致力于更好地理解不同热门技术领域背后的核心概念…</h3></div><div class="lr l"><p class="bd b fp z dy lo ea eb lp ed ef dx translated">www.linkedin.com</p></div></div><div class="ls l"><div class="nt l lu lv lw ls lx hp lj"/></div></div></a></div><ul class=""><li id="ed92" class="kv kw hx iw b ix iy jb jc jf mz jj na jn nb jr la lb lc ld bi translated">我写DevOps，云计算，机器学习等。博客，所以请随时关注我的媒体。最后但同样重要的是，如果你有任何疑问，请在LinkedIn上联系我。</li></ul><p id="8deb" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy">感谢大家的阅读。就这样…结束…😊</strong></p><figure class="mv mw mx my fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es nu"><img src="../Images/8c7f1f8215dc1aaecd1e708e7650e726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Piks8Tu6xUYpF4DU"/></div></div></figure></div></div>    
</body>
</html>