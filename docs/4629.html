<html>
<head>
<title>Using the Spotify API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Spotify API</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-the-spotify-api-ad11410c0a6?source=collection_archive---------6-----------------------#2021-07-30">https://medium.com/nerd-for-tech/using-the-spotify-api-ad11410c0a6?source=collection_archive---------6-----------------------#2021-07-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="f77f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spotify API是一个强大的资源，允许用户访问Spotify服务器上的数据宝库。你可以提取单首歌曲，你可以深入到播放列表，甚至用户的数据！然而，与其他API相比，进入Spotify的门槛很高，Spotify的文档对于一个新兴的开发者来说可能更令人望而生畏。</p><p id="cab0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看看Spotify开发者网站上费力的授权流程就足以让我相信，他们不希望太多人访问他们的API:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/93ccc1b0ccbc4d81fb1f2aba7f58d7c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9mzfwhudbxfNzu1YPn95nA.png"/></div></div></figure><p id="48a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">幸运的是，如果你不需要访问与Spotify用户或播放列表相关的数据，你可以避开Spotify的oAuth流程。对于我的项目——Spotify的古典音乐克隆——我只需要搜索Spotify的歌曲数据库，就可以将它们嵌入浏览器。幸运的是，有一种更简单的方法。</p><p id="c107" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">进入RSpotify gem——一个Ruby工具，让你从Ruby后端搜索Spotify数据库。完整的文档可以在这里找到:<a class="ae jp" href="https://github.com/guilhermesad/rspotify" rel="noopener ugc nofollow" target="_blank">https://github.com/guilhermesad/rspotify</a></p><p id="db1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">只需添加:</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="7237" class="jv jw hi jr b fi jx jy l jz ka">gem 'rspotify'</span></pre><p id="7719" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那就去你的宝石档案吧</p><pre class="je jf jg jh fd jq jr js jt aw ju bi"><span id="07db" class="jv jw hi jr b fi jx jy l jz ka">bundle</span></pre><p id="87a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦你安装了gem，你就可以从Spotify API下载数据，并使用这些数据作为你的数据库的种子。下面是我如何使用RSpotify gem进行搜索和播种的:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kb"><img src="../Images/aaec15bf48575f4c0ba1295574fae985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mkwi27z9QrpA9h5n35qxBA.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">种子中. rb</figcaption></figure><p id="fea0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们把这个街区打破。构图召唤我的同名模特。对于数据库中的每个合成实例，Ruby将向RSpotify发送一个带有两个认证密钥的请求，您可以通过开发人员工具从Spotify获得这两个认证密钥:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kg"><img src="../Images/acf10311d4b4e58a82e778ed4e5af97a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6yuxIIxx3Olu24bbsChWrw.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">登录时，您将获得一个客户端ID和一个客户端密码</figcaption></figure><p id="f951" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经在我的。env文件，我建议您也这样做。这与使用API密钥和其他不希望发布到github的敏感信息的方法相同，恶意行为者可能会利用这些信息。</p><p id="57a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">RSpotify gem允许您按艺术家、专辑或曲目进行搜索。RSpotify搜索的结果将作为活动记录实例返回:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kh"><img src="../Images/7940ffc60e1f3812f8b94cf965ad589f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-gGPYj9148v1kTy88KTVgQ.png"/></div></div></figure><p id="dbf9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这意味着访问宝贵的Spotify ID(如果你想在网站上嵌入歌曲，这是你需要的)需要。实例变量获取方法:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ki"><img src="../Images/5f0ac38ad12bd1ec76a2c8a6d97c4a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uq_AYhBCAPVaaDwL_z7S5Q.png"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx translated">别忘了@！</figcaption></figure><p id="989e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦你从Spotify获得ID并保存到后端，你可以从前端获取它并动态地将其插入到Spotify嵌入式<iframe>播放器中，如下所示:</iframe></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kj"><img src="../Images/0b647319a7de263f2c850600ce0a1908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bEkaDZlCyeJjTWG56b8uvQ.png"/></div></div></figure><p id="d5f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样，你就可以在自己的应用程序上播放Spotify上的歌曲。令人惊讶的是，像Spotify这样的应用程序对他们的数据是如此慷慨，开发者会很好地利用它们！</p></div></div>    
</body>
</html>