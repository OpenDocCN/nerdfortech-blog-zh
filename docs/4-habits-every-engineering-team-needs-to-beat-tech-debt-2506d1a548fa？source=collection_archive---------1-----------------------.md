# 每个工程团队都需要的 4 个习惯来偿还技术债务

> 原文：<https://medium.com/nerd-for-tech/4-habits-every-engineering-team-needs-to-beat-tech-debt-2506d1a548fa?source=collection_archive---------1----------------------->

![](img/595da31211989cffd7b8d96a6da3d83e.png)

在前一篇文章中，我们研究了科技债务不可避免的宏观趋势。然而，尽管科技债务是生活中的现实，但科技破产并不一定如此。因此，这一次，让我们来看看我们可以采用的方法，以避免技术破产，并节省每个人大量的悲伤，时间和金钱。

技术债不一定导致技术破产。但是，如果我们不与推动高增长软件公司走向 it 的微观趋势作斗争，这将是我们的最终归宿。

公司通常不会采取正确的措施来避免技术性破产。他们只是接受有一天它会发生，当它发生时，他们将在一个巨大的项目中重构他们的整个代码库来处理它。但是，当然，这些项目很少按计划进行。

尽管我们对科技债务不可避免的宏观趋势无能为力——我们无法改变物理定律，就像一个虚构的苏格兰飞船工程师可能会说的那样——但有很多方法可以避免可怕的技术破产。为了区分有效和无效的解决方案，我们需要深入了解起作用的力量及其在社会学、犯罪学和博弈论中的根源。

# 将我们推向技术破产的微观趋势

## 破窗理论

![](img/4eafcaba134d2f7d920972e686ce002b.png)

> *犯罪、反社会行为和社会秩序混乱的明显迹象创造了一个鼓励进一步犯罪和混乱，包括严重犯罪的城市环境。*

[*百科*](https://en.wikipedia.org/wiki/Broken_windows_theory)

出于我们的目的，我们可以把事情归结为:*技术债务滋生更多的技术债务*。容忍哪怕是最小的过错也会导致它成为可以接受的行为，它会像犯罪浪潮一样蔓延到你代码库的其他部分。

正如我们在[技术债务不可避免的简单原因](https://blog.stepsize.com/laws-of-tech-debt-part-i-macro-trends-that-make-tech-debt-inevitable/)中了解到的，在任何增长的系统中，软件熵都在不断增加。所以，技术债也是。这使得修复代码库中所有破损的窗口并防止技术债务流行变得极其困难——甚至是不可能的和不明智的。

## “公地的悲剧”和“囚徒困境”

> *公地悲剧是一个经济问题，在这个问题上，每个人都有消费一种资源的动机，以牺牲其他每个人的利益为代价，却没有办法阻止任何人消费。它导致过度消费、投资不足，最终耗尽资源。*

[](https://www.investopedia.com/terms/t/tragedy-of-the-commons.asp)

*软件工程团队通常会因为尽快完成分配给他们的任务而获得奖励。他们消耗的资源是*时间*。他们被激励去尽可能快，因此经常走捷径，从而产生技术债务，随后成为每个人的问题。然而，由于每个人都有动力保持新功能的发布，工程团队将没有任何动力来加快步伐并偿还技术债务。这是囚徒困境。*

*![](img/d419836fc5a1e9847ae47f6f354a88bf.png)*

> **囚徒困境是决策分析中的一个悖论，在这个悖论中，两个为了自身利益而行动的人不会产生最佳结果。**

*[*Investopedia*](https://www.investopedia.com/terms/p/prisoners-dilemma.asp)*

*这两个概念都是利己主义损害公共利益的例子。结合起来，他们解释了为什么技术债务通常保持不变，直到它导致整个软件开发机器停止运转。Peter Merel 在他的文章“[PMO 的悲剧](https://www.linkedin.com/pulse/tragedy-pmo-peter-merel/)”中对这个问题进行了有趣的模拟。*

*一旦他们在技术上破产，公司别无选择，只能偿还技术债务，因为他们在发布新功能时没有持续偿还债务，所以他们必须在一个大型项目中完成所有工作。。。或者扔掉代码，从头开始。*

*这种方法的问题是，项目越复杂越大——尤其是当它充满了技术债务时——就越难准确地估计任务。[大卫·贝利](https://twitter.com/davesuperman)写了一篇很棒的文章来帮助你解决这个问题:[重建技术时不要做什么](https://medium.dave-bailey.com/what-not-to-do-when-rebuilding-your-tech-a0d7b42c1634)。*

# *为什么这个问题的典型解决方案不起作用*

*技术债务并非出于恶意。无能并不像你想象的那么重要。我们不能只是拧紧工程团队的螺丝，然后期望技术债务消失。你可能知道有人尝试过这种方法，但失败了。事实上，解决科技债务的典型解决方案没有一个奏效。*

*原因如下。*

## *科技债务不仅仅是需要解决的工程问题:康威定律*

> *设计系统的组织[……]被限制生产这些组织的通信结构的复制品。*

*[*维基百科*](https://en.wikipedia.org/wiki/Conway%27s_law)*

*我们希望软件工程师能够妥善管理技术债务。然而，他们设计的系统受到公司组织结构的限制——他们对此几乎无法控制。公司结构和沟通方式的任何变化都必须来自最高层，如果我们幸运的话，最高层的人理解科技债务并认真对待它。但如果他们像大多数人一样，不明白这一点，我们就有麻烦了。*

*此外，公司经常遭受组织债务的困扰，史蒂夫·布兰克认为这比技术债务更致命，这也是工程师注定失败的原因。*

## *科技债务并不总是坏事:Knuth 的优化原则*

> **[…]过早的优化是编程中所有罪恶(或者至少是大部分罪恶)的根源。**

*[*计算机编程的艺术*](https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming) *唐纳德·克努特著**

*Knuth 的原则最初关注的是代码运行所需的时间，但它也是精益创业和敏捷方法的基础，被高速增长的软件公司的许多现代工程团队应用——这是正确的。*

*它解释了为什么承担技术债务以避免过早优化的恐惧通常是正确的选择，这是一个你可以在我们关于如何定义有效的技术债务预算的文章中深入探讨的话题。但科技债务需要小心管理，尤其是一旦一家公司达到产品市场契合度。及时优化是美妙的，但是当每一个激励都促使你快速发布新功能时，这也是非常困难的。*

# *打破科技债务的恶性循环*

> *当你应该考虑激励的力量时，永远不要去想别的事情。*

*查理·芒格*

*我们讨论过的法律、规则、原则和理论都有一个共同点:它们描述了一系列现有的激励及其后果。但解决科技债务恶性循环的办法是制定一套非常具体的激励措施，让形势朝着有利于我们的方向发展。*

## *使用帕累托原则来确定科技债务的优先顺序*

*很可能你代码库中大约 20%的技术债务导致了你大约 80%的问题(例如，bug、中断等)。).正如我们关于如何定义技术债务预算的文章所揭示的，微软研究表明，虽然活动文件仅占总系统的 2-8%，但它们却造成了 60-90%的缺陷。换句话说，你不需要一次解决所有的科技债务。*

## *仔细留意[莱纳斯·劳](https://www.timsommer.be/famous-laws-of-software-development/#linusslaw)(他又说对了)*

> **只要有足够的眼球，所有的虫子都是肤浅的。**

*莱纳斯·托沃兹*

*保持小的拉请求，这样它们就容易审查，并且确保代码由足够多的合适的人审查(提示:可能是拥有这个代码的人[)。这样，您可以在大多数 bug 投入生产之前就发现它们。](https://blog.stepsize.com/the-one-cultural-characteristic-you-need-for-a-healthy-codebase/)*

## *庆祝科技债务英雄*

*这个很简单。在周五的演示中，不要只为发布新功能的工程师鼓掌。为技术债务的无名英雄欢呼吧:这些人重构了这个讨厌的功能，修复了那个 bug，审查了这些 pull 请求，把你从看似不可避免的技术破产的命运中拯救出来。这是你迈向所有权的工程文化和健康的代码库的旅程中的一站。*

## *谈论整个公司的技术债务*

*公司领导层需要了解科技债务如何影响整个公司，以及他们在其中必须扮演的角色。只有这样他们才会认真对待。作为理解技术债务的软件工程师，我们有责任在整个业务中进行沟通。*

*我们很快会在一篇文章中谈到这一点，但与此同时，看看 Martin Fowler 的优秀文章，“[高质量的软件值得花费吗？](https://martinfowler.com/articles/is-quality-worth-cost.html)’。*

# *习惯的力量*

*请注意，上面的建议都不需要额外的工程工作。事实上，它将科技债务问题分解成更小的习惯，如果正确遵循，将使每个人的工作更容易、更快、更愉快。*

> **冠军不做出格的事。他们做普通的事情，但他们不加思考地做，快得让另一个团队反应不过来。他们遵循他们已经学会的习惯。**

**查尔斯·杜希格，* [*习惯的力量:为什么我们在生活和商业中做我们所做的事情*](https://www.goodreads.com/work/quotes/17624817)*

*随着时间的推移改变小习惯，你的工程师会更快地发布更好的代码，你会有更满意的客户，他们会推荐更多的线索。。。你会打败你的竞争对手。*

*你的团队形成这些习惯了吗？什么在挡路？让我在评论中知道🙂*

*为了帮助你获得这些好习惯，我们建立了一个免费的 VSCode 扩展来持续跟踪和偿还技术债务。现在就开始吧，否则就太晚了！*