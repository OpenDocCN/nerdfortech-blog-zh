<html>
<head>
<title>Keeping the track of progress while training ML models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在训练ML模型时跟踪进度</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/keeping-the-track-of-progress-while-training-ml-models-a33be1ad38fc?source=collection_archive---------5-----------------------#2021-11-15">https://medium.com/nerd-for-tech/keeping-the-track-of-progress-while-training-ml-models-a33be1ad38fc?source=collection_archive---------5-----------------------#2021-11-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/692d60fb84adefd2ecf6ef2a666ed83a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Us--zHEI0V3o1hFo"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae iu" href="https://unsplash.com/@onurbinay?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Onur Binay </a>拍摄</figcaption></figure><p id="6d0c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">通常在训练模型时保持跟踪是一项单调乏味的任务，它需要大量的工作、回调、绘制指标、可视化数据、存储要驱动的结果等等</p><p id="0e53" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在此之后，保存模型是一项不同的任务，collab经常断开连接，无法恢复以前的进度，构建和处理创建模型的任务变得更加繁忙</p><h1 id="238c" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">解决办法</h1><p id="ff59" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">接下来是寻找上述问题的解决方案，同时保存我们的模型的进度，同时可视化它的训练绘制矩阵，并在完成训练后自动保存模型。所有这些事情看起来很多，但有一种方法可以自动完成所有这些事情:)</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/61acec72172d09be3a76fcb7e92d7fa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*3lYstPfr_HtfgPGW.png"/></div></div></figure><p id="88d7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所有这些我们都可以在<a class="ae iu" href="http://wandb.ai/" rel="noopener ugc nofollow" target="_blank"> wandb.ai </a>的帮助下完成，他们有针对特定库的回调，即使你想在你的个人资料中记录任何内容，你也可以在一行代码中完成:)</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/ce4441d3a526453b283276fedfe459f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*L57q3BPJ7yP_L_Tk.png"/></div></div></figure><h1 id="40d4" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">让我们看看如何将它包含在我们的笔记本中</h1><p id="e474" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">如果你用TensorFlow或者PyTorch来训练你的模型</p><pre class="kx ky kz la fd lc ld le lf aw lg bi"><span id="cb04" class="lh ju hi ld b fi li lj l lk ll">!pip install wandb<br/>import wandb <br/>wandb.login()</span></pre><p id="d59a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里我们使用上面的代码登录我们的wands账户(如果你是wandb新手，你必须创建一个wandb.ai账户)</p><p id="f5c4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">完成此操作后，如果您正在使用Tensorflow，则可以通过使用</p><pre class="kx ky kz la fd lc ld le lf aw lg bi"><span id="045e" class="lh ju hi ld b fi li lj l lk ll">from wandb.keras import WandbCallback</span></pre><p id="6556" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你使用PyTorch，你可以使用</p><pre class="kx ky kz la fd lc ld le lf aw lg bi"><span id="9c4d" class="lh ju hi ld b fi li lj l lk ll">wandb.watch(model, log_freq=100)</span></pre><p id="e27d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里log_freq=100表示在wandb记录我们的矩阵之后有多少批</p><p id="4a12" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">除了基本指标之外，wandb还存储了系统性能指标，以防运行时出现故障，而您需要检查系统的状态</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/45bd4b86377c41982ad8ff09518d8c7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YQvch37GcBZ3CnJD.png"/></div></div></figure><p id="d9de" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们还可以指定保存哪个模型，以便将模型保存在wandb存储器中。我们所要做的就是</p><pre class="kx ky kz la fd lc ld le lf aw lg bi"><span id="6a17" class="lh ju hi ld b fi li lj l lk ll">wandb.save('model_dir')</span></pre><p id="2a00" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要在笔记本电脑上再次下载相同的型号，我们可以借助</p><pre class="kx ky kz la fd lc ld le lf aw lg bi"><span id="8c74" class="lh ju hi ld b fi li lj l lk ll">best_model = wandb.restore(<br/>  'model-best.h5', run_path="vanpelt/my-project/a1b2c3d")</span></pre><p id="357d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们可以记录几乎任何与模型相关的东西</p><pre class="kx ky kz la fd lc ld le lf aw lg bi"><span id="6201" class="lh ju hi ld b fi li lj l lk ll">wandb.log({"myMat": data_to_be_logged})</span></pre><p id="8e46" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">虽然wandb提供了许多功能，如工件、创建报告、存储数据集、可视化数据集等，但我们将在未来的博客文章中涵盖更多内容:)这就是这篇文章的全部内容，我将在未来的博客文章中发布更多关于wandb的内容</p><blockquote class="ln lo lp"><p id="4e63" class="iv iw lq ix b iy iz ja jb jc jd je jf lr jh ji jj ls jl jm jn lt jp jq jr js hb bi translated">感谢你阅读我的博客:)关注更多，在评论中向我问好，这给了我写更多博客的鼓励:)祝你有美好的一天:)</p></blockquote></div></div>    
</body>
</html>