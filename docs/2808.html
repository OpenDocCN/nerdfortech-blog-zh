<html>
<head>
<title>What is DNS Spoofing?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是 DNS 欺骗？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-dns-spoofing-b19b91ced0c9?source=collection_archive---------21-----------------------#2021-05-20">https://medium.com/nerd-for-tech/what-is-dns-spoofing-b19b91ced0c9?source=collection_archive---------21-----------------------#2021-05-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6c39569820140716474d534d2c424ee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SIjgJ_2w278D36pYujlKGw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片由 vednam.com 拍摄</figcaption></figure><p id="0f67" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">DNS 欺骗(又名<strong class="iw hj"> DNS 中毒</strong>)是一种常见的网络攻击，当虚假信息进入域名服务器的缓存时就会发生。因此，DNS 查询会将用户重定向到虚假网站。因此，攻击者可以窃取有价值的信息，如密码、账号和个人信息。因此，在这篇文章中，我将解释 DNS 欺骗。但是在开始之前，我们应该对 DNS 及其工作原理有适当的了解。</p><h1 id="8332" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">什么是 DNS(域名系统)？</h1><p id="bfa8" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">在互联网诞生之初(20 世纪 80 年代初)，人们很容易通过特定的计算机与特定的 IP 地址保持联系。因为那时互联网是一个非常小的网络。但随着时间的推移，互联网越来越受欢迎，吸引了更多的人进入网络。从那时起，人们想要一个地址，由容易记住的单词组成，这就是<strong class="iw hj">【域名】</strong>的由来。</p><p id="daa4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">DNS 是一个提供基础设施的计算机系统，允许我们浏览互联网。您可能已经知道，计算机使用 IP 地址相互通信。但问题是，我们无法记住所有成千上万的数字来访问网站。所以，这就是我们用域名代替 IP 地址的原因。记住域名比记住它的 IP 地址要容易得多。例如，我们可以使用 DNS 通过域名在线访问信息，如 google.com 或 wikipedia.org。</p><p id="fc40" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">当你想要一个使用域名的访问网站时，我们通常在浏览器中输入 URL。然后 DNS 做的是，它将把域名转换成 IP 地址，因为你的计算机需要知道该域名的确切 IP 地址。简单地说，我们把这个转换过程称为查询。为了理解这个过程，让我们来详细看看 DNS 是如何工作的。</p><h1 id="1bcb" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">DNS 是如何工作的？</h1><p id="bca6" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">如果你想用手机给某人打电话，通常你要做的是在联系人列表中浏览那个人的名字，而不是在拨号盘上拨号。所以，当你想访问一个网站时，DNS 做什么是一样的。让我们看看 DNS 在这个过程中需要哪些步骤。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kv"><img src="../Images/10d9dcae4551f2ebe4881a58fc1fafa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BeIZ3mEOD4CFREC-rPBwiw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片:域名系统如何工作(www.wpbeginner.com)</figcaption></figure><ol class=""><li id="b8a9" class="la lb hi iw b ix iy jb jc jf lc jj ld jn le jr lf lg lh li bi translated"><strong class="iw hj">发送域名信息请求:</strong>当您在浏览器中输入一个网站的 URL 时，您的计算机会询问一个 IP 地址以便加载该网站。因此，你的计算机将要做的是，它将尝试通过 DNS 缓存和任何可用的外部资源搜索信息。</li><li id="72d8" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr lf lg lh li bi translated"><strong class="iw hj">本地搜索 IP:</strong>但是在搜索外部资源之前，您的计算机会加载本地 DNS 缓存，以检查您是否已经为输入的域名请求了该 IP 地址。每台计算机都有这个缓存，它包含我们最近所有请求的信息。然而，如果它有你正在寻找的网站的信息，网站将很快加载。原因在于，您的计算机不需要将请求转发给 ISP。</li><li id="507e" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr lf lg lh li bi translated"><strong class="iw hj">联系 ISP 和它的递归 DNS 服务器:</strong>DNS 缓存并不总是有你的电脑寻找的数据。在这种情况下，您的计算机将查询另一台服务器。这些服务器(递归 DNS 服务器)具有与您的计算机相同的本地缓存。通常互联网服务提供商(ISP)使用相同的递归 DNS 服务器。因为所请求的域可能存在于其高速缓存中。如果存在，那么查询将结束，网站将显示给您。</li><li id="edb8" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr lf lg lh li bi translated"><strong class="iw hj">查询权威 DNS 服务器:</strong>在这种情况下，如果递归 DNS 服务器没有要查找的域名信息，搜索将继续，直到在这些权威 DNS 服务器中找到该域名的域名服务器。</li><li id="b11f" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr lf lg lh li bi translated"><strong class="iw hj">访问 DNS 记录:</strong>为了找到您正在寻找的 IP 地址，权威名称服务器将查询地址记录。递归 DNS 服务器从权威名称服务器访问该域名的地址记录。那么它将存储在本地缓存中。因此，如果你试图在另一天再次访问该网站，递归服务器有信息。</li><li id="17fa" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr lf lg lh li bi translated"><strong class="iw hj">最终 DNS 步骤:</strong>在最终步骤中，递归 DNS 服务器会将信息返回到您的计算机，并将记录存储在其本地缓存中。现在，IP 地址被识别并传递到您的浏览器。所以，浏览器会显示那个网站的内容。</li></ol><p id="11a1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果您好奇并想知道您的计算机的 IP 地址、DNS 设置、子网掩码和默认网关信息，您可以简单地将以下命令粘贴到您的计算机终端。</p><pre class="kw kx ky kz fd lo lp lq lr aw ls bi"><span id="9094" class="lt jt hi lp b fi lu lv l lw lx"><strong class="lp hj">- ipconfig<br/>- ipconfig/all</strong>: It gives the full configuration of the system.</span></pre><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/e26c73abf7365fe74e0f85bc12b814c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v1AZ92Rwk53aQzBEEG7ymw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图:显示配置信息</figcaption></figure><blockquote class="lz ma mb"><p id="c57b" class="iu iv mc iw b ix iy iz ja jb jc jd je md jg jh ji me jk jl jm mf jo jp jq jr hb bi translated">如果你想找到你的外部 IP 地址，你可以简单地访问<strong class="iw hj"/><a class="ae mg" href="https://whatismyipaddress.com/" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj">whatismyipaddress.com</strong></a><strong class="iw hj"/>网站，它会显示你的外部 IP 地址。</p></blockquote></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><h1 id="5c60" class="js jt hi bd ju jv mo jx jy jz mp kb kc kd mq kf kg kh mr kj kk kl ms kn ko kp bi translated">DNS 欺骗(DNS 中毒)</h1><p id="06c5" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">DNS 欺骗是一种常见的网络攻击，当虚假信息进入域名服务器的缓存时就会发生。因此，DNS 查询会将用户重定向到虚假网站。假设这个假网站是脸书的复制品。在这个假冒的网站上，它会要求用户使用他们的帐户凭证登录他们的帐户。因此，攻击者将窃取他们的用户凭据和其他敏感信息。此外，假冒网站可能会在用户的计算机上安装病毒和恶意软件，使攻击者能够长期访问机器及其存储的数据。</p><figure class="kw kx ky kz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mt"><img src="../Images/298bcbd2ff646a8d7b0f7d4b5392e56c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2g9accpcoFwo3ZHPJJFZ2Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片:DNS 欺骗(www.okta.com)</figcaption></figure><p id="d6a4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">当 DNS 服务器缓存 DNS 转换以加快浏览速度时，攻击者会利用这个机会进行 DNS 欺骗。因此，攻击者所做的是，他将注入一个伪造的 DNS 条目到 DNS 服务器。因此，所有用户都将使用伪造的 DNS 条目，直到缓存过期。但是缓存过期后，DNS 条目会恢复正常状态。即使攻击者已经完成了他的任务，如果 DNS 服务器的软件仍然没有更新，他可能会继续欺骗。</p><p id="390b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">DNS 中毒的主要原因很难发现，因为攻击者确保建立一个与原始网站完全相似的假网站。</p><p id="fdb2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">执行 DNS 欺骗攻击主要有两种方式，如下所示。</p><ul class=""><li id="70a2" class="la lb hi iw b ix iy jb jc jf lc jj ld jn le jr mu lg lh li bi translated"><strong class="iw hj">中间人(MITM)攻击:</strong>这基本上是通过阻止用户和 DNS 服务器之间的通信来实现的，以便将用户路由到恶意的 IP 地址。如果你想知道更多关于 MITM 袭击的细节，我已经在这里单独写了一篇文章<a class="ae mg" rel="noopener" href="/geekculture/understanding-arp-poisoning-mitm-attack-7b12a3b061bd"><em class="mc"/></a><em class="mc">。</em></li><li id="0f0a" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr mu lg lh li bi translated"><strong class="iw hj"> DNS 服务器受损:</strong>这是通过直接劫持 DNS 服务器实现的，该服务器被配置为返回恶意 IP 地址。</li></ul><h1 id="1d7b" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">如何防止 DNS 欺骗</h1><p id="a02f" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">作为普通网站用户，我们无法阻止 DNS 欺骗。相反，网站所有者和 DNS 服务提供商有责任保护用户免受 DNS 攻击。</p><p id="54ad" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有几种方法可以防止 DNS 欺骗。</p><ul class=""><li id="4216" class="la lb hi iw b ix iy jb jc jf lc jj ld jn le jr mu lg lh li bi translated"><strong class="iw hj">实施 DNS 欺骗检测机制:</strong>实施或使用工具，在允许 DNS 数据进入用户之前对其进行扫描。</li><li id="33ca" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr mu lg lh li bi translated"><strong class="iw hj">使用加密数据传输协议:</strong>使用端到端加密，发送出去的数据是加密的，因此攻击者无法访问 DNS 数据。</li><li id="99d9" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr mu lg lh li bi translated"><strong class="iw hj">使用 DNSSEC: </strong> DNSSEC 的首字母缩写代表域名系统安全扩展。开发此协议是为了通过添加额外的验证方法来保护 DNS。因为 DNS 是一种未加密的协议，它很容易成为攻击者通过欺骗拦截流量的目标。</li></ul><p id="ee41" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是我们最终可以遵循几种方法来保护自己。</p><ul class=""><li id="c3a8" class="la lb hi iw b ix iy jb jc jf lc jj ld jn le jr mu lg lh li bi translated">不要点击你不认识的链接</li><li id="fc3e" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr mu lg lh li bi translated">使用虚拟专用网络(VPN)</li><li id="e089" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr mu lg lh li bi translated">定期扫描您的计算机中的病毒和恶意软件</li><li id="95d1" class="la lb hi iw b ix lj jb lk jf ll jj lm jn ln jr mu lg lh li bi translated">刷新 DNS 缓存以解决中毒问题</li></ul><p id="99a0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以，这是文章的结尾，我希望你喜欢它。快乐编码👨‍💻。</p></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><h2 id="71bb" class="lt jt hi bd ju mv mw mx jy my mz na kc jf nb nc kg jj nd ne kk jn nf ng ko nh bi translated">参考</h2><div class="ni nj ez fb nk nl"><a href="https://phoenixnap.com/kb/what-is-domain-name-system-works" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hj fi z dy nq ea eb nr ed ef hh bi translated">什么是域名系统&amp;它是如何工作的？| PhoenixNAP KB</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">域名系统(DNS)最早出现于 20 世纪 80 年代初。它代表了一个互连的服务器系统…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">phoenixnap.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz io nl"/></div></div></a></div><div class="ni nj ez fb nk nl"><a href="https://www.networkworld.com/article/3268449/what-is-dns-and-how-does-it-work.html" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hj fi z dy nq ea eb nr ed ef hh bi translated">什么是 DNS，它是如何工作的？</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">域名系统(DNS)是互联网的基础之一，然而网络之外的大多数人可能…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">www.networkworld.com</p></div></div><div class="nu l"><div class="oa l nw nx ny nu nz io nl"/></div></div></a></div><div class="ni nj ez fb nk nl"><a href="https://www.keycdn.com/support/dns-spoofing#summary" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hj fi z dy nq ea eb nr ed ef hh bi translated">什么是 DNS 欺骗？-key dn 支持</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">当特定的 DNS 服务器的记录被恶意“欺骗”或更改以将流量重定向到…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">www.keycdn.com</p></div></div><div class="nu l"><div class="ob l nw nx ny nu nz io nl"/></div></div></a></div><div class="ni nj ez fb nk nl"><a href="https://www.imperva.com/learn/application-security/dns-spoofing/" rel="noopener  ugc nofollow" target="_blank"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hj fi z dy nq ea eb nr ed ef hh bi translated">什么是 DNS 欺骗|缓存中毒攻击示例| Imperva</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">域名服务器(DNS)欺骗(也称为 DNS 缓存中毒)是一种攻击，在这种攻击中，被篡改的 DNS 记录被用来…</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">www.imperva.com</p></div></div><div class="nu l"><div class="oc l nw nx ny nu nz io nl"/></div></div></a></div></div></div>    
</body>
</html>