<html>
<head>
<title>JavaScript — Better way to check for Nullish values</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript —检查空值的更好方法</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/javascript-better-way-to-check-for-nullish-values-395d08ffe2b1?source=collection_archive---------5-----------------------#2021-06-20">https://medium.com/nerd-for-tech/javascript-better-way-to-check-for-nullish-values-395d08ffe2b1?source=collection_archive---------5-----------------------#2021-06-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/01af6ff3a8d395b88ed62736f867e5c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Q7JC54232zYKjSIaLUbsg.jpeg"/></div></div></figure><p id="c02b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇文章中，我们将看到<strong class="is hj">一个无效的合并操作符(？？)和一个逻辑或(||) </strong></p><p id="74d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是在继续之前，让我们用Javascript中一个非常常见的概念来刷新一下自己，那就是，<strong class="is hj">什么是真/假值</strong>。</p><p id="bb28" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在JavaScript中，有6个值被认为是<strong class="is hj"> falsy </strong>:</p><ul class=""><li id="bd66" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">不明确的</li><li id="6d9e" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">空</li><li id="a40f" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">圆盘烤饼</li><li id="e030" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi">0</li><li id="da25" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">" "(空字符串)</li><li id="5211" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">错误的</li></ul><p id="a223" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有其他JavaScript值将产生<strong class="is hj">真</strong>，因此被视为<strong class="is hj">真</strong>。</p><p id="a7fb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里有几个例子👇</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="05a8" class="kl km hi kh b fi kn ko l kp kq">const value1 = 1;<br/>const value2 = 2;</span><span id="8148" class="kl km hi kh b fi kr ko l kp kq">const result = value1 || value2;</span><span id="f126" class="kl km hi kh b fi kr ko l kp kq">console.log(result); // 1</span></pre><p id="501b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">value1和value2都是真值，因此JavaScript将打印它遇到的第一个真值。</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="9389" class="kl km hi kh b fi kn ko l kp kq">const value1 = 0;<br/>const value2 = 2;</span><span id="3460" class="kl km hi kh b fi kr ko l kp kq">const result = value1 || value2;</span><span id="d5a1" class="kl km hi kh b fi kr ko l kp kq">console.log(result); // 2</span></pre><p id="719e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为这里value1是0，所以将检查value2，因为它是真值，所以整个表达式的结果将是value2。</p><p id="2e67" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">TL；DR — </strong>如果这六个值(false，undefined，null，空字符串，NaN，0)中的任何一个是||，那么我们将得到第二个操作数作为结果。</p><h1 id="ccab" class="ks km hi bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">为什么是“无效合并运算符”？</h1><p id="23ea" class="pw-post-body-paragraph iq ir hi is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hb bi translated">||(OR)操作符工作得很好，但有时我们只希望在第一个操作数为空或未定义时计算另一个表达式。</p><p id="fa1c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，ES11增加了nullish合并运算符。</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/4321804f297612688776dffad563a0d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*ahLmky31tQPrIH6U"/></div></figure><p id="f92c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那个？？运算符可用于在另一个值为空或未定义的情况下提供回退值。它有两个操作数，写成这样:</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="4c08" class="kl km hi kh b fi kn ko l kp kq">value ?? fallbackValue</span></pre><p id="a521" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果左操作数为空或未定义，则？？表达式计算出右操作数:</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/f12ced70d2529d106068cc18b78faef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fyFsc5K0BFV5A3PJ"/></div></div></figure><h1 id="2d75" class="ks km hi bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">将nullish合并运算符与可选的链接运算符相结合</h1><p id="aac4" class="pw-post-body-paragraph iq ir hi is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hb bi translated">可选的链接运算符(？。)允许我们访问嵌套的属性，而无需显式检查链中的每个对象是否存在。</p><p id="0f36" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以将nullish合并操作符与可选的链接操作符结合起来，从而安全地为缺失属性提供一个除undefined之外的值。这里有一个例子:</p><pre class="kc kd ke kf fd kg kh ki kj aw kk bi"><span id="5f19" class="kl km hi kh b fi kn ko l kp kq">const country = {<br/>    obj: {<br/>        name: null<br/>    }<br/>};<br/>const region = country?.obj?.name??"France";<br/>console.log(region);    // France</span></pre><h1 id="845b" class="ks km hi bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated">结论</h1><p id="d050" class="pw-post-body-paragraph iq ir hi is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hb bi translated">我们已经看到，当您只关心任何变量的<code class="du lw lx ly kh b">null</code>或<code class="du lw lx ly kh b">undefined</code>值时，nullish合并运算符非常有用。</p><p id="d7cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Nullish合并操作符的要点是区分nullish (null，undefined)和false但已定义的值(false，0等)。)</p><p id="3071" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">For ||(逻辑OR)null值和falsey值相同。</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/4cf621166627623676c6335b0dfceb4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/0*1TaMLChZl0bkgS3M"/></div></figure></div><div class="ab cl ma mb gp mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hb hc hd he hf"><h1 id="4ca5" class="ks km hi bd kt ku mh kw kx ky mi la lb lc mj le lf lg mk li lj lk ml lm ln lo bi translated">从Web开发开始？</h1><p id="ee6d" class="pw-post-body-paragraph iq ir hi is b it lp iv iw ix lq iz ja jb lr jd je jf ls jh ji jj lt jl jm jn hb bi translated">查看<a class="ae mm" href="https://gumroad.com/a/316675187" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> HTML反应:终极指南</strong> </a></p><p id="98e8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这本电子书是一个全面的学习指南，通过大量易于理解的例子和经过验证的路线图，它将教你成为一个自信的web开发者所需要知道的一切</p><p id="1429" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有了这个链接，就可以拿到<strong class="is hj">六折。</strong></p><figure class="kc kd ke kf fd ij er es paragraph-image"><a href="https://gumroad.com/a/316675187"><div class="er es mn"><img src="../Images/198b6c32d194de7f3738a144ee9e8650.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ggbWpRH6k48HHshG0sli6A.png"/></div></a><figcaption class="mo mp et er es mq mr bd b be z dx translated">HTML反应:完整的网络开发电子书</figcaption></figure></div><div class="ab cl ma mb gp mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hb hc hd he hf"><p id="d96f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ms">(原载于</em><a class="ae mm" href="https://apoorvtyagi.tech/nullish-coalescing-operator-vs-logical-or-javascript" rel="noopener ugc nofollow" target="_blank"><em class="ms">apoorvtyagi . tech</em></a><em class="ms">)</em></p></div></div>    
</body>
</html>