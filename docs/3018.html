<html>
<head>
<title>Deploy Rails API Backend to Heroku and React Frontend to Netlify</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将 Rails API 后端部署到 Heroku，将前端部署到 Netlify</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/deploy-rails-api-backend-to-heroku-and-react-frontend-to-netlify-b515239d5022?source=collection_archive---------2-----------------------#2021-05-27">https://medium.com/nerd-for-tech/deploy-rails-api-backend-to-heroku-and-react-frontend-to-netlify-b515239d5022?source=collection_archive---------2-----------------------#2021-05-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9e7288954e4b6453a89e9c04a2d877f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3MVVfER3VJv1bvhOkx5klA.png"/></div></div></figure><p id="3c07" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">恭喜你，你已经用<strong class="is hj"> Rails API </strong>做后端，用<strong class="is hj"> React </strong>做前端，创建了一个很棒的应用程序。现在，是时候向全世界展示您的应用程序了。</p><p id="7727" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我将向您展示如何部署您的<strong class="is hj"> Rails API </strong>到<strong class="is hj"> Heroku </strong>和<strong class="is hj"> React </strong>到<strong class="is hj"> Netlify </strong>。将涵盖以下主题:</p><ul class=""><li id="3ea8" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated"><strong class="is hj">将您的 SQLite 数据库转换为 PostgreSQL </strong></li><li id="32c0" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><strong class="is hj">检查你的 Ruby 版本</strong></li><li id="3973" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><strong class="is hj">将后端 Rails API 部署到 Heroku </strong></li><li id="3b81" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated"><strong class="is hj">部署前端对网络失效做出反应</strong></li></ul><h1 id="64b1" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">将 SQLite 数据库转换为 PostgreSQL</h1><p id="67e3" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">如果您使用的是<strong class="is hj"> <em class="lf"> SQLite </em> </strong>数据库，则需要将其转换为<strong class="is hj"> <em class="lf"> PostgreSQL </em> </strong>。如果你没有<strong class="is hj"> <em class="lf"> PostgreSQL </em> </strong>，可以在这里 下载<a class="ae lg" href="https://www.postgresql.org/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="7d2c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 1。如果你要转换你的数据库，你必须删除你的目录文件夹中的 Gemfile.lock。</strong></p><p id="8425" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 2。</strong>在<strong class="is hj"><em class="lf">gem 文件</em> </strong>中，将<strong class="is hj"> <em class="lf"> gem 'sqlite3' </em> </strong>改为<strong class="is hj"> <em class="lf"> gem 'pg' </em> </strong></p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/b60022e43c22b002eb5320a704715d66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5WkvTK7cDmjbFv7n"/></div></div></figure><blockquote class="lm"><p id="38ea" class="ln lo hi bd lp lq lr ls lt lu lv jn dx translated">到</p></blockquote><figure class="lx ly lz ma mb ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/678c8607a1e3d3e525aa1d9e3ab0c484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FCkYIvLP3q30I8Zp"/></div></div></figure><p id="91bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 3。</strong>运行<strong class="is hj"> <em class="lf">捆绑安装</em> </strong>。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="b844" class="mh kd hi md b fi mi mj l mk ml">bundle install</span></pre><p id="cd7d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 4。</strong>转到你的<strong class="is hj"> <em class="lf"> database.yml </em> </strong>文件里面你的<strong class="is hj"> <em class="lf"> config </em> </strong>文件夹，删除所有的<strong class="is hj"> <em class="lf"> SQLite </em> </strong>代码。将下面的代码复制粘贴到您的<strong class="is hj"> <em class="lf"> database.yml </em> </strong>文件中。确保将信息更改为您在此代码中的信息。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="ac26" class="mh kd hi md b fi mi mj l mk ml"># PostgreSQL</span><span id="6745" class="mh kd hi md b fi mm mj l mk ml">default: &amp;default<br/>adapter: postgresql<br/>encoding: unicode<br/>pool: &lt;%= ENV.fetch(“RAILS_MAX_THREADS”) { 5 } %&gt;</span><span id="389f" class="mh kd hi md b fi mm mj l mk ml">development:<br/>&lt;&lt;: *default<br/># Your app name(e.g. my app directory folder name is fotoset-backend)<br/>database: fotoset_backend_development<br/># you need to put your username and password here<br/>username: Your PostgreSQL server name<br/>password: The password you are using to login into your computer</span><span id="c2ab" class="mh kd hi md b fi mm mj l mk ml">test:<br/>&lt;&lt;: *default<br/># Your app name(e.g. my app directory folder name is fotoset-backend)<br/>database: fotoset_backend_test</span><span id="ae9e" class="mh kd hi md b fi mm mj l mk ml">production:<br/>&lt;&lt;: *default<br/># Your app name(e.g. my app directory folder name is fotoset-backend)<br/># you don’t need username and password here below<br/>database: fotoset_backend_production<br/>username: fotoset_backend<br/>password: &lt;%= ENV[‘FOTOSET_BACKEND_DATABASE_PASSWORD’] %&gt;</span></pre><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/55bb5e85cf34af62bfc140563fb5b7f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hjLFn9HP6pp-n9gd"/></div></div></figure><p id="5c4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 5。确保你的 PostgreSQL 正在运行</strong></p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/5cfacd4c23030a4b7d46e5f0e47c1bad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*D4yW2MGeGllhbEYt"/></div></div></figure><p id="dc2f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 6。</strong>运行<strong class="is hj"> <em class="lf"> rails db:设置</em> </strong>、<strong class="is hj"> <em class="lf"> rails db:迁移</em> </strong>、<strong class="is hj"> <em class="lf"> rails db:seed </em> </strong>。</p><p id="465d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 7。</strong>运行<strong class="is hj"> <em class="lf"> rails s </em> </strong>，到你的服务器<strong class="is hj"> localhost:3000 </strong>检查是否一切正常。</p><h1 id="fa0e" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">检查你的 Ruby 版本</strong></h1><p id="8eb6" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">为了成功部署您的应用程序，您可能需要更新您的 Ruby 版本。是因为 Heroku 不支持老的 Ruby 版本。如果您已经有了最新版本(3.0.1)，请跳过这一部分。</p><p id="ebd0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 1。</strong>打开你的后台目录文件夹。</p><p id="d2c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 2 </strong>。在你的终端输入<strong class="is hj"> <em class="lf"> ruby -v </em> </strong>来检查你的 Ruby 版本。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="6353" class="mh kd hi md b fi mi mj l mk ml">ruby -v</span></pre><p id="effe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 3。</strong>更新你终端里的 Ruby 版本<strong class="is hj"> <em class="lf"> rvm 安装 3.0.1 </em> </strong>如果你没有最新版本。安装需要几分钟时间。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="41a2" class="mh kd hi md b fi mi mj l mk ml">rvm install 3.0.1</span></pre><p id="75f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 4。</strong>一旦完成，运行<strong class="is hj"> <em class="lf"> rvm 使用 3.0.1 </em> </strong>在你的 app 目录文件夹终端。再次检查 Ruby 版本<strong class="is hj"> <em class="lf"> ruby -v </em> </strong>确保你现在有最新的版本。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="cbb2" class="mh kd hi md b fi mi mj l mk ml">rvm use 3.0.1</span></pre><p id="0597" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 5。</strong>去你的<strong class="is hj"> <em class="lf"> Gemfile </em> </strong>，把 Ruby 版本改成你现在有的<strong class="is hj"> <em class="lf"> ruby 3.0.1 </em> </strong>。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div class="er es mo"><img src="../Images/954a9221c99207fc8b00af23e021d0f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/0*JS6UxNnHcUL5JCXz"/></div></figure><p id="c672" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 6。</strong>去你的<strong class="is hj"> <em class="lf">。ruby-version </em> </strong>文件放在你的目录文件夹下，把 ruby 版本改成<strong class="is hj"> <em class="lf"> ruby-3.0.1 </em> </strong>。</p><p id="075e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 7。</strong>运行<strong class="is hj">捆绑<em class="lf">安装</em>安装</strong>。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="9a79" class="mh kd hi md b fi mi mj l mk ml">bundle install</span></pre><p id="e402" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 8。</strong>转到你的<strong class="is hj"> <em class="lf"> Gemfile.lock </em> </strong>，如果你的文件里没有它们，复制并粘贴下面的到你的<strong class="is hj"> <em class="lf"> Gemfile.lock </em> </strong>。如果我没有以下内容，Heroku 不会让我部署我的应用程序。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="59d5" class="mh kd hi md b fi mi mj l mk ml">nokogiri (1.11.3-x86_64-linux)<br/>  racc (~&gt; 1.4)<br/>nokogiri (1.11.4-x86_64-darwin)<br/>  racc (~&gt; 1.4)</span><span id="651b" class="mh kd hi md b fi mm mj l mk ml">PLATFORMS<br/>  x86_64-darwin-20<br/>  x86_64-linux</span></pre><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/9186bbce036291572124686f6799f485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EYut4rpbNxh81ojM"/></div></div></figure><figure class="li lj lk ll fd ij er es paragraph-image"><div class="er es mq"><img src="../Images/29c204c59d973bade54d75a66d208668.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/0*x9ZV_VChD_-fDjJE"/></div></figure></div><div class="ab cl mr ms gp mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="hb hc hd he hf"><h1 id="6c6c" class="kc kd hi bd ke kf my kh ki kj mz kl km kn na kp kq kr nb kt ku kv nc kx ky kz bi translated"><strong class="ak">将后端 Rails API 部署到 Heroku </strong></h1><ol class=""><li id="96b0" class="jo jp hi is b it la ix lb jb nd jf ne jj nf jn ng ju jv jw bi translated">创建一个<a class="ae lg" href="https://signup.heroku.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">的 Heroku 账号</strong> </a>。</li><li id="008c" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn ng ju jv jw bi translated">在您的终端中安装<strong class="is hj"> Heroku CLI </strong>。你可以在 这里找到<a class="ae lg" href="https://devcenter.heroku.com/articles/heroku-cli" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">的说明。我用这个命令:<strong class="is hj"><em class="lf">brew tap heroku/brew&amp;&amp;brew install heroku</em></strong>。</strong></a></li></ol><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="8f78" class="mh kd hi md b fi mi mj l mk ml">brew tap heroku/brew &amp;&amp; brew install heroku</span></pre><p id="d903" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.确保登录 Heroku 网站，然后在终端运行<strong class="is hj"> <em class="lf"> heroku 登录</em> </strong>。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="6287" class="mh kd hi md b fi mi mj l mk ml">heroku login</span></pre><p id="4fdc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.运行<strong class="is hj"> <em class="lf"> heroku 创建</em> </strong>，它会在终端显示 heroku 信息。Heroku 会给你一个随机的 Heroku app 名字。完成所有步骤后，您可以在此处更改名称<a class="ae lg" href="https://devcenter.heroku.com/articles/renaming-apps#updating-git-remotes" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"/></a><strong class="is hj"/>。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="38c8" class="mh kd hi md b fi mi mj l mk ml">heroku create</span></pre><p id="e99a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.运行<strong class="is hj"><em class="lf">git push heroku main</em></strong>将你的 app 文件推送到 heroku。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="3d29" class="mh kd hi md b fi mi mj l mk ml">git push heroku main</span></pre><p id="fe7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.运行<strong class="is hj"> <em class="lf"> heroku 运行 rake db:迁移</em> </strong>和<strong class="is hj"> <em class="lf"> heroku 运行 rake db:seed </em> </strong>将您的所有数据托管在 heroku 服务器中。您可以在这里查看我的数据:<a class="ae lg" href="https://fotoset.herokuapp.com/users" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">https://fotoset.herokuapp.com/users</strong></a></p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="4063" class="mh kd hi md b fi mi mj l mk ml">heroku run rake db:migrate</span><span id="0905" class="mh kd hi md b fi mm mj l mk ml">heroku run rake db:seed</span></pre><p id="d41b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.去你的 Heroku 网站，我推荐把你的 app GitHub repo 和 Heroku 连接起来(下图)。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/a57b43621ae357ad0019756ef8a0598f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5gYL2T_njGT2ttzI"/></div></div></figure><p id="6948" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">8.您也可以运行<strong class="is hj"> <em class="lf"> heroku 在终端中打开</em> </strong>来运行 heroku 服务器，运行命令后 url 会是这样的<a class="ae lg" href="https://fotoset.herokuapp.com/users" rel="noopener ugc nofollow" target="_blank">【https://fotoset.herokuapp.com/】</a>。</p><pre class="li lj lk ll fd mc md me mf aw mg bi"><span id="2413" class="mh kd hi md b fi mi mj l mk ml">heroku open</span></pre><p id="a3ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，您不必再运行 rails s 来获取数据了。希望这对大家有帮助。如果您有任何问题或反馈，请告诉我！我很乐意帮助你。</p><h1 id="85f7" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak"> <em class="ni">部署前端对网络攻击做出反应</em> </strong></h1><ol class=""><li id="b0f9" class="jo jp hi is b it la ix lb jb nd jf ne jj nf jn ng ju jv jw bi translated">在<strong class="is hj"><em class="lf"/></strong>公共文件夹下创建一个<strong class="is hj"><em class="lf">_ 重定向</em> </strong>文件，复制粘贴这段代码<strong class="is hj"><em class="lf">/*/index . html 200</em></strong>。只有当你使用<strong class="is hj"><em class="lf">react-router-DOM</em></strong>的时候。以防止刷新您的网站页面后出现错误消息。</li></ol><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/7dfb9711507f3ff569a7acb126e53ec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xjLd3cL0PNSxZSX4"/></div></div></figure><p id="2de2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.创建一个<strong class="is hj"><em class="lf">Netlify</em></strong><a class="ae lg" href="https://app.netlify.com/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="lf">账户</em> </strong> </a>。</p><p id="afd4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.从 Git  转到<strong class="is hj"> <em class="lf">新站点。</em></strong></p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/b822f624bc20e66317b8112deeeb6163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N1ruQV5BCcz7QgYT"/></div></div></figure><p id="45db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.将<strong class="is hj"> <em class="lf"> Netlify </em> </strong>连接到<strong class="is hj"> <em class="lf"> GitHub </em> </strong>。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/34c756632e3fec07347ac03513b71775.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xqz9u_0ZxjnRXCWh"/></div></div></figure><p id="4594" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.搜索你的 GitHub repo，然后回车。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/95fd4478ce188fe607e63722ee6838f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3rVlj2qkx150yXQw"/></div></div></figure><p id="ca02" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.选择要部署的前端存储库。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/9f1cfde16e518fcfa34ef40462c50031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WqdeRY1Qc7EOJbl9"/></div></div></figure><p id="c3fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">7.构建命令:<strong class="is hj"> <em class="lf"> CI= npm 运行构建</em> </strong>，然后单击部署站点。</p><p id="5f01" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">8.您可以在站点设置中更改您的站点名称。</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nj"><img src="../Images/dc28d4406865c580b5982c9307b2de5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o543Hjh3Nuw86Eek"/></div></div></figure><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/30c0a1e404a928ac5f3362cf1c04f0c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JJuBr-AHfVtkO4FM"/></div></div></figure><p id="69c0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> 9。</strong>将你所有的前端获取 url 改为 heroku url(例如下图)</p><p id="5fd1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">http://localhost:3000/photos = &gt;<strong class="is hj"/>https://fotoset.herokuapp.com/photos</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nk"><img src="../Images/cf8cd66850b9b5a6ae88274e6f03496a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xRopkKpzSJn6FxkRHCza8A.png"/></div></div></figure></div><div class="ab cl mr ms gp mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="hb hc hd he hf"><h1 id="7d3d" class="kc kd hi bd ke kf my kh ki kj mz kl km kn na kp kq kr nb kt ku kv nc kx ky kz bi translated"><strong class="ak">加成:</strong></h1><p id="59b6" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">如果你在后台使用任何 API 密匙，你需要把你的 API 密匙放在<strong class="is hj"><em class="lf">Heroku Config Vars</em></strong>中。与前端相同，如果您在前端使用任何 API 密钥，请将您的 API 密钥放在<strong class="is hj"> <em class="lf"> Netlify 环境变量</em> </strong>中。</p><h2 id="e59a" class="mh kd hi bd ke nl nm nn ki no np nq km jb nr ns kq jf nt nu ku jj nv nw ky nx bi translated">赫罗库</h2><ol class=""><li id="182a" class="jo jp hi is b it la ix lb jb nd jf ne jj nf jn ng ju jv jw bi translated">选择您正在使用 API 密钥的应用程序</li></ol><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/05ec69e6d3dc06a6334eb4919aa32a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MMmGlBkqzgd2DU_j"/></div></div></figure><p id="6279" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.转到应用程序设置，然后单击显示配置变量</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/6577a255ea68d19f60267e7bbcfc9bd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MCQzJqq6_qXGdJiF"/></div></div></figure><p id="5926" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.复制并粘贴您的 API 密钥变量名和密钥</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/9a30b4f21477b47ff37eb686376f1956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ooRaVK_wspZ_R-QR"/></div></div></figure><h2 id="3d0e" class="mh kd hi bd ke nl nm nn ki no np nq km jb nr ns kq jf nt nu ku jj nv nw ky nx bi translated">网络生活</h2><ol class=""><li id="d99d" class="jo jp hi is b it la ix lb jb nd jf ne jj nf jn ng ju jv jw bi translated">选择您正在使用 API 密钥的应用程序</li></ol><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ny"><img src="../Images/874dbd35249949b4be6da52377b1d202.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PzwaaPt2_j0Ge4GA"/></div></div></figure><p id="2c40" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.转到域设置</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nz"><img src="../Images/3611ebd490ba3ec9b427597f3d03736c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iOI1k5lYQ02DXFqe"/></div></div></figure><p id="5db8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.转到环境，单击编辑变量并添加您的 API 密钥</p><figure class="li lj lk ll fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/cee589cbc9b7ebcabe0b12d363e9b3fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5f0WMstAnsaBZLC3"/></div></div></figure><p id="51f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">非常感谢您遵循本文中的所有步骤。希望这篇文章对大家部署网站有所帮助。如果你觉得我解释错了或者说的不清楚，请在评论里留言。我很乐意帮助你。</p></div></div>    
</body>
</html>