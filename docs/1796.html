<html>
<head>
<title>5 Python Pandas Skills for EDA — The Most Googled Questions I’ve Ever Made.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">EDA的5个Python熊猫技巧——我做过的被谷歌搜索次数最多的问题。</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/5-python-pandas-skills-for-eda-the-most-googled-questions-ive-ever-made-61b6a684d879?source=collection_archive---------3-----------------------#2021-04-07">https://medium.com/nerd-for-tech/5-python-pandas-skills-for-eda-the-most-googled-questions-ive-ever-made-61b6a684d879?source=collection_archive---------3-----------------------#2021-04-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="830f" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">(*本文主要面向初级受众。)</h2></div><p id="77d3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当我尝试执行EDA(探索性数据分析)时，尤其是处理数据集时，遇到了一些麻烦。我知道<strong class="iz hj">要解决什么</strong>，我也知道我已经谷歌了<strong class="iz hj">如何</strong>解决它，但是有些方法我总是想不起来:<em class="jt">最后，我又谷歌了一遍(*100..)</em></p><p id="c2ce" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以在这篇文章中，我回答了我在处理数据集时遇到的最多的问题，尤其是关于熊猫的数据帧。</p><ol class=""><li id="e010" class="ju jv hi iz b ja jb jd je jg jw jk jx jo jy js jz ka kb kc bi translated">填充/删除缺失值(或重复值)</li><li id="7317" class="ju jv hi iz b ja kd jd ke jg kf jk kg jo kh js jz ka kb kc bi translated">用lambda替换值</li><li id="7607" class="ju jv hi iz b ja kd jd ke jg kf jk kg jo kh js jz ka kb kc bi translated">用melt/pivot_table/crosstab重塑数据框架</li></ol></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><h1 id="d930" class="kp kq hi bd kr ks kt ku kv kw kx ky kz io la ip lb ir lc is ld iu le iv lf lg bi translated">填充/删除缺失值(或重复值)</h1><ol class=""><li id="1bfe" class="ju jv hi iz b ja lh jd li jg lj jk lk jo ll js jz ka kb kc bi translated"><strong class="iz hj">填充缺失值取决于数据的类型。</strong></li></ol><figure class="ln lo lp lq fd lr er es paragraph-image"><div class="er es lm"><img src="../Images/471e4dd8df6b1f113bff5577d28818ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*ztkVJqH6cyAWMsl-bLKXqA.png"/></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure> df</figure></figcaption></figure><p id="409b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在<figure>上制作数据帧，请使用以下代码:</figure></p><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es ly"><img src="../Images/7e07d36c233815d36fd5e5afb22785f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2BRXx0aseng7-MTsGsRWhg.png"/></div></div></figure><p id="08e3" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有很多方法可以填充缺失值，例如填充/插值/替换等等。几乎只能使用单一数据类型。<br/>如果你想替换依赖于数据类型的缺失值，那么你可能使用for循环或If语句。</p><p id="05a7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里有一个使用' dtype.kind '的短代码，<figure>就是这个代码的结果。如果能立刻处理丢失的数据，那就更好了。</figure></p><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es md"><img src="../Images/aa63450e13a983fd2690f69360bba327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t4Fb_Jf_GQyzU41E6zOGDA.png"/></div></div></figure><figure class="ln lo lp lq fd lr er es paragraph-image"><div class="er es me"><img src="../Images/13eb8fb63b38fdce9d0926fabf477414.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*xoSD8xebByCIpSClq9IVuA.png"/></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>根据数据类型填充df的缺失值</figure></figcaption></figure><div class="mf mg ez fb mh mi"><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/missing_data.html" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab dw"><div class="mk ab ml cl cj mm"><h2 class="bd hj fi z dy mn ea eb mo ed ef hh bi translated">处理丢失的数据- pandas 1.2.3文档</h2><div class="mp l"><h3 class="bd b fi z dy mn ea eb mo ed ef dx translated">在这一节中，我们将讨论熊猫缺失的(也称为NA)值。请注意选择使用NaN…</h3></div><div class="mq l"><p class="bd b fp z dy mn ea eb mo ed ef dx translated">pandas.pydata.org</p></div></div></div></a></div><p id="faa4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> 2。删除重复值并保留一部分</strong></p><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es mr"><img src="../Images/4fd505499a4a98f406ca422154d9b190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HscH38247wkZxe3dYBUKDA.png"/></div></div></figure><figure class="ln lo lp lq fd lr er es paragraph-image"><div class="er es ms"><img src="../Images/4654d84ecb90cbc650572a8d09000db3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*PtkgLNMKvnZ0zSxRbqC0fg.png"/></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>在数据帧上添加“日期”功能— df</figure></figcaption></figure><p id="a14a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果您尝试访问基于Nosql的数据库或处理Pandas DataFrame的嵌套数据集，那么可能会出现重复的行。您可以根据特征删除它，并保留第一个/最后一个零件。(<em class="jt">请小心打字重复</em><strong class="iz hj"><em class="jt"/></strong><em class="jt">)。</em>)当您按时间序列列对数据帧进行排序，并在重复行之间仅保留“主要或最新”值时，这很有用。</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div class="er es mt"><img src="../Images/dbdbfbcd9914f191ca1b964c67d4417e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*nz-fgidX6Zj3LNRd4hXY_Q.png"/></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>通过参数‘keep’删除重复特征的情况— <code class="du mu mv mw mx b">first</code>:删除除第一次出现之外的重复特征。- <code class="du mu mv mw mx b">last</code>:除最后一次出现外，丢弃重复项。</figure></figcaption></figure><h1 id="2c2c" class="kp kq hi bd kr ks my ku kv kw mz ky kz io na ip lb ir nb is ld iu nc iv lf lg bi translated">用lambda替换值</h1><p id="89c4" class="pw-post-body-paragraph ix iy hi iz b ja lh ij jc jd li im jf jg nd ji jj jk ne jm jn jo nf jq jr js hb bi translated"><strong class="iz hj"> 3。基于条件替换值。</strong></p><p id="4c79" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">对lambda使用apply()方法非常有用，尤其是用条件替换变量。</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es ng"><img src="../Images/072131f20a48444f0e1f34bc48ab0a58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*bLA8422NEZA4t-jt90cm8A.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>使用lambda应用“apply()”方法</figure></figcaption></figure><p id="3625" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">或者您可以使用lambda和numpy数组，如下所示:</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div class="er es nh"><img src="../Images/b2f3cfb73f86afbd83f0cd2e07335e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*cYYydGrI9IZnk-5_Ra6kEQ.png"/></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>使用带有numpy数组的lambda</figure></figcaption></figure><h1 id="a5ee" class="kp kq hi bd kr ks my ku kv kw mz ky kz io na ip lb ir nb is ld iu nc iv lf lg bi translated">用melt、pivot_table和crosstab重塑数据框架</h1><p id="94b5" class="pw-post-body-paragraph ix iy hi iz b ja lh ij jc jd li im jf jg nd ji jj jk ne jm jn jo nf jq jr js hb bi translated"><strong class="iz hj"> 4。将一些列转换为行。</strong></p><p id="d9c0" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你习惯用Pandas数据框架计算每一列，那么你可能会对“宽数据框架”感到舒服。同时，如果你习惯于可视化数据，那么“整齐的数据框架”可能是熟悉的。</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es ni"><img src="../Images/d183ad9c5c6798423a3c5d2f6170d8dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bDipklOEnb0xpVgHUoNE8g.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>宽数据帧示例</figure></figcaption></figure><p id="63d1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">尝试“melt()”函数可以将宽的数据帧整形为整齐的数据帧。因此，您可以通过保留标识符来轻松转换DataFrame的形状。同样，“pivot_table()”函数可以将一个整齐的数据帧整形为宽的数据帧。</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es nj"><img src="../Images/c8a72e6d927844528121e5d28f556a5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bexsZtJMxS9MNrosYhZtnQ.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>使用melt()函数将宽数据帧整形为整齐的数据帧。</figure></figcaption></figure><figure class="ln lo lp lq fd lr er es paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="er es nk"><img src="../Images/83c1cf1b4ad6c0a789dcbaa1f11adf09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CKibPUNHJhOervYu64Pd9A.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>使用pivot_table()函数将数据框从整齐重塑为宽。</figure></figcaption></figure><p id="da1d" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj"> 5。带交叉表的频率表()</strong></p><p id="5f99" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">要查找变量之间的频率，可以使用crosstab()。它可以应用卡方列联表或巧妙的方法来执行EDA。</p><figure class="ln lo lp lq fd lr er es paragraph-image"><div class="er es nl"><img src="../Images/eff5ce18b9eb7c2c32a1579646b2caf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*Giw4tcsmlRq8ivwd3pAu3A.png"/></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>在熊猫数据框架中添加“区域”特征。</figure></figcaption></figure><figure class="ln lo lp lq fd lr er es paragraph-image"><div class="er es nm"><img src="../Images/e4ae5c1d8c31a862076e6ebf2027b3e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*t2rrXyUjDfYXMlT2525fOA.png"/></div><figcaption class="lu lv et er es lw lx bd b be z dx translated"><figure>正在尝试crosstab()函数。如果参数“margins”为真，则添加行/列边距(小计)。</figure></figcaption></figure><ul class=""><li id="a144" class="ju jv hi iz b ja jb jd je jg jw jk jx jo jy js nn ka kb kc bi translated">지금은쉬워도손에익기까지꽤오랜시간이걸렸던기초적인·埃达·방법을나누고싶었습니다.·코딩을전혀모르던시절부터지금까지를돌아보면서부족한 영어실력으로 더듬더듬 글을 썼는데 틀린 내용, 부자연스러운 문법 등 언제든지 피드백을 환영합니다!</li></ul></div></div>    
</body>
</html>