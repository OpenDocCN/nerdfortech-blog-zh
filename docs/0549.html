<html>
<head>
<title>Benefits of using Ansible Tower over Ansible Engine !!!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Ansible塔比Ansible发动机的好处！！！</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/benefits-of-using-ansible-tower-over-ansible-engine-b4a26dc740c7?source=collection_archive---------0-----------------------#2021-01-13">https://medium.com/nerd-for-tech/benefits-of-using-ansible-tower-over-ansible-engine-b4a26dc740c7?source=collection_archive---------0-----------------------#2021-01-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/9ac450796ea62702a21eeaf45b78e741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ze4aIo8ZnBCa8uXufHbZfw.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">由Raktim创建</figcaption></figure><div class=""/><p id="aed5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">当我第一次开始学习要求最苛刻的自动化工具之一— <strong class="iw hy"> Ansible </strong>时，我发现它非常有用和有趣。但是在深入研究之后，问题来了—</p><blockquote class="js"><p id="277d" class="jt ju hx bd jv jw jx jy jz ka kb jr dx translated">"如果可变控制器节点失败了怎么办？"然后，您可以如何维护您的受管节点。</p></blockquote><p id="f32b" class="pw-post-body-paragraph iu iv hx iw b ix kc iz ja jb kd jd je jf ke jh ji jj kf jl jm jn kg jp jq jr hb bi translated"><strong class="iw hy">这个问题的答案非常简单。使用Ansible塔，</strong>因为它在Ansible上面提供了很多设施。<strong class="iw hy">在本文中，我将通过一些实例来讨论这些好处。🙌</strong></p><h1 id="c93c" class="kh ki hx bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">什么是可回答的:</h1><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lf"><img src="../Images/28b587d69f44e4d6c040c4f478895304.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NqNqlYRtjfvfJCgy.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:谷歌</figcaption></figure><ul class=""><li id="b7a6" class="lk ll hx iw b ix iy jb jc jf lm jj ln jn lo jr lp lq lr ls bi translated">Ansible是一款开源软件供应、配置管理和应用部署工具，支持基础设施代码化。它运行在许多类Unix系统上，既可以配置类Unix系统，也可以配置Microsoft Windows。</li><li id="725d" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">在Ansible中，我们在名为Playbook 的YAML文件中编写<strong class="iw hy">配置，Ansible代表admin <strong class="iw hy">从控制器节点通过SSH </strong>(对于Linux)或WinRM(对于Windows)协议访问受管节点，并执行所需的任务。</strong></li><li id="c1ac" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">Ansible最大的特点是无代理。它还具有<strong class="iw hy">幂等的能力</strong>意味着Ansible知道需要在被管理节点上执行的任务的状态。此外，在<strong class="iw hy"> Ansible中，我们还支持Ansible Vault，</strong>这是一种存储我们凭证的加密方法。</li><li id="6b81" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated"><strong class="iw hy"> <em class="ly">了解更多Ansible:</em></strong><a class="ae lz" href="https://www.ansible.com/overview/how-ansible-works" rel="noopener ugc nofollow" target="_blank"><strong class="iw hy"><em class="ly">https://www.ansible.com/overview/how-ansible-works</em></strong></a></li></ul><p id="018a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">到目前为止听起来不错，那么<strong class="iw hy">我们在Ansible </strong>中有哪些不足，或者更准确地说<strong class="iw hy">为什么在行业中Ansible不足以解决所有的挑战</strong>。或者说<strong class="iw hy">为什么我们要使用易变塔？</strong>🤨让我们从了解开始——</p><h1 id="979d" class="kh ki hx bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">什么是可旋转塔:</h1><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ma"><img src="../Images/b6593a44db9865e158a5dd9e9475aa65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LCX2aC8hLS8BHR7k7UEPQA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:谷歌</figcaption></figure><ul class=""><li id="e238" class="lk ll hx iw b ix iy jb jc jf lm jj ln jn lo jr lp lq lr ls bi translated"><strong class="iw hy"> Ansible Tower是一个REST API、web服务和基于web的控制台，旨在使Ansible更适用于拥有不同技术水平和技能的IT团队</strong>。它是自动化任务的中心。</li><li id="e014" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">Ansible Tower允许您控制谁可以访问什么，甚至<strong class="iw hy">允许共享SSH凭证，而没有人能够转移这些凭证。</strong>库存可以图形化管理，也可以与各种云资源同步。</li><li id="ad42" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">它记录你所有的工作，很好地与LDAP集成，并且有一个令人惊奇的可浏览的REST API。命令行工具也很容易<strong class="iw hy">与Jenkins </strong>集成。供应回调为自动伸缩拓扑提供了强大的支持。</li><li id="3193" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated"><strong class="iw hy"> <em class="ly">了解更多安塞塔:</em></strong><a class="ae lz" href="https://docs.ansible.com/ansible-tower/" rel="noopener ugc nofollow" target="_blank"><strong class="iw hy"><em class="ly">https://docs.ansible.com/ansible-tower/</em></strong></a></li></ul><h1 id="6528" class="kh ki hx bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">顶部可旋转塔的优点:</h1><h2 id="257e" class="mb ki hx bd kj mc md me kn mf mg mh kr jf mi mj kv jj mk ml kz jn mm mn ld mo bi translated"><strong class="ak"> 1。集群环境支持:</strong></h2><figure class="lg lh li lj fd hk er es paragraph-image"><div class="er es mp"><img src="../Images/ff19bdf5047c8e3242481b9b9259f3bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/0*TcZfiAPPzEmLwMTc"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:谷歌</figcaption></figure><ul class=""><li id="5c79" class="lk ll hx iw b ix iy jb jc jf lm jj ln jn lo jr lp lq lr ls bi translated">正如我们在上面提到的图<strong class="iw hy">中注意到的，我们有多个“UI &amp;调度程序”。这些是我们独立的Ansible塔节点</strong>运行在Ansible引擎之上。所有的塔都与一个集中共享的PostgreSQL数据库相连。这意味着所有的塔在每个时间点都有相同的信息。此外，我们在所有塔节点上都有相同的库存详细信息。</li><li id="0d2e" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">现在<strong class="iw hy">在Ansible中，我们使用我们的控制器节点在我们的受管节点</strong>上配置一些东西，但是在任何时间点，如果<strong class="iw hy">控制器节点关闭，那么我们将无法管理我们的受管节点</strong>。或者，假设您运行一个剧本，突然<strong class="iw hy">在操作过程中，您的控制器节点关闭，</strong>那么就没有人执行回滚。</li><li id="221a" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">安西布尔塔的戏来了。由于Tower在集群环境中工作，因此如果某个Tower节点出现故障，我们可以使用其他节点来处理这种情况。还因为它们访问的是跨越所有塔节点的同一个数据库，所以我们不需要担心数据丢失。</li></ul><h2 id="562f" class="mb ki hx bd kj mc md me kn mf mg mh kr jf mi mj kv jj mk ml kz jn mm mn ld mo bi translated">2.以智能方式存储和使用凭据:</h2><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mq"><img src="../Images/f15a306bc63d091a756eccf1b6fadc27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_PTeMxRZ5hoMudsH.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:Ansible文档</figcaption></figure><ul class=""><li id="7bf9" class="lk ll hx iw b ix iy jb jc jf lm jj ln jn lo jr lp lq lr ls bi translated">如果您曾经使用任何行动手册来使用Ansible在云上提供一些东西，那么在大多数情况下，您会注意到我们正在使用<strong class="iw hy">“ansi ble Vault”来安全地存储我们的云登录凭证。</strong>现在，在每个任务中，我们都需要使用这些凭证，为此，我们使用存储在Vault中的变量。</li><li id="21df" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated"><strong class="iw hy">例如，如果我们希望使用一个行动手册来调配AWS VPC、子网和SG，那么在每个任务中，我们都需要提及我们的凭据。</strong>如果我们仔细观察，就会发现<strong class="iw hy">这使得我们的代码变得更加沉重</strong>。这也是一种不必要的时间浪费。</li><li id="c9a4" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">为了解决这一挑战，我们使用了<strong class="iw hy"> Ansible Tower，它以安全加密的格式将我们的凭证存储在集中式数据库</strong>中，以后我们不需要在剧本中提及凭证。因为<strong class="iw hy">当我们在Ansible Tower中创建工作模板时，我们只需要在相应的字段</strong>中添加我们的剧本和凭证，Tower会自动将凭证放在需要的地方。</li></ul><h2 id="f20e" class="mb ki hx bd kj mc md me kn mf mg mh kr jf mi mj kv jj mk ml kz jn mm mn ld mo bi translated">3.CI/CD工作流支持:</h2><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mr"><img src="../Images/df3895bd078d911a9b09dd02bfb2fbea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XR_KdUb903AedNbx.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:Ansible文档</figcaption></figure><ul class=""><li id="664b" class="lk ll hx iw b ix iy jb jc jf lm jj ln jn lo jr lp lq lr ls bi translated"><strong class="iw hy">使用Ansible如果我们想创建一个工作流，那么我们的代码会有很多异常处理和条件语句。这将使我们的代码变得复杂和庞大，从而降低性能。</strong></li><li id="d7a5" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">为了解决这个问题<strong class="iw hy">,我们总是建议创建许多简单的&amp;小行动手册，最后使用Tower我们可以创建一个工作流</strong>,我们可以在其中添加这些小行动手册来一个接一个地执行我们的任务。</li><li id="f4d3" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated"><strong class="iw hy">工作流的最大好处是我们可以建立一个合适的CI/CD(持续集成&amp;持续部署)管道</strong>，我们可以有一个更好的开发过程。此外，如果工作流的某个部分失败，我们还可以支持回滚。</li></ul><h2 id="dced" class="mb ki hx bd kj mc md me kn mf mg mh kr jf mi mj kv jj mk ml kz jn mm mn ld mo bi translated">4.作业调度和通知支持:</h2><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ms"><img src="../Images/b8a0be1db527473faa8b6b909646fb64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*siCnyc7recU1rhtf.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:Ansible文档</figcaption></figure><ul class=""><li id="0c8f" class="lk ll hx iw b ix iy jb jc jf lm jj ln jn lo jr lp lq lr ls bi translated">如果我们希望<strong class="iw hy">每天、每周或在两者之间的任何时间定期运行我们的剧本，那么我们可以使用Ansible Tower中的作业调度选项来实现。</strong>这个功能我们Ansible上没有。</li><li id="c508" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">接下来，假设您想<strong class="iw hy">通过电子邮件、slack或任何类型的基于API的通知工具向管理员</strong>发送有关作业的更新，那么<strong class="iw hy">您可以使用Ansible中的模块，</strong>但是在当今的自动化世界中，我们不需要任何手动过程。</li></ul><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ms"><img src="../Images/774b672762c7871825733029fd6c0809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pyWCV3X5lFWd_--W.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:Ansible文档</figcaption></figure><ul class=""><li id="e575" class="lk ll hx iw b ix iy jb jc jf lm jj ln jn lo jr lp lq lr ls bi translated">在这里，我们可以使用<strong class="iw hy"> Ansible Tower，它内置了向大多数著名的基于API的通知工具(如email、Slack、HipChat等)发送通知的支持。</strong></li></ul><h2 id="a4d4" class="mb ki hx bd kj mc md me kn mf mg mh kr jf mi mj kv jj mk ml kz jn mm mn ld mo bi translated">5.在团队中工作:</h2><p id="46c3" class="pw-post-body-paragraph iu iv hx iw b ix mt iz ja jb mu jd je jf mv jh ji jj mw jl jm jn mx jp jq jr hb bi translated">如果我们看到任何云提供商，我们知道他们有<strong class="iw hy">支持创建具有特定权限集的特定用户。因此，在这个行业中，每个团队都可以在各自的领域内从事相同的项目，而不会妨碍其他团队的工作。我们在Ansible Tower上也有类似的支架。</strong></p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es my"><img src="../Images/ffaf712c7c04c858b98676013a852626.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bHj1Tz_KmQpibUBr.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:Ansible文档</figcaption></figure><ul class=""><li id="7afd" class="lk ll hx iw b ix iy jb jc jf lm jj ln jn lo jr lp lq lr ls bi translated">在这里，在一个<strong class="iw hy"> Ansible塔式集群下，我们可以创建许多团队，在每个团队下，我们可以有多个用户使用他们自己的凭证</strong>登录。我们还可以为每个团队设置特定的权限。</li><li id="d52c" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">团队提供了一种实现基于角色的访问控制方案和跨组织委派职责的方法。例如，<strong class="iw hy">许可可以授予整个团队，而不是团队中的每个用户。</strong></li></ul><h2 id="83ba" class="mb ki hx bd kj mc md me kn mf mg mh kr jf mi mj kv jj mk ml kz jn mm mn ld mo bi translated">最后的话:</h2><figure class="lg lh li lj fd hk er es paragraph-image"><div class="er es mz"><img src="../Images/b83afeebcfb1e719da45c424070b5f79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KM7-6S_xOEUEjzxq.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">来源:谷歌</figcaption></figure><ul class=""><li id="2a0b" class="lk ll hx iw b ix iy jb jc jf lm jj ln jn lo jr lp lq lr ls bi translated">类似地，使用Ansible Tower有很多好处，比如我们在图形WebUI上获得了<strong class="iw hy">高级实时监控支持。此外，Ansible Tower支持大多数标准API，并可以对它们进行配置。<strong class="iw hy">它更安全，而且有RedHat的直接支持，因为我们需要官方订阅才能使用这个塔。</strong></strong></li><li id="4892" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated"><strong class="iw hy"> <em class="ly">了解更多Ansible Tower特性:</em></strong><a class="ae lz" href="https://docs.ansible.com/ansible-tower/latest/html/userguide/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="iw hy"><em class="ly">https://docs . ansi ble . com/ansi ble-Tower/latest/html/user guide/index . html</em></strong></a></li></ul><h1 id="3d36" class="kh ki hx bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">最后…</h1><ul class=""><li id="aef1" class="lk ll hx iw b ix mt jb mu jf na jj nb jn nc jr lp lq lr ls bi translated"><strong class="iw hy">学习安色尔塔有无限的未来可能。</strong>工业一直在采用那些能使其发展更快、更自动化的技术。Ansible &amp; Ansible塔就是其中之一。</li><li id="fb72" class="lk ll hx iw b ix lt jb lu jf lv jj lw jn lx jr lp lq lr ls bi translated">我试图让它尽可能简单。希望你从这里学到了一些东西。请随意查看下面提到的我的LinkedIn个人资料，当然也可以随意发表评论。我写DevOps，云计算，机器学习等等。博客，所以请随时关注我的媒体。</li></ul><div class="hh hi ez fb hj nd"><a href="https://www.linkedin.com/in/raktim00/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab dw"><div class="nf ab ng cl cj nh"><h2 class="bd hy fi z dy ni ea eb nj ed ef hw bi translated">Raktim Midya -微软学习学生大使(Alpha) -微软学习学生大使…</h2><div class="nk l"><h3 class="bd b fi z dy ni ea eb nj ed ef dx translated">★我是一名技术爱好者，致力于更好地理解不同热门技术领域背后的核心概念…</h3></div><div class="nl l"><p class="bd b fp z dy ni ea eb nj ed ef dx translated">www.linkedin.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr hp nd"/></div></div></a></div><p id="8188" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">感谢大家的阅读。就这样…结束…😊</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ns"><img src="../Images/5a7a34d0698d7f08687d261649b384d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r5VeD2fV04iDy8xfmaauHA.png"/></div></div></figure></div></div>    
</body>
</html>