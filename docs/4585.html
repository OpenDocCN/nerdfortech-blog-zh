<html>
<head>
<title>Data Science Series EP 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学系列 EP 1</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/data-science-series-9ae81d6f0352?source=collection_archive---------15-----------------------#2021-07-27">https://medium.com/nerd-for-tech/data-science-series-9ae81d6f0352?source=collection_archive---------15-----------------------#2021-07-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="6f3f" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">第 1 章:使用 Python 进行 Web 报废</h1><blockquote class="jd je jf"><p id="d541" class="jg jh ji jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jj hj">什么是 Web 报废？</strong></p></blockquote><p id="3dc9" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">Web 抓取是一个高效快速地自动提取数据的过程。在网络抓取的帮助下，你可以在你的电脑上从任何网站提取数据，不管数据有多大。术语<strong class="jj hj">抓取</strong>是指从另一个来源(网页)获取信息，并将其保存到本地文件中。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ki"><img src="../Images/50f2f3b8cc28d51637ac365d1723d6a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CsbCilmw0qO0tduVXdywsw.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">图片来源:【Promptcloud.com T4】</figcaption></figure><p id="b6eb" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">因此，web scraping 简化了提取数据的过程，通过自动化加快了提取速度，并通过以 CSV 格式提供废弃数据来创建对废弃数据的轻松访问。</p><p id="0a64" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">假设你正在做一个<a class="ae ky" href="http://rushichudasama.ml/" rel="noopener ugc nofollow" target="_blank">项目</a>，你需要玩家的名字、统计数据和性能细节来比较不同的玩家。如果你从不同的网站获取数据，这将花费很长时间，但在这种情况下，网络抓取会使你的工作更容易，并会引导你达到预期的结果。</p></div><div class="ab cl kz la gp lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hb hc hd he hf"><blockquote class="jd je jf"><p id="eab5" class="jg jh ji jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们开始吧</p></blockquote><p id="8584" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">例如，如果我们希望从出现在网站页面上的表中获取全部数据，我们的代码将通过这些方法进行收集:</p><ol class=""><li id="6e80" class="lg lh hi jj b jk jl jo jp kf li kg lj kh lk ke ll lm ln lo bi translated">向劳动者索取特定 URL 的内容(源代码)</li><li id="821c" class="lg lh hi jj b jk lp jo lq kf lr kg ls kh lt ke ll lm ln lo bi translated">下载返回的物质。</li><li id="ab0b" class="lg lh hi jj b jk lp jo lq kf lr kg ls kh lt ke ll lm ln lo bi translated">区分页面中对我们需要的表格很重要的部分。</li><li id="8b38" class="lg lh hi jj b jk lp jo lq kf lr kg ls kh lt ke ll lm ln lo bi translated">将这些片段集中并(如果重要的话)重新格式化成一个数据集，我们可以按照我们需要的方式进行分解或使用。</li></ol><h1 id="ea5e" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">美味的汤</h1><p id="b1c5" class="pw-post-body-paragraph jg jh hi jj b jk lu jm jn jo lv jq jr kf lw ju jv kg lx jy jz kh ly kc kd ke hb bi translated">Beautiful Soup 是一个 Python 库，用于从 HTML 和 XML 记录中提取信息。它倾向于按需使用，因为它需要一条信息(报告或 URL)来创建一个 soup 对象，因为没有其他人的帮助，它无法创建一个站点页面。您可以利用附带的 Python 内容来组合页面标题和超链接。</p><p id="585a" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">代码:-</p><p id="3859" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">如需完整代码，请查看本博客末尾的实现链接。</p><p id="c09b" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated"><strong class="jj hj">安装依赖关系:</strong></p><pre class="kj kk kl km fd lz ma mb mc aw md bi"><span id="eb51" class="me ig hi ma b fi mf mg l mh mi">!pip install requests bs4 html5lib</span></pre><p id="71c7" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated"><strong class="jj hj">设置 Chrome 驱动:</strong></p><p id="affb" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">从这个<a class="ae ky" href="https://chromedriver.chromium.org/downloads" rel="noopener ugc nofollow" target="_blank">链接</a>下载 Chrome 驱动。</p><p id="8dd1" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">解压文件，在你喜欢的地方设置文件，然后<strong class="jj hj"> <em class="ji">在环境变量中添加 PATH 变量。</em> </strong></p><p id="6eee" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">我在<strong class="jj hj">系统变量</strong>中添加了路径。</p><p id="0250" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">我在工作目录中添加了一个 chrome 驱动程序。</p><pre class="kj kk kl km fd lz ma mb mc aw md bi"><span id="98f5" class="me ig hi ma b fi mf mg l mh mi">driver = webdriver.Chrome("chromedriver")</span></pre><p id="9d9a" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">你必须添加你的 chromedriver.exe 路径</p><p id="36a8" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated"><strong class="jj hj">网页信息:</strong></p><p id="10db" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">我们在给定的<a class="ae ky" href="https://www.thestar.com.my/search/?q=HIV&amp;qsort=oldest&amp;qrec=10&amp;qstockcode=&amp;pgno=1" rel="noopener ugc nofollow" target="_blank">网站</a>上有很多关于博客的信息。我们想获取表，特别是关于主题和发布日期/时间的列。</p><p id="bd8a" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">制作一个主题和日期/时间的空列表。</p><pre class="kj kk kl km fd lz ma mb mc aw md bi"><span id="faa6" class="me ig hi ma b fi mf mg l mh mi">time = []<br/>name = []</span></pre><p id="0af5" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">将网页的 Url 添加到驱动程序中，这样我们就可以获得特定网页的源代码。</p><pre class="kj kk kl km fd lz ma mb mc aw md bi"><span id="9f85" class="me ig hi ma b fi mf mg l mh mi">driver.get(<a class="ae ky" href="https://www.thestar.com.my/search/?q=HIV&amp;qsort=oldest&amp;qrec=10&amp;qstockcode=&amp;pgno=1" rel="noopener ugc nofollow" target="_blank">"</a><a class="ae ky" href="https://www.thestar.com.my/search/?q=HIV&amp;qsort=oldest&amp;qrec=10&amp;qstockcode=&amp;pgno=1" rel="noopener ugc nofollow" target="_blank">https://www.thestar.com.my/search/?q=HIV&amp;qsort=oldest&amp;qrec=10&amp;qstockcode=&amp;pgno=1</a>")</span></pre><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mj"><img src="../Images/457c776528454236c9bb8e3cc589d273.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nFIxKWCRK41WM6ORe3o2GA.png"/></div></div></figure><p id="85f2" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated"><strong class="jj hj">刮数据:</strong></p><pre class="kj kk kl km fd lz ma mb mc aw md bi"><span id="acdb" class="me ig hi ma b fi mf mg l mh mi">content = driver.page_source<br/>soup = BeautifulSoup(content)</span></pre><p id="b997" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">首先，我们获得页面的源代码，然后创建一个漂亮的 Soup 对象，以便我们可以对它执行一些操作。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mk"><img src="../Images/92aa094c795464aaba720dfadc7115a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*7pQIYTUlPlFbCNGI5nCqCg.png"/></div></figure><p id="f6c9" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">现在我们必须知道我们要获取什么，类名是什么，什么特定的标签包含我们想要的信息。所有这些问答都可以通过<strong class="jj hj">查看网页</strong>得到。为此，你应该对 HTML 和 CSS 有一点点<strong class="jj hj">的了解。</strong></p><p id="05af" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">所以对于我们博客的数据，我们抓取了包含在<em class="ji"> ' </em>行列表-列表<em class="ji"> ' </em>类之间的整个表。Soup 有一个内置的函数 find，它将查找我们的模式的所有出现。</p><pre class="kj kk kl km fd lz ma mb mc aw md bi"><span id="881e" class="me ig hi ma b fi mf mg l mh mi">table = soup.find_all('div' , attrs={'class' : 'row list-listing'})</span></pre><p id="62d4" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">在线上方，意味着在特定的 web 页面中查找 div 标签，该页面有一个类名<em class="ji"> ' </em>行列表-列表'。</p><p id="ebc8" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">现在我们有了一个表，但是我们只想获取一些列，所以我们必须再次过滤这个表。</p><pre class="kj kk kl km fd lz ma mb mc aw md bi"><span id="c0e8" class="me ig hi ma b fi mf mg l mh mi">time = []<br/>name = []<br/>for item in soup.find_all('div' , attrs={'class' : 'row list-listing'}):<br/>   time.append(item.find('span' , attrs={'class' :        'timestamp'}).text)<br/>  name.append(item.find('h2' , attrs={'class' : 'f18'}).text)</span></pre><p id="f258" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">这里我们首先从表中取出所有数据，并制作一个列表结构 的<strong class="jj hj"> <em class="ji">列表。因此 data[0]表示博客网页上可用的表格的第一列。</em></strong></p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es ml"><img src="../Images/66fda723b5696ab3ac64d84447f80387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*fCzfq9gSGp8NF00XWdSxSw.png"/></div></figure><p id="9731" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated"><strong class="jj hj">将数据转换为熊猫数据帧:</strong></p><p id="f070" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">Pandas 是一个快速、不可思议、适应性强且易于使用的开源信息调查和控制工具，基于 Python 编程语言之上。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es mm"><img src="../Images/6145cc6a6c019ab6676ba71a01a12e4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fUO28EIHi1bkZPhjZ451tQ.jpeg"/></div></div></figure><pre class="kj kk kl km fd lz ma mb mc aw md bi"><span id="90aa" class="me ig hi ma b fi mf mg l mh mi">import pandas as pd<br/>data = pd.DataFrame({'name':name , 'timestamp':time})</span></pre><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es mn"><img src="../Images/b12595b2b353ab9876b75f75a43b5022.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*iFSjQ4XpoV6pPs5Wo0df1Q.png"/></div></figure><p id="7c9d" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated"><strong class="jj hj">将数据帧保存为 CSV: </strong></p><pre class="kj kk kl km fd lz ma mb mc aw md bi"><span id="0ef7" class="me ig hi ma b fi mf mg l mh mi">data.to_csv('blog_name_time_data.csv')</span></pre><p id="9acd" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">通过使用<strong class="jj hj"> <em class="ji"> to_csv </em> </strong>功能，我们可以将数据帧转换为 csv 文件。</p><blockquote class="jd je jf"><p id="151a" class="jg jh ji jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jj hj"> <em class="hi">代号:</em> </strong></p></blockquote><div class="mo mp ez fb mq mr"><a href="https://github.com/Rushi-45/Data-Science-Series/tree/main/Practical1" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">数据科学系列/实践 1 在主史茹-45/数据科学系列</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">在 GitHub 上创建一个帐户，为史茹-45/数据科学系列的开发做出贡献。</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">github.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf ks mr"/></div></div></a></div><blockquote class="jd je jf"><p id="2555" class="jg jh ji jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jj hj"> <em class="hi">结论:</em> </strong></p></blockquote><p id="7d6c" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">我们可以通过使用 web 抓取库(如 beautiful soup、scrappy 等)从网页中获取任何数据。在转换成 pandas 后，我们可以对该数据应用所有 Pandas 函数。</p><p id="e3c1" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">更多关于<strong class="jj hj">熊猫</strong>功能<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/reference/general_functions.html" rel="noopener ugc nofollow" target="_blank">在这里。</a></p><p id="e2cf" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated">更多关于<strong class="jj hj">美汤</strong> <a class="ae ky" href="https://beautiful-soup-4.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">在这里。</a></p><blockquote class="jd je jf"><p id="4dd5" class="jg jh ji jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jj hj"> <em class="hi">领英:</em> </strong></p></blockquote><div class="mo mp ez fb mq mr"><a href="https://www.linkedin.com/in/rushi-chudasama-63473819a/" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">印度古吉拉特邦巴鲁奇史茹楚达萨马-钱杜拜 s .帕特尔理工学院</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">在世界上最大的职业社区 LinkedIn 上查看史茹·丘达萨马的个人资料。史茹教育上市于…</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">www.linkedin.com</p></div></div><div class="na l"><div class="ng l nc nd ne na nf ks mr"/></div></div></a></div><blockquote class="jd je jf"><p id="8d44" class="jg jh ji jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jj hj"> <em class="hi">更多项目和博客:</em> </strong></p></blockquote><p id="e66a" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated"><strong class="jj hj"> <em class="ji">项目:</em> </strong></p><div class="mo mp ez fb mq mr"><a href="https://github.com/Rushi-45" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">史茹-45 -概述</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">阻止或报告隐私和安全是最大的问题，我们制作了一个 Android 应用程序，用于阻止…</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">github.com</p></div></div><div class="na l"><div class="nh l nc nd ne na nf ks mr"/></div></div></a></div><p id="0e27" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated"><strong class="jj hj">博客:</strong></p><div class="mo mp ez fb mq mr"><a rel="noopener follow" target="_blank" href="/@rushi-positive"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hj fi z dy mw ea eb mx ed ef hh bi translated">史茹中号</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">网络技术是各种各样的工具和技术，它们被用在…</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">medium.com</p></div></div><div class="na l"><div class="ni l nc nd ne na nf ks mr"/></div></div></a></div><blockquote class="jd je jf"><p id="d3a0" class="jg jh ji jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jj hj"> <em class="hi">最后注意:</em> </strong></p></blockquote><p id="c4b6" class="pw-post-body-paragraph jg jh hi jj b jk jl jm jn jo jp jq jr kf jt ju jv kg jx jy jz kh kb kc kd ke hb bi translated"><strong class="jj hj">感谢阅读！如果你喜欢这篇文章，请点击</strong>👏尽可能多的按按钮。这将意味着很多，并鼓励我继续分享我的知识。如果你喜欢我的内容，请在 medium 上关注我，我会尽可能多地发布博客。</p></div></div>    
</body>
</html>