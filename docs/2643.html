<html>
<head>
<title>Immersion Begins With Sound</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">沉浸从声音开始</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/immersion-begins-with-sound-15f247f4121e?source=collection_archive---------14-----------------------#2021-05-14">https://medium.com/nerd-for-tech/immersion-begins-with-sound-15f247f4121e?source=collection_archive---------14-----------------------#2021-05-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="a18c" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">Wwise 简介第一部分:音乐</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/64310f7a7e21e1ac0fa54366bcf04e86.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*a6D0lMSZOlh_rVx1Nf4hHA.gif"/></div></figure><p id="183e" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jn hj"> Wwise </strong>是一款<strong class="jn hj">中间件</strong>，能够与<strong class="jn hj"> Unity </strong>集成，作为<strong class="jn hj">音频引擎</strong>的替代品，能够实现更多的功能，而不必从头创建一个引擎。</p><p id="c2d8" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">对于沉浸式音频，像<strong class="jn hj"> Wwise </strong>这样的程序是非常优秀的。他们还有一个非常全面的认证计划，内容免费，非常适合让您了解它的大部分功能。</p><p id="15ee" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">让我们看看用 Unity 的内部音频引擎替换我们实现的音频引擎。他们网站上的<strong class="jn hj"> Wwise </strong>很大程度上涵盖了整合。但是需要注意的关键是创建了一个新的<strong class="jn hj">音频监听器</strong>，默认情况下，集成为<strong class="jn hj">主摄像头</strong>添加了一个<strong class="jn hj">音频监听器</strong>，在我们的例子中，这是完美的。我们需要删除默认的<strong class="jn hj"> Unity 音频监听器</strong>来解决任何问题。</p><p id="1f55" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们还需要在<strong class="jn hj"> Unity 中打开<strong class="jn hj"> Soundbank </strong>。</strong><strong class="jn hj">声音库</strong>由<strong class="jn hj">声音</strong>生成，保存我们所有的关键信息，以便在节目之间传递我们的<strong class="jn hj">音频内容</strong>。在我们的<strong class="jn hj">音色库窗口(F7) </strong>中<strong class="jn hj"> Wwise。</strong>我们可以创建一个新的<strong class="jn hj"> Soundbank，</strong>选择我们的构建平台，然后点击<strong class="jn hj"> generate all。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kj"><img src="../Images/1ead32d7ef8318ae39f8d38838130937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dhKqUDz7yMA3TYjStM56ww.png"/></div></div></figure><p id="a361" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在在<strong class="jn hj"> Unity 中，</strong>让我们加载这个<strong class="jn hj">声音库。</strong>集成默认添加的另一个东西是一个<strong class="jn hj"> WwiseGlobal 游戏对象</strong>。这是一个<strong class="jn hj">初始化脚本</strong>，我们可以添加一个<strong class="jn hj"> AkBank 脚本</strong>来加载我们的<strong class="jn hj"> Soundbank。</strong>在下拉菜单中选择它，我们要将方法上的<strong class="jn hj"> Load 设置为<strong class="jn hj"> Awake </strong>，确保取消选择<strong class="jn hj"> Start、</strong>，否则它将在两种方法上加载<strong class="jn hj"> Soundbank </strong>。我们使用<strong class="jn hj">唤醒</strong>，因为它是在<strong class="jn hj">开始之前被调用的，</strong>并且我们的一些声音会想要在<strong class="jn hj">开始时被调用，</strong>如果我们没有完成<strong class="jn hj">声音库的加载，这些声音就不会工作。</strong></strong></p><p id="7c9a" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在，让我们只使用相同的占位符音效来实现功能，就像简单形状的原型一样。一旦一切正常，我们可以在以后添加更多的音效。</p><p id="95b1" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">首先，让我们添加背景音乐。在<strong class="jn hj"> Wwise 中，</strong>我们创建了<strong class="jn hj">事件</strong>，其中包含了我们想要为我们的音频调用的各种函数，最常见的是一个简单的<strong class="jn hj">播放</strong>函数。为了从<strong class="jn hj"> Unity 调用这个函数，</strong>我们可以添加一个<strong class="jn hj"> AKEvent 脚本</strong>到我们的<strong class="jn hj">背景音乐游戏对象中。</strong>这样做会要求我们添加一个<strong class="jn hj">刚体</strong>，这样我们的<strong class="jn hj">监听器</strong>就可以进行交互。现在我们可以将触发器设置为<strong class="jn hj"> Start。</strong></p><p id="ec43" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">让我们跳到<strong class="jn hj">wise</strong>并创建我们的第一个<strong class="jn hj">事件。</strong>在<strong class="jn hj">项目浏览器窗口中，</strong>让我们在<strong class="jn hj">交互式音乐层级下添加一个新的<strong class="jn hj">工作单元</strong>。让我们在其中添加一个<strong class="jn hj">音乐播放列表容器</strong>，这样如果我们将来选择，我们可以创建一个音乐播放序列。现在在其中，我们可以<strong class="jn hj">导入</strong>我们的<strong class="jn hj">背景音乐</strong>，这将在<strong class="jn hj">音乐片段</strong>对象中创建一个<strong class="jn hj">音乐轨道</strong>对象。</strong></p><p id="030c" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果我们打开<strong class="jn hj">交互式音乐布局(F10) </strong>并选择我们的<strong class="jn hj">播放列表容器，</strong>我们可以在屏幕底部看到一个编辑器。在这里，让我们添加我们的<strong class="jn hj">音乐片段，</strong>现在我们可以让它作为<strong class="jn hj">序列连续，</strong>但使用播放列表可以让我们随机播放不同的片段。我们希望背景音乐循环播放，因此将<strong class="jn hj">循环计数</strong>设置为<strong class="jn hj">无限。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ko"><img src="../Images/abf0472f0f9e9bdb6c759f76ef14928e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*graaew2SRXayqiXytlRyxw.png"/></div></div></figure><p id="c0d4" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果我们在<strong class="jn hj">项目浏览器中切换到<strong class="jn hj">事件标签</strong>，我们可以为<strong class="jn hj">音乐</strong>创建一个新的<strong class="jn hj">工作单元</strong>，然后在其中我们可以创建一个新的<strong class="jn hj">事件。</strong>如果我们选择新事件，切换回<strong class="jn hj">音频选项卡</strong>，我们可以简单地将<strong class="jn hj">播放列表容器</strong>拖放到<strong class="jn hj">事件编辑器窗口中。</strong>默认情况下，这将创建一个<strong class="jn hj">播放功能。</strong></strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ko"><img src="../Images/bdfb6306193922149488520c5dabe011.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KHCuMmPHt8CmhqptNo0gsA.png"/></div></div></figure><p id="38da" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">最后，我们需要将这个<strong class="jn hj">事件</strong>添加到我们的<strong class="jn hj">声音库</strong>中，这样它就可以被加载到<strong class="jn hj"> Unity 中。</strong>如果我们点击<strong class="jn hj"> F7 </strong>返回到我们的<strong class="jn hj">音色库布局，</strong>我们会在屏幕底部看到一个编辑器。只需将我们的<strong class="jn hj">事件</strong>拖放到该窗口中，然后重新生成<strong class="jn hj">声音库。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ko"><img src="../Images/17a4fe8b9ce689b40dde8761c3ff03a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r8udxmHipSQw2gWUEbdXCw.png"/></div></div></figure><p id="e752" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">如果我们回到<strong class="jn hj"> Unity </strong>，我们现在可以在我们的<strong class="jn hj">背景音乐游戏对象上选择<strong class="jn hj">事件</strong>。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kp"><img src="../Images/4ac04000ba003a758f1ddfad38631345.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*oXv0ALqmBmvy5jhJ8vos-w.png"/></div></figure><p id="b8a4" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在，当我们开始游戏时，<strong class="jn hj"> Unity </strong>将从<strong class="jn hj"> Wwise、</strong>加载<strong class="jn hj"> Soundbank </strong>，而<strong class="jn hj"> BGM 游戏对象</strong>将调用<strong class="jn hj">背景音乐事件，</strong>我们应该听到音乐！</p><p id="6acb" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">当我们重新开始游戏时会发生什么呢？在<strong class="jn hj"> Unity </strong>中，我们所有的游戏物体都在重装一个场景时被摧毁。这将删除我们的<strong class="jn hj">音频源</strong>，并因此停止我们的<strong class="jn hj">背景音乐。</strong>使用<strong class="jn hj"> Wwise 集成，</strong> <strong class="jn hj">事件的</strong>独立于<strong class="jn hj"> Unity 游戏对象运行。</strong>所以当我们重新加载场景时，我们的<strong class="jn hj">播放背景音乐事件</strong>的第二个实例被调用。</p><p id="1649" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们有很多方法可以做到这一点，<strong class="jn hj">单线图</strong>在场景之间保持某些元素活跃是很常见的。但是一个快速简单的方法是在<strong class="jn hj"> Wwise 中创建另一个<strong class="jn hj">事件</strong>。</strong>我们可以调用的功能之一是<strong class="jn hj">停止</strong>，如果我们拖放我们的<strong class="jn hj">背景音乐播放列表</strong>，那个播放列表就会停止。简单对！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ko"><img src="../Images/49fe16975398426bead65ad48388a6ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1WX0xHTDyY1fpm5qyijrcw.png"/></div></div></figure><p id="4ac3" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在我们可以创造另一把 AK。Wwise.Event 变量并在<strong class="jn hj">公共方法</strong>中触发它，该方法由我们的<strong class="jn hj">游戏管理器</strong>在我们的<strong class="jn hj"> GameOver 方法中调用。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kq"><img src="../Images/6158e278839d335c195044bc9f953c23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GxSiPYhhU0_95XSGhSjEiA.png"/></div></div></figure><p id="860b" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">当我们输掉游戏时，我们的<strong class="jn hj">背景音乐</strong>现在停止，重新启动时，<strong class="jn hj">音乐</strong>再次开始播放。对于任何有鹰眼的人来说，你可能会注意到我的<strong class="jn hj"> StopMusic 事件中有一个<strong class="jn hj">渐变时间</strong>，</strong>允许我们在失败时有一个更好的放松，并为我们重新开始演奏做一个更好的过渡。</p></div></div>    
</body>
</html>