<html>
<head>
<title>Callbacks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">复试</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/callbacks-e11f69a216bd?source=collection_archive---------4-----------------------#2022-03-05">https://medium.com/nerd-for-tech/callbacks-e11f69a216bd?source=collection_archive---------4-----------------------#2022-03-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0c02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">距离我上一篇博客出来已经很久了；我被一些个人工作困住了，无法继续经营下去。但是现在，我又为深度学习链带来了一个令人兴奋的话题，这是我们开始的。我们来看看什么是回调。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/a7227dff8146c0ca593c678b4523dcd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*baT4cbW_XGvD5SS002x4cQ.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://www.viatech.com/en/news/" rel="noopener ugc nofollow" target="_blank"> VIA News </a>人工智能、机器学习、深度学习、计算机视觉……有什么区别？</figcaption></figure><blockquote class="ju jv jw"><p id="4116" class="if ig jx ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">回调通常是在深度学习模型的训练之间使用或执行的功能。</p></blockquote><p id="7e29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你们阅读我以前的文章时，你们知道训练深度学习模型的基本步骤。随着数据量的增加，训练可能会很乏味，甚至会比平时花费更多的时间。通常，我们在事先训练模型时提供所有需要的参数，并且不暂停或中断训练过程。但这不是一个通用的方法；如果某个参数没有按照我们要求的结果执行，我们就不能再次训练整个模型。因此，我们在训练时使用回调在不同的时间插入一些参数。</p><p id="8b11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">顾名思义，回调函数回调特定的函数，并根据期望的变化重新建模流程。这不是很有趣而且很有帮助吗？我发现这些功能非常有用，我相信你也会如此。</p><p id="0c12" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用这些回调很简单；你需要给他们打电话，而你适合各自的模型。另外，不要忘记首先定义特定的回调。有了<a class="ae jt" href="https://www.tensorflow.org/api_docs" rel="noopener ugc nofollow" target="_blank"> Tensorflow </a>，我们得到很多有价值的回调。让我们详细地看看每一个。</p><h1 id="dd59" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">张量流回调类型:</strong></h1><h2 id="d66f" class="kz kc hi bd kd la lb lc kh ld le lf kl iq lg lh kp iu li lj kt iy lk ll kx lm bi translated"><a class="ae jt" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/EarlyStopping" rel="noopener ugc nofollow" target="_blank">提前停止</a></h2><p id="a3eb" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">顾名思义，我们经常利用这一点在训练结束前停止训练。当性能统计数据不再改善时，可以使用这种方法来中断。例如，如果您训练一个深度学习模型，并且没有看到您使用的指标有任何改进，则可能需要一些<a class="ae jt" href="https://en.wikipedia.org/wiki/Hyperparameter_(machine_learning)" rel="noopener ugc nofollow" target="_blank">超参数</a>调整，这种回调将停止训练并节省我们的时间。此回调的重要参数是:</p><ul class=""><li id="8da4" class="ls lt hi ih b ii ij im in iq lu iu lv iy lw jc lx ly lz ma bi translated">监控(要监控的数量)。</li><li id="5556" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">min_delta(符合改善条件的监控量的最小变化)。</li><li id="5b54" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">耐心(训练结束后没有改善的次数)。</li><li id="e73a" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">基线(监控量的基线值，如果监控量没有改善，则应停止训练)。</li></ul><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mg mh l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">提前停止回调</figcaption></figure><h2 id="80cc" class="kz kc hi bd kd la lb lc kh ld le lf kl iq lg lh kp iu li lj kt iy lk ll kx lm bi translated"><a class="ae jt" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/LearningRateScheduler" rel="noopener ugc nofollow" target="_blank">学习率调度器</a></h2><p id="9867" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">培训过程中最常见的工作之一是改变学习率。我们通常在模型接近损失最小(最佳拟合)时开始降低学习速率，以确保更好的收敛性。我们可以使用这种方法来安排自然学习率。在培训中，我们可以自动执行程序并调整费率。在使用这种类型时，只有一个参数:schedular(一个通过将当前历元和学习率作为输入给你一个新的学习率的函数)。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mg mh l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">具有调度功能的学习率调度器</figcaption></figure><h2 id="8e32" class="kz kc hi bd kd la lb lc kh ld le lf kl iq lg lh kp iu li lj kt iy lk ll kx lm bi translated"><a class="ae jt" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/ModelCheckpoint" rel="noopener ugc nofollow" target="_blank">模型检查站</a></h2><p id="f8d7" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">这种特定的类型用于在不同的时间间隔保存模型。<br/>换一种说法；我们可以利用这一点来保存我们希望的任何阶段的模型权重，然后可以在未来的计算中使用。<br/>我们不必再次训练模型，因为如果第一次运行良好，我们将重用相同的模型值。file_path(保存我们的模型的完整路径)、monitor(需要观察的度量)和save_best_only(如果为True，则保存最佳模型，根据监视的度量来考虑)都是这个模型的关键输入。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mg mh l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">模型检查点回调</figcaption></figure><h2 id="eb69" class="kz kc hi bd kd la lb lc kh ld le lf kl iq lg lh kp iu li lj kt iy lk ll kx lm bi translated"><a class="ae jt" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/CSVLogger" rel="noopener ugc nofollow" target="_blank">日志CSV </a></h2><p id="599b" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">logCSV回调是另一个有用的回调；它允许我们在每个时期后保存所有日志，同时将训练保存在一个<a class="ae jt" href="https://en.wikipedia.org/wiki/Comma-separated_values" rel="noopener ugc nofollow" target="_blank"> CSV </a>文件中，以便以后使用。这个方法很容易使用，只有三个参数:filename(保存所有日志的CSV文件的名称)、separator(用于分隔CSV文件中元素的字符串)和append(用于检查相应文件是否存在，并覆盖现有文件)。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mg mh l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">LogCSV回调</figcaption></figure><h2 id="b908" class="kz kc hi bd kd la lb lc kh ld le lf kl iq lg lh kp iu li lj kt iy lk ll kx lm bi translated"><a class="ae jt" href="https://www.tensorflow.org/api_docs/python/tf/keras/callbacks/Callback" rel="noopener ugc nofollow" target="_blank">自定义回调</a></h2><p id="94c8" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">最后但同样重要的是，最有用的TensorFlow提供了自定义回调方法，允许我们为任何特定目的设计回调。例如，在对图像数据进行训练时，我们可以创建一个回调来预测每个时期后的输出，以查看我们的模型的执行情况。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mg mh l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">为上述示例设计的自定义回调</figcaption></figure><p id="ca4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">调用所有这些回调是不够的；我们还必须在训练时发送单独的命令来执行它们。所有与培训相关的订单都在<a class="ae jt" href="https://www.tensorflow.org/api_docs/python/tf/keras/Sequential#fit" rel="noopener ugc nofollow" target="_blank"> model.fit </a>功能中交付；因此，我们需要在回调函数中再次调用所有指定的回调函数。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mg mh l"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">插入回调后的model.fit函数</figcaption></figure><h1 id="9693" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">结论</h1><p id="7303" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">我们讨论了回调以及它们如何在训练深度学习模型时发挥至关重要的作用。我们进一步详细讨论了一些有用的回调，并理解了它们的工作原理。我们还看到了每个回调的重要参数，我希望现在你知道什么是回调，以及我们如何使用它们。</p></div><div class="ab cl mi mj gp mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="hb hc hd he hf"><p id="c733" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从现在开始，我会试着定期更新博客，并很快开始一个新的系列，所以保持联系，获得更多快乐的学习！！</p></div></div>    
</body>
</html>