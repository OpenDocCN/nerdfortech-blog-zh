<html>
<head>
<title>Prototypal Inheritance in Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript中的原型继承</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/prototypal-inheritance-in-javascript-b41c7dba8c79?source=collection_archive---------11-----------------------#2021-04-15">https://medium.com/nerd-for-tech/prototypal-inheritance-in-javascript-b41c7dba8c79?source=collection_archive---------11-----------------------#2021-04-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div class="er es hg"><img src="../Images/3eaddd7ac5e86471dffa6d2ce0bb6cb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*Z8xjvauDtka_1RLEglvdQw.jpeg"/></div><figcaption class="hn ho et er es hp hq bd b be z dx translated"><a class="ae hr" href="https://dr5dymrsxhdzh.cloudfront.net/blog/images/a038679a4/2018/04/rsz_istock-181899228.jpg" rel="noopener ugc nofollow" target="_blank">嗯嗯嗯</a></figcaption></figure><div class=""/><p id="9bef" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">不管我的简历怎么说，关于Javascript有很多东西我并不真正了解。我经常看到“单子”这个词。不太确定这个“垃圾收集者”是如何谈论作品的(也许如果我给它带一瓶佳得乐？).JS有类型化数组？</p><p id="64c4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">在这种编程语言的所有谜团中，最神秘的是原型。我不断看到原型无处不在，我不知道这意味着什么。所以在本周的博客中，我将谈论Javascript中的原型和继承。</p><h2 id="b0bd" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj bi translated">什么是原型？</h2><p id="6c30" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hb bi translated">在Javascript中，原型是其他对象和数据结构从中提取特征的对象。函数、数组、对象、字符串、甚至数字都有原型，尽管出于某种我不知道的原因，你不能在<code class="du kp kq kr ks b">2</code>上调用<code class="du kp kq kr ks b">__proto__</code>。另外,<code class="du kp kq kr ks b">__proto__</code>是一个现在不推荐使用的表达，用于查看对象的原型对象。</p><p id="a217" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">Javascript被广泛认为是一种“基于原型”的语言。为了继承方法和属性，对象有一个原型对象作为模板。</p><p id="e38a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">我听过一个很好的例子，将原型遗传等同于在学校借一支铅笔，这是我们许多在美国公立学校系统(也许在其他地方)的人都做过的事情。假设你在一个班里，比如世界史，老师给每个人发了一张登记表，让他们选择一个国家进行研究。你拿到了报名表，但是啊哦，你没有钢笔或铅笔。于是你拍了拍坐在你旁边的朋友的肩膀，说:“嘿，我能借你的铅笔吗？我今天忘了带，但我发誓我明天会带一支的，直到永远，哈哈。”你的朋友畏缩着说:“哦，伙计，我真希望你没这么说，因为实际上我也没有铅笔，我本来想等单子到了再问你的。等一下……”你的朋友拍了拍另一个朋友的肩膀，重复了这个问题，那个朋友说“哦，好的，做完了就还给我”，然后嗖嗖嗖你的朋友拿起铅笔，递给你，现在你们都报名去意大利了。</p><p id="9a57" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">希望这是不言自明的，但是在上面的例子中，你用Javascript表示一个对象。你的朋友和另一个朋友是我们称之为<strong class="it hv">原型链</strong>上的对象，而梦寐以求的铅笔是通过链传递给你的功能。</p><p id="0f35" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这也适用于属性。比方说，如果老师叫你，问你几年级了，而你有一个<a class="ae hr" href="https://en.wikipedia.org/wiki/Freaky_Friday_(2003_film)" rel="noopener ugc nofollow" target="_blank">辣妈辣妹</a>类型的一天，你实际上是另一个人，不记得了，你可以用恳求的眼神看着班上的其他人，希望他们会给你机会说“兄弟，你忘了你是10年级了吗？？?"财产。</p><p id="658e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果他们是你的原型。奇怪的类比，但是很好。</p><figure class="ku kv kw kx fd hk"><div class="bz dy l di"><div class="ky kz l"/></div></figure><p id="1798" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">下面是前一个例子的一小段代码。我的朋友“Thomson”拥有<code class="du kp kq kr ks b">pencilAccess</code>函数和<code class="du kp kq kr ks b">grade</code>属性。在第14行，我使用了一个函数<code class="du kp kq kr ks b">setPrototypeOf</code>(它本身是<code class="du kp kq kr ks b">Object</code>原型上的一个函数)来设置good ol' Thomson作为我的原型。这样我可以用他的铅笔，他可以提醒我我们在几年级。</p><p id="bfaa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">前提是我们在同一个年级。</p><h2 id="32fd" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj bi translated">我为什么要关心原型？</h2><p id="bf19" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hb bi translated">当我观看视频、阅读文章和解析文档时，一个问题一直困扰着我:好吧，那又怎样？我知道每当我需要被提醒<code class="du kp kq kr ks b">splice</code>函数如何在数组上工作时，我会在页面的顶部看到“Array.prototype ”,或者当我检查或记录一些东西时，我可能会看到类似于<code class="du kp kq kr ks b">.__proto__</code>的东西，但是我为什么要关心呢？</p><ol class=""><li id="5170" class="la lb hu it b iu iv iy iz jc lc jg ld jk le jo lf lg lh li bi translated">正如我之前所说，Javascript被描述为一种“基于原型”的语言。为了全面了解这些工具，了解Javascript基于什么可能是个好主意。同样，如果发生了错误，可能与原型有关？值得一试。</li><li id="9af1" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li bi translated">学习原型继承会导致学习一般编程中的继承，一个常见的主题是使用类继承，而不是本文的主题。因此，让我们来讨论一下我学到了什么。</li></ol><p id="e0fd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">您可能知道，面向对象编程语言依赖于类。一个类经常被比作一张蓝图。使用它，您可以创建对象的新实例，这些实例具有在该对象的蓝图中定义的属性和方法，该对象是它的类。让我们来看另一个(老生常谈的)例子！</p><p id="86b9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">假设你正在为一个客户工作，他想在一个应用程序中制作动物模型。你首先创建一个猫类，并定义一些猫可以做的事情，比如喵，或者是繁殖，诸如此类。然后，你继续创建一个狗类，yadda yadda狗叫猫喵，但你意识到，有一些事情，猫和狗都做，客户希望包括像吃饭，或者可能嗯洗澡什么的。所以你创建了一个动物类，这些函数对两者都很重要，你说猫和狗是从动物类继承来的。太好了。</p><p id="f709" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">但是现在客户回来了，说“嘿，到目前为止干得不错。事情正在发生变化，我们希望用户现在就能看到机器动物。”这给你的类的结构带来了一些问题，因为机器狗不需要吃东西。这是一个机器人，也许它需要加油或润滑，我不知道。所以，也许你也创建了一个机器动物类，但是你意识到狗和机器狗都需要使用吠叫功能。可以这么说，随着应用程序的增长，为基于类的继承所做的决定并不是最灵活的，并且会使开发人员编写冗余、低效的代码。</p><p id="a07c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">此外，当一个类从另一个类继承时，父类的所有方法都会传递给子类。这就是为什么我阅读的许多文章都提到了所谓的“香蕉问题”。问题是，根据经典遗传，当你想要一个香蕉时，你会得到那个香蕉，但你也经常会得到拿着香蕉的大猩猩以及周围的丛林。</p><p id="2fb1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这是为什么学习原型和继承很酷的一个例子。与前面的pencil示例一样，使用原型继承，对象不需要携带它所继承的对象的每个方法和属性。如果它需要访问，它可以沿着原型链(相互继承的对象层次结构)向上，找到并使用那个特性。</p><p id="f264" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">同样值得注意的是，虽然这比传统的继承更有效，更经得起未来的考验，但理想的解决方案是使用<a class="ae hr" href="https://en.wikipedia.org/wiki/Composition_over_inheritance" rel="noopener ugc nofollow" target="_blank">对象组合</a>，这超出了本文的范围，但在这个可爱的视频中有愉快的解释:</p><figure class="ku kv kw kx fd hk"><div class="bz dy l di"><div class="lo kz l"/></div></figure><h2 id="5e6b" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj bi translated">走向</h2><p id="fc58" class="pw-post-body-paragraph ir is hu it b iu kk iw ix iy kl ja jb jc km je jf jg kn ji jj jk ko jm jn jo hb bi translated">这是原型的基础，也是Javascript中继承工作的方式。还有很多东西需要学习:对象创建方式的细微差别和变化、<code class="du kp kq kr ks b">this</code>关键字、Javascript中相对较新的<code class="du kp kq kr ks b">class</code>关键字(老实说看起来有点傻)以及对象的构造函数。当我在Mozilla文档中看到prototype这个词时，我真的不想这么困惑。我非常感谢一些资源帮助我更好地理解这个话题，所以我将把它们贴在下面。希望这有所帮助！</p><h2 id="2002" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj bi translated">其他资源</h2><ol class=""><li id="a4d0" class="la lb hu it b iu kk iy kl jc lp jg lq jk lr jo lf lg lh li bi translated"><a class="ae hr" href="https://www.youtube.com/watch?v=GhbhD1HR5vk&amp;list=PL0zVEGEvSaeHBZFy6Q8731rcwk0Gtuxub" rel="noopener ugc nofollow" target="_blank">关于用Javascript创建对象的伟大系列</a></li><li id="f842" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li bi translated"><a class="ae hr" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain" rel="noopener ugc nofollow" target="_blank"> Mozilla关于继承和原型链的文档</a></li><li id="8421" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li bi translated"><a class="ae hr" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes" rel="noopener ugc nofollow" target="_blank"> Mozilla doc关于对象原型哈哈</a></li></ol></div></div>    
</body>
</html>