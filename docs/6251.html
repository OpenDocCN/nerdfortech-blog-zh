<html>
<head>
<title>Custom Service Worker in any app with esbuild</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 esbuild 的任何应用程序中的自定义服务人员</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/custom-service-worker-in-any-app-with-esbuild-6b5a8a20fa12?source=collection_archive---------3-----------------------#2022-01-23">https://medium.com/nerd-for-tech/custom-service-worker-in-any-app-with-esbuild-6b5a8a20fa12?source=collection_archive---------3-----------------------#2022-01-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="298d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最近，我一直在探索在 web 应用程序中使用服务人员。用例包括<a class="ae jd" href="https://docs.layer0.co/guides/prefetching" rel="noopener ugc nofollow" target="_blank">大规模预取内容</a>、<a class="ae jd" href="https://www.builder.io/blog/how-we-cut-99-percent-js-with-qwik-and-partytown" rel="noopener ugc nofollow" target="_blank">加速你的网站</a>、<a class="ae jd" href="https://dexecure.com/blog/beyond-offline-other-interesting-use-cases-for-service-workers-2/#automated-failover" rel="noopener ugc nofollow" target="_blank">处理故障转移</a>等等。我不断面临的一个问题是需要根据框架调整我的服务人员，以后不会了。下面让我们看看我上周挖到了什么金子👇🏻</p></div><div class="ab cl je jf gp jg" role="separator"><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj jk"/><span class="jh bw bk ji jj"/></div><div class="hb hc hd he hf"><h1 id="85f3" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">从哪里开始的？</h1><p id="6efb" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">我试图用 Angular 11 建立一个定制的服务工作者，向导<a class="ae jd" href="https://angular.io/guide/service-worker-getting-started" rel="noopener ugc nofollow" target="_blank">https://angular.io/guide/service-worker-getting-started</a>让我安装 angular/pwa 模块，阅读<a class="ae jd" href="https://angular.io/guide/service-worker-communications" rel="noopener ugc nofollow" target="_blank">https://angular.io/guide/service-worker-communications</a>然后适应 Angular 创建服务工作者的方式。嗯，对我来说似乎有很多工作要做，所以我开始创建一个框架无关的过程来添加一个定制服务人员。回想起来，我认为 Vue 2 和 Vue 3 的<a class="ae jd" href="https://rishi.app/blog/enabling-service-worker-with-vue-2-and-vue-3" rel="noopener ugc nofollow" target="_blank">要简单得多，但感觉像是一种黑客的方式。</a></p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es ko"><img src="../Images/5ff3c3d6a23b1e286816521310af8ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iY0CHjoKab0xO52Kt3nPiw.jpeg"/></div></div><figcaption class="la lb et er es lc ld bd b be z dx translated">(什么是<a class="ae jd" href="https://blog.sessionstack.com/how-javascript-works-service-workers-their-life-cycle-and-use-cases-52b19ad98b58" rel="noopener ugc nofollow" target="_blank">服务人员</a>？)</figcaption></figure><h1 id="36d9" class="jl jm hi bd jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki bi translated">给我看看解决方案！</h1><p id="5683" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">步骤 0。安装<a class="ae jd" href="https://esbuild.github.io/getting-started/#install-esbuild" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> esbuild </strong> </a></p><p id="3f4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一步。创建<strong class="ih hj"> workbox-config.js: </strong></p><p id="c9a7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">点击此处了解更多有关工具箱配置的信息:</p><figure class="kp kq kr ks fd kt"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="7add" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二步。创建<strong class="ih hj"> compile_sw.js: </strong></p><figure class="kp kq kr ks fd kt"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="4be1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三步。<strong class="ih hj">编译注入:</strong></p><figure class="kp kq kr ks fd kt"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="0a23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第四步。<strong class="ih hj">登记服务人员</strong> ✨</p><figure class="kp kq kr ks fd kt"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="38b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就这些，好好享受吧！希望这有帮助！</p><h1 id="cf2c" class="jl jm hi bd jn jo le jq jr js lf ju jv jw lg jy jz ka lh kc kd ke li kg kh ki bi translated"><strong class="ak">参考文献</strong></h1><ul class=""><li id="64b4" class="ll lm hi ih b ii kj im kk iq ln iu lo iy lp jc lq lr ls lt bi translated"><a class="ae jd" href="https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin" rel="noopener ugc nofollow" target="_blank">https://developers . Google . com/web/tools/work box/modules/work box-web pack-plugin</a></li><li id="066f" class="ll lm hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated"><a class="ae jd" href="https://github.com/evanw/esbuild/issues/466" rel="noopener ugc nofollow" target="_blank">https://github.com/evanw/esbuild/issues/466</a></li><li id="d947" class="ll lm hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated"><a class="ae jd" href="https://github.com/evanw/esbuild/issues/12" rel="noopener ugc nofollow" target="_blank">https://github.com/evanw/esbuild/issues/12</a></li><li id="5493" class="ll lm hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated">【https://github.com/evanw/esbuild/issues/69 T2】号</li><li id="4765" class="ll lm hi ih b ii lu im lv iq lw iu lx iy ly jc lq lr ls lt bi translated">【https://github.com/evanw/esbuild/issues/312 T4】</li></ul></div></div>    
</body>
</html>