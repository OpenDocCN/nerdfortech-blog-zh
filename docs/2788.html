<html>
<head>
<title>Deep Learning based Human Pose Estimation using OpenCV and MediaPipe</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于深度学习的OpenCV和MediaPipe人体姿态估计</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/deep-learning-based-human-pose-estimation-using-opencv-and-mediapipe-d0be7a834076?source=collection_archive---------1-----------------------#2021-05-20">https://medium.com/nerd-for-tech/deep-learning-based-human-pose-estimation-using-opencv-and-mediapipe-d0be7a834076?source=collection_archive---------1-----------------------#2021-05-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b7de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">人体姿态估计媒体管道库指南</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/810483adb584dce4c7dac860d8f190b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g6jzfBrE7cFPGHsLmtSdyw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">无背景情况下的姿态估计结果。</figcaption></figure><p id="69fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">计算机视觉中最困难的任务之一是确定人体的高自由度配置，包括所有的肢体、复杂的自遮挡、自相似的部分以及由于服装、体型、照明和许多其他因素造成的巨大变化。人体姿态估计的问题可以定义为预测各种人体关键点(关节和标志)的位置的计算机视觉技术，这些关键点例如肘、膝、颈、肩、髋、胸等。在今天的文章中，我们将了解使用MediaPipe和OpenCV库的基于深度学习的人体姿态估计。</p><h1 id="fa2f" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">目录</h1><ul class=""><li id="e939" class="kr ks hi ih b ii kt im ku iq kv iu kw iy kx jc ky kz la lb bi translated">什么是MediaPipe？</li><li id="3a94" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">姿态估计问题</li><li id="5b28" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">实施解决方案</li><li id="e623" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">有用的链接</li></ul><h1 id="65c5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">什么是MediaPipe？</h1><p id="b597" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">Mediapipe是一个框架，主要用于构建多模态音频、视频或任何时间序列数据。在MediaPipe框架的帮助下，可以构建令人印象深刻的ML管道，例如TensorFlow、TFLite等推理模型，以及媒体处理函数。</p><blockquote class="lk ll lm"><p id="3fc3" class="if ig ln ih b ii ij ik il im in io ip lo ir is it lp iv iw ix lq iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>你甚至不需要GPU来运行MediaPipe的实验，因为今天的集成显卡和CPU很适合这个解决方案。从逻辑上讲，FPS将比使用GPU低得多。</p></blockquote><p id="a266" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">MediaPipe在<a class="ae lr" href="https://pypi.org/project/mediapipe/" rel="noopener ugc nofollow" target="_blank"> PyPI </a>上以预建Python包的形式提供可定制的Python解决方案，可以简单地用<code class="du ls lt lu lv b">pip install mediapipe</code>安装。它还为用户提供了构建自己的解决方案的工具。更多信息请参见Python 中的<a class="ae lr" href="https://google.github.io/mediapipe/getting_started/python" rel="noopener ugc nofollow" target="_blank"> MediaPipe。</a></p><p id="b020" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ML的媒体管道解决方案:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/10f8c717326823dbd92fe8ca4eda1921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*--g79ylAWbnOPrWFcB2G5w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">MediaPipe覆盖的ML解决方案。(来源:<a class="ae lr" href="https://google.github.io/mediapipe/solutions/pose.html" rel="noopener ugc nofollow" target="_blank">https://google.github.io/mediapipe/solutions/pose.html</a>)</figcaption></figure><h1 id="baf5" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">姿态估计问题</h1><p id="e789" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">视频中的人体姿态估计在各种应用中起着至关重要的作用，例如<a class="ae lr" href="https://google.github.io/mediapipe/solutions/pose_classification.html" rel="noopener ugc nofollow" target="_blank">量化体育锻炼</a>、手语识别和全身手势控制。例如，它可以形成瑜伽、舞蹈和健身应用的基础。它还可以在增强现实中实现数字内容和信息在物理世界之上的叠加。MediaPipe Pose是一个用于高保真身体姿势跟踪的ML解决方案，利用我们的<a class="ae lr" href="https://ai.googleblog.com/2020/08/on-device-real-time-body-pose-tracking.html" rel="noopener ugc nofollow" target="_blank"> BlazePose </a>研究从RGB视频帧中推断出全身的33个3D地标，该研究也为<a class="ae lr" href="https://developers.google.com/ml-kit/vision/pose-detection" rel="noopener ugc nofollow" target="_blank"> ML套件姿势检测API </a>提供了动力。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lx"><img src="../Images/5603ec9c41cc33ad8c25372caf4b6744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JJCbfzhTySIqKr1L5pDkpQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">MediaPipe识别的地标。(来源:<a class="ae lr" href="https://google.github.io/mediapipe/solutions/pose.html" rel="noopener ugc nofollow" target="_blank">https://google.github.io/mediapipe/solutions/pose.html</a>)</figcaption></figure><h1 id="166d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">实施解决方案</strong></h1><h2 id="e1e6" class="ly ju hi bd jv lz ma mb jz mc md me kd iq mf mg kh iu mh mi kl iy mj mk kp ml bi translated">要求</h2><p id="50b8" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">对于这个项目，我使用Python和Anaconda Env并使用了下面的库:</p><pre class="je jf jg jh fd mm lv mn mo aw mp bi"><span id="00f2" class="ly ju hi lv b fi mq mr l ms mt"># Using conda<br/>conda install -c conda-forge opencv</span><span id="0c0b" class="ly ju hi lv b fi mu mr l ms mt"># Using pip<br/>pip install mediapipe</span></pre><h2 id="9ee9" class="ly ju hi bd jv lz ma mb jz mc md me kd iq mf mg kh iu mh mi kl iy mj mk kp ml bi translated">创建姿势估计器类</h2><p id="ae60" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">让我们创建一个python类来估计姿态，这个类还可以用于任何与姿态估计相关的项目。此外，在网络摄像头的帮助下，您可以实时使用它。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mv mw l"/></div></figure><h2 id="9d43" class="ly ju hi bd jv lz ma mb jz mc md me kd iq mf mg kh iu mh mi kl iy mj mk kp ml bi translated">做出预测</h2><p id="eae3" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">由于我们在上面的文件中创建了一个类，我们将在另一个文件中使用它来对视频进行预测。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mv mw l"/></div></figure><p id="4882" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在只需运行以下命令:</p><pre class="je jf jg jh fd mm lv mn mo aw mp bi"><span id="7c8c" class="ly ju hi lv b fi mq mr l ms mt">python detector.py -i videos/input_video.mp4 -o videos/output_video.mp4 -b False</span></pre><blockquote class="lk ll lm"><p id="6c46" class="if ig ln ih b ii ij ik il im in io ip lo ir is it lp iv iw ix lq iz ja jb jc hb bi translated"><strong class="ih hj">注意:</strong>完整的代码和需求可以在我的GitHub上找到，可以在有用的链接上找到。</p></blockquote><h2 id="3274" class="ly ju hi bd jv lz ma mb jz mc md me kd iq mf mg kh iu mh mi kl iy mj mk kp ml bi translated">结果</h2><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="mx mw l"/></div></figure><h1 id="7634" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">有用的链接</h1><div class="my mz ez fb na nb"><a href="https://github.com/arthurfortes/pose_estimation" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab dw"><div class="nd ab ne cl cj nf"><h2 class="bd hj fi z dy ng ea eb nh ed ef hh bi translated">艺术/姿态_估计</h2><div class="ni l"><h3 class="bd b fi z dy ng ea eb nh ed ef dx translated">在GitHub上创建一个帐户，为arthurfortes/pose_estimation开发做贡献。</h3></div><div class="nj l"><p class="bd b fp z dy ng ea eb nh ed ef dx translated">github.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np jn nb"/></div></div></a></div><div class="my mz ez fb na nb"><a href="https://mediapipe.dev/" rel="noopener  ugc nofollow" target="_blank"><div class="nc ab dw"><div class="nd ab ne cl cj nf"><h2 class="bd hj fi z dy ng ea eb nh ed ef hh bi translated">中间管道</h2><div class="ni l"><h3 class="bd b fi z dy ng ea eb nh ed ef dx translated">内置的快速ML推理和处理甚至在通用硬件上加速了跨Android的统一解决方案…</h3></div><div class="nj l"><p class="bd b fp z dy ng ea eb nh ed ef dx translated">mediapipe.dev</p></div></div><div class="nk l"><div class="nq l nm nn no nk np jn nb"/></div></div></a></div></div></div>    
</body>
</html>