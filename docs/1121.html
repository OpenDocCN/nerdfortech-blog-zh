<html>
<head>
<title>Breaking Down JavaScript Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分解JavaScript函数</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/breaking-down-javascript-functions-5be9b9fba96d?source=collection_archive---------10-----------------------#2021-03-05">https://medium.com/nerd-for-tech/breaking-down-javascript-functions-5be9b9fba96d?source=collection_archive---------10-----------------------#2021-03-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2658" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Mozilla开发者网络(<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions" rel="noopener ugc nofollow" target="_blank"> MDN </a>)告诉我们，JavaScript中的函数是“一组执行任务或计算值的语句”。很好，这是一个非常标准的定义，大多数开发人员都很熟悉，不管他们使用什么语言。那么，尽管JavaScript函数的定义很简单，但为什么它们如此模糊和令人困惑呢？</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/8581bbcd8df62c8da59d67b94b903f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4FtMc3BM0s9-GoIaBkSTVQ.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">照片由<a class="ae jd" href="https://unsplash.com/@wimvanteinde" rel="noopener ugc nofollow" target="_blank">维姆·范因德</a>对<a class="ae jd" href="https://unsplash.com/photos/e6pPIcJ05Jg" rel="noopener ugc nofollow" target="_blank">unsplash.com</a>拍摄</figcaption></figure><p id="4d0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了回答这个问题，我们将深入研究编写函数的不同方法，如何定义它们以及如何调用它们，并尝试解释每种方法的优点和缺点。</p><p id="d21c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从最简单、最容易识别的函数编写方式开始。</p><pre class="jf jg jh ji fd ju jv jw jx aw jy bi"><span id="17e2" class="jz ka hi jv b fi kb kc l kd ke">1. // Function Declaration<br/>2. function helloWorld() {<br/>3.   console.log('<a class="ae jd" href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program" rel="noopener ugc nofollow" target="_blank">Hello, world!</a>')<br/>4. }</span><span id="b7b5" class="jz ka hi jv b fi kf kc l kd ke">5. helloWorld()<br/>6. // Hello, world!</span></pre><p id="d4bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的代码是一个函数声明，使用关键字<code class="du kg kh ki jv b">function</code>后跟函数名<code class="du kg kh ki jv b">helloWorld</code>，并且不使用任何参数将文本<code class="du kg kh ki jv b">Hello, world!</code>记录到控制台。函数语句是花括号<code class="du kg kh ki jv b">{…}</code>中包含的所有内容。您通过调用函数名后跟<code class="du kg kh ki jv b">()</code>来调用函数声明，如第4行所示。<code class="du kg kh ki jv b">()</code>通常被称为调用操作符。</p><p id="8f5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">太棒了，让我们更进一步。JavaScript中的函数被称为一等公民。这意味着函数可以作为变量存储，作为参数传递给其他函数，作为函数的返回值，以及几乎做任何对象能做的事情。MDN有更多关于这个<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Glossary/First-class_Function" rel="noopener ugc nofollow" target="_blank">主题</a>的信息，但是现在我们已经知道了足够多的信息，可以继续下一步写函数了。</p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="kj kk l"/></div><figcaption class="jq jr et er es js jt bd b be z dx translated">经由<a class="ae jd" href="https://giphy.com/gifs/season-15-the-simpsons-15x18-l2Jecm1l0wnJ2kQDu" rel="noopener ugc nofollow" target="_blank">giphy.com</a></figcaption></figure><pre class="jf jg jh ji fd ju jv jw jx aw jy bi"><span id="0c7b" class="jz ka hi jv b fi kb kc l kd ke">1. // Function Expression<br/>2. let helloWorld = function() {<br/>3.   console.log('Hello, world!')<br/>4. }</span><span id="ef44" class="jz ka hi jv b fi kf kc l kd ke">5. helloWorld()<br/>6. // Hello, world!</span></pre><p id="6211" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是所谓的函数表达式。您会注意到<code class="du kg kh ki jv b">function</code>关键字并不是函数表达式中的第一个单词，但仍然出现在第2行。这个函数的调用方式与使用变量<code class="du kg kh ki jv b">helloWorld</code>上的调用操作符的函数声明相同，实际上返回的内容与我们上面的函数声明相同！</p><p id="b849" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有趣的事实:在上面的例子中,<code class="du kg kh ki jv b">helloWorld</code>变量被设置为一个匿名函数，这只是一种有趣的方式来说明函数本身没有函数名。更准确地说，这个名字实际上是一个等于<code class="du kg kh ki jv b">‘’</code>的字符串，JavaScript从变量名<code class="du kg kh ki jv b">helloWorld.</code>推断出这个名字</p><p id="aa92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您愿意，您可以指定一个名称，如下例所示，其中函数名不再是匿名的，而是设置为等于字符串<code class="du kg kh ki jv b">‘hello’</code>。这允许添加一些功能，比如引用代码块中的函数，这是工具箱中的一个好工具。这个例子中没有演示这种行为，但是您可以随意进行一些谷歌搜索来了解更多信息！</p><pre class="jf jg jh ji fd ju jv jw jx aw jy bi"><span id="3707" class="jz ka hi jv b fi kb kc l kd ke">1. // Function Expression with a Named Function<br/>2. let helloWorld = function hello() {<br/>3.   console.log('Hello, world!')<br/>4. }</span><span id="4502" class="jz ka hi jv b fi kf kc l kd ke">5. helloWorld()<br/>6. // Hello, world!</span></pre><p id="1301" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们提到JavaScript将函数视为一等公民。允许我们做的事情之一是将函数存储为变量，并将它们作为参数传递。函数表达式就是这样发生的！</p><pre class="jf jg jh ji fd ju jv jw jx aw jy bi"><span id="9fc9" class="jz ka hi jv b fi kb kc l kd ke">1.  // Passing Functions As Arguments</span><span id="f9d2" class="jz ka hi jv b fi kf kc l kd ke">2. function example(arg) {<br/>3.   arg<br/>4. }</span><span id="3ef2" class="jz ka hi jv b fi kf kc l kd ke">5. let helloWorld = function() {<br/>6.   console.log('Hello, world!')<br/>7. }</span><span id="6f4a" class="jz ka hi jv b fi kf kc l kd ke">8. example(helloWorld())<br/>9. // Hello, world!</span></pre><p id="a5e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第2行的<code class="du kg kh ki jv b">example</code>函数接受一个参数。在第8行，我们调用了<code class="du kg kh ki jv b">example</code>函数，并将函数表达式<code class="du kg kh ki jv b">helloWorld</code>作为参数传递，以将文本<code class="du kg kh ki jv b">‘Hello, world!’</code>记录到控制台。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es kl"><img src="../Images/29f60aecf40afd2c2e59e6913919c34c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nalGv84efPPDgc8Vrd_91A.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">由<a class="ae jd" href="https://unsplash.com/@pawel_czerwinski" rel="noopener ugc nofollow" target="_blank">paweczerwi ski</a>通过<a class="ae jd" href="https://unsplash.com/photos/B_GEOp9u8h8" rel="noopener ugc nofollow" target="_blank">unsplash.com</a>拍摄的照片</figcaption></figure><p id="29fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你认为传递函数作为参数很酷，你会爱上箭头函数。arrow函数是用JavaScript编写函数的一种比较晦涩的方法，但是一旦你理解了它们，你就会意识到它们只是一个写起来比较短的函数，但是有一些独特的功能和一些使用上的限制。</p><pre class="jf jg jh ji fd ju jv jw jx aw jy bi"><span id="8315" class="jz ka hi jv b fi kb kc l kd ke">// Arrow Functions</span><span id="8837" class="jz ka hi jv b fi kf kc l kd ke">1. let doMath = (a, b) =&gt; a + b<br/>   <br/>2. doMath(1, 1)<br/>3. // 2</span><span id="7fbf" class="jz ka hi jv b fi kf kc l kd ke">or </span><span id="130f" class="jz ka hi jv b fi kf kc l kd ke">4. let doMath = (a, b) =&gt; { <br/>5.   let c = a + b<br/>6.   return c<br/>7. }</span><span id="51d1" class="jz ka hi jv b fi kf kc l kd ke">8. doMath(1, 1)<br/>9. // 2</span></pre><p id="eead" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的两个例子是编写执行相同任务的箭头函数的两种不同方式。这里有几点需要指出。单行箭头函数不需要花括号，并且有隐式返回。多行箭头函数需要花括号，也需要显式返回，如第6行所示。带有单个参数的箭头函数不需要圆括号<code class="du kg kh ki jv b">()</code>，如果没有参数，可以使用<code class="du kg kh ki jv b">_</code>代替圆括号，如下所示。</p><pre class="jf jg jh ji fd ju jv jw jx aw jy bi"><span id="50cd" class="jz ka hi jv b fi kb kc l kd ke">// More Arrow Functions</span><span id="06d8" class="jz ka hi jv b fi kf kc l kd ke">1. let a = 'Hello, world!'<br/>2. let hello = str =&gt; console.log(str)</span><span id="a032" class="jz ka hi jv b fi kf kc l kd ke">3. hello(a)<br/>4. // Hello, world!</span><span id="ba73" class="jz ka hi jv b fi kf kc l kd ke">or</span><span id="b67c" class="jz ka hi jv b fi kf kc l kd ke">5. let hello = () =&gt; console.log('Hello, world!')</span><span id="8ac8" class="jz ka hi jv b fi kf kc l kd ke">6. hello()<br/>7. // Hello, world!</span><span id="5848" class="jz ka hi jv b fi kf kc l kd ke">or </span><span id="cfc3" class="jz ka hi jv b fi kf kc l kd ke">8. let hello = _ =&gt; console.log('Hello, world!')</span><span id="e488" class="jz ka hi jv b fi kf kc l kd ke">9. hello()<br/>10. // Hello, world!</span></pre><p id="eb06" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">唷，我们刚刚看到了很多例子，它们都展示了编写箭头函数的不同方法。JavaScript在编写这些类型的函数时给予我们的灵活性是它们之所以伟大的原因，但也是它们如此晦涩难懂和难以识别/学习的原因。虽然这些方法编写起来更快，但它们确实有一些限制，比如不能使用call、apply或bind方法。原因与范围有关，范围本身就是一个完全不同的话题。</p><p id="529e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">JavaScript函数如此模糊的原因和它们如此有用的原因是一样的，那就是我们在如何编写和使用它们时被赋予了灵活性。希望这篇文章能帮你理清思路，让你对Javascript为开发人员提供的不同选择感到更舒服。</p><p id="1516" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在未来，我希望涵盖更多与JavaScript函数相关的主题，但同时这里有一些资源涵盖基础主题，包括<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Glossary/IIFE" rel="noopener ugc nofollow" target="_blank">即时调用函数</a>、<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#function_scope" rel="noopener ugc nofollow" target="_blank">函数范围</a>和<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures" rel="noopener ugc nofollow" target="_blank">闭包</a>。</p></div></div>    
</body>
</html>