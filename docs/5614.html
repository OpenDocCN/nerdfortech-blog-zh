<html>
<head>
<title>Animated Splash Screen with Magic Gradients</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有魔法渐变的动画启动画面</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/animated-splash-screen-with-magic-gradients-3f372af65c07?source=collection_archive---------0-----------------------#2021-10-24">https://medium.com/nerd-for-tech/animated-splash-screen-with-magic-gradients-3f372af65c07?source=collection_archive---------0-----------------------#2021-10-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/0b8bfa39aa2b4f09e3abe5725119034b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kl_37zSouYNN3AsNiHPmlA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">魔法渐变闪屏</figcaption></figure><div class=""/><div class=""><h2 id="a9b2" class="pw-subtitle-paragraph iu hw hx bd b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl dx translated">如何制作带有动画魔术渐变的闪屏？这些闪屏的利与弊。这里会出什么问题呢？</h2></div><p id="f5bf" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">嗨，伙计们，我们所知道的是我们可以使用图像作为启动画面。另外，你们中的一些人知道我们可能会用<code class="du ki kj kk kl b">LottieAnimationView</code>作为一个动画启动画面。类似地，这给了我一个想法，我们可以使用魔法渐变和动画来构建一个“自定义闪屏”和一些动画。</p><p id="df9b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">因此，我们将如何做:</p><ul class=""><li id="cc53" class="km kn hx jo b jp jq js jt jv ko jz kp kd kq kh kr ks kt ku bi translated">移动所有初始化(仅保留Xamarin。表单)从默认位置到特殊界面。</li><li id="96ff" class="km kn hx jo b jp kv js kw jv kx jz ky kd kz kh kr ks kt ku bi translated">添加新的Xamarin。表单页面——这将是我们新的闪屏。</li><li id="3f91" class="km kn hx jo b jp kv js kw jv kx jz ky kd kz kh kr ks kt ku bi translated">当向用户显示动画时，在新页面初始化所有。</li></ul><p id="6db7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">很简单——对吗？这样的话，我们来详细描述一下每一步。</p><div class="hh hi ez fb hj la"><a href="https://github.com/bbenetskyy/MagicSplashScreen" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab dw"><div class="lc ab ld cl cj le"><h2 class="bd hy fi z dy lf ea eb lg ed ef hw bi translated">GitHub-bbenetskyy/magics plash Screen:带有魔法渐变的闪屏</h2><div class="lh l"><h3 class="bd b fi z dy lf ea eb lg ed ef dx translated">带魔法渐变的闪屏。在…上创建帐户，为bbenetskyy/MagicSplashScreen开发做出贡献</h3></div><div class="li l"><p class="bd b fp z dy lf ea eb lg ed ef dx translated">github.com</p></div></div><div class="lj l"><div class="lk l ll lm ln lj lo hp la"/></div></div></a></div><figure class="lp lq lr ls fd hk"><div class="bz dy l di"><div class="lt lu l"/></div></figure></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mc"><img src="../Images/3aa35578f04f5a144c5c1ee99b270eb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AIenWuyOAO1lMzbvxtHF0g.png"/></div></div></figure><h1 id="8838" class="md me hx bd mf mg mh mi mj mk ml mm mn jd mo je mp jg mq jh mr jj ms jk mt mu bi translated">初始解</h1><p id="04da" class="pw-post-body-paragraph jm jn hx jo b jp mv iy jr js mw jb ju jv mx jx jy jz my kb kc kd mz kf kg kh hb bi translated">我们有一个漂亮的主页，我们的可怕的应用程序。但是在每个🥺.平台上加载所有的NuGet包和初始化所有需要的组件需要5秒钟这是可悲的。但是！我们认为，如果展示一些流畅的动画，我们可以让等待时间不那么无聊。</p><p id="1899" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在这种情况下，我们需要创建一个新的接口，将所有平台初始化从Android的<code class="du ki kj kk kl b">MainActivity</code>中的<code class="du ki kj kk kl b">OnCreate</code>方法和<code class="du ki kj kk kl b">AppDelegate</code>中的<code class="du ki kj kk kl b">FinishedLaunching</code>方法中转移出来。</p><p id="eff7" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">让我们把它命名为<code class="du ki kj kk kl b">IPlatformInitializer</code>并放在我们的Xamarin中。表单项目:</p><figure class="lp lq lr ls fd hk"><div class="bz dy l di"><div class="na lu l"/></div></figure><blockquote class="nb nc nd"><p id="1835" class="jm jn ne jo b jp jq iy jr js jt jb ju nf jw jx jy ng ka kb kc nh ke kf kg kh hb bi translated">备注:在内部，我将使用<a class="ae ni" href="https://www.nuget.org/packages/SimpleInjector/" rel="noopener ugc nofollow" target="_blank">简单的注入器</a> IoC容器，但是所提出的解决方案适用于任何现代IoC提供者。</p></blockquote></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><h1 id="7585" class="md me hx bd mf mg nj mi mj mk nk mm mn jd nl je mp jg nm jh mr jj nn jk mt mu bi translated">Android平台初始化器</h1><p id="4922" class="pw-post-body-paragraph jm jn hx jo b jp mv iy jr js mw jb ju jv mx jx jy jz my kb kc kd mz kf kg kh hb bi translated">让我们创建<code class="du ki kj kk kl b">AndroidPlatformInitializer</code>类并实现<code class="du ki kj kk kl b">IPlatformInitializer</code>。为此，我们需要在Xamarin之后移动所有可以初始化的东西。从<code class="du ki kj kk kl b">MainActivity</code>中的<code class="du ki kj kk kl b">OnCreate</code>方法开始，并将我们的实现注册到IoC中。</p><figure class="lp lq lr ls fd hk"><div class="bz dy l di"><div class="na lu l"/></div></figure></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><h1 id="3fa6" class="md me hx bd mf mg nj mi mj mk nk mm mn jd nl je mp jg nm jh mr jj nn jk mt mu bi translated">iOS平台初始化器</h1><p id="7d00" class="pw-post-body-paragraph jm jn hx jo b jp mv iy jr js mw jb ju jv mx jx jy jz my kb kc kd mz kf kg kh hb bi translated">让我们创建<code class="du ki kj kk kl b">iOSPlatformInitializer</code>类并实现<code class="du ki kj kk kl b">IPlatformInitializer</code>。为此，我们需要在Xamarin之后移动所有可以初始化的东西。从<code class="du ki kj kk kl b">AppDelegate</code>中的<code class="du ki kj kk kl b">FinishedLaunching</code>方法开始，并将我们的实现注册到IoC中。</p><figure class="lp lq lr ls fd hk"><div class="bz dy l di"><div class="na lu l"/></div></figure><p id="a9ff" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">是的，我知道1-1就像我们已经为Android 🥱做的那样，但是等等，接下来我们将创建动画魔法渐变背景。</p></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><h1 id="4870" class="md me hx bd mf mg nj mi mj mk nk mm mn jd nl je mp jg nm jh mr jj nn jk mt mu bi translated">Xamarin。表单启动页面</h1><p id="838a" class="pw-post-body-paragraph jm jn hx jo b jp mv iy jr js mw jb ju jv mx jx jy jz my kb kc kd mz kf kg kh hb bi translated">现在让我们在Xamarin项目中创建<code class="du ki kj kk kl b">SplashPage</code>。我们可以在没有任何页面模型的情况下创建它，因为我们不打算制作一些复杂的逻辑。在构造函数内部的代码后面，我们需要将<code class="du ki kj kk kl b">BindingContext</code>设置为<code class="du ki kj kk kl b">true</code>，这是绑定<code class="du ki kj kk kl b">AnimationTrigger</code>的<code class="du ki kj kk kl b">IsRunning</code>所必需的，因为我们不能只在XAML内部设置<code class="du ki kj kk kl b">True</code>的值。如果我们使用标准MVVM体系结构，这不是问题，但是在我们不打算使用视图模型的情况下，我们需要使用卑鄙的手段🤪。</p><p id="9ec0" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在<code class="du ki kj kk kl b">OnAppearing</code>方法中，我们需要设置所有的依赖项，然后在<code class="du ki kj kk kl b">Main Thread</code>上更改一个<code class="du ki kj kk kl b">MainPage</code>。</p><figure class="lp lq lr ls fd hk"><div class="bz dy l di"><div class="na lu l"/></div></figure><p id="f86b" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">我不确定用两个词来解释元素应该如何放置在XAML内部是不是很容易。因此，我创建了一些图表，展示了元素在页面中的位置:</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es no"><img src="../Images/e68699d8b4e2adf669a25d80ca9ade28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K6rxPZfbQCvfMG3zSi21Ng.png"/></div></div></figure><figure class="lp lq lr ls fd hk"><div class="bz dy l di"><div class="na lu l"/></div></figure><p id="107d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">现在，我想我们可以解释如何制作带有渐变的动画。我们将创建<code class="du ki kj kk kl b">GradientView</code>来填充和扩展整个空间。这是我们的背景。它应该有两个相同的颜色梯度。其中一个应该是用<code class="du ki kj kk kl b">ColorAnimation — AnimationTrigger</code>换的。此外，我们需要设置动画<code class="du ki kj kk kl b">RepeatBehavior=”Forever” AutoReverse=”True”</code>和持续时间——不要太快也不要太慢——<code class="du ki kj kk kl b">Duration=”3000"</code>(3s)。在它的顶部，我们放置了一个白色标签，上面有文字“魔法渐变”。就这样，很简单，对吧？😱</p><p id="751f" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">现在来看看<code class="du ki kj kk kl b">App.xaml.cs</code> MainPage到SplashPage的变化:</p><p id="8c87" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><code class="du ki kj kk kl b">MainPage = new SplashPage();</code></p><p id="4d92" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">现在，我们的应用程序从短白屏和我们美丽的动画渐变背景开始。这还不算太糟，我们甚至可以带着它离开。但是我们可以从渐变的初始颜色开始，让用户看不到平台页面的变化过程。</p></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><h1 id="a133" class="md me hx bd mf mg nj mi mj mk nk mm mn jd nl je mp jg nm jh mr jj nn jk mt mu bi translated">Android原生闪屏</h1><p id="3e88" class="pw-post-body-paragraph jm jn hx jo b jp mv iy jr js mw jb ju jv mx jx jy jz my kb kc kd mz kf kg kh hb bi translated">有一千个例子可以说明如何做到这一点，但我会用另一种方法😅。我试着根据例子用<code class="du ki kj kk kl b">TextView</code>分开闪屏XML文件，但是它对我不起作用。我不认为用透明背景制作文本是一个好主意，所以我只改变了我们主要活动中的一种背景颜色，没有创建任何其他颜色。有益的是，由于在开始时只有一个活动而没有其他的NuGet初始化，它启动得相当快。</p><figure class="lp lq lr ls fd hk"><div class="bz dy l di"><div class="na lu l"/></div></figure></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><h1 id="b9d6" class="md me hx bd mf mg nj mi mj mk nk mm mn jd nl je mp jg nm jh mr jj nn jk mt mu bi translated">iOS原生闪屏</h1><p id="d7ec" class="pw-post-body-paragraph jm jn hx jo b jp mv iy jr js mw jb ju jv mx jx jy jz my kb kc kd mz kf kg kh hb bi translated">这里也是一样，只需放置一个xCode的截图，显示我只是改变了背景色，并添加了一个白色文本“Magic Gradients ”,字体大小和字体家族与Xamarin Splash Page相同。此外，不要忘记检查info.plist文件，并确保我们的启动屏幕.故事板链接到那里，这一点非常重要。</p><p id="e3e9" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><code class="du ki kj kk kl b">&lt;string&gt;Launch Screen&lt;/string&gt;&lt;key&gt;CFBundleName&lt;/key&gt;</code></p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es np"><img src="../Images/47a111a7bf6ae1f435e227e6f94533af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B8Uuarqw-XwrgTEpnoyVKw.png"/></div></div></figure><p id="14b2" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">就这样，伙计们！请关注我的Twitter账户，获取关于我的博客帖子或演讲的所有更新🙃 😉。祝你的项目好运😋</p><figure class="lp lq lr ls fd hk"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="3fc4" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><a class="ae ni" href="https://twitter.com/bbenetskyy" rel="noopener ugc nofollow" target="_blank">https://twitter.com/bbenetskyy</a></p><p id="fd3d" class="pw-post-body-paragraph jm jn hx jo b jp jq iy jr js jt jb ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated"><a class="ae ni" href="http://github.com/bbenetskyy" rel="noopener ugc nofollow" target="_blank">github.com/bbenetskyy</a></p></div></div>    
</body>
</html>