<html>
<head>
<title>Learning Python for Data Science: Data Inspection and Data Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为数据科学学习 Python:数据检查和数据类型</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/learning-python-for-data-science-data-inspection-and-data-types-5b5e80954a6b?source=collection_archive---------4-----------------------#2021-02-25">https://medium.com/nerd-for-tech/learning-python-for-data-science-data-inspection-and-data-types-5b5e80954a6b?source=collection_archive---------4-----------------------#2021-02-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="65d7" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">数据=理解</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/2158b9a376240b29bde967810511a69d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AYgxQyjMmN9i4o9H"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">图片来自<a class="ae jn" href="https://unsplash.com/photos/KgLtFCgfC28" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><p id="9611" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在我们进一步讨论之前，先声明一下，我绝不是 Python 和熊猫库的专家。其实恰恰相反。我是一个狂热的 R 和它的库用户，但我最近才开始学习 Python 编程，因为我对用 Python 学习数据科学感兴趣，抱歉我不忠实 R <a class="ae jn" href="https://emojipedia.org/crying-face/" rel="noopener ugc nofollow" target="_blank">😢</a></p><p id="f4ea" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我写这篇文章的目的是首先帮助我自己和其他刚开始用 python 编程的人。</p><p id="cecc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">不要再拖延了，让我们开始吧！</p><p id="661f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">根据多年的 R 编程经验，数据分析的第一步，也可能是最关键的一步<strong class="jq hj">是获取数据本身。因此，让我们使用一个数据科学领域的人可能至少使用过一次的数据集，即<strong class="jq hj"> iris </strong>数据集。我们将利用包<strong class="jq hj"><em class="kk">stats models</em></strong><em class="kk"/>来获取 Python 中的虹膜数据。对于数据检查，我们将使用<strong class="jq hj"> <em class="kk">熊猫</em> </strong>，所以我们也安装它。如果您还没有安装软件包，请使用 pip 来安装。</strong></p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="de7b" class="kq kr hi km b fi ks kt l ku kv">#install statsmodel with pip<br/>pip install statsmodels<br/>pip install pandas</span></pre><p id="8b70" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">要在 jupyter notebook 或 Python IDE 中将 iris 数据集保存到变量中并可视化数据框，请使用以下代码:</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="7914" class="kq kr hi km b fi ks kt l ku kv">import statsmodels.api as sm<br/>import pandas as pd</span><span id="a3d6" class="kq kr hi km b fi kw kt l ku kv">iris = sm.datasets.get_rdataset('iris').data<br/>iris.head() #to check the first 5 rows of the dataframe</span></pre><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es kx"><img src="../Images/fa238f72d4dec4c15d020517b980d707.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*FEO5ZJWkD-jENEn9ObGlcA.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">虹膜数据集的前 5 行</figcaption></figure><h1 id="0463" class="ky kr hi bd kz la lb lc ld le lf lg lh io li ip lj ir lk is ll iu lm iv ln lo bi translated">数据检查</h1><h1 id="eec0" class="ky kr hi bd kz la lb lc ld le lf lg lh io li ip lj ir lk is ll iu lm iv ln lo bi translated">。头()和。尾部()</h1><p id="8c26" class="pw-post-body-paragraph jo jp hi jq b jr lp ij jt ju lq im jw jx lr jz ka kb ls kd ke kf lt kh ki kj hb bi translated">眼见为实。为了检查我们是否成功导入了虹膜数据集，我们可以使用<strong class="jq hj"> iris.head() </strong>来检查虹膜数据的前 5 个条目。在上面显示的数据框中，我们可以看到第<strong class="jq hj">行和第</strong>列被加粗。这由熊猫突出显示，以指示<strong class="jq hj">行索引</strong>和<strong class="jq hj">列名</strong>。还需要注意的是，python 的索引是从 0 开始的，而不是从 1 开始的，这与其他编程语言不同，比如 R 和 MATLAB。</p><p id="699d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果你有兴趣知道最后 5 个条目，我们可以使用<strong class="jq hj"> iris.tail() </strong>。我们还可以在<strong class="jq hj"> head() </strong>或<strong class="jq hj"> tail() </strong>内部指定一个<strong class="jq hj">参数</strong>，通过插入一个数字来显示<strong class="jq hj"> n 个观察值</strong>而不是 5。例如，<strong class="jq hj"> iris.tail(10) </strong>显示虹膜数据的最后 10 个条目。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lu"><img src="../Images/1eff1d248c606bdfc3c48735aa0ed54f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*vHLxgL5203NPLzroeL2HYA.png"/></div></figure><h1 id="ec7d" class="ky kr hi bd kz la lb lc ld le lf lg lh io li ip lj ir lk is ll iu lm iv ln lo bi translated">。大小()和。形状()</h1><p id="c72c" class="pw-post-body-paragraph jo jp hi jq b jr lp ij jt ju lq im jw jx lr jz ka kb ls kd ke kf lt kh ki kj hb bi translated">现在我们已经看到了我们的数据，我们应该有兴趣知道数据框的大小。数据帧的大小就是行数乘以列数。为了获得这些信息，我们可以使用<strong class="jq hj"> iris.size </strong>来查看我们有多少个条目(不包括行和列标签)。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lv"><img src="../Images/fb648abfffd48258b23ac6ef386e9787.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*_2KhtUCg3h5JFxIUvqGP-g.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">iris 数据帧中有 750 个条目</figcaption></figure><p id="4392" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">现在，由于我们不知道行数和列数，仅知道数据框的大小可能不会提供太多信息。为了获得这些信息，我们可以使用<strong class="jq hj"> iris.shape </strong>返回行数和列数。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lw"><img src="../Images/aa7a7a9003e608b548d581a3dd88a446.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*U5bNkCZ3mmjU5-vmI96b9Q.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">iris 数据帧中有 150 行和 5 列。注意:显示的数字始终是(行，列)</figcaption></figure><h1 id="d4b5" class="ky kr hi bd kz la lb lc ld le lf lg lh io li ip lj ir lk is ll iu lm iv ln lo bi translated">熊猫数据类型</h1><p id="9f62" class="pw-post-body-paragraph jo jp hi jq b jr lp ij jt ju lq im jw jx lr jz ka kb ls kd ke kf lt kh ki kj hb bi translated">数据框中的每一列都有适当的数据类型是不可或缺的。这是因为每种数据类型都有其独特的相应操作。下面我们来看一个简单的例子:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lx"><img src="../Images/db57f8487933f482c3b300d48c70daff.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*H_y4NWGMTDnMHJUxwogoWw.png"/></div></figure><p id="fc84" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">第一个加法是字符串<strong class="jq hj">和</strong>之间的加法，第二个加法是整数<strong class="jq hj">和</strong>之间的加法。在数字数据类型上，我们可以执行加、减、乘等数学运算。另一方面，字符串操作会导致两者相加。因此，确认数据的数据类型非常重要。</p><p id="f436" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在我们开始之前，让我们熟悉一下 Pandas 中可用的数据类型(你知道 Pandas 和 Python 可以有不同的数据类型吗？).</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ly"><img src="../Images/23aadd22eaea703805e3fd60dfd8c464.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*40g92eTsYvh_aGbHNuyipA.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">关于熊猫和 Python 数据类型的简要说明(图片由作者创建)</figcaption></figure><p id="a689" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这篇文章将涵盖除<strong class="jq hj">日期时间 64 </strong>之外的所有熊猫数据类型，更多关于<strong class="jq hj">日期时间 64 </strong>的内容将在后面的文章中介绍。</p><p id="dba2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在熊猫中，Int64 和<strong class="jq hj"> float64 </strong>用来表示数字。<strong class="jq hj"> Int64 </strong>(整数)是没有分数的数字，例如-3、0 和 3。<strong class="jq hj"> Float64 </strong>是用小数表示的数字，如-3.00、0.534、9.99。</p><p id="aa79" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj"> Bool </strong>或 boolean 只能包含两个值，不是<strong class="jq hj"> <em class="kk">真</em> </strong>就是<strong class="jq hj"> <em class="kk">假</em> </strong>。布尔数据类型对于回答为“是”或“否”的列特别有用。例如，感染状态为、已感染(<strong class="jq hj">真</strong>)或未感染(<strong class="jq hj">假</strong>)。</p><p id="919b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">Pandas 中的<strong class="jq hj">对象</strong>数据类型类似于<strong class="jq hj">字符串</strong>数据类型 python。<strong class="jq hj">一个对象</strong>的数据类型通常用字符表示，数字和非数字。<strong class="jq hj">类别</strong>数据类型类似于<strong class="jq hj">对象</strong>数据类型，但是它只有有限的可能性。</p><p id="669b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">要检查一个<strong class="jq hj"> Pandas </strong>数据帧的数据类型，我们可以使用<strong class="jq hj">。数据类型</strong>。让我们将此应用于虹膜数据帧。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lz"><img src="../Images/63a99f91ae720dbe7e174ae56d46adaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*F02p2hYXlEUQnDDA_nk7IQ.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">检查 iris 数据框中列的数据类型</figcaption></figure><p id="f37c" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">从数据类型来看，似乎每一列都已经有了合适的数据类型。但是，如果我们想要更精确，我们可以将<strong class="jq hj">物种</strong>列改为<strong class="jq hj">类别</strong>。我们可以用<strong class="jq hj">。astype('category') </strong>将列从<strong class="jq hj">对象</strong>更改为<strong class="jq hj">类别</strong>。</p><pre class="iy iz ja jb fd kl km kn ko aw kp bi"><span id="355f" class="kq kr hi km b fi ks kt l ku kv">iris["Species"] =  iris["Species"].astype('category')<br/>#iris["Species"] &lt;- the square bracket is used to select the column<br/>#To change a column to other data type, fill in the parameter</span><span id="d051" class="kq kr hi km b fi kw kt l ku kv">#Example:<br/>#.astype('int64') would change the column to integer<br/>#.astype('float64') would change the column to floating points</span></pre><p id="d56d" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们可以用<strong class="jq hj"> dtypes </strong>来检查变化。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ma"><img src="../Images/ee9acc93ff387a7fb2a8a5c475f4832a.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*QvpwYBBv9z7BFPZwkQMDaw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">现在物种数据类型是类别</figcaption></figure><p id="b629" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">虽然将对象数据类型更改为<strong class="jq hj">类别</strong>似乎很繁琐，但转换后还是有优势的。</p><p id="3f7a" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">内存效率</strong></p><p id="e0e7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我们可以使用<strong class="jq hj"> iris.info() </strong>来获取数据类型、列名、列值计数(非空)以及<strong class="jq hj">用于存储的内存等信息。我们可以看到，与存储为<strong class="jq hj">对象</strong>相比，<strong class="jq hj">类别</strong>数据类型使用了更少的内存。</strong></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mb"><img src="../Images/3ff0b983ba506614c75cd2c92c464935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FnPZerfzQjVN7AeDLJtX6A.png"/></div></div></figure><p id="f388" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">这是因为<strong class="jq hj">类别</strong>中的值被保存为关键字。然后，对于该值的每次出现，存储的是键而不是值。下面简单解释一下这是如何工作的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mc"><img src="../Images/edda44357f84721bba3b3bdd20888210.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Slh5kfsVcjQUsaHEfoNdxw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">图像由作者重新生成。最初的描绘是由<a class="ae jn" href="https://github.com/tomytjandra" rel="noopener ugc nofollow" target="_blank">https://github.com/tomytjandra</a>创作的</figcaption></figure><h1 id="bdbe" class="ky kr hi bd kz la lb lc ld le lf lg lh io li ip lj ir lk is ll iu lm iv ln lo bi translated">结论</h1><p id="0b9e" class="pw-post-body-paragraph jo jp hi jq b jr lp ij jt ju lq im jw jx lr jz ka kb ls kd ke kf lt kh ki kj hb bi translated">恭喜你！你已经读到这里，而我们目前只是在探索数据。但这没关系，因为要进行分析，我们必须首先熟悉我们的数据以及它能提供什么。我们将在以后的文章中讨论更多关于数据争论和子集化的内容😊</p><p id="d986" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">目前就这些了，我希望你喜欢这篇文章。</p></div></div>    
</body>
</html>