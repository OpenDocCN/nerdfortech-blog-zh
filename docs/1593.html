<html>
<head>
<title>Jetpack Compose Ep:11 — Switch App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpack撰写Ep:11 —切换应用程序</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/jetpack-compose-ep-11-switch-app-829561337ba0?source=collection_archive---------5-----------------------#2021-03-27">https://medium.com/nerd-for-tech/jetpack-compose-ep-11-switch-app-829561337ba0?source=collection_archive---------5-----------------------#2021-03-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="25ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我将简要介绍Switch组件的细节和属性，将它分解为多个函数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/7bcaea464bfdafa15c8cb7ddc7f9836a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w9aTV1F63_ZXzmRWrpewQA.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Jetpack撰写Ep:11 —切换应用程序</figcaption></figure><p id="7f01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了完成你的基本工作，请访问我以前的文章，它们在下面给出:</p><ul class=""><li id="6892" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc jy jz ka kb bi translated"><a class="ae kc" rel="noopener" href="/kotlin-mumbai/jetpack-compose-series-1-basics-ep-1-just-text-app-4acb42f5d865"> Jetpack撰写剧集:1-只是文本应用</a></li><li id="8938" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" rel="noopener" href="/kotlin-mumbai/jetpack-compose-series-1-basics-ep2-the-scroll-app-d1816a2eb3b3"> Jetpack作曲第二集——卷轴App </a></li><li id="4e15" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" rel="noopener" href="/kotlin-mumbai/jetpack-compose-ep-3-button-app-1de33ffb885f"> Jetpack作曲集:3 —按钮App </a></li><li id="53f0" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" rel="noopener" href="/kotlin-mumbai/compose-studio-ep-4-icon-icon-toggle-button-app-9e3589d0bdb5"> Jetpack撰写剧集:4 —图标&amp;图标切换按钮应用</a></li><li id="66d9" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" rel="noopener" href="/@akshaysawant003/jetpack-compose-ep-5-divider-app-9b8131bc7cc4"> Jetpack撰写剧集:5 —分割器应用</a></li><li id="76d0" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" rel="noopener" href="/@akshaysawant003/jetpack-compose-ep-6-floating-action-button-app-fa14920ec638"> Jetpack作曲插曲:6 —悬浮动作按钮App </a></li><li id="e7cd" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" rel="noopener" href="/kotlin-mumbai/jetpack-compose-ep-7-extended-floating-action-button-app-b485681edc40"> Jetpack撰写剧集:7 —扩展浮动动作按钮App </a></li><li id="7bdf" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://akshay-sawant.medium.com/jetpack-compose-ep-8-radio-button-app-c3188d2fed5a" rel="noopener"> Jetpack撰写剧集:8 —单选按钮应用</a></li><li id="679b" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://akshay-sawant.medium.com/jetpack-compose-ep-9-progress-indicator-app-14b68fd87a1f" rel="noopener"> Jetpack撰写剧集:9 —进度指示器App </a></li><li id="d738" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" rel="noopener" href="/nerd-for-tech/jetpack-compose-ep-10-checkbox-c79142e87268"> Jetpack撰写剧集:10 —复选框应用</a></li></ul><blockquote class="ki kj kk"><p id="4434" class="if ig kl ih b ii ij ik il im in io ip km ir is it kn iv iw ix ko iz ja jb jc hb bi translated"><em class="hi">注:在</em> <strong class="ih hj"> <em class="hi"> build.gradle(项目级)</em> </strong> <em class="hi">文件中，</em><strong class="ih hj"><em class="hi">compose _ version</em></strong><em class="hi">升级为</em><strong class="ih hj"><em class="hi">' 1 . 0 . 0-beta 01 '</em></strong><em class="hi"/><strong class="ih hj"><em class="hi">maven()</em></strong><em class="hi">替换为</em> <strong class="ih hj">依赖项也升级到类路径" com . Android . tools . build:gradle:7 . 0 . 0-alpha 08 "<br/>class path " org . jetbrains . kot Lin:kot Lin-gradle-plugin:1 . 4 . 30 "</strong></p><p id="104e" class="if ig kl ih b ii ij ik il im in io ip km ir is it kn iv iw ix ko iz ja jb jc hb bi translated"><em class="hi">和</em> <strong class="ih hj"> <em class="hi"> build.gradle(模块级)</em> </strong> <em class="hi">文件中，升级了以下依赖关系:</em></p><p id="4cb9" class="if ig kl ih b ii ij ik il im in io ip km ir is it kn iv iw ix ko iz ja jb jc hb bi translated"><em class="hi">实现' com . Google . Android . material:material:1 . 3 . 0 '<br/>实现' androidx . activity:activity-compose:1 . 3 . 0-alpha 03 '</em></p></blockquote><h2 id="e140" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">转换</h2><p id="74ba" class="pw-post-body-paragraph if ig hi ih b ii lk ik il im ll io ip iq lm is it iu ln iw ix iy lo ja jb jc hb bi translated">它是可切换的组件，提供两种状态，即开或关。</p><h2 id="5bd5" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">开关的属性</h2><ul class=""><li id="c136" class="jt ju hi ih b ii lk im ll iq lp iu lq iy lr jc jy jz ka kb bi translated">选中—布尔状态为开或关</li><li id="b82c" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">onCheckedChange —当单击开关时调用，因此请求状态更改。如果这是动态的，它还可以依赖于更高级别的组件来控制“开”或“关”状态。</li><li id="a9de" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">修饰符—要应用于开关的修饰符</li><li id="8e30" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">启用—控制交换机的启用状态。如果为false，此组件将不可选择，并显示在禁用的ui状态中</li><li id="94fe" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">interactionSource —它用于表示交互流。MutableInteractionSource可以根据我们的需要进行修改，并通过在不同的交互中定制该组件的外观或行为来将其传递给交换机</li><li id="2d68" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">colors-Switch colors将用于解析此开关在不同状态下使用的颜色。</li></ul><h2 id="baf5" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">记住()</h2><p id="0f8e" class="pw-post-body-paragraph if ig hi ih b ii lk ik il im ll io ip iq lm is it iu ln iw ix iy lo ja jb jc hb bi translated">记住计算产生的价值。仅在合成期间评估计算。重新合成总是会返回合成产生的值。</p><h2 id="f3dc" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">可变状态Of()</h2><p id="3da0" class="pw-post-body-paragraph if ig hi ih b ii lk ik il im ll io ip iq lm is it iu ln iw ix iy lo ja jb jc hb bi translated">返回一个新的MutableState，用传入的值<br/>初始化。MutableState类是一个单值容器，它的读写由Compose观察。此外，对它的写入作为快照系统的一部分进行处理。</p><h2 id="cd14" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">MutableStateOf()的属性</h2><ul class=""><li id="8f1b" class="jt ju hi ih b ii lk im ll iq lp iu lq iy lr jc jy jz ka kb bi translated">值—可变状态的初始值</li><li id="d6b3" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">策略—控制如何在可变快照中处理更改的策略。</li></ul><h2 id="4290" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">SwitchDefaults.colors()</h2><p id="64d9" class="pw-post-body-paragraph if ig hi ih b ii lk ik il im ll io ip iq lm is it iu ln iw ix iy lo ja jb jc hb bi translated">该功能用于表示开关在不同状态下使用的不同颜色。</p><h2 id="5e72" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">SwitchDefaults.colors()的属性</h2><ul class=""><li id="9460" class="jt ju hi ih b ii lk im ll iq lp iu lq iy lr jc jy jz ka kb bi translated">checkedThumbColor —当启用并选中开关时，它用于缩略图</li><li id="3e96" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">checkedTrackColor —当启用并选中开关时，它用于轨迹</li><li id="6c69" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">checkedtrackhal-它应用于checkedTrackColor和disabledCheckedTrackColor</li><li id="2901" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">未选中thumb color-当开关处于启用和未选中状态时，它用于缩略图</li><li id="a4ed" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">uncheckedTrackColor在启用和取消选中开关时用于追踪</li><li id="008b" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">uncheckedTrackAlpha它应用于uncheckedTrackColor和disabledUncheckedTrackColor</li><li id="f899" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">disabledCheckedThumbColor —当开关被禁用和选中时，它用于缩略图</li><li id="8f67" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">disabledCheckedTrackColor它用于禁用和选中开关时的轨迹</li><li id="7573" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">disabledUncheckedThumbColor当开关被禁用且未选中时，它用于缩略图</li><li id="cbad" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated">disabledUncheckedTrackColor当开关被禁用且未选中时，它用于追踪</li></ul><h2 id="bcd6" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">简单开关()</h2><pre class="je jf jg jh fd ls lt lu lv aw lw bi"><span id="1035" class="kp kq hi lt b fi lx ly l lz ma">@Composable<br/>fun SimpleSwitch() {<br/>    val mRemember = <em class="kl">remember </em><strong class="lt hj">{ </strong><em class="kl">mutableStateOf</em>(false) <strong class="lt hj">}<br/><br/>    </strong><em class="kl">Switch</em>(checked = mRemember.value, onCheckedChange = <strong class="lt hj">{ </strong>mRemember.value = <strong class="lt hj">it }</strong>)<br/>}</span></pre><h2 id="7597" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">启用开关()</h2><pre class="je jf jg jh fd ls lt lu lv aw lw bi"><span id="e2dd" class="kp kq hi lt b fi lx ly l lz ma">@Composable<br/>fun EnabledSwitch() {<br/>    val mRemember = <em class="kl">remember </em><strong class="lt hj">{ </strong><em class="kl">mutableStateOf</em>(false) <strong class="lt hj">}<br/><br/>    </strong>Switch(checked = mRemember.value, onCheckedChange = <strong class="lt hj">{ </strong>mRemember.value = <strong class="lt hj">it }</strong>, enabled = true)<br/>}</span></pre><h2 id="5e33" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">禁用的开关()</h2><pre class="je jf jg jh fd ls lt lu lv aw lw bi"><span id="e42b" class="kp kq hi lt b fi lx ly l lz ma">@Composable<br/>fun DisabledSwitch() {<br/>    val mRemember = <em class="kl">remember </em><strong class="lt hj">{ </strong><em class="kl">mutableStateOf</em>(false) <strong class="lt hj">}<br/><br/>    </strong><em class="kl">Switch</em>(checked = mRemember.value, onCheckedChange = <strong class="lt hj">{ </strong>mRemember.value = <strong class="lt hj">it }</strong>, enabled = false)<br/>}</span></pre><h2 id="b7df" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">CheckedThumbColorSwitch()</h2><pre class="je jf jg jh fd ls lt lu lv aw lw bi"><span id="0e58" class="kp kq hi lt b fi lx ly l lz ma">@Composable<br/>fun CheckedThumbColorSwitch() {<br/>    val mRemember = <em class="kl">remember </em><strong class="lt hj">{ </strong><em class="kl">mutableStateOf</em>(false) <strong class="lt hj">}<br/><br/>    </strong><em class="kl">Switch</em>(<br/>        checked = mRemember.value,<br/>        onCheckedChange = <strong class="lt hj">{ </strong>mRemember.value = <strong class="lt hj">it }</strong>,<br/>        enabled = true,<br/>        colors = SwitchDefaults.colors(<br/>            checkedThumbColor = Color.Cyan<br/>        ),<br/>        modifier = Modifier.<em class="kl">padding</em>(8.<em class="kl">dp</em>)<br/>    )<br/>}</span></pre><h2 id="88a0" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">完全码</h2><pre class="je jf jg jh fd ls lt lu lv aw lw bi"><span id="1fb4" class="kp kq hi lt b fi lx ly l lz ma">package com.akshay.switchapp<br/><br/>import android.os.Bundle<br/>import androidx.activity.ComponentActivity<br/>import androidx.activity.compose.setContent<br/>import androidx.compose.foundation.layout.Arrangement<br/>import androidx.compose.foundation.layout.Column<br/>import androidx.compose.foundation.layout.fillMaxSize<br/>import androidx.compose.foundation.layout.padding<br/>import androidx.compose.material.Switch<br/>import androidx.compose.material.SwitchDefaults<br/>import androidx.compose.runtime.Composable<br/>import androidx.compose.runtime.mutableStateOf<br/>import androidx.compose.runtime.remember<br/>import androidx.compose.ui.Alignment<br/>import androidx.compose.ui.Modifier<br/>import androidx.compose.ui.graphics.Color<br/>import androidx.compose.ui.unit.dp<br/>import com.akshay.switchapp.ui.theme.SwitchAppTheme<br/><br/>class MainActivity : ComponentActivity() {<br/>    override fun onCreate(savedInstanceState: Bundle?) {<br/>        super.onCreate(savedInstanceState)<br/>        <em class="kl">setContent </em><strong class="lt hj">{<br/>            </strong><em class="kl">SwitchAppTheme </em><strong class="lt hj">{<br/>                </strong><em class="kl">// A surface container using the 'background' color from the theme<br/>                Column</em>(<br/>                    verticalArrangement = Arrangement.SpaceEvenly,<br/>                    horizontalAlignment = Alignment.CenterHorizontally,<br/>                    modifier = Modifier.<em class="kl">fillMaxSize</em>()<br/>                ) <strong class="lt hj">{<br/>                    </strong><em class="kl">SimpleSwitch</em>()<br/>                    <em class="kl">EnabledSwitch</em>()<br/>                    <em class="kl">DisabledSwitch</em>()<br/>                    <em class="kl">CheckedThumbColorSwitch</em>()<br/>                <strong class="lt hj">}<br/>            }<br/>        }<br/>    </strong>}<br/>}<br/><br/>@Composable<br/>fun SimpleSwitch() {<br/>    val mRemember = <em class="kl">remember </em><strong class="lt hj">{ </strong><em class="kl">mutableStateOf</em>(false) <strong class="lt hj">}<br/><br/>    </strong><em class="kl">Switch</em>(checked = mRemember.value, onCheckedChange = <strong class="lt hj">{ </strong>mRemember.value = <strong class="lt hj">it }</strong>)<br/>}<br/><br/>@Composable<br/>fun EnabledSwitch() {<br/>    val mRemember = <em class="kl">remember </em><strong class="lt hj">{ </strong><em class="kl">mutableStateOf</em>(false) <strong class="lt hj">}<br/><br/>    </strong>Switch(checked = mRemember.value, onCheckedChange = <strong class="lt hj">{ </strong>mRemember.value = <strong class="lt hj">it }</strong>, enabled = true)<br/>}<br/><br/>@Composable<br/>fun DisabledSwitch() {<br/>    val mRemember = <em class="kl">remember </em><strong class="lt hj">{ </strong><em class="kl">mutableStateOf</em>(false) <strong class="lt hj">}<br/><br/>    </strong><em class="kl">Switch</em>(checked = mRemember.value, onCheckedChange = <strong class="lt hj">{ </strong>mRemember.value = <strong class="lt hj">it }</strong>, enabled = false)<br/>}<br/><br/>@Composable<br/>fun CheckedThumbColorSwitch() {<br/>    val mRemember = <em class="kl">remember </em><strong class="lt hj">{ </strong><em class="kl">mutableStateOf</em>(false) <strong class="lt hj">}<br/><br/>    </strong><em class="kl">Switch</em>(<br/>        checked = mRemember.value,<br/>        onCheckedChange = <strong class="lt hj">{ </strong>mRemember.value = <strong class="lt hj">it }</strong>,<br/>        enabled = true,<br/>        colors = SwitchDefaults.colors(<br/>            checkedThumbColor = Color.Cyan<br/>        ),<br/>        modifier = Modifier.<em class="kl">padding</em>(8.<em class="kl">dp</em>)<br/>    )<br/>}</span></pre><h2 id="93d0" class="kp kq hi bd kr ks kt ku kv kw kx ky kz iq la lb lc iu ld le lf iy lg lh li lj bi translated">输出</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mb"><img src="../Images/35da4fb40914808fef7c7b83e4145ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*7VNxNyM7LeF85z2lHgW0ug.gif"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Jetpack撰写Ep:11 —切换应用程序</figcaption></figure><p id="3ee7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果有任何问题，请在评论区告诉我。</p><p id="4157" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过以下方式与我联系:</p><ul class=""><li id="89a3" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc jy jz ka kb bi translated"><a class="ae kc" href="https://twitter.com/imAkshaySawant" rel="noopener ugc nofollow" target="_blank">推特</a></li><li id="42e1" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://www.linkedin.com/in/akshay-sawant-a50a20137/" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="b3bf" class="jt ju hi ih b ii kd im ke iq kf iu kg iy kh jc jy jz ka kb bi translated"><a class="ae kc" href="https://github.com/Akshay-Sawant" rel="noopener ugc nofollow" target="_blank"> Github </a></li></ul><p id="b6c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢&amp;快乐编码！</p></div></div>    
</body>
</html>