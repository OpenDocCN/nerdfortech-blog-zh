<html>
<head>
<title>Learn the most of Bigtable in under 10 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在10分钟内了解Bigtable的大部分内容</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/learn-the-most-of-bigtable-in-within-10-minutes-57f319104590?source=collection_archive---------2-----------------------#2021-07-29">https://medium.com/nerd-for-tech/learn-the-most-of-bigtable-in-within-10-minutes-57f319104590?source=collection_archive---------2-----------------------#2021-07-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/53a3d462ff9f458d164ae10d74fb4122.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*ige-6wbvtoF5M0UUM_fD2g.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">图片来自谷歌</figcaption></figure><h2 id="9867" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">想知道YouTube的推荐系统有多快吗？</h2><p id="5008" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">或者</p><h2 id="f347" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">谷歌地图定位或帮助搜索位置的准确度如何？</h2><p id="94b6" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">以至</p><h2 id="f135" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">谷歌搜索引擎如何更快地为你的搜索返回几乎准确的结果？</h2><p id="82f2" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">为了达到今天的水平，这些系统需要大量的数据，以便运行模式识别、预测系统、键值搜索等模型。</p><p id="b499" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">存储如此庞大的数据需要高可用、持久、能够处理大量数据写入/读取(吞吐量)且速度更快的弹性数据库。</p><blockquote class="ko kp kq"><p id="d727" class="jo jp kr jq b jr kj jt ju jv kk jx jy ks kl ka kb kt km kd ke ku kn kg kh ki hb bi translated"><strong class="jq hj"> Bigtable </strong>是谷歌云的NoSQL产品，是一种完全托管的服务，可以以高吞吐量和最小延迟处理大量数据。</p></blockquote><p id="e8b8" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj">云扳手</strong>不是一回事吗？</p><p id="ec58" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">部分是，但是当两者比较时，这里有一些“值得知道”的东西:</p><p id="9207" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">Cloud Spanner和Bigtable都允许用户存储数Pb的数据。</p><p id="9980" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆ Bigtable是一个宽列存储，它可以保存非常大量的动态列，并且与Cloud Spanner不同，它是无模式的。</p><p id="9792" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆ Cloud Bigtable不像Spanner那样支持SQL查询(“NoSQL”，而且显而易见)。但是可以使用Bigquery作为查询引擎，在Bigtable上运行联邦查询。</p><p id="5768" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆像Cloud Spanner一样，Bigtable中的分片是在内部完成的。数据路由太偏离路线。</p><p id="f01a" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆与Spanner不同，Bigtable没有“多区域”实例。</p><p id="764e" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆默认情况下，Spanner根据实例类型在区域内进行复制，而您需要添加额外的集群来自动复制Bigtable中的数据。</p><h2 id="e047" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">使用Bigtable需要我们了解一些概念:</h2><h2 id="686d" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">✔存储类型</h2><p id="17a4" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated"><strong class="jq hj">在Bigtable中创建实例时，我们应该选择我们想要的存储类型。</strong></p><ul class=""><li id="4ad7" class="kv kw hi jq b jr kj jv kk jb kx jf ky jj kz ki la lb lc ld bi translated"><strong class="jq hj">硬盘驱动器或硬盘驱动器</strong>适合大数据量(谷歌建议当数据量为&gt; 10 TB时，硬盘驱动器是一个可行的选择)。但是请注意，硬盘会影响吞吐量和延迟。迁移大量数据或归档数据时，硬盘是合适的选择。</li><li id="33c2" class="kv kw hi jq b jr le jv lf jb lg jf lh jj li ki la lb lc ld bi translated"><strong class="jq hj">另一方面，SDD或固态硬盘</strong>比硬盘相对更贵，但更适合更好的延迟和吞吐量。<br/>SDD比HDD更受青睐，我们在创建集群时所做的选择以后无法更改。</li></ul><h2 id="4114" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">✔行键</h2><p id="edfd" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">Bigtable中的行键类似于RDBMS中的主键(或多或少)。它们有助于更快地在Bigtable中找到数据。与RDBMS中的主键不同，行键不应该是增量的，应该仔细选择以避免热点。</p><p id="9d7e" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">行键是多个标识符的组合，标识符之间有一个分隔符。</p><p id="0eff" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">例如，[credit#celeb#2b3f81c9]是一个有效的行关键字，它是卡类型、卡类别和用户id的组合，以哈希作为分隔符。</p><p id="d0b3" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj"> ✔列科</strong></p><p id="3ee0" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">Bigtable中的列族是组合在一起的相关列。<br/> <br/>比如【姓名、地址、电话、性别、邮箱】一起可以是一个“栏目族”，可以命名为“Info”。这些列放在一起是为了更快地读取。必须注意，应该在将数据迁移/放置到Bigtable中之前创建列族，但是也可以在以后添加列。删除列族也会导致存储在该族中的数据被删除。</p><p id="6528" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj"> ✔药片</strong></p><p id="11fd" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">Bigtable中的平板电脑或多或少类似于Cloud Spanner中的Splits。平板指的是Bigtable中特定节点上的数据块。Bigtable集群中的节点将请求发送到一个表，该表被进一步划分为片以平衡流量。</p><p id="c2ec" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj"> ✔排序字符串表又名SSTable </strong></p><p id="7439" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">一旦Bigtable中的表被分片到平板电脑中，它们将以“排序字符串表”的格式存储在Google文件系统(Colossus)中，这种格式可以有效地处理大量的键值对，同时保持低延迟和高吞吐量。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es lj"><img src="../Images/e42f80675c7d6595fad6d2996ec907b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iFZLqBWjnt7O1zk7vdFL5A.jpeg"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">Bigtable架构—图片来自GCP站点，添加了平板电脑</figcaption></figure><h2 id="aabe" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">如何从现有的NoSQL数据库迁移到Bigtable？</h2><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es ls"><img src="../Images/c4f7cb9de84d2a7765762d861e8b8acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tga8-Xn7eMtmi8QtUrW6oA.png"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">从NoSQL数据库迁移到Bigtable的架构流程示例</figcaption></figure><p id="3f87" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">上图只是一个例子，展示了将数据从其他NoSQL数据库迁移到云Bigtable的各种方法。</p><p id="2b15" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj"> Dataflow </strong>为将您现有的NoSQL数据库迁移到云Bigtable提供了大量支持。</p><p id="f8cb" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">如果您将数据从现有的NoSQL数据库批量迁移到Bigtable，您可以在数据流中选择支持数据库迁移的4个“Google提供的模板”之一。</p><p id="91b2" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆云存储Avro到Bigtable <br/> ◆云存储拼版到Bigtable <br/> ◆云存储序列文件到Bigtable</p><p id="8185" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">使用云存储作为staging area，在数据流中建立管道，将数据迁移到Bigtable。</p><p id="438a" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆ Apache Cassandra到Bigtable</p><p id="b311" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">在Cassandra和Bigtable之间建立连接，直接迁移数据，不需要staging area(还是有staging area比较明智)。</p><p id="590b" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">下面简单介绍一下我们如何从流行的NoSQL数据库迁移到Bigtable:</p><p id="f137" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj"> ✔ HBASE到Bigtable </strong></p><p id="76c3" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆将HBASE表导出为Hadoop序列文件<br/> ◆将这些序列文件导入云存储<br/> ◆使用数据流模板“云存储序列文件到Bigtable”设置管道<br/> ◆不断将数据从云存储移动到Bigtable</p><p id="75ad" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj"> ✔Cassandra到Bigtable </strong></p><p id="03a3" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆在Apache Cassandra和Cloud Bigtable之间建立网络连接。<br/> ◆使用数据流模板“Cassandra to Cloud Bigtable”建立管道<br/> ◆不断将Cassandra表复制到Cloud Bigtable中。</p><p id="9d42" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">提及:Astra提供CAAS (Cassandra作为一项服务),在GCP市场有售。</p><p id="8bcf" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">更多信息请点击此处:</p><div class="lt lu ez fb lv lw"><a href="https://cloud.google.com/blog/products/databases/open-source-cassandra-now-managed-on-google-cloud" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab dw"><div class="ly ab lz cl cj ma"><h2 class="bd hj fi z dy mb ea eb mc ed ef hh bi translated">开源Cassandra现在在云上管理|谷歌云博客</h2><div class="md l"><h3 class="bd b fi z dy mb ea eb mc ed ef dx translated">在Google Cloud，我们致力于将开源技术带给我们的客户。在过去的十年里，阿帕奇…</h3></div><div class="me l"><p class="bd b fp z dy mb ea eb mc ed ef dx translated">cloud.google.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk ik lw"/></div></div></a></div><p id="22aa" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj"> ✔MongoDB到Bigtable </strong></p><p id="3bb2" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆使用MongoDB Compass将MongoDB集合导出为CSV文件。<br/> ◆使用Spark/Scala或Python将CSV转换为Avro/Parquet格式。<br/> ◆将文件加载到云存储。<br/> ◆设置一个数据流模板“云存储Avro到Bigtable”或“云存储Parquet到Bigtable”<br/>◆不断地将数据从云存储移动到Bigtable。</p><p id="e58a" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">以上仅适用于批量移动数据。</p><p id="ec51" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">如果您正在迁移流数据，您可以将发布/订阅与数据流一起使用。</p><p id="72d3" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj">移动流数据的示例架构如下:</strong></p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es ml"><img src="../Images/b7e6a63025afe54e524e647f1825979d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ax25CIGceuADmJzSa4BMyg.jpeg"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">Twitter的大表迁移混合架构(鸣谢:GCP架构)</figcaption></figure><p id="ec5d" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这里的架构是Twitter的混合云方法，通过混合本地服务器和Google Bigtable来处理其巨大的数据流(特定于广告管理和活动)。</p><p id="bcf0" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj"> ✔虽然批迁移的历史资料挺直的，</strong></p><p id="deb5" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆本地Hadoop集群中的数据从Hadoop序列文件转换为Avro(根据我的说法，这种转换是不必要的，因为数据流也可以处理序列文件)。</p><p id="43f0" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆这些数据随后从HDFS加载到云存储中。</p><p id="6e21" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆在数据流上部署一个管道，将数据从GCS加载到Bigtable。</p><p id="fe9e" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj"> ✔处理流数据很有趣。</strong></p><p id="3544" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆ Event Bus，Twitter基于分布式日志的内部工具，将Avro消息推送到两个不同的Pub/Sub流。</p><p id="be63" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆具有6个主题的流1每秒接收80，000条消息，具有3个数据流管道(J0、J1和J2 ),每秒处理超过200万个聚合。</p><p id="b6d9" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">◆具有2个主题的流2每秒接收200，000条消息，具有1个数据流管道(JBOY3乐队),每秒处理超过400，000个聚合。</p><p id="c3c8" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">在这两种情况下，Apache Beam都被用作orchestrator。</p><p id="5eeb" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">流媒体管道的有趣之处在于，分区的方式是为了处理Twitter从其数据源接收到的流量和流量峰值。</p><p id="279b" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">拥有两个流，一个处理关键数据，另一个处理其他数据，这难道不是一个好主意吗？</p><h2 id="f21a" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">使用GCP服务自动化大表备份</h2><p id="e579" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">Bigtable支持备份和复制。</p><p id="cc15" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">备份是数据的拷贝，可以在生产数据库出现问题时提供帮助，其中复制通过在适用的不同区域复制数据库来帮助您的应用程序实现高可用性。</p><p id="27ef" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">选择复制时，向现有集群添加一个新集群，并选择您选择的区域。请注意，实例复制应该存在于同一分区但不同的区域。您最多可以为每个实例创建4个复制。</p><p id="1461" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">另一方面，备份的成本低于复制，因为它们只是同一个集群上的数据库副本。Bigtable允许用户为每个集群的每个表创建多达50个备份。</p><p id="9327" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">复制是一次性的过程。通过选择实例、在首选区域添加集群、配置应用程序配置文件并选择要复制的数据库来创建复制副本。其中，创建备份是一个连续的过程，通常需要通过单击要为其创建备份的表来手动完成。</p><p id="7b76" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这里的体系结构解释了如何使用GCP内的各种服务来自动化这些备份。</p><p id="9b90" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">✔你创建一个云函数来创建一个云Bigtable备份。<br/> ✔使用云调度程序输入您的首选备份时间表。<br/> ✔使用发布/订阅向在步骤1中创建的云功能发送消息，具体取决于在步骤2中创建的计划<br/> ✔使用云监控来监控任务，并使用云日志来访问适当的日志。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="er es mm"><img src="../Images/2f8aa7a4707d179e5febd4464d53f58f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LslqHAlb9LWk-xwU35YDKg.jpeg"/></div></div><figcaption class="im in et er es io ip bd b be z dx translated">Bigtable中自动化表备份的示例架构</figcaption></figure><h2 id="8dd7" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">成本优化</strong></h2><p id="490f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">Bigtable可以支持每秒数百万个请求，在最佳可伸缩性下具有低延迟。但是这种支持是有代价的。在追求将现有的NoSQL数据库迁移到Bigtable或者在Bigtable上建立一个新的数据库的过程中，我们经常忽略(或者我应该说错过了)我们所产生的成本，这些成本可以通过更多的研究来避免。</p><p id="0771" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">Bigtable的开销成本取决于各种因素，如节点数量、存储选择(HDD硬盘)、副本选择、备份选择等。</p><p id="9292" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这些通常可以通过格外小心和利用GCP提供的其他服务来避免。通过使用云日志/发布/订阅/云功能等服务自动扩展节点数量，使用内存存储à GCP服务进行缓存，并节省频繁运行的查询的成本等。</p><p id="75f1" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">我认为这是最好的博客文章之一，也是我发现的唯一一篇对削减(或优化)巨额成本如此有用的文章。</p><div class="lt lu ez fb lv lw"><a href="https://cloud.google.com/blog/products/databases/check-out-how-to-optimize-database-service-cloud-bigtable" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab dw"><div class="ly ab lz cl cj ma"><h2 class="bd hj fi z dy mb ea eb mc ed ef hh bi translated">查看如何优化数据库服务云Bigtable | Google Cloud博客</h2><div class="md l"><h3 class="bd b fi z dy mb ea eb mc ed ef dx translated">请注意，在上图所示的示例中，可用于云Bigtable操作的预算是…</h3></div><div class="me l"><p class="bd b fp z dy mb ea eb mc ed ef dx translated">cloud.google.com</p></div></div><div class="mf l"><div class="mn l mh mi mj mf mk ik lw"/></div></div></a></div><p id="f6a4" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">您可以从GCP文档中了解关于Bigtable的更多信息。</p><p id="89fd" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">以下是链接:</p><div class="lt lu ez fb lv lw"><a href="https://cloud.google.com/bigtable/docs/overview" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab dw"><div class="ly ab lz cl cj ma"><h2 class="bd hj fi z dy mb ea eb mc ed ef hh bi translated">Bigtable概述|云Bigtable文档| Google云</h2><div class="md l"><h3 class="bd b fi z dy mb ea eb mc ed ef dx translated">云Bigtable是一个稀疏填充的表，可以扩展到数十亿行和数千列，使您能够…</h3></div><div class="me l"><p class="bd b fp z dy mb ea eb mc ed ef dx translated">cloud.google.com</p></div></div><div class="mf l"><div class="mo l mh mi mj mf mk ik lw"/></div></div></a></div></div></div>    
</body>
</html>