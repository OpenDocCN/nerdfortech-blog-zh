<html>
<head>
<title>LeetCode — Reverse Linked List II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LeetCode —反向链表II</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/leetcode-reverse-linked-list-ii-6b605acfd383?source=collection_archive---------1-----------------------#2022-02-10">https://medium.com/nerd-for-tech/leetcode-reverse-linked-list-ii-6b605acfd383?source=collection_archive---------1-----------------------#2022-02-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="8ade" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">问题陈述</h1><p id="0a7e" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">给定一个单链表的头和两个整数<em class="kb"> left </em>和<em class="kb"> right </em>其中<em class="kb"> left &lt; = right </em>，将链表的节点从位置<em class="kb"> left </em>反转到位置<em class="kb"> right </em>，返回反转后的链表。</p><p id="6164" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">问题陈述摘自:<a class="ae kh" href="https://leetcode.com/problems/reverse-linked-list-ii" rel="noopener ugc nofollow" target="_blank">https://leetcode.com/problems/reverse-linked-list-ii</a></p><p id="4f02" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">例1: </strong></p><figure class="kj kk kl km fd kn er es paragraph-image"><div class="er es ki"><img src="../Images/c8cdf2b85c98aa1221f05c2950e5fada.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/0*Sj5bVpkKhb6zrmZf.png"/></div></figure><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="1ca8" class="kv ig hi kr b fi kw kx l ky kz">Input: head = [1, 2, 3, 4, 5], left = 2, right = 4 <br/>Output: [1, 4, 3, 2, 5]</span></pre><p id="8901" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">例2: </strong></p><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="752e" class="kv ig hi kr b fi kw kx l ky kz">Input: head = [5], left = 1, right = 1 <br/>Output: [5]</span></pre><p id="f1a3" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">约束:</strong></p><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="627e" class="kv ig hi kr b fi kw kx l ky kz">- The number of nodes in the list is n. <br/>- 1 &lt;= n &lt;= 500 <br/>- -500 &lt;= Node.val &lt;= 500 <br/>- 1 &lt;= left &lt;= right &lt;= n</span></pre><h1 id="2585" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">说明</h1><h2 id="af2b" class="kv ig hi bd ih la lb lc il ld le lf ip jo lg lh it js li lj ix jw lk ll jb lm bi translated">迭代解</h2><p id="87c1" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">这个问题类似于反转一个链表，但是我们只需要反转它的一个子集，而不是整个链表。假设我们考虑原始列表<strong class="jf hj">1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6-&gt;7</strong>的一个子列表，我们想要对其进行反转。子列表需要反转为<strong class="jf hj"> 3 &lt; - 4 &lt; - 5 </strong>。让我们将我们的<strong class="jf hj">当前</strong>节点指向<strong class="jf hj"> 4 </strong>，将<strong class="jf hj">先前</strong>节点指向<strong class="jf hj"> 3 </strong>。我们可以很容易地将当前的下一个指针反转到上一个</p><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="912c" class="kv ig hi kr b fi kw kx l ky kz">current-&gt;next = previous</span></pre><p id="83aa" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">但是在这种情况下，我们将无法导航到节点5。因此，我们还需要一个指针，我们称之为<strong class="jf hj">迭代器</strong>，它将帮助继续链接反转过程。因此，我们需要做到以下几点:</p><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="2247" class="kv ig hi kr b fi kw kx l ky kz">iterator = current-&gt;next <br/>current-&gt;next = prev <br/>prev = current <br/>current = iterator</span></pre><p id="e5da" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">我们继续执行上述步骤，直到到达正确的节点。现在我们来检查一下算法。</p><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="a8f3" class="kv ig hi kr b fi kw kx l ky kz">- return NUll if head == NULL<br/><br/>- return head if left == right<br/><br/>- set current = head, prev = NULL<br/><br/>- loop while left &gt; 1<br/>  - set prev = current<br/>  - update current = current-&gt;next<br/>  - decrement left--<br/>  - decrement right--<br/><br/>- set tailPrev = prev, tail = current, iterator = NULL<br/><br/>- loop while right &gt; 0<br/>  - iterator = current-&gt;next<br/>  - current-&gt;next = prev<br/>  - prev = current<br/>  - current = iterator<br/>  - decrement right--<br/><br/>- if tailPrev != NULL<br/>  - set tailPrev-&gt;next = prev<br/>- else<br/>  - head = prev<br/><br/>- set tail-&gt;next = current<br/><br/>- return head</span></pre><p id="7ac4" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们来看看我们在<strong class="jf hj"> C++ </strong>、<strong class="jf hj"> Golang </strong>和<strong class="jf hj"> Javascript </strong>中的解决方案。</p><h2 id="cc89" class="kv ig hi bd ih la lb lc il ld le lf ip jo lg lh it js li lj ix jw lk ll jb lm bi translated">C++解决方案</h2><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="78e2" class="kv ig hi kr b fi kw kx l ky kz">class Solution {<br/>public:<br/>    ListNode* reverseBetween(ListNode* head, int left, int right) {<br/>        if(head == NULL) {<br/>            return NULL;<br/>        }<br/><br/>        if(left == right) {<br/>            return head;<br/>        }<br/><br/>        ListNode *current = head, *prev = NULL;<br/><br/>        while(left &gt; 1) {<br/>            prev = current;<br/>            current = current-&gt;next;<br/>            left--;<br/>            right--;<br/>        }<br/><br/>        ListNode *tailPrev = prev, *tail = current, *iterator = NULL;<br/><br/>        while(right &gt; 0) {<br/>            iterator = current-&gt;next;<br/>            current-&gt;next = prev;<br/>            prev = current;<br/>            current = iterator;<br/>            right--;<br/>        }<br/><br/>        if(tailPrev != NULL) {<br/>            tailPrev-&gt;next = prev;<br/>        } else {<br/>            head = prev;<br/>        }<br/><br/>        tail-&gt;next = current;<br/><br/>        return head;<br/>    }<br/>};</span></pre><h2 id="572f" class="kv ig hi bd ih la lb lc il ld le lf ip jo lg lh it js li lj ix jw lk ll jb lm bi translated">戈朗溶液</h2><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="aa6c" class="kv ig hi kr b fi kw kx l ky kz">func reverseBetween(head *ListNode, left int, right int) *ListNode {<br/>    if head == nil {<br/>        return nil<br/>    }<br/><br/>    if left == right {<br/>        return head<br/>    }<br/><br/>    current := head<br/>    var prev *ListNode<br/><br/>    for left &gt; 1 {<br/>        prev = current<br/>        current = current.Next<br/>        left--<br/>        right--<br/>    }<br/><br/>    tailPrev, tail := prev, current<br/>    var iterator *ListNode<br/><br/>    for right &gt; 0 {<br/>        iterator = current.Next<br/>        current.Next = prev<br/>        prev = current<br/>        current = iterator<br/>        right--<br/>    }<br/><br/>    if tailPrev != nil {<br/>        tailPrev.Next = prev<br/>    } else {<br/>        head = prev<br/>    }<br/><br/>    tail.Next = current<br/><br/>    return head;<br/>}</span></pre><h2 id="d5e1" class="kv ig hi bd ih la lb lc il ld le lf ip jo lg lh it js li lj ix jw lk ll jb lm bi translated">Javascript解决方案</h2><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="b3aa" class="kv ig hi kr b fi kw kx l ky kz">var reverseBetween = function(head, left, right) {<br/>    if(head == null) {<br/>        return null;<br/>    }<br/><br/>    if(left == right) {<br/>        return head;<br/>    }<br/><br/>    let current = head, prev = null;<br/><br/>    while(left &gt; 1) {<br/>        prev = current;<br/>        current = current.next;<br/>        left--;<br/>        right--;<br/>    }<br/><br/>    let tailPrev = prev, tail = current, iterator = null;<br/><br/>    while(right &gt; 0) {<br/>        iterator = current.next;<br/>        current.next = prev;<br/>        prev = current;<br/>        current = iterator;<br/>        right--;<br/>    }<br/><br/>    if(tailPrev != null) {<br/>        tailPrev.next = prev;<br/>    } else {<br/>        head = prev;<br/>    }<br/><br/>    tail.next = current;<br/><br/>    return head;<br/>};</span></pre><p id="b906" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们试运行一下我们的算法，看看解决方案是如何工作的。</p><pre class="kj kk kl km fd kq kr ks kt aw ku bi"><span id="62ce" class="kv ig hi kr b fi kw kx l ky kz">Input: head = [1, 2, 3, 4, 5], left = 2, right = 4<br/><br/>    head - [1, 2, 3, 4, 5]<br/><br/>Step 1: head == NULL<br/>        false<br/><br/>Step 2: left == right<br/>        2 == 4<br/>        false<br/><br/>Step 3: current = head, prev = null<br/>             current<br/>               |<br/>       head - [1, 2, 3, 4, 5]<br/><br/>Step 3: loop while left &gt; 1<br/>        2 &gt; 1<br/>        true<br/><br/>        prev = current<br/>        current = current-&gt;next<br/><br/>                current<br/>                   |<br/>        prev - [1, 2, 3, 4, 5]<br/><br/>        left--<br/>        left = 1<br/><br/>        right --<br/>        right = 3<br/><br/>Step 4: loop while left &gt; 1<br/>        1 &gt; 1<br/>        false<br/><br/>Step 5: tailPrev = prev<br/>                 = 1<br/><br/>        tail = current<br/>             = 2<br/><br/>        iterator = NULL<br/><br/>Step 6: loop while right &gt; 0<br/>        3 &gt; 0<br/>        true<br/><br/>        iterator = current-&gt;next<br/>                 = 3<br/><br/>                   iterator<br/>                      |<br/>        prev - [1, 2, 3, 4, 5]<br/><br/>        current-&gt;next = prev<br/>        2-&gt;next = 1<br/><br/>        prev = current<br/>        prev = 2<br/><br/>        current = iterator<br/>                = 3<br/><br/>        right--<br/>        right = 2<br/><br/>           prev  --    --- iterator<br/>                   |  |<br/>               [1, 2, 3, 4, 5]<br/>                      |<br/>                   current<br/><br/>Step 7: loop while right &gt; 0<br/>        2 &gt; 0<br/>        true<br/><br/>        iterator = current-&gt;next<br/>                 = 4<br/><br/>                iterator<br/>                     |<br/>           [1, 2, 3, 4, 5]<br/><br/>        current-&gt;next = prev<br/>        3-&gt;next = 2<br/><br/>        prev = current<br/>        prev = 3<br/><br/>        current = iterator<br/>                = 4<br/><br/>        right--<br/>        right = 1<br/><br/>               prev  --   --- iterator<br/>                      |  |<br/>               [1, 2, 3, 4, 5]<br/>                         |<br/>                      current<br/><br/>Step 8: loop while right &gt; 0<br/>        1 &gt; 0<br/>        true<br/><br/>        iterator = current-&gt;next<br/>                 = 5<br/><br/>                    iterator<br/>                        |<br/>           [1, 2, 3, 4, 5]<br/><br/>        current-&gt;next = prev<br/>        4-&gt;next = 3<br/><br/>        prev = current<br/>        prev = 4<br/><br/>        current = iterator<br/>                = 5<br/><br/>        right--<br/>        right = 0<br/><br/>                  prev  --  --- iterator<br/>                         |  |<br/>               [1, 2, 3, 4, 5]<br/>                            |<br/>                         current<br/><br/>Step 9: loop while right &gt; 0<br/>        0 &gt; 0<br/>        false<br/><br/>Step 10: tailPrev != NULL<br/>           1 != NULL<br/>           true<br/><br/>           tailPrev-&gt;next = prev<br/>           1-&gt;next = 4<br/><br/>Step 11: tail-&gt;next = current<br/>         2-&gt;next = 5<br/><br/>Step 12: return head<br/><br/>So we return the answer as [1, 4, 3, 2, 5].</span></pre></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><p id="e72f" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><em class="kb">原载于</em><a class="ae kh" href="https://alkeshghorpade.me/post/leetcode-reverse-linked-list-ii" rel="noopener ugc nofollow" target="_blank"><em class="kb">https://alkeshghorpade . me</em></a><em class="kb">。</em></p></div></div>    
</body>
</html>