<html>
<head>
<title>How To Handle Multiple Form Inputs Using React Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 React 钩子处理多个表单输入</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-build-forms-with-multiple-input-fields-using-react-hooks-677da2b851aa?source=collection_archive---------0-----------------------#2020-11-23">https://medium.com/nerd-for-tech/how-to-build-forms-with-multiple-input-fields-using-react-hooks-677da2b851aa?source=collection_archive---------0-----------------------#2020-11-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="acb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">表单可以被认为是 web 应用程序的主干。如果没有表单，你如何从用户那里获得信息？是的，现在有一些可以轻松构建表单的库(一个很好的库是 Formik ),但是了解如何在 React 中从头开始创建表单是有益的，这相当容易。</p><h1 id="7291" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">受控和非受控输入</strong></h1><p id="be89" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">HTML 表单的默认操作是刷新页面，这会导致您丢失所有数据。使用 React，我们使用 javascript 来处理我们访问用户输入的数据的方式。</p><p id="fad5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在 HTML 中，<em class="kg">&lt;input&gt;&lt;textarea&gt;</em>等表单类型一般会处理自己的状态，并根据用户输入进行更新。让 DOM 为您处理用户输入被称为<strong class="ih hj">非受控输入。</strong></p><p id="2b2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">受控输入让 React 为你处理状态，因为它是可变的。React 将此状态存储在<em class="kg"> state </em>属性中，并且只能使用固态更新。因此，呈现表单的 React 组件现在可以控制后续用户输入时表单会发生什么。</p><p id="46ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有关受控输入的更多信息→ <a class="ae kh" href="https://reactjs.org/docs/forms.html" rel="noopener ugc nofollow" target="_blank">查看此处</a></p><h1 id="ae34" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">用 UseState 处理表单中的多个输入字段</strong></h1><p id="04da" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">在大多数情况下，我们需要用户输入不止一个字段。为了演示这一点，让我们创建一个注册表单。</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ki"><img src="../Images/126e3066893ee9b05b2bdfa8d475baa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aUwCIZbotFNZygbviwtkVg.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated"><a class="ae kh" href="https://www.agirl.codes/how-to-Build-Forms-with-multiple-input-fields-using-React-Hooks" rel="noopener ugc nofollow" target="_blank">http://www . agirl . codes/how-to-build-forms-with-multi-input-fields-using-react-hooks</a></figcaption></figure><p id="8ae9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从头开始</p><p id="dfc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">状态</strong> →这里我们用<strong class="ih hj">使用状态钩子</strong>声明状态，<strong class="ih hj"> <em class="kg">用户</em> </strong>代表我们插入到<strong class="ih hj">使用状态</strong>中的对象，<strong class="ih hj">设置用户</strong>将被用来更新状态。如果您熟悉 React 类，</p><figure class="kj kk kl km fd kn er es paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="er es ky"><img src="../Images/40259005606cd7881fed3b7bcd01b0a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bgSDbl1e78wKmEhR7bREgw.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated"><a class="ae kh" href="http://www.agirl.codes/how-to-build-forms-with-multiple-input-fields-using-react-hooks" rel="noopener ugc nofollow" target="_blank">http://www . agirl . codes/how-to-build-forms-with-multi-input-fields-using-react-hooks</a></figcaption></figure><p id="320c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="kg"> handleChange </em> </strong> →在我们的<strong class="ih hj"> <em class="kg"> handleChange </em> </strong>函数中，我们使用<strong class="ih hj"> <em class="kg"> setUser </em> </strong>来更新<strong class="ih hj"> <em class="kg"> user </em> </strong>状态。我在<strong class="ih hj"> <em class="kg"> setUser </em> </strong>中传播<strong class="ih hj"> <em class="kg"> user </em> </strong>对象，如果你不这样做，<strong class="ih hj"> <em class="kg"> setUser </em> </strong>只会更新最后一个属性，也就是<strong class="ih hj"> <em class="kg">密码</em> </strong>，所以我们必须通过添加它们来保留其他属性状态。</p><p id="0d03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们用<em class="kg"/><strong class="ih hj"><em class="kg">e【event . target . name】:event . target . value</em></strong>告诉<strong class="ih hj"> <em class="kg"> setUser </em> </strong>函数根据名称更新什么属性。</p><p id="b1a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在存储在<strong class="ih hj">状态</strong>的<strong class="ih hj">用户</strong>数据可以根据需要传递给不同的组件。</p><blockquote class="kz la lb"><p id="cbf9" class="if ig kg ih b ii ij ik il im in io ip lc ir is it ld iv iw ix le iz ja jb jc hb bi translated">event.preventdefault()用于防止页面重新呈现</p></blockquote><h1 id="62aa" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">可访问性非常重要</strong></h1><p id="bd18" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">由于它的常见用法，确保表单易于被所有用户理解和交互是非常重要的。不注意可访问性会减少残疾用户与您的网站表单交互的机会。小小的改变可以带来很大的不同；</p><p id="369c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的表单中，我们使用了最佳实践，并添加了可访问的；</p><ul class=""><li id="f9ac" class="lf lg hi ih b ii ij im in iq lh iu li iy lj jc lk ll lm ln bi translated">包括描述表单控件用途的每个输入字段的标签</li></ul><p id="2e8a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要深入了解如何让你的网站具有可访问性，请阅读更多关于 w3.org 的文章</p><h1 id="6e99" class="jd je hi bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">确保验证用户输入</strong></h1><p id="0af4" class="pw-post-body-paragraph if ig hi ih b ii kb ik il im kc io ip iq kd is it iu ke iw ix iy kf ja jb jc hb bi translated">不应该跳过验证，因为你不应该相信用户会输入正确的信息。选项是使用内置的 HTML 验证，自己编写一个或者使用验证模式。任何选项都可以，我推荐使用像 Yup 这样的验证模式，因为它使得为输入字段编写验证变得容易。这里有一篇文章的中级链接，解释了为什么需要它以及如何使用它进行表单验证。</p><blockquote class="kz la lb"><p id="4588" class="if ig kg ih b ii ij ik il im in io ip lc ir is it ld iv iw ix le iz ja jb jc hb bi translated"><a class="ae kh" rel="noopener" href="/@rossbulat/introduction-to-yup-object-validation-in-react-9863af93dc0e">React 中的 Yup 对象验证介绍</a></p></blockquote><p id="a501" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在您已经了解了如何使用 React 挂钩构建表单，您可以选择使用表单助手或 React 挂钩来构建表单。</p><p id="18db" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注册表单的代码可以在这里找到<a class="ae kh" href="https://codesandbox.io/s/how-to-build-forms-with-multiple-input-fields-using-react-hooks-2c7dt?file=/src/styles.css" rel="noopener ugc nofollow" target="_blank"> codesandbox.io </a></p><p id="e1e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">关于如何构建具有多个输入字段的表单的更深入的初学者指南— <a class="ae kh" href="https://www.agirl.codes/complete-guide-build-react-forms-with-usestate-hook" rel="noopener ugc nofollow" target="_blank">使用 useState 钩子构建 React 表单的完整指南</a></p></div></div>    
</body>
</html>