<html>
<head>
<title>Setting up The Skeleton Attack System in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中设置骨架攻击系统</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/setting-up-the-skeleton-attack-system-in-unity-bb8dfb854954?source=collection_archive---------13-----------------------#2021-07-24">https://medium.com/nerd-for-tech/setting-up-the-skeleton-attack-system-in-unity-bb8dfb854954?source=collection_archive---------13-----------------------#2021-07-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7b16bd0b9d567bde4ff7e11ec5607752.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FdJ4jLPyjasXwGPeAZi_Ng.gif"/></div></div></figure><p id="bec5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">随着玩家现在能够攻击敌人，是时候给敌人一个保护自己的方法了。我从骨架开始。</p><p id="1b8d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一步是将攻击动画添加到骨骼动画中。像其他动画一样，你把它切成正确的大小，然后在一个叫做攻击的新剪辑下录制动画。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/7e3604cad1e4e3c5020e802ef0ca6008.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PTOXYgkJWF5X692I4JTgEA.gif"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">注意:出现的绿框是下一步</figcaption></figure><p id="9282" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在像玩家一样创建一个生命盒，并在每一帧的武器上记录下来。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/768136b580aa5a9f11aebdb0025ec569.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Y7DAtmMAT9D78fQEWVSo6A.gif"/></div></div></figure><p id="3bc1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在animator中，使用InCombat参数设置允许攻击动画播放的逻辑，以允许animator从空闲状态进入攻击状态。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/2b244b4b7442080dc282cdf1edc096a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*ymM7oK5zwlK4mPMViEE2cA.png"/></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/0790954c05db43524027444b95345820.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*baOb2-SaRY5Z6vkx89KjkA.png"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ka"><img src="../Images/e2f950bf618865873ac69854ef4cef51.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*zxLVl6og4WFDvKE2mPfXRg.png"/></div></div></figure><p id="0be4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们创建的攻击脚本是中立的，所以我们可以将它附加到敌人的攻击生命盒中。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kb"><img src="../Images/eaad28dd0494ae8e41227b368a8edffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*cktWE8NkGnj5UYgjylznKA.png"/></div></figure><p id="531d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了让这个脚本工作，玩家需要使用IDamageable脚本。将IDamagable脚本添加到播放器中，并实现所需的属性。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/b151fc5d3d8795a73c02b814eb83d3b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*ya87yhHPH-nkzViwGtEP0w.png"/></div></figure><p id="a76a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后要做的是正确地让骨架面向玩家。考虑到玩家击打骨骼时骨骼面对的方向，你会有两套不同的逻辑。</p><p id="5662" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，将原来的FlipSprite方法更改为玩家现在使用的方法，其中局部比例发生了变化。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/b8920263e22178a1ade4d0f58975cb10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*eQw7O1FkD09imMY2xRTY2A.png"/></div></figure><p id="270d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将逻辑添加到移动脚本中，以翻转局部比例来面对玩家。</p><p id="9f66" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将通过从敌人那里获得玩家的方向来实现。如果数字是正数，玩家在右边，如果是负数，玩家在左边。利用这一点，我们将确定骨架应该面向哪个方向。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/b3823a50c2abe77950ea3d5517fd4713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BY2legPjj-qExb-PY5JuXA.png"/></div></div></figure><p id="1ee2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将使骨骼正确地面向玩家。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es kf"><img src="../Images/f00fc76de9a769871a523f821b0693b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/1*mAcGW3pFsivhwWPOhCmVOQ.gif"/></div></figure></div></div>    
</body>
</html>