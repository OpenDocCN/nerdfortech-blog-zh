<html>
<head>
<title>What is Cost In Detail?| Interview Q&amp;A</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">具体什么是成本？|采访问答</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-cost-in-detail-1da7457febb0?source=collection_archive---------4-----------------------#2021-12-18">https://medium.com/nerd-for-tech/what-is-cost-in-detail-1da7457febb0?source=collection_archive---------4-----------------------#2021-12-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4fd2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">了解解释计划oracle中的成本计算。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/081b2f955f4a0d11fffe80269788b4ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*uhajGC6SZ3HSIgnpVNYBhg.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">详细的成本是什么</figcaption></figure><p id="490f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么是成本？</p><ul class=""><li id="60f8" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">我们知道优化器根据不同计划的成本来决定最佳执行计划。</li><li id="a7d3" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">因此，成本在查询调优中扮演着重要的角色。</li><li id="6fab" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">成本是优化器对执行一条语句的I/o数量的最佳估计。</li><li id="2af2" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">作为一个简单的定义，成本是一个单位。这意味着读取单个块。</li><li id="be7b" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">它是用一个更好的公式计算出来的。当查询估计器估计成本时，它一起使用磁盘I/O、CPU使用和内存使用。</li></ul><blockquote class="kd ke kf"><p id="baea" class="if ig kg ih b ii ij ik il im in io ip kh ir is it ki iv iw ix kj iz ja jb jc hb bi translated"><strong class="ih hj">成本=单块I/O成本+多块I/O成本+ Cpu成本/单块读取时间</strong></p></blockquote><p id="f9d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:</p><ul class=""><li id="1066" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated"><strong class="ih hj">单块I/O成本=单块读取次数*单块读取时间</strong></li><li id="1063" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj">多块I/O成本=多块读取次数*多块读取次数</strong></li><li id="bdd7" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> Cpu成本= Cpu周期数/ CPU速度</strong></li></ul><p id="5aa6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">成本计算说明:</strong></p><p id="9064" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我来一一解释一下。</p><ul class=""><li id="8662" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">在大多数情况下，这些表将被逐块读取。因此，根据读取方式，它决定是逐块读取还是一次读取几个块。</li><li id="80b4" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">因此，它将找到我们执行的单块读取次数，并将其乘以单块读取时间。单个数据块读取时间是指平均读取单个数据块的时间。然后，它会计算多块I/O成本。</li><li id="6363" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">如果是全表读取，或者如果要读取一系列表，数据库服务器会一次读取多个块以加快读取速度。</li><li id="d129" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">因此，如果在我们的执行中会有一个多块读取，它的计算方法是多块读取次数乘以多块读取时间。</li><li id="d1d7" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">CPU成本的计算方法是，将预计用于执行的CPU周期数除以CPU速度。</li><li id="7086" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">这是理论计算。因为很难找到CPU的成本，因为它</li></ul><p id="664f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">如何求CPU成本？</strong></p><ul class=""><li id="5018" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">然而，这很重要。因为在排序、哈希、缓存等的时候会有很多CPU的使用。</li><li id="f498" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">所以这个在成本计算中必须算一个单位。</li><li id="7fad" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">这3项成本的总和被划分为单块读取时间，它返回我们执行的总成本。</li><li id="794e" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">成本计算的公式就是这么简单。但是你不应该认为成本仅仅意味着从光盘上读取数据。</li><li id="eed1" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">从光盘上读取比其他光盘的成本要高得多。但是在成本计算中也考虑了从内存读取和CPU使用。</li><li id="0df1" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">如果我们注意到，除了读一个表之外，数据库服务器在读索引、连接两个表、排序等时还会读数据。因为这些操作读取的块数可能比返回的块数多得多。它可能需要一次又一次地读取同一个块，尤其是当我们连接表时。</li></ul><p id="3260" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论:</strong></p><ul class=""><li id="a539" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">成本很重要。因为优化器根据它们的成本来决定最佳的执行计划。</li><li id="c090" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">它主要是根据统计数据计算出来的。</li><li id="856e" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">更好的成本计算。因此，一个更好的执行计划，最新的统计数据是重要的，因为成本是根据统计数据计算的，请注意，这是一个估计。</li></ul></div></div>    
</body>
</html>