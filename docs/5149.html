<html>
<head>
<title>Automatically deploy application with Github Actions and Azure Static Web Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Github 操作和 Azure 静态 Web 应用程序自动部署应用程序</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/automatically-deploy-application-with-github-actions-and-azure-static-web-apps-a2d11198361a?source=collection_archive---------3-----------------------#2021-09-02">https://medium.com/nerd-for-tech/automatically-deploy-application-with-github-actions-and-azure-static-web-apps-a2d11198361a?source=collection_archive---------3-----------------------#2021-09-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e584" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Azure Static Web Apps 是一种从代码库中自动构建和部署全栈 Web 应用程序到 Azure 的服务。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/2f4c5a4f3d0ff0b0d1b9a0134cc41ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vOU5PjYSV88Vg8oy_sl6qQ.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">本图片改编自<a class="ae jt" href="https://commons.wikimedia.org/wiki/File:010-Democracy_Monument.jpg" rel="noopener ugc nofollow" target="_blank">文件:010-民主 Monument.jpg</a>作者<a class="ae jt" href="https://commons.wikimedia.org/wiki/User:Nawit_science" rel="noopener ugc nofollow" target="_blank">摄影:Nawit science </a></figcaption></figure><h1 id="b0c7" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">什么是 Azure 静态 Web 应用？</h1><blockquote class="ks kt ku"><p id="104b" class="if ig kv ih b ii ij ik il im in io ip kw ir is it kx iv iw ix ky iz ja jb jc hb bi translated">Azure Static Web Apps 是一种从代码库中自动构建和部署全栈 Web 应用程序到 Azure 的服务。</p></blockquote><p id="75b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">来自<a class="ae jt" href="https://docs.microsoft.com/en-us/azure/static-web-apps/overview" rel="noopener ugc nofollow" target="_blank"> Azure 静态 Web 应用文档</a></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kz"><img src="../Images/d949823cd134b0735089cfe34926e814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GJdsW0r5WtMboPhvgVPXGw.png"/></div></div></figure><h1 id="0c18" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">先决条件</h1><ul class=""><li id="0c2e" class="la lb hi ih b ii lc im ld iq le iu lf iy lg jc lh li lj lk bi translated"><a class="ae jt" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>仓库</li><li id="450b" class="la lb hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><a class="ae jt" href="https://portal.azure.com/" rel="noopener ugc nofollow" target="_blank"> Azure </a>账号</li></ul><h1 id="a90e" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">创建静态 Web 应用程序的步骤</h1><p id="7e71" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq lq is it iu lr iw ix iy ls ja jb jc hb bi translated">1.转到<a class="ae jt" href="https://portal.azure.com/" rel="noopener ugc nofollow" target="_blank"> <em class="kv">微软 Azure 门户</em> </a></p><p id="5963" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.选择<em class="kv">静态网络应用</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/b87d182bf5a7e35be8798266c374dc54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eSZ_QA5IFn0bY-PL-kNPCQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">选择<strong class="bd jw">静态网络应用</strong></figcaption></figure><p id="0e94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.选择<em class="kv">创建</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/73a8d822a7f5b78c689cd5bb8e06023e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZTjbIp1knij6HV3UONJQ5g.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">选择<strong class="bd jw">创建</strong></figcaption></figure><p id="0317" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.在<em class="kv">基础</em>选项卡中，填写配置信息并将其链接到 GitHub 存储库。</p><p id="2cd2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">项目详情</strong></p><ul class=""><li id="26b0" class="la lb hi ih b ii ij im in iq lv iu lw iy lx jc lh li lj lk bi translated"><em class="kv">订阅</em>:选择您的<em class="kv"> Azure 订阅</em></li><li id="0a87" class="la lb hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><em class="kv">资源组</em>:选择你的资源组，如果有的话，或者选择<em class="kv">新建— </em>你可以把<em class="kv">资源组</em>当成一个文件夹来放这个 app</li></ul><p id="5993" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">静态 Web 应用程序详情</strong></p><ul class=""><li id="b79f" class="la lb hi ih b ii ij im in iq lv iu lw iy lx jc lh li lj lk bi translated"><em class="kv">名称</em>:输入你的应用名称</li></ul><p id="68ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">托管计划</strong>:</p><ul class=""><li id="a639" class="la lb hi ih b ii ij im in iq lv iu lw iy lx jc lh li lj lk bi translated"><em class="kv">计划类型</em>:选择<em class="kv">自由</em>(或者<em class="kv">标准</em>——你可以看到<em class="kv">比较计划</em>)</li></ul><p id="a4c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Azure 功能和升级细节</strong></p><ul class=""><li id="b8d4" class="la lb hi ih b ii ij im in iq lv iu lw iy lx jc lh li lj lk bi translated"><em class="kv">地区</em>:选择离你最近的地区</li></ul><p id="0cc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">部署详情</strong> <em class="kv"> : </em>选择 GitHub。然后，点击<em class="kv">用 GitHub 登录</em>按钮，用 GitHub 认证。</p><ul class=""><li id="3178" class="la lb hi ih b ii ij im in iq lv iu lw iy lx jc lh li lj lk bi translated"><em class="kv">组织</em>:选择您喜欢的<em class="kv">组织</em>名称。</li><li id="4d4c" class="la lb hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><em class="kv">资源库</em>:选择您想要从中创建静态 Web 应用程序的 GitHub <em class="kv">资源库</em></li><li id="c32f" class="la lb hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><em class="kv">分支</em>:选择<em class="kv">主</em>分支——或者您希望 GitHub 动作在该分支上有代码变更时触发部署的分支</li></ul><p id="8ff5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">建造细节</strong>:</p><ul class=""><li id="0c69" class="la lb hi ih b ii ij im in iq lv iu lw iy lx jc lh li lj lk bi translated"><em class="kv">构建预置</em>:选择<em class="kv">苗条</em>，因为我在这个演示中使用苗条，除非选择你的 JavaScript 框架。</li><li id="a3e5" class="la lb hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><em class="kv">应用位置</em>:如果应用在根目录下，保持默认值(<em class="kv"> / </em>)。</li><li id="ae86" class="la lb hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><em class="kv"> Api 位置</em>:如果您还没有创建 Api，请留空(以后可以更新)</li><li id="b030" class="la lb hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><em class="kv">输出位置</em>:选择<em class="kv"> public — </em> Svelte 在 public 文件夹内生成构建的工件。由于输出位置取决于您选择的框架，请在填写前检查</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ly"><img src="../Images/728df82bb28a55df938f7f1a377b19ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z2Tw1UBgMW-quZzoMwL03Q.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">填写配置信息，并将其链接到 GitHub 存储库</figcaption></figure><p id="f9d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.选择页面底部的<em class="kv">审核和创建</em>按钮</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lz"><img src="../Images/0e97af3be3456e35803d3bf1144f38d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uyNyfPE3y4GdBxoO-zygvg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">选择<em class="ma">审核并创建</em></figcaption></figure><p id="ae02" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.选择<em class="kv">创建。</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mb"><img src="../Images/b9cbde4d6c0f9b474a3ad4e633991031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eXSmCcf9E0gbTt7fKSvqLg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">选择<em class="ma">创建。</em></figcaption></figure><p id="7933" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.选择<em class="kv">转到资源</em>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mc"><img src="../Images/fec4d6ccbfd65e9451f334e6488c02b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ypOc2jjiAaqg28xkB1dlaw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">选择<em class="ma">转到资源</em></figcaption></figure><p id="5e91" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.通过单击下面的 URL 导航到该应用程序。在这一步，Azure 构建并部署应用程序，并自动为您生成 URL。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es md"><img src="../Images/73310bbd3d6c5e4f825820df807be247.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FrytnpVNElp7pMHj8gorpw.png"/></div></div></figure><p id="54bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9.应用程序启动并运行！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es me"><img src="../Images/cbf62b076867a743d7a962cb29801f62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*didXGbAgN-VKuOnDb2WAOA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">应用程序已成功部署</figcaption></figure><p id="730a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">备注</strong>:在引擎盖下，Azure 将<strong class="ih hj"> Azure 静态 Web 应用工作流文件</strong>提交到您的存储库——参见您的 repo 中的最新提交。这是<em class="kv"> yaml </em>文件，它规定了静态 Web 应用程序的构建和部署过程。您将看到您在那里提供的一些配置，如果需要，您可以更新，例如 API 位置。</p><h1 id="23c1" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">更新静态 Web 应用程序的步骤</h1><p id="ea68" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq lq is it iu lr iw ix iy ls ja jb jc hb bi translated">将新代码推送到<em class="kv">主</em>(或任何指定分支)，将自动触发新部署。</p><h1 id="e668" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">结论</h1><p id="097e" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq lq is it iu lr iw ix iy ls ja jb jc hb bi translated">Azure Static Web Apps 非常简单，易于使用。创建 Azure 静态 Web 应用有三种方式，即<a class="ae jt" href="https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript" rel="noopener ugc nofollow" target="_blank"> VS 代码</a>、<a class="ae jt" href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-portal?tabs=vanilla-javascript" rel="noopener ugc nofollow" target="_blank"> Azure 门户</a>和<a class="ae jt" href="https://docs.microsoft.com/en-us/azure/static-web-apps/get-started-cli?tabs=vanilla-javascript" rel="noopener ugc nofollow" target="_blank"> Azure CLI </a>。我演示了如何使用 Azure portal，但是它们都非常简单。创建后，应用程序将随着代码的变化自动构建和部署——超级简单！！！</p><h1 id="7845" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">参考</h1><ol class=""><li id="5613" class="la lb hi ih b ii lc im ld iq le iu lf iy lg jc mf li lj lk bi translated"><a class="ae jt" href="https://www.youtube.com/watch?v=wsQ7nVLkHhA&amp;t=915s" rel="noopener ugc nofollow" target="_blank">让我们开始使用 Azure 静态 web 应用</a></li><li id="38a4" class="la lb hi ih b ii ll im lm iq ln iu lo iy lp jc mf li lj lk bi translated"><a class="ae jt" href="https://docs.microsoft.com/en-us/azure/static-web-apps/" rel="noopener ugc nofollow" target="_blank"> Azure 静态 Web 应用文档</a></li></ol></div></div>    
</body>
</html>