<html>
<head>
<title>Custom 3D Character Controller</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自定义 3D 角色控制器</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/custom-3d-character-controller-ffa3e1721c31?source=collection_archive---------9-----------------------#2021-08-16">https://medium.com/nerd-for-tech/custom-3d-character-controller-ffa3e1721c31?source=collection_archive---------9-----------------------#2021-08-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="056c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目标:创造一个在 3D 环境中移动和跳跃角色。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/88223bbf9c73184769e309a4460fcd59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/1*7pxQ9WsfZhizRSeeK_XMmA.gif"/></div></figure><p id="a71a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将从给胶囊对象添加一个<em class="jl">角色控制器</em>组件开始。我们将把<em class="jl">步长偏移</em>改为“0”——这将消除 Unity 对象“粘”在墙上以及遇到硬边时“抖动”的常见问题。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jm"><img src="../Images/352a97d44fd7d09bd3f21381cad4869b.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*sKw4kI0WuMwFYTCZKKVLrA.png"/></div></figure><p id="b14a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将创建我们的运动脚本。下面是我们需要的变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jn"><img src="../Images/18d5e919c3cf072a72851cf246ef9a64.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*09vD4okX_WR26Sr4zXoB_Q.png"/></div></figure><p id="435d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在<em class="jl"> Update </em>方法中收集所有玩家的输入。我们只允许在角色被禁足的情况下记录跳跃按钮。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jo"><img src="../Images/b6ec579c4cc06dbb5be86a444c6c5fbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*Sc-wMTb9Kyq69DfbeINORg.png"/></div></figure><p id="abfc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在<em class="jl"> FixedUpdate </em>方法中处理实际的移动。这将使我们的运动帧率独立。</p><p id="3a87" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果角色正在下落(速度的 y 轴小于零)，我们将它设置为零。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/fefbeca0f5b4a6489c0627739a4a0ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*RuyRe5nGqwq2Yx_ZDB8aYQ.png"/></div></figure><p id="7b2e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将处理水平和垂直运动。我们将把玩家的输入分配到一个方向，然后在那个方向上移动<em class="jl">角色控制器</em>乘以<em class="jl"> _speed </em>和<em class="jl"> Time.fixedDeltaTime </em>(自上次<em class="jl"> FixedUpdate </em>以来的时间)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/f19dd1515900005ce9cf8c548eb387fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*xXVR9DYcVmKDALhL0tR9MQ.png"/></div></figure><p id="161a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们接受了跳转按钮被按下，我们现在将处理它。我用-9.81 来代表重力。通过我们期望的跳跃高度乘以负二倍重力的平方根，我们的角色将能够在他们跳跃的顶点达到跳跃高度。跳跃高度为 4，我们将能够跳 4“米”(统一世界单位)，这是我们角色 2 米高度的两倍。(想象一个身高 6 英尺 6 英寸的人越过一个 13 英尺高的障碍！)</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jr"><img src="../Images/6ef6aece9c9d84320e8cebcd1d00bee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*d3uB3r5RE7mSc_7ii7JFQQ.png"/></div></figure><p id="12dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，我们将应用重力并实际移动<em class="jl">角色控制器</em>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/589fb9caba9a63f295d04ce700a799d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1048/format:webp/1*gf43_llf5Vu2Qh5BLqxHyw.png"/></div></figure><p id="712c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果就是一个非常圆滑，反应灵敏的角色！</p></div></div>    
</body>
</html>