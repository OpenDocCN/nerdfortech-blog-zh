<html>
<head>
<title>AWS Auto Scaling | Scale everything from a single place</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS自动缩放|从单一位置缩放所有内容</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/aws-auto-scaling-scale-everything-from-a-single-place-5aab8ce64341?source=collection_archive---------7-----------------------#2019-07-04">https://medium.com/nerd-for-tech/aws-auto-scaling-scale-everything-from-a-single-place-5aab8ce64341?source=collection_archive---------7-----------------------#2019-07-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/1975e6d2e84f939d6960c04b7d16d1bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eUCnKzCEFJG0Zg9WiaGQKw.png"/></div></div></figure><div class=""/><p id="6767" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在AWS的最初几年，自动缩放等同于EC2自动缩放。但是随着时间的推移，ECS和DynamoDB等支持自动伸缩的新服务出现了。在控制台的不同位置管理这些扩展策略变得越来越困难。因此，AWS推出了集中式自动扩展服务，在单个面板中跨多个服务管理多个资源的扩展。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jo"><img src="../Images/6fbb42b7fcebb1c0a535097d2e38a20e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VgmHq7cUXoQY1y0_K8d3nA.png"/></div></div></figure><p id="1675" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">自动缩放允许您根据标准来缩放资源:<strong class="is hu"> 1。目标追踪2。第三步。预定</strong></p><p id="1712" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将首先看到目标跟踪。在控制台服务部分搜索自动缩放。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jt"><img src="../Images/3774e8d1ccd05038e20ddec29ab48b8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lAGEM_0CeYnmJO_nTlK9cw.png"/></div></div></figure><p id="2a53" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这里，我们有四个步骤来创建新策略。<strong class="is hu"> 1。查找可扩展资源2。指定扩展策略3。配置高级设置(可选)默认值在大多数情况下有效。4.审核并创建。</strong></p><p id="e126" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">发现您的可扩展资源:</strong></p><p id="a00f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> <em class="ju">通过Cloudformation堆栈搜索</em> </strong> <em class="ju"> : </em>提及堆栈名称，将发现所有可以自动缩放的资源。AWS Auto Scaling只查找在提到的堆栈中定义的资源。它不会遍历嵌套的堆栈。因此，如果您在堆栈中创建了ECS群集，在子堆栈中创建了ECS服务，它将不会发现ECS服务。它只会发现ECS群集。为了能够被发现，集群和服务应该在同一个堆栈中。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jv"><img src="../Images/9f2848ccbe9e44ec64a3f8d8af8fa48b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U_p3wJgOQhqZun2-SwHi2Q.png"/></div></div></figure><p id="fb8a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> <em class="ju">按标签搜索:</em> </strong>如果您有嵌套堆栈，并且您想要将缩放策略应用到由子堆栈创建的资源，则不可能使用上述堆栈选项。在这种情况下，您应该使用<strong class="is hu">通过标签</strong>进行搜索。将会发现所有具有所提到的标签关键字和值的资源。使用标签无法发现ECS服务和Spot车队请求。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jw"><img src="../Images/89d2e04aee01ed086443783d9f211004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VOr-8j_PhaGo2kSgFE-wEQ.png"/></div></div></figure><p id="30e3" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> <em class="ju">选择EC2自动缩放组:</em> </strong>自动缩放是超级设置。它还包括EC2自动缩放。您提到自动扩展组名称，它会将扩展策略应用到相应的扩展组。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jx"><img src="../Images/cdd95f8a0215f1918ece233cf7774b42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QhTjDZlMl9xYD6zwG784kw.png"/></div></div></figure><p id="b670" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">缩放策略:</strong>您有三种预定义的缩放策略可供使用。或者，您可以选择自定义，并使用自定义的cloudwatch指标提及您自己的策略。在配置详细信息中，您可以更改默认值。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jy"><img src="../Images/748ac1e69a8c9f021a3dbfa0dd005aae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLl1MgARPZv3WBsp2HTCzQ.png"/></div></div></figure><p id="85c4" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">审核并创建。创建策略后，您可以进入资源并在scaling policy选项卡下查看应用的策略。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jz"><img src="../Images/e2b9aaf10b4c267f03e3c5122c2e94c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1LrrQ5xfsbwpvgM2ONd0nQ.png"/></div></div></figure><p id="105a" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">步骤</strong>:在这种类型的扩展中，我们需要在cloudwatch中创建自己的警报，并在此基础上添加步骤。例如，如果CPU利用率在50–60之间，则添加一个实例，如果超过60，则开始添加两个而不是一个实例。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ka"><img src="../Images/e0261a5f457b8d193c3543948e1a8f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YH5RqYIzW-Ty01sZoYpqBg.png"/></div></div></figure><p id="dabe" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">预定</strong>:按时间表调整资源，比如说，周一增加产能，周末减少产能。这里需要注意的一点是时间是UTC。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kb"><img src="../Images/2522c895b2b9fcbbfd25391a1a8ad6c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XN7WIeyJIXGfi59RhGZWvg.png"/></div></div></figure><p id="bd4d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想有一个自定义的时间，然后选择自定义，并输入cron表达式。</p><figure class="jp jq jr js fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es kc"><img src="../Images/1f42823ede2a687c32c8852d1427cb1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_so0jXnetlVNwt7m32-RQ.png"/></div></div></figure><p id="4bf2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望这对你有帮助。</p></div></div>    
</body>
</html>