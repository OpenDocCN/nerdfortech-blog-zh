<html>
<head>
<title>Tweaking - Adding refilling PowerUps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">调整-添加充电电源</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/tweaking-adding-refilling-powerups-e8d0118a0744?source=collection_archive---------20-----------------------#2021-05-09">https://medium.com/nerd-for-tech/tweaking-adding-refilling-powerups-e8d0118a0744?source=collection_archive---------20-----------------------#2021-05-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="6e4b" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">没子弹了还是命不久矣？买一个这个！</h2></div><p id="7a44" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在本帖中，我们将回顾太空射击游戏的一些改进和调整。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="355f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一、增加“弹药+”的能量<br/> 就在最近，我们限制了玩家可用弹药的数量。然而，没有能力补充弹药。因此，这个游戏将被限制在15次射击，之后将是一个简单的生存和躲闪…直到现在。玩家现在可以借助新的能量补充来补充弹药。</p><p id="7329" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因为这个没有预建的随时可用的powerup sprite，所以我只是使用提供的资源创建了一个，并对它们进行了处理。</p><p id="2ec4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">逻辑实现非常简单快捷:</p><ul class=""><li id="db14" class="ka kb hi iz b ja jb jd je jg kc jk kd jo ke js kf kg kh ki bi translated">我们需要添加一个函数来重新分配当前的弹药变量。然而，我们想把这种方法模块化，因为可能会有另一种能量(或情况)会增加或减少弹药。</li><li id="7a63" class="ka kb hi iz b ja kj jd kk jg kl jk km jo kn js kf kg kh ki bi translated">如果重新分配的弹药值超过了最大允许弹药值，我们应该重置它以避免任何问题或错误。</li></ul><p id="9d60" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一个函数只用两行代码就完成了:</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es ko"><img src="../Images/235b7568c3b7ac118549468863b547db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-ZtchOJ38WNPT38Ugwlyzw.png"/></div></div></figure><p id="534c" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当我们调用这个方法时，我们决定在这个调用中将添加多少弹药。然后，我们简单地将我们选择的数量添加到当前可用的弹药计数器中。</p><p id="637f" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了防止当前弹药超过最大允许弹药，我们需要另一个小方法:</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es la"><img src="../Images/82491de7ffa90f59a48a52a0dae9ad7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*znHzXZMi4GUsQ7uINEMyHw.png"/></div></div></figure><p id="8ba1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后，我们只需要在<em class="lb"> PowerUp.cs </em>脚本中调用<em class="lb"> AddAmmo() </em>方法。这是游戏中完全有效的实现:</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es lc"><img src="../Images/af6c820e2f1e93ffadd550464869feee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VkHQyI3S53uILtl48W2SFQ.gif"/></div></div></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><p id="c1ec" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="iz hj">二。添加一个“HP+”power up<br/></strong>这个的实现与来自<em class="lb"> Ammo+ </em> powerup的实现非常相似:</p><ul class=""><li id="431d" class="ka kb hi iz b ja jb jd je jg kc jk kd jo ke js kf kg kh ki bi translated">如果玩家剩余的生命少于三条，加一条</li><li id="757c" class="ka kb hi iz b ja kj jd kk jg kl jk km jo kn js kf kg kh ki bi translated">更新屏幕上显示的实时可视化工具以显示当前生活</li><li id="ad66" class="ka kb hi iz b ja kj jd kk jg kl jk km jo kn js kf kg kh ki bi translated">确保同时更新损坏可视化工具</li></ul><p id="5a15" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一个方法将在<em class="lb"> Player.cs </em>脚本中创建。powerup ID switch语句中的<em class="lb"> PowerUp.cs </em>脚本中的后两个方法。</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div class="er es ld"><img src="../Images/f9e5435080eab2afc949073adfa5cd4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*w2A1qbRsmp3PKDgkEj3XPQ.png"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">给玩家增加生命的第一个方法</figcaption></figure><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es li"><img src="../Images/fdb9f585d06a63113d2287112d9e87c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A4I1XKURXsX8Az2x91PbhA.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx translated">更新用户界面元素的方法</figcaption></figure><p id="5241" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是收集能量时发生的情况:</p><ul class=""><li id="0b27" class="ka kb hi iz b ja jb jd je jg kc jk kd jo ke js kf kg kh ki bi translated">玩家将获得另一次生命</li><li id="8ea1" class="ka kb hi iz b ja kj jd kk jg kl jk km jo kn js kf kg kh ki bi translated">表示当前生命的UI元素通过询问<em class="lb"> Player.cs </em>脚本玩家还有多少生命来更新。返回的数字将是加载的精灵</li><li id="65a1" class="ka kb hi iz b ja kj jd kk jg kl jk km jo kn js kf kg kh ki bi translated">玩家的伤害观察器将会更新以适应当前可用的生命</li></ul><p id="4335" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">以下是工作的最终结果:</p><figure class="kp kq kr ks fd kt er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es lc"><img src="../Images/79b3ae008c64c2e299854a92e67f0754.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NnvIzEX0jTWhr58XpN-SRg.gif"/></div></div></figure></div></div>    
</body>
</html>