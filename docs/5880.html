<html>
<head>
<title>Rewarded video ads | Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">奖励视频广告| Unity</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/rewarded-video-ads-unity-28a9baebaa91?source=collection_archive---------0-----------------------#2021-11-30">https://medium.com/nerd-for-tech/rewarded-video-ads-unity-28a9baebaa91?source=collection_archive---------0-----------------------#2021-11-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="6b76" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="e124" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于如何在 Unity 中实现奖励视频广告的快速指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/2588f630ab31b773d3aa2bae35f4908f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jeHLUMGSfQLnAS1M1efrVg.gif"/></div></div></figure><p id="b064" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:在我们的 2D 手机游戏中使用 Unity 实现奖励视频广告。</p><p id="a59b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在上一篇文章中，我介绍了<a class="ae ko" rel="noopener" href="/nerd-for-tech/cross-platform-input-controller-unity-9b76545a4aa0">如何用 Unity </a>实现移动输入。现在，是时候实现奖励视频广告了，以便在广告被观看时给予玩家一定的奖励。</p><h1 id="5e85" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">选择构建平台</h1><p id="80b9" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">首先，让我们确保为我们的游戏选择了正确的构建平台。要在我们的游戏中实现 Unity 广告，我们需要在 Android 或 iOS 之间做出选择。在我们的例子中，我们将选择 Android，因此，让我们打开构建设置并确保切换构建平台:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl ln lo lp lq lr paragraph-image"><img src="../Images/a7ec5aa6ffb716cc2fd4bdd5292ea18d.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*MY94EExFXLhMG1dczs_Whw.png"/></figure><figure class="lm jl ls lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/fc5ffae8bc97b040d36c1499664ea937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*nA4ISoeyRq4qKifCz5nuAg.png"/></div></figure></div><h1 id="b609" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">导入广告包</h1><p id="a2b1" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">然后，为了能够实现 Unity ads，让我们通过使用<strong class="ju hs">包管理器</strong>从 Unity Technologies 导入相应的包。确保打开包管理器，在<strong class="ju hs"> Unity 注册表</strong>中查找广告包，点击<strong class="ju hs"> <em class="lt">安装</em> </strong>按钮:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl lu lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a5b706e506fd92ad7539ef3f13613a91.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*daqidcvF4vNHceUiizAaow.png"/></div></figure><figure class="lm jl lv lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a63c9f85b2bf07cab53f8b3da6022b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1412/format:webp/1*NY6rR315l-MqS1LHFoB4Uw.png"/></div></figure></div><h1 id="1727" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">Unity 项目 ID</h1><p id="23e0" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">接下来，让我们确保创建一个 Unity 项目 ID，以便能够使用 Unity 广告并将其与我们的帐户相关联。为此，让我们打开<strong class="ju hs">项目设置</strong>，在<strong class="ju hs">服务</strong>选项卡中，我们将能够选择我们客户的组织:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl lw lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/d93a5c494e6534b5b13a55370b67b7cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*R9LOv1qeTS39mKhDp8V2jQ.png"/></div></figure><figure class="lm jl lx lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/e1452ef88984c2e3301d69a2c9e639f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1568/format:webp/1*XD4gcF55URl292JcLhH8NA.png"/></div></figure></div><h1 id="fb72" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">启用广告</h1><p id="fa68" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">一旦项目与一个组织相关联，让我们通过打开<strong class="ju hs">服务</strong>窗口并点击<strong class="ju hs">广告</strong>部分来为项目启用广告:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl ly lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/d796dafb0853c5946bcdc5403280b8e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*pwiXtlYvRSejXUlgbL_G2w.png"/></div></figure><figure class="lm jl lz lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/373e13cc13dce48d108711ddc5fdf739.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/1*ADVpMTKzAhYlH5hGjRw4KQ.gif"/></div></figure></div><p id="6ad2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们确保定义该项目的 COPPA 合规性，以确定广告是否适合 13 岁以下的儿童。完成后，我们将能够看到广告部分现已启用:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl ma lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/ff723c74d375be5b5e290c0267543b3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*gkxzP1kyslGfn9xi5ppnkg.png"/></div></figure><figure class="lm jl mb lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/69a03d507d25ac4a3527c8a475c94cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*4LzRjKgoIF0luyuYlH2WAw.png"/></div></figure></div><p id="9392" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">接下来，让我们在同一部分启用测试模式，以测试我们的广告是否有效(并避免被标记为欺诈):</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mc"><img src="../Images/140139c382aabc46572f9d61e0c007af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5M4pVLYignB8Wt4b2ZJdAg.png"/></div></div></figure><p id="3e3b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，让我们转到<a class="ae ko" href="https://dashboard.unity3d.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> Unity 仪表盘</strong> </a> <strong class="ju hs"> </strong>并确保完成各自项目中的广告激活。我们将在游戏中只使用<strong class="ju hs"> Unity 广告</strong>和<strong class="ju hs">而不是</strong> Unity 中介:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es md"><img src="../Images/cf05755adfea284e758bbe8e8c0e02e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*n-JYkig_tjl0PFBFlH0VkQ.gif"/></div></div></figure><p id="99f9" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦启用广告，我们将看到广告单元，这对于选择我们将在游戏中使用哪种类型的广告非常重要。在这种情况下，当我们实现奖励视频时，我们将使用<strong class="ju hs">奖励 Android </strong>广告单元。注意广告单元上方的游戏 ID(这是唯一的)也很重要，因为将显示的广告与我们的帐户相关联很重要。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es me"><img src="../Images/f72043b79ef0c3517779049f8183cf7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3TZE56IkMdI0KNlsfiue9g.png"/></div></div></figure><blockquote class="mf mg mh"><p id="afe0" class="js jt lt ju b jv jw is jx jy jz iv ka mi kc kd ke mj kg kh ki mk kk kl km kn hb bi translated">一个广告单元是一个广告格式设置的集合，用于在游戏中的单个表面点提供的内容。使用它们来指定表面点，以提供奖励或间隙广告。您还可以使用广告单元来配置高级设置，如广告类型和是否允许跳过。</p></blockquote><h1 id="e1c5" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">创建广告按钮</h1><p id="3ef1" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">一旦我们的项目准备好测试 Unity 广告，我们需要一个按钮来测试奖励视频。如果你一直在关注<a class="ae ko" href="https://fas444.medium.com/" rel="noopener">我的最新帖子</a>，那么你会记得<a class="ae ko" rel="noopener" href="/nerd-for-tech/onclick-events-unity-f4805203b039">已经为我们的游戏实现了一个商店</a>，所以，让我们使用各自的商店按钮来测试我们的奖励视频:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/6ea5ecd9a1ba8e56832b541a17e3fa04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SoOVD9TeUhReC0dAlY0Ang.png"/></div></div></figure><h1 id="ea57" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">实现广告包</h1><p id="40f0" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了开始在我们的游戏中使用 Unity 广告，让我们从打开处理商店的商店脚本开始。那么，让我们:</p><ul class=""><li id="bedc" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">添加<strong class="ju hs"> UnityEngine。Advertisements </strong>名称空间位于顶部，以便能够在此脚本中使用 Unity ads SDK。</li><li id="080f" class="ml mm hi ju b jv mu jy mv kb mw kf mx kj my kn mq mr ms mt bi translated">实现下一个接口(这将允许我们处理广告):</li></ul><ol class=""><li id="b862" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mz mr ms mt bi translated"><strong class="ju hs">IUnityAdsInitializationListener</strong></li><li id="b225" class="ml mm hi ju b jv mu jy mv kb mw kf mx kj my kn mz mr ms mt bi translated"><strong class="ju hs"> IUnityAdsLoadListener </strong></li><li id="ee25" class="ml mm hi ju b jv mu jy mv kb mw kf mx kj my kn mz mr ms mt bi translated"><strong class="ju hs"> IUnityAdsShowListener </strong></li></ol><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es na"><img src="../Images/a959cdae2002a6d2a0fffec7ea6a6b77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QDbbafb1VVFtPDDCPTQ1PA.png"/></div></div></figure><p id="7a54" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">每个接口实现以下方法:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nb"><img src="../Images/25899fb6079dd99a2c2e9631ace4e617.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0wXkO1zU9xRjUHkeC9G3aw.png"/></div></div></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nc"><img src="../Images/02edb417ab03731ad9bb0c705286f02c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wZ3Gwe8QKx6QEX2ojcK9iA.png"/></div></div></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nd"><img src="../Images/96b811c5976c8d9551f207f5fa0f6dc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sx7nYQ7VARusiCsp5tqXnQ.png"/></div></div></figure><p id="e0b3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果你想了解更多关于这些方法的信息，你可以查看官方的 Unity API 参考:</p><div class="ne nf ez fb ng nh"><a href="https://unityads.unity3d.com/help/unity/api-unity" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab dw"><div class="nj ab nk cl cj nl"><h2 class="bd hs fi z dy nm ea eb nn ed ef hr bi translated">Unity API 参考</h2><div class="no l"><h3 class="bd b fi z dy nm ea eb nn ed ef dx translated">使用广告名称空间来实现基本的广告内容，如有奖或无奖视频、插播广告等</h3></div><div class="np l"><p class="bd b fp z dy nm ea eb nn ed ef dx translated">unityads.unity3d.com</p></div></div></div></a></div><p id="50ee" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">接下来，让我们添加下一个变量，我们将使用它来处理 Unity ads SDK:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nq"><img src="../Images/a6e710421477f47aa25d05c450aa86ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*hqd58uLYObzB7L1BG_BuhA.png"/></div></figure><ul class=""><li id="86cb" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">Android 游戏 id</li></ul><p id="c137" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">该变量将存储 Android 的游戏 ID，以将其与您组织中的项目相关联。您可以在您的<a class="ae ko" href="https://dashboard.unity3d.com/" rel="noopener ugc nofollow" target="_blank"> Unity 仪表盘</a>上找到此 ID。</p><ul class=""><li id="0565" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">测试模式</li></ul><p id="9d81" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">该变量将指示广告是否应在测试模式下显示。</p><ul class=""><li id="a230" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">启用每次放置模式</li></ul><p id="0cbb" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">此变量将指示 SDK 是否应该使用 Load API 生命周期进行初始化。</p><ul class=""><li id="3fe7" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">奖励视频 ID</li></ul><p id="7fc1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">该变量将存储奖励视频的<strong class="ju hs">广告单元 ID </strong>。</p><ul class=""><li id="6e30" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">奖励按钮</li></ul><p id="3738" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">该变量将存储对 ad 按钮的引用，以便根据 SDK 初始化和加载过程启用或禁用它。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nr"><img src="../Images/8b41c8b7e62611da688ec345e47f783c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*lDpIgktc86ayyMUBPvfL5g.png"/></div></figure><p id="ad9f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦变量定义了各自的值，让我们创建一个新的方法，使用各自的值作为参数来初始化 Unity ads SDK:</p><blockquote class="mf mg mh"><p id="8bb1" class="js jt lt ju b jv jw is jx jy jz iv ka mi kc kd ke mj kg kh ki mk kk kl km kn hb bi translated">注意:在我们的游戏中加载任何广告之前，必须初始化 Unity ads SDK。</p></blockquote><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ns"><img src="../Images/531a1841442440ee3fa4e475e848af6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q6c9ZcEdlS4uMK60ELdm4Q.png"/></div></div></figure><p id="5ec7" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们调用<strong class="ju hs"> Awake </strong>方法上的方法，以确保 SDK 在最开始时初始化:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nt"><img src="../Images/50add8ca4e9bef965d1eda57a43313dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*2CHeN9QW3SREuE2yRKYj_g.png"/></div></figure><p id="fddb" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">接下来，让我们创建一个新的方法来加载奖励视频广告。我们需要使用广告。使用各自的<strong class="ju hs"> Ad 单元 ID </strong>和对我们正在实现的<strong class="ju hs"> IUnityAdsLoadListener </strong>接口的引用来加载方法:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nu"><img src="../Images/18b2a6c7e35bbf200f57be4d3bb47925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*36OwxmmQW0K0SMST5W89fQ.png"/></div></figure><p id="ba03" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，我们将使用由<strong class="ju hs">IUnityAdsInitializationListener</strong>接口实现的方法之一调用上述方法，以确保 Unity ads SDK 在加载广告之前得到初始化:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nv"><img src="../Images/d91e2f0d5f5f33d19458c7d36a9c4ab9.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*Pxeyh11xyF6yeR-evxdanw.png"/></div></figure><p id="7faa" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在由<strong class="ju hs">IUnityAdsInitializationListener</strong>接口实现的另一个方法中，我们将确保在 SDK 初始化失败的情况下打印错误:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nw"><img src="../Images/5275917ad71251237afa2446dd6393f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i1JueMlduZcUu_9ciGVfAg.png"/></div></div></figure><p id="0f3f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们定义由<strong class="ju hs"> IUnityAdsLoadListener </strong>接口实现的方法。首先，我们将使用<strong class="ju hs"> OnUnityAdsAdLoaded </strong>方法来启用广告按钮的使用，如果广告加载成功的话:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nx"><img src="../Images/c9047c206e506a460844c7e7bdb553d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*G68vqnxuCoOdFO2heVBxpA.png"/></div></figure><p id="d5b1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">另一方面，如果广告没有成功加载，我们将只打印错误:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ny"><img src="../Images/d98412394ed1f090419f1ab018338b5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uDxvRsPTEsMcPQAM4gd9IA.png"/></div></div></figure><p id="fb53" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们创建一个新的公共方法，该方法将被 ad 按钮的<strong class="ju hs"> OnClick </strong>事件调用。在此方法中，我们将禁用按钮，并通过使用<strong class="ju hs">广告来显示加载的广告。显示</strong>方法，将各自的<strong class="ju hs"> Ad 单元 ID </strong>和<strong class="ju hs"> IUnityAdsShowListener </strong>引用(我们正在实现的接口)作为参数:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nz"><img src="../Images/b3c0b95079e79ca7e25bea26d20a6071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*_DkRGGE0Fym1IZavJ6jgzQ.png"/></div></figure><blockquote class="mf mg mh"><p id="3808" class="js jt lt ju b jv jw is jx jy jz iv ka mi kc kd ke mj kg kh ki mk kk kl km kn hb bi translated"><strong class="ju hs">重要提示</strong>:一旦方法被创建，确保通过检查器窗口在 ad 按钮的<strong class="ju hs"> OnClick </strong>事件中引用它。</p></blockquote><p id="6090" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，为了验证奖励视频是否被完整观看，让我们使用由<strong class="ju hs"> IUnityAdsShowListener </strong>接口实现的回调方法:</p><ul class=""><li id="ac2f" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated"><strong class="ju hs"> OnUnityAdsShowStart </strong>处理广告开始播放的逻辑。</li><li id="58fb" class="ml mm hi ju b jv mu jy mv kb mw kf mx kj my kn mq mr ms mt bi translated"><strong class="ju hs"> OnUnityAdsShowClick </strong>处理用户点击广告的逻辑。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es oa"><img src="../Images/c269d4a2b3bc3db8cdef65233f3cd214.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CY7DReALMDAqMVGIqj_JfQ.png"/></div></div><figcaption class="ob oc et er es od oe bd b be z dx translated">我们暂时不使用这些方法。</figcaption></figure><ul class=""><li id="42b3" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated"><strong class="ju hs"> OnUnityAdsShowComplete </strong>处理广告结束的逻辑，因此我们将确保比较<strong class="ju hs">UnityAdsShowCompletionState</strong>枚举参数，以检查视频是否成功完成，并授予我们想要的奖励:</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es of"><img src="../Images/73ebf33d43d98964ef3839c9d688fd99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rTf5BHo_Je8tUb3iSsm3LQ.png"/></div></div><figcaption class="ob oc et er es od oe bd b be z dx translated">一旦奖励被授予，请确保<strong class="bd kr">加载另一个广告</strong>，以便广告按钮继续按预期工作。</figcaption></figure><ul class=""><li id="46e5" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated"><strong class="ju hs"> OnUnityAdsShowFailure </strong>处理广告单元显示失败的逻辑，因此我们将打印这种情况下的错误并加载另一个广告。</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es og"><img src="../Images/4392ed85657340c2a0ac387384dbbb87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ker1HkGuZblpQd6wOQbtPg.png"/></div></div></figure><p id="8734" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，如果我们用 Unity 运行游戏，我们会看到 Unity ads SDK 按预期进行了初始化:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es oh"><img src="../Images/d86c6eb5b3e73d5a17f5cc55cbf5ebf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*yCwny334BukORmbrIZvexw.png"/></div></figure><p id="bfcb" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们在商店中使用该按钮，我们将能够在使用测试模式时看到相应的测试广告:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/0fd24c7dce5738af3ba20a737951a3aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Np5r6GykkXePItll-B13yw.gif"/></div></div><figcaption class="ob oc et er es od oe bd b be z dx translated">当您的广告准备就绪时，请确保在 Unity 的两侧(代码和仪表板)禁用测试模式。</figcaption></figure><p id="af36" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们用 Unity 为我们的游戏实现了奖励视频！:d .我会在下一篇帖子中看到你，在那里我将展示如何向谷歌 Play 商店发布我们的 Unity 游戏。</p></div><div class="ab cl oi oj gp ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="hb hc hd he hf"><blockquote class="mf mg mh"><p id="4311" class="js jt lt ju b jv jw is jx jy jz iv ka mi kc kd ke mj kg kh ki mk kk kl km kn hb bi translated"><em class="hi">如果你想更多地了解我，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>