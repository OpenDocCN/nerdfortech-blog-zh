<html>
<head>
<title>What’s useState hook in React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React 中状态钩子有什么用</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/whats-usestate-hook-in-react-ba8cca15ce64?source=collection_archive---------13-----------------------#2021-02-23">https://medium.com/nerd-for-tech/whats-usestate-hook-in-react-ba8cca15ce64?source=collection_archive---------13-----------------------#2021-02-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/bebe05dc2588ebe46a682cfa8f7e7221.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pCUJ13ODqLcx3na_"/></div></div></figure><p id="856c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你好，程序员们，在这篇文章中，我将解释网页设计中使用的新技术。作为一名 web 开发人员，如果您正在使用 react，这是您必须完成的任务。让我们从头开始……</p><blockquote class="jo jp jq"><p id="63e7" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">你在 react 中使用过状态特性吗？</p></blockquote><p id="7ca0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">别担心。让我展示一个简单的例子，不使用任何特殊的东西。有时候你会很熟悉这段代码。这是为了让应用程序在单击相关按钮时增加和减少名为 count 的变量的值。</p><figure class="jv jw jx jy fd ij"><div class="bz dy l di"><div class="jz ka l"/></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">图一</figcaption></figure><p id="82ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个例子中，我使用 class base 使用状态来更改 count 的值。在这个方法中，我们使用基类组件。通常我们不得不在渲染和返回中使用 jsx 代码段。</p><blockquote class="jo jp jq"><p id="8697" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj"> <em class="hi">什么是钩子？</em>T3】</strong></p></blockquote><p id="7c4e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">钩子是 React 16.8 版本中引入的新特性。在 react 中，它允许在不使用类的情况下使用状态、效果和其他 react 特性。</p><p id="8eeb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">钩子不是基类组件。它是一个基于功能的组件。当我们使用钩子时，有一些规则要遵守。</p><blockquote class="jo jp jq"><p id="79dc" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><em class="hi">以后想看这个故事吗？</em> <a class="ae kf" href="https://usejournal.com/?utm_source=medium.com&amp;utm_medium=noteworthy_blog&amp;utm_campaign=tech&amp;utm_content=guest_post_read_later_text" rel="noopener ugc nofollow" target="_blank"> <em class="hi">保存在日志中。</em>T9】</a></p></blockquote><p id="ee29" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">01) <strong class="is hj"> <em class="jr">只调用顶层的钩子</em></strong>——不调用循环、条件或嵌套函数内的钩子。</p><p id="8506" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">02) <strong class="is hj"> <em class="jr">只从 React 函数</em> </strong>调用钩子——不能从常规 JavaScript 函数调用钩子。相反，你可以从 React 函数组件调用钩子。</p><p id="7155" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我们学习 react 挂钩时，我们可以学习 useState、useEffect、UseRef，或者我们可以在 react 组件中构建自定义挂钩。在本文中，我只讨论 useState react 钩子。</p><blockquote class="jo jp jq"><p id="e98e" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj"><em class="hi">useState 钩子有什么用？</em> </strong></p></blockquote><p id="0462" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">钩子是一个特殊的函数，可以让你“钩入”React 特性。例如，useState 是一个钩子，它允许您向函数组件添加 React 状态。</p><p id="ac20" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了让你更清楚，我用 react useState react hook 编写了上面的例子。</p><figure class="jv jw jx jy fd ij"><div class="bz dy l di"><div class="jz ka l"/></div><figcaption class="kb kc et er es kd ke bd b be z dx translated">图二</figcaption></figure><p id="48db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们逐一比较这几段代码。然后你可以得到更多的澄清，以反应钩。</p><h1 id="7d42" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak">类</strong> VS 功能</h1><p id="c2d3" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">这是我在第一段代码中使用的基于类的 react 组件的一个例子(图 1)。</p><pre class="jv jw jx jy fd lj lk ll lm aw ln bi"><span id="7285" class="lo kh hi lk b fi lp lq l lr ls">class App extends React.Component {</span><span id="0027" class="lo kh hi lk b fi lt lq l lr ls">render() {<br/>      return (<br/>         //you can code what would you return<br/>)<br/>}<br/>}</span></pre></div><div class="ab cl lu lv gp lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hb hc hd he hf"><p id="dcf5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">正如我前面所说的，我们在 react 钩子中使用了基于函数的组件。像这样的函数基础组件。</p><pre class="jv jw jx jy fd lj lk ll lm aw ln bi"><span id="57fa" class="lo kh hi lk b fi lp lq l lr ls">function App() {</span><span id="72bd" class="lo kh hi lk b fi lt lq l lr ls">     return (<br/>           //you can code what would you return<br/>     )<br/>}</span></pre><h1 id="e25f" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">声明状态变量</h1><p id="0d03" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">当我们在 react 中使用状态特性时，我们必须声明变量来存储状态。</p><p id="2d8a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在类组件中，我们必须通过在构造器中将<strong class="is hj"> this.state </strong>设置为<strong class="is hj"> {count:0} </strong>来声明 count 变量并存储 0。</p><pre class="jv jw jx jy fd lj lk ll lm aw ln bi"><span id="bcf7" class="lo kh hi lk b fi lp lq l lr ls">class Example extends React.Component {<br/>  constructor(props) {<br/>    super(props);<br/>    this.state = {     <br/>     count: 0    <br/>};  <br/>}</span></pre></div><div class="ab cl lu lv gp lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hb hc hd he hf"><p id="0381" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我们可以比较一下函数库 react hook 组件和类库 react 组件的区别。在我们使用<strong class="is hj"> useState </strong>钩子之前，我们应该像这样导入 useState 依赖项。</p><pre class="jv jw jx jy fd lj lk ll lm aw ln bi"><span id="9360" class="lo kh hi lk b fi lp lq l lr ls">import React, { useState } from 'react';<br/><br/>function Example() {<br/>       [count, setCount] = useState(0);<br/>}</span></pre><h1 id="2a8c" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">为什么我们在 useState 函数中传递一个参数</h1><p id="8c55" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">它是变量当前值的初始值。如果我们像这样编码，</p><pre class="jv jw jx jy fd lj lk ll lm aw ln bi"><span id="5220" class="lo kh hi lk b fi lp lq l lr ls">[count, setCount] = useState(0);</span></pre><p id="bddc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">初始值为 0，(计数=0)。</p><p id="33b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另一个例子，</p><pre class="jv jw jx jy fd lj lk ll lm aw ln bi"><span id="b9c0" class="lo kh hi lk b fi lp lq l lr ls">[name, setName] = useState("vickey");</span></pre><p id="a058" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它也是 name 变量的初始值。</p><p id="c3e4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“vickey”是名为 name 的变量的初始值。</p><h1 id="3148" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated"><strong class="ak">为什么 count &amp; setCount </strong>有两个变量</h1><p id="01f3" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">通常当我们调用 useState 函数时，它返回一对值<em class="jr">。</em>因此，我们为存储当前值(计数)和更新值(设置计数)声明两个变量。</p><h1 id="e335" class="kg kh hi bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">更新状态</h1><p id="d7eb" class="pw-post-body-paragraph iq ir hi is b it le iv iw ix lf iz ja jb lg jd je jf lh jh ji jj li jl jm jn hb bi translated">在基于类的组件中，这是更新变量值的方法(图一)。</p><pre class="jv jw jx jy fd lj lk ll lm aw ln bi"><span id="193b" class="lo kh hi lk b fi lp lq l lr ls">count: this.state.count + 1,//it's like count=count + 1</span></pre><p id="3af2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">接下来是如何使用 react hook 更新基于函数的组件中的值。</p><p id="5bfe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">举个例子，如果我们想在计数上加 1。那么代码应该是这样的(图二)。</p><pre class="jv jw jx jy fd lj lk ll lm aw ln bi"><span id="af29" class="lo kh hi lk b fi lp lq l lr ls">setCount(count + 1)</span></pre><p id="82fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果计数值的初始值是 0，那么在该代码段之后，计数值是 1。</p><p id="ca88" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另一个例子，</p><pre class="jv jw jx jy fd lj lk ll lm aw ln bi"><span id="4735" class="lo kh hi lk b fi lp lq l lr ls">setName("john")</span></pre><p id="32e7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果名字的初始值是“vickey”，那么在代码段之后，名字的值就是“john”。</p><p id="2f7f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了实现完美和可读的编码，在我的示例中，我通过单独的函数<strong class="is hj">increment handler</strong>和<strong class="is hj">increment handler</strong>来减少和增加 count 变量的值。</p><p id="e454" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我认为你对讨论的内容有更好的理解。</p><blockquote class="jo jp jq"><p id="1d87" class="iq ir jr is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">我们讨论过的帽子。T13】</p></blockquote><p id="6f04" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">→在不使用任何特殊技术的情况下编写简单的 familer 示例。</p><p id="b35b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">→使用 react useState 挂钩开发相同的代码</p><p id="fc85" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">→比较主义</p><p id="2698" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">React 中的类与函数</p><p id="db08" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2)声明两个图的状态变量</p><p id="935f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3)使用使用状态初始化变量</p><p id="daf0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4)使用钩子更新 react 中的变量</p><p id="eb27" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我的下一篇博客中，我将讲述另一个叫做“useEffect”的 react 钩子。与我的博客保持联系。快乐记录……!！！！！</p></div><div class="ab cl lu lv gp lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hb hc hd he hf"><p id="dc81" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">📝将这个故事保存在<a class="ae kf" href="https://usejournal.com/?utm_source=medium.com&amp;utm_medium=noteworthy_blog&amp;utm_campaign=tech&amp;utm_content=guest_post_read_later_text" rel="noopener ugc nofollow" target="_blank">日志</a>中。</p></div></div>    
</body>
</html>