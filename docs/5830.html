<html>
<head>
<title>Sampling Distribution and Central limit theorem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">抽样分布和中心极限定理</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/sampling-distribution-and-central-limit-theorem-8da8e10c0ac3?source=collection_archive---------1-----------------------#2021-11-22">https://medium.com/nerd-for-tech/sampling-distribution-and-central-limit-theorem-8da8e10c0ac3?source=collection_archive---------1-----------------------#2021-11-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/08bb5def45c6038524c51f8b0cb12d42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CS6nl8RaiPVzzqBy"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">卡森·阿里亚斯在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="7673" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我们的现实世界中，我们经常搜索特定人群的参数或统计数据，如均值或标准差。但是从人口中估计这些统计数据是相当困难的。在这种情况下，我们可以从总体中收集一些随机数据或样本，并可以估计这些参数。这里，我们将选择一个特定的随机样本大小，并使用不同的试验来估计每个样本的统计量。在重复采样中，样本统计值会因样本而异。但是抽样分布的统计将非常类似于总体的实际统计。</p><p id="7b03" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们举一个简单的例子。一个班里有50名体重不同的学生。学生的权重如下:43，40，45，32，42，48，36，33，34，33，37，40，36，40，43，33，38，30，33，30，41，35，47，49，36，36，37，39，41，32，37，46，41，35，38，42，31，46学生体重的实际平均值为39，标准偏差为5.19。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="bca2" class="kc kd hi jy b fi ke kf l kg kh">import pandas as pd<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="fba1" class="kc kd hi jy b fi ki kf l kg kh">population = [43, 40, 45, 32, 42, 48, 36, 33, 34, 33, 37, 40, 36, 40, 43, 33, 38, 30, 33, 30, 41, 35, 47, 49, 36, 36, 37, 39, 41, 32, 37, 46, 46, 41, 35, 38, 42, 31, 46, 39, 38, 38, 48, 42, 40, 43, 44, 31, 38, 48]</span><span id="8ca9" class="kc kd hi jy b fi ki kf l kg kh">population.mean()<br/>population.std()</span></pre><p id="122b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是班主任不知道上述数据，他想估计学生体重的平均值。因为他不能接近每个学生，所以他每次会随机选择3名学生并计算平均体重。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="a922" class="kc kd hi jy b fi ke kf l kg kh">random_sample = [np.random.choice(population,3) for i in range(100000)]</span></pre><p id="d4e8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的例子中，随机抽取了100000个样本，样本大小为3。这些值存储在名为random_sample的数组中。对于每个样本，将计算平均值并存储在名为sample_mean的数组中。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="ff06" class="kc kd hi jy b fi ke kf l kg kh">sample_mean=random_sample.mean(axis=1)</span></pre><p id="e774" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这些样本平均值可以绘制在直方图中，以便清楚地了解样本分布。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="9654" class="kc kd hi jy b fi ke kf l kg kh">plt.hist(sample_mean, bins=100)</span></pre><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kj"><img src="../Images/33be3d601197711236cc9179018ef05c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EmJco3s9oKsELSfk7oGwDw.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图1:样本量为3时样本均值的抽样分布。(图片由作者提供)</figcaption></figure><p id="c427" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上图中，红线表示学生体重的实际平均值，即39。抽样分布的样本均值非常接近总体的实际均值。</p><p id="fa17" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设，我们要从一个特定的总体中随机抽取n个观测值的样本，其均值和标准差为σ。设X₁，X₂，X₃,……，Xₙ是n个独立的观测值。如果X_sample表示这n次观察的平均值，则</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kk"><img src="../Images/b18a89c0cf871cac84dfed536849405e.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*Ffc0vsIILL0WGPfX8tqQtA.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="8f65" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">X_sample是代表样本平均值的样本统计量。它是一个具有概率分布的随机变量，我们可以称之为抽样分布。</p><p id="81fa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">抽样分布的两个主要特征是:</p><ol class=""><li id="01af" class="kl km hi ix b iy iz jc jd jg kn jk ko jo kp js kq kr ks kt bi translated"><em class="ku">X _ sample的抽样分布均值等于我们从中抽样的总体均值。</em></li></ol><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kv"><img src="../Images/1d6cd9f9146fc52a5a070b18ba7b0fbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:304/format:webp/1*TokmGyB4NCArQfgoTDKZBQ.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="3971" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.<em class="ku">X _ sample的抽样分布的标准偏差由:</em>给出</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/dbd9242a80335400560192d82878093b.png" data-original-src="https://miro.medium.com/v2/resize:fit:350/format:webp/1*Qxqt1cF__i_f4TQvACPM4A.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">作者图片</figcaption></figure><p id="b161" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从上面学生体重的例子中，我们看到抽样分布的平均值几乎与总体的实际平均值相同。然而，随着样本量的增加，抽样分布的标准偏差会变小。下面是同一示例的三个采样分布，样本大小分别为2、4和8。</p><div class="jt ju jv jw fd ab cb"><figure class="kx ij ky kz la lb lc paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/66abf7f995c476ac16a37b46adc6ed43.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*uT3Yg6_hNI9Bu2rdRC9Zmg.jpeg"/></div></figure><figure class="kx ij ld kz la lb lc paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/55849b9941d119688444698ac69c3f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*fo48z2mHliSfu2S5Xa-oQg.jpeg"/></div></figure><figure class="kx ij le kz la lb lc paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/21259518eb28da9d34972925cdb8cae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*t1LyRdJL6jMbRdHq-lgwLw.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx lf di lg lh translated">图2:样本量分别为2、4和8的抽样分布(图片由作者提供)</figcaption></figure></div><p id="6ffa" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从上图可以清楚地看到，随着样本量的增加，分布的平均值保持不变。但是分布的标准差变小了。</p><blockquote class="li lj lk"><p id="0115" class="iv iw ku ix b iy iz ja jb jc jd je jf ll jh ji jj lm jl jm jn ln jp jq jr js hb bi translated">较小的标准差表明样本数据更能代表总体。</p></blockquote><p id="b12a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，大样本量往往能更准确地反映总体情况，因为他们的样本均值更有可能接近总体均值，这将导致较小的变化。</p><blockquote class="li lj lk"><p id="af0a" class="iv iw ku ix b iy iz ja jb jc jd je jf ll jh ji jj lm jl jm jn ln jp jq jr js hb bi translated">如果样本量很大，样本均值将接近实际总体均值。</p></blockquote><h1 id="b23b" class="lo kd hi bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">中心极限定理；</h1><p id="6251" class="pw-post-body-paragraph iv iw hi ix b iy ml ja jb jc mm je jf jg mn ji jj jk mo jm jn jo mp jq jr js hb bi translated">如果我们从正态分布的总体中取样，样本均值就变成正态分布了(就像上面的例子，权重是正态分布的)。但是如果人口不正常呢？中心极限定理来了，根据它:</p><blockquote class="li lj lk"><p id="69eb" class="iv iw ku ix b iy iz ja jb jc jd je jf ll jh ji jj lm jl jm jn ln jp jq jr js hb bi translated"><strong class="ix hj">如果我们从非正态分布中取样，样本均值将呈正态分布，前提是样本量很大。换句话说，对于大样本量，样本均值将呈正态分布，而不管我们从哪个分布中取样。</strong></p></blockquote><p id="010b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们举个例子来弄清楚这个定理。设f(x) = aˣ是一个指数函数，其中a=0.93。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="5db2" class="kc kd hi jy b fi ke kf l kg kh">x = list(range(1,100))<br/>y = [(0.93)**i for i in x]<br/>plt.plot(x,y)</span></pre><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es mq"><img src="../Images/3c9b9d93d5dece6691564595824b52ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*K9ulAyYcJX4yVtN12WINhQ.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图3 : f(x)=0.93ˣ(作者图片)</figcaption></figure><p id="b2ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">函数f(x)的分布肯定不是正态的。现在，我们将从函数f(x)中抽取100000个样本，样本大小为3，并计算每个样本的平均值。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="0ae6" class="kc kd hi jy b fi ke kf l kg kh">y = np.array(y)<br/>random_sample = [np.random.choice(y,3) for i in range(100000)]<br/>random_sample = np.array(random_sample)<br/>sample_mean=random_sample.mean(axis=1)</span></pre><p id="2bd4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，如果我们绘制样本平均值的抽样分布，我们将得到以下结果:</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es mr"><img src="../Images/c3f1a8cacdf7f924b6c6701e96319fe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*an0Jl0a2z5a2KdczXcBVBA.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">图4:样本大小为3的样本分布(图片由作者提供)</figcaption></figure><p id="12fe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">接下来，我们将增加样本量，看看对分布的影响。</p><div class="jt ju jv jw fd ab cb"><figure class="kx ij ms kz la lb lc paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/2e6a82ec4dc97e2ff6287fabc13b174f.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*cqKKc_Jdtkxh4fWSDUV-_g.jpeg"/></div></figure><figure class="kx ij mt kz la lb lc paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/8a8894a827137470c2b2eec22eac6822.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*ymQaBv_zCyWkIv5uiAocRw.jpeg"/></div></figure><figure class="kx ij mu kz la lb lc paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/291e175eb9365655e24da9d222368ee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*kAZdBAwuhEtFCMTvZ-Cfng.jpeg"/></div><figcaption class="iq ir et er es is it bd b be z dx mv di mw lh translated">图5:样本量分别为7、15和30的抽样分布。(图片由作者提供)</figcaption></figure></div><p id="26b4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从上图中我们可以看出，随着样本量的增加，样本均值趋于正态分布，即使我们是从非正态分布的总体中取样。</p><blockquote class="li lj lk"><p id="3d8f" class="iv iw ku ix b iy iz ja jb jc jd je jf ll jh ji jj lm jl jm jn ln jp jq jr js hb bi translated">中心极限定理说，我们可以使用基于正态分布的成熟的统计推断程序，即使我们从非正态分布中取样，只要我们有一个大的样本量。</p></blockquote><p id="0020" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">今天到此为止。希望你们喜欢这篇文章。你可以看看我已经发表的关于统计学的文章。</p><ol class=""><li id="0991" class="kl km hi ix b iy iz jc jd jg kn jk ko jo kp js kq kr ks kt bi translated"><a class="ae iu" rel="noopener" href="/nerd-for-tech/measures-of-variability-and-spread-3a2c11cb647d">可变性和扩散的测量:范围、四分位数、方差和标准偏差</a></li><li id="5bd2" class="kl km hi ix b iy mx jc my jg mz jk na jo nb js kq kr ks kt bi translated"><a class="ae iu" rel="noopener" href="/nerd-for-tech/discrete-probability-distribution-part-1-d8ee0fee2f57">离散概率分布:第一部分</a></li><li id="4c03" class="kl km hi ix b iy mx jc my jg mz jk na jo nb js kq kr ks kt bi translated"><a class="ae iu" rel="noopener" href="/nerd-for-tech/discrete-probability-distribution-part-2-ef007cb9cd29">离散概率分布:第二部分</a></li><li id="478e" class="kl km hi ix b iy mx jc my jg mz jk na jo nb js kq kr ks kt bi translated"><a class="ae iu" rel="noopener" href="/nerd-for-tech/continuous-probability-distribution-4255933bb454">连续概率分布</a></li></ol><p id="b745" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">保持微笑。😃</p></div></div>    
</body>
</html>