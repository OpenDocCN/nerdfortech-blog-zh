<html>
<head>
<title>Flutter series — Implementing stock market watch list UI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Flutter 系列—实现股票市场观察列表 UI</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/flutter-series-implementing-stock-market-watch-list-ui-dccd37a9ef34?source=collection_archive---------7-----------------------#2021-06-07">https://medium.com/nerd-for-tech/flutter-series-implementing-stock-market-watch-list-ui-dccd37a9ef34?source=collection_archive---------7-----------------------#2021-06-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1d4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">嗨伙计们。在上一个教程中，我告诉过你们，我们将使用 Flutter 创建一个前端应用程序，然后我们将连接到我们在早期教程中创建的 spring boot web 应用程序。因此，在本教程中，我们将创建这个任务所需的用户界面。在开始本教程之前，我应该感谢 Youtube 频道<a class="ae jf" href="https://www.youtube.com/channel/UCKvDySsrOVgUgRLhWHeyHJA" rel="noopener ugc nofollow" target="_blank">的<a class="jd je ge" href="https://medium.com/u/2300266301b3?source=post_page-----dccd37a9ef34--------------------------------" rel="noopener" target="_blank">穆罕默德·阿扎姆</a>阿扎姆沙普</a>提供了关于这个股票市场波动应用程序的酷视频教程。伙计们，大部分的设计都是从那个视频中截取的。请去支持他，他也在 Udemy 上提供了很多很酷的课程。所以这就是我们要实现的 UI。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es jg"><img src="../Images/0a0e2847ad39de0e93eebf41570c8ba5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*QQ2MY71pv4tv5ZZwEci7hA.png"/></div></figure><p id="28d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止，我们已经有了一个 hello world 应用程序，它是在上一个教程中创建的。找到这个系列以前的教程，</p><div class="jo jp ez fb jq jr"><a href="https://billa-code.medium.com/flutter-series-creating-the-first-flutter-application-793e5816f816" rel="noopener follow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hj fi z dy jw ea eb jx ed ef hh bi translated">颤振系列——创造第一个颤振应用</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">嗨伙计们。所以在我们的系列教程中，现在你应该已经创建了一个 spring boot 应用程序，它有一个获取股票的端点…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">billa-code.medium.com</p></div></div><div class="ka l"><div class="kb l kc kd ke ka kf jm jr"/></div></div></a></div><div class="jo jp ez fb jq jr"><a href="https://billa-code.medium.com/spring-boot-series-sending-stock-market-data-in-json-form-cce978a9a90d" rel="noopener follow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hj fi z dy jw ea eb jx ed ef hh bi translated">Spring boot 系列—以 JSON 形式发送股票市场数据</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">嗨伙计们。因此，我们创建了股票数据服务来获取单只股票的数据，在本教程中，我将…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">billa-code.medium.com</p></div></div></div></a></div><div class="jo jp ez fb jq jr"><a href="https://billa-code.medium.com/spring-boot-series-unit-testing-basics-3ce566250465" rel="noopener follow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hj fi z dy jw ea eb jx ed ef hh bi translated">弹簧靴系列—单元测试基础</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">嗨伙计们。所以到目前为止，我们已经开发了一个基本的 spring boot 应用程序，它从 Yahoo finance API 获取数据并显示…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">billa-code.medium.com</p></div></div><div class="ka l"><div class="kg l kc kd ke ka kf jm jr"/></div></div></a></div><div class="jo jp ez fb jq jr"><a href="https://billa-code.medium.com/spring-boot-series-stock-market-data-end-point-356592487254" rel="noopener follow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hj fi z dy jw ea eb jx ed ef hh bi translated">春靴系列—股市数据终点</h2><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">billa-code.medium.com</p></div></div></div></a></div><div class="jo jp ez fb jq jr"><a href="https://billa-code.medium.com/create-the-first-spring-boot-app-4e930d812a22" rel="noopener follow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hj fi z dy jw ea eb jx ed ef hh bi translated">创建第一个春季启动应用程序</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">我不打算深入了解许多功能和描述，而只是深入了解 Spring boot 的世界…</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">billa-code.medium.com</p></div></div><div class="ka l"><div class="kh l kc kd ke ka kf jm jr"/></div></div></a></div><p id="cbf7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在本教程中，让我们改变代码，这样我们就可以创建一个很酷的股票市场观察列表用户界面。现在我有两个了。我的 Flutter 应用程序中的 dart 文件。main.dart 和 home_page.dart. home_page.dart 具有在 UI 中央显示 hello world 的代码。为了以下降的方式创建这个页面，我将首先使用 Scaffold 类来包装 home_page.dart 的整个 UI，这将为我们的应用程序的 UI 提供一个材质设计。所以在这里，当我们创建 Scaffold 类时，我们必须在里面添加 body 参数的细节。在主体内部，我将首先实现一个堆栈，其中包含我们正在实现的容器，在容器内部，我们将添加一个名为 SafeArea 的包装类，以便将应用程序放入可见区域。在这个 SafeArea 类中，我们首先添加文本“Watch List ”,然后是日期和时间，最后是股票价值列表。这个列表将被包装在一个名为 StockList 的类中。为了获得日期时间格式选项，我将使用一个名为“intl”的库。首先，让我们将它添加到我们的从属文件中。在 pubspec.yaml 文件中有一个名为 dependencies 的部分，我们在这里添加了 inlt 包。</p><pre class="jh ji jj jk fd ki kj kk kl aw km bi"><span id="1d1e" class="kn ko hi kj b fi kp kq l kr ks">environment:<br/>    sdk: "&gt;=2.7.0 &lt;3.0.0"<br/><br/>dependencies:<br/>    intl: ^0.16.1<br/>    flutter:<br/>        sdk: flutter</span></pre><p id="2374" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以现在我们必须创建 StockList 类来显示我们的股票列表。我将创建另一个名为 Stock 的类来模拟这个列表的一个项目中显示的数据。所以 stock.dart 文件如下。'</p><pre class="jh ji jj jk fd ki kj kk kl aw km bi"><span id="e6da" class="kn ko hi kj b fi kp kq l kr ks">class Stock {<br/>    String symbol;<br/>    String company;<br/>    String price;<br/>    String chg;<br/><br/>    Stock({this.symbol, this.company, this.price, this.chg});<br/><br/>    static List&lt;Stock&gt; getStocks() {<br/>        List&lt;Stock&gt; stocks = List&lt;Stock&gt;();<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/><br/>        return stocks;<br/>    }<br/>}</span></pre><p id="1307" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里我们有一个简单的类，它有一个返回股票集合的方法，它是静态的，所以我们不用初始化这个类就可以访问它，我们现在用这个方法来创建虚拟数据。现在我们必须创建 stock_list.dart 文件，如下所示。</p><pre class="jh ji jj jk fd ki kj kk kl aw km bi"><span id="8bf0" class="kn ko hi kj b fi kp kq l kr ks">import 'package:flutter/material.dart';<br/>import 'package:stock_ui/stock.dart';<br/><br/>class StockList extends StatelessWidget {<br/>    final List&lt;Stock&gt; stocks;<br/><br/>    StockList({this.stocks});<br/><br/>    @override<br/>    Widget build(BuildContext context) {<br/>        return ListView.separated(<br/>                separatorBuilder: (context, index) {<br/>            return Divider(color: Colors.grey[400]);<br/>        },<br/>        itemCount: stocks.length,<br/>                itemBuilder: (context, index) {<br/>            final stock = stocks[index];<br/>            bool isChgNegative = true;<br/><br/>            if (double.parse(stock.chg) &gt; 0) {<br/>                isChgNegative = false;<br/>            }<br/><br/>            return ListTile(<br/>                    contentPadding: EdgeInsets.all(10),<br/>                    title: Column(<br/>                    crossAxisAlignment: CrossAxisAlignment.start,<br/>                    children: &lt;Widget&gt;[<br/>            Text("${stock.symbol}",<br/>                    style: TextStyle(<br/>                    color: Colors.white,<br/>                    fontSize: 24,<br/>                    fontWeight: FontWeight.w500)),<br/>            Text("${stock.company}",<br/>                    style: TextStyle(color: Colors.white, fontSize: 20))<br/>              ]),<br/>            trailing: Column(<br/>                    crossAxisAlignment: CrossAxisAlignment.end,<br/>                    children: &lt;Widget&gt;[<br/>            Text(<br/>                    "\$${stock.price}",<br/>                    style: TextStyle(<br/>                    color: Colors.white,<br/>                    fontSize: 24,<br/>                    fontWeight: FontWeight.w500),<br/>              ),<br/>            Container(<br/>                    alignment: Alignment.center,<br/>                    width: 75,<br/>                    height: 20,<br/>                    decoration: BoxDecoration(<br/>                    borderRadius: BorderRadius.circular(5),<br/>                    color: isChgNegative ? Colors.red : Colors.green),<br/>            child: Text(<br/>                    "${stock.chg}%",<br/>                    style: TextStyle(<br/>                    color: Colors.white,<br/>                    fontSize: 15,<br/>                  ),<br/>                ),<br/>              )<br/>            ],<br/>          ),<br/>        );<br/>        },<br/>    );<br/>    }<br/>}</span></pre><p id="abbb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以在这里，我们向 StockList 类构造函数传递股票列表，然后在这个类中，它被迭代并显示为一个列表。添加这些更改后，现在我们可以更改 home_page.dart 文件以在其中显示该列表。所以代码如下。</p><pre class="jh ji jj jk fd ki kj kk kl aw km bi"><span id="9d4b" class="kn ko hi kj b fi kp kq l kr ks">import 'package:flutter/material.dart';<br/>import 'package:stock_ui/stock.dart';<br/>import 'package:stock_ui/stock_list.dart';<br/>import 'package:intl/intl.dart';<br/><br/>class MyHomePage extends StatelessWidget {<br/>    final title;<br/><br/>    MyHomePage({this.title});<br/><br/>    @override<br/>    Widget build(BuildContext context) {<br/>        return Scaffold(<br/>                body: Stack(children: &lt;Widget&gt;[<br/>        Container(<br/>                padding: EdgeInsets.all(15),<br/>                width: MediaQuery.of(context).size.width,<br/>                color: Colors.black,<br/>                child: SafeArea(<br/>                child: Column(<br/>                crossAxisAlignment: CrossAxisAlignment.start,<br/>                children: &lt;Widget&gt;[<br/>        Row(<br/>                children: &lt;Widget&gt;[<br/>        Expanded(<br/>                flex: 1,<br/>                child: Text(<br/>                "Watch List",<br/>                style: TextStyle(<br/>                color: Colors.white,<br/>                fontSize: 30,<br/>                fontWeight: FontWeight.bold),<br/>                    ),<br/>                  ),<br/>        Expanded(<br/>                flex: 1,<br/>                child: Text(<br/>                DateFormat('dd MMMM yyyy').format(DateTime.now()),<br/>                textAlign: TextAlign.right,<br/>                style: TextStyle(<br/>                color: Colors.grey[500],<br/>                fontSize: 24,<br/>                fontWeight: FontWeight.bold),<br/>                    ),<br/>                  ),<br/>                ],<br/>              ),<br/>        Column(<br/>                crossAxisAlignment: CrossAxisAlignment.stretch,<br/>                children: [<br/>        Text(<br/>                DateFormat().add_jm().format(DateTime.now()),<br/>                textAlign: TextAlign.right,<br/>                style: TextStyle(<br/>                color: Colors.grey[500],<br/>                fontSize: 24,<br/>                fontWeight: FontWeight.bold),<br/>                  ),<br/>                ],<br/>              ),<br/>        Padding(<br/>                padding: const EdgeInsets.only(top: 15),<br/>        child: SizedBox(<br/>                height: MediaQuery.of(context).size.height - 310,<br/>                child: StockList(<br/>                stocks: Stock.getStocks(),<br/>                    )),<br/>              )<br/>            ],<br/>          ),<br/>        ),<br/>      )<br/>    ]));<br/>    }<br/>}</span></pre><p id="89a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当我们运行它时，我们将得到如上图所示的精确输出。因此，为了查看列表是否正常工作，让我们向 Stock 类 getStocks()方法添加一些虚拟数据并进行检查。</p><pre class="jh ji jj jk fd ki kj kk kl aw km bi"><span id="92bb" class="kn ko hi kj b fi kp kq l kr ks">class Stock {<br/>    String symbol;<br/>    String company;<br/>    String price;<br/>    String chg;<br/><br/>    Stock({this.symbol, this.company, this.price, this.chg});<br/><br/>    static List&lt;Stock&gt; getStocks() {<br/>        List&lt;Stock&gt; stocks = List&lt;Stock&gt;();<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/>        stocks.add(new Stock(symbol: "GOOG", company: "Google", price: "220", chg: "11"));<br/><br/>        return stocks;<br/>    }<br/>}</span></pre><p id="ebbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的，酷，滚动也很好。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es kt"><img src="../Images/d7bc5371c6513923749135d3f9b33562.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*IeBCbrFai1BZA-JgZtCO9Q.png"/></div></figure><p id="a199" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以伙计们，如果有任何地方你不明白，请在评论中提出来，我会尽快澄清。编码快乐！！！在下一个教程中，我们将从 Spring boot 中获取数据，然后显示这些真实的股票市场价值。</p></div></div>    
</body>
</html>