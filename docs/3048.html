<html>
<head>
<title>NodeJs: Deploy your NodeJs app on Azure for FREE</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NodeJs:在Azure上免费部署NodeJs应用</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/nodejs-deploy-your-nodejs-app-on-azure-for-free-fcf26135a845?source=collection_archive---------4-----------------------#2021-05-28">https://medium.com/nerd-for-tech/nodejs-deploy-your-nodejs-app-on-azure-for-free-fcf26135a845?source=collection_archive---------4-----------------------#2021-05-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/bc262b718f360e8c751ad25dd074beca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mVVig0cW-jdzyx2pFZiADQ.png"/></div></div></figure><p id="f044" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们面对现实吧，每当我们准备好一些功能时，我们都会想到在云上免费部署我们的应用程序，无论是让其他应用程序与我们的API集成，还是向我们的利益相关者演示这些功能。在选择云提供商时，Azure可能是目前最有吸引力的。它越来越受欢迎，越来越多的企业采用它来满足他们的云计算需求。易用性、一系列SaaS应用程序、优秀的IT支持文档、相对便宜等等。这是它比其他云提供商增长速度更快的一些原因。</p><p id="47ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇文章将帮助你在Azure上免费部署你的NodeJs应用。</p><h1 id="6efa" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">第一步:登录</strong></h1><p id="1045" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">登录/注册到<a class="ae kr" href="https://portal.azure.com/" rel="noopener ugc nofollow" target="_blank"> Azure </a>。如果你是azure的新手，你将获得12个月的免费订阅，使用它你可以免费访问许多Azure服务。报名<a class="ae kr" href="https://azure.microsoft.com/en-us/free/" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><h1 id="009b" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">第二步:创建一个网络应用</strong></h1><p id="d3d4" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">创建一个资源，选择“Web App”。这是来自Azure的PaaS产品，Azure是托管web应用程序的完全托管的容器服务。它本质上构建了项目的映像，并使用docker进行部署。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es ks"><img src="../Images/81f3cc5e6e98dbfdc493b9507966e8d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*BOPRdwgoD24T2kgrpt_DhQ.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">创建新资源</figcaption></figure><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es lb"><img src="../Images/6e2081016add40a3ac9605e40392a140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*7xB6mjiyEdjtjxF49QqI6A.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">创建新的Azure Web应用</figcaption></figure><ul class=""><li id="f8cd" class="lc ld hi is b it iu ix iy jb le jf lf jj lg jn lh li lj lk bi translated">选择/创建(如果您还没有)订阅和资源组。资源组是一组一起计费的服务。</li><li id="5e6e" class="lc ld hi is b it ll ix lm jb ln jf lo jj lp jn lh li lj lk bi translated">为您的Web应用程序指定一个唯一的名称。</li><li id="8fea" class="lc ld hi is b it ll ix lm jb ln jf lo jj lp jn lh li lj lk bi translated">将发布保留为“代码”，并选择运行时堆栈作为开发应用程序的节点版本。</li><li id="4b66" class="lc ld hi is b it ll ix lm jb ln jf lo jj lp jn lh li lj lk bi translated">选择地区为“美国东部”，并将SKU更改为“F1”，这是免费使用的(当您拥有12个月的免费订阅时，这将是默认选项)。</li></ul><h1 id="8124" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> <em class="lq">第三步:</em> </strong>审核+ <strong class="ak"> <em class="lq">创建</em> </strong></h1><p id="7180" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">转到“查看+创建”选项卡，点击“创建”。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es lr"><img src="../Images/f51f76f86bd3d6802166042291fe6f24.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*tRm7jPbNx0pYFw9QPmVuEA.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">审查和创建</figcaption></figure><p id="0020" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Web App服务将在您的Web应用中部署一个虚拟的Microsoft-Web-WebApp-Portal。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/3241d52917ec7a9e74e885ac95ace162.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jkNy77fC4hQhFIyh9eLB-w.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">虚拟应用程序已部署</figcaption></figure><h1 id="e877" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> <em class="lq">第四步:创建NodeJs应用</em> </strong></h1><p id="a0cd" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">创建NodeJs应用程序。在这里，我从NestJs starter应用程序创建了一个项目，并将其推送到Git存储库。我对入门应用程序所做的更改:</p><ul class=""><li id="629e" class="lc ld hi is b it iu ix iy jb le jf lf jj lg jn lh li lj lk bi translated">我已经更新了main.ts文件，主要从环境中监听端口，而不是硬编码的3000。这是因为Azure Web App Service部署了一个App容器@ 8080(通过env。PORT)并绑定到docker。</li></ul><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="ab fe cl lt"><img src="../Images/f89d1735ccd9a1b93553d60e267f9bc8.png" data-original-src="https://miro.medium.com/v2/format:webp/1*OL0OBpFMA97I7b_MeAmnuw.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">用于监听process.env.PORT的应用程序</figcaption></figure><p id="1eee" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我已经更新了Hello控制器来监听“/hello”而不是“/”。<br/><em class="lu">PS:</em>appservice . get Hello()返回“Hello World！”。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/9074dfedfa81d8de38f1be2014f4b078.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4nWeM7zwTtlNpud8KyETlw.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">更改Hello API的路径</figcaption></figure><h1 id="2be1" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> <em class="lq">第五步:部署</em> </strong></h1><p id="265a" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">现在我们终于部署了！！你可以通过VS代码部署你的应用。此步骤要求您在VS代码中安装“Azure Tools”扩展。</p><ul class=""><li id="64fe" class="lc ld hi is b it iu ix iy jb le jf lf jj lg jn lh li lj lk bi translated">在VS代码中安装“Azure Tools”扩展。</li><li id="485c" class="lc ld hi is b it ll ix lm jb ln jf lo jj lp jn lh li lj lk bi translated">在扩展中登录到您的Azure帐户(最初会有提示)。</li><li id="1966" class="lc ld hi is b it ll ix lm jb ln jf lo jj lp jn lh li lj lk bi translated">部署到Web应用程序。此选项将要求您选择一个项目目录，压缩它，并在Web应用程序中上传和部署您的项目。</li></ul><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/336c3b97bfa19bda6a841513c69b5907.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R65U5tQI8XOyg41a4pJdzQ.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">通过VS代码部署</figcaption></figure><p id="be02" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者，您可以将您的Web应用程序挂接到一个源代码控制库分支，当代码被推送到该分支时，它将自动触发一个构建。要实现这一点，请转到Web应用程序的部署中心，并连接到NodeJs应用程序的源代码控制存储库。保存。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/f6d23877b26ac407560960105a08f403.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fRiPWXs-0bPEvkSwMFrnnA.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">将您的NodeJs应用程序存储库与Web应用程序挂钩</figcaption></figure><h1 id="0974" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak"> <em class="lq">第六步:验证</em> </strong></h1><p id="ce7c" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">完成后，尝试WebApp的url来检查它是否部署良好。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/7d5a2dc1b820fc88973108f9c9f6860b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jMaPM1Uj0P-y4OvPCqlAdA.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">应用程序已部署</figcaption></figure></div></div>    
</body>
</html>