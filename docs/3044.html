<html>
<head>
<title>React Native: Styles Normalization || Responsive Design</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应原生:样式规范化||响应设计</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/react-native-styles-normalization-e8ce77a3110c?source=collection_archive---------0-----------------------#2021-05-28">https://medium.com/nerd-for-tech/react-native-styles-normalization-e8ce77a3110c?source=collection_archive---------0-----------------------#2021-05-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="faff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们开发React原生应用程序时，在某些情况下，我们希望该应用程序可以在手机和平板电脑(iPad，Android平板电脑)上运行。</p><p id="b063" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种需求的一个挑战是视觉上不同的样式，比如字体大小不能根据屏幕大小进行调整。</p><p id="e23e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">iOS和Android设备的像素比例不同。如果您以像素为单位定义字体大小，则大小可能因设备而异。因此，我们必须根据设备的像素密度和尺寸来解释每种字体、宽度和高度。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/37c9e23fa9c6f18a851056ca4db87e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Fsz1zfEEVQKqLKHKAX17A.png"/></div></div></figure><h1 id="a517" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">解决方案是:</h1><p id="1365" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">React本机应用程序的这种问题可以通过相对于固定的屏幕尺寸比例规范化样式来解决。</p><h2 id="b909" class="ks jq hi bd jr kt ku kv jv kw kx ky jz iq kz la kd iu lb lc kh iy ld le kl lf bi translated">示例:基于iPhone 11秤</h2><blockquote class="lg lh li"><p id="bc3b" class="if ig lj ih b ii ij ik il im in io ip lk ir is it ll iv iw ix lm iz ja jb jc hb bi translated">屏幕宽度= 414屏幕高度= 896</p><p id="0f76" class="if ig lj ih b ii ij ik il im in io ip lk ir is it ll iv iw ix lm iz ja jb jc hb bi translated">注意:任何设备都可以被考虑用于这种固定比例的输入。最好选择为UX设计的设备。</p></blockquote><p id="e629" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用这些固定比例来计算baseWidth和baseHeight。</p><h1 id="75c0" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第一步:</h1><p id="f86d" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">首先，我们需要从react-native包中提取屏幕的高度和宽度。</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="df98" class="ks jq hi lo b fi ls lt l lu lv">import { Dimensions } from 'react native';</span><span id="013b" class="ks jq hi lo b fi lw lt l lu lv">const { <br/>  width: SCREEN_WIDTH, <br/>  height: SCREEN_HEIGHT <br/>  } = Dimensions.get('window');</span></pre><p id="6946" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们有了当前设备的屏幕宽度和高度，我们可以计算基本比例。</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="8135" class="ks jq hi lo b fi ls lt l lu lv">const widthBaseScale = SCREEN_WIDTH / 414;<br/>const heightBaseScale = SCREEN_HEIGHT / 896;</span></pre><h1 id="e5d7" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第二步:</h1><p id="c9f0" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">使用基本尺度，我们必须创建一个函数来计算最合适的尺寸。</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="1c0f" class="ks jq hi lo b fi ls lt l lu lv">import { PixelRatio } from 'react-native'; </span><span id="54d8" class="ks jq hi lo b fi lw lt l lu lv">function normalize(size, based = 'width') {<br/> const newSize = (based === 'height') ? <br/>                 size * heightBaseScale : size * widthBaseScale;</span><span id="1e13" class="ks jq hi lo b fi lw lt l lu lv"> return Math.round(PixelRatio.roundToNearestPixel(newSize));<br/>}</span></pre><p id="0618" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个<strong class="ih hj"> <em class="lj">规格化函数接受两个参数，即大小和基类型(based) </em> </strong>。使用来自react-native包的PixelRatio，我们可以根据输入的大小四舍五入到最近的像素。</p><h1 id="7e2c" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">第三步:</h1><p id="1be8" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">此<strong class="ih hj"> <em class="lj">规格化</em> </strong>函数可用于创建和导出可输入字体、边距、填充、高度、宽度等大小的函数。</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="6635" class="ks jq hi lo b fi ls lt l lu lv"><strong class="lo hj"><em class="lj">//for width  pixel</em></strong><br/>const widthPixel = (size) =&gt; {<br/>  return normalize(size, 'width');<br/>};</span><span id="6e24" class="ks jq hi lo b fi lw lt l lu lv"><strong class="lo hj"><em class="lj">//for height  pixel</em></strong><br/>const heightPixel = (size) =&gt; {<br/>  return normalize(size, 'height');<br/>};</span><span id="92c1" class="ks jq hi lo b fi lw lt l lu lv"><strong class="lo hj"><em class="lj">//for font  pixel</em></strong><br/>const fontPixel = (size) =&gt; {<br/>  return heightPixel(size);<br/>};</span><span id="2768" class="ks jq hi lo b fi lw lt l lu lv"><strong class="lo hj"><em class="lj">//for Margin and Padding vertical pixel</em></strong><br/>const pixelSizeVertical = (size) =&gt; {<br/>  return heightPixel(size);<br/>};</span><span id="cfef" class="ks jq hi lo b fi lw lt l lu lv"><strong class="lo hj"><em class="lj">//for Margin and Padding horizontal pixel</em></strong><br/>const pixelSizeHorizontal = (size) =&gt; {<br/>  return widthPixel(size);<br/>};</span><span id="5764" class="ks jq hi lo b fi lw lt l lu lv">export {<br/>  widthPixel,<br/>  heightPixel,<br/>  fontPixel,<br/>  pixelSizeVertical,<br/>  pixelSizeHorizontal<br/>};</span></pre><h1 id="797b" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">用法示例</h1><p id="69ec" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">可以在样式表中使用上面导出的函数来规范化大小，如下面的代码片段所示。</p><pre class="je jf jg jh fd ln lo lp lq aw lr bi"><span id="b658" class="ks jq hi lo b fi ls lt l lu lv">const styles = StyleSheet.create({<br/> container: {<br/>   paddingHorizontal: <strong class="lo hj">pixelSizeHorizontal(15)</strong>,<br/>   paddingVerticle: <strong class="lo hj">pixelSizeVertical(20)</strong>,<br/>   marginBottom: <strong class="lo hj">pixelSizeVertical(10)</strong>,<br/>   height: <strong class="lo hj">heightPixel(200)</strong>,<br/>   width: <strong class="lo hj">widthPixel(200)</strong>,<br/> },<br/> <br/> title: {<br/>   fontSize: <strong class="lo hj">fontPixel(18)</strong>,<br/>   paddingVerticle: <strong class="lo hj">pixelSizeVertical(10)</strong>,<br/> },</span><span id="3500" class="ks jq hi lo b fi lw lt l lu lv">})</span></pre><h1 id="9495" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">结论</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/457d8d08026bf4fe0053ac0eef615be5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nB5-7da8yZMC-Xt9mnq3Fw.png"/></div></div></figure><p id="732a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的实现是在不同大小的设备上实现干净的大小合适的用户界面的最简单的方法之一。</p></div></div>    
</body>
</html>