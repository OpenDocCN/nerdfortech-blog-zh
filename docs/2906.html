<html>
<head>
<title>What exactly is an ETL process?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ETL过程到底是什么？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-exactly-is-an-etl-process-5b6fb8841865?source=collection_archive---------16-----------------------#2021-05-23">https://medium.com/nerd-for-tech/what-exactly-is-an-etl-process-5b6fb8841865?source=collection_archive---------16-----------------------#2021-05-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b2f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Python中的简单例子</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/86f406d3a05169377f4f068587c255f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YgY7_kqkjq-s59Mz.jpg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">石油管道:已经完成还是未来？—消费者能源联盟</figcaption></figure><p id="b6ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在数据科学和分析的背景下，我们经常看到缩写词ETL。这个流行词被大量地喷洒在分析角色的描述中，也用于Coursera、Databricks、Datacamp等平台上的在线课程。</p><p id="c059" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是有充分理由的。几乎每个处理过收集、争论和存储数据的人都或多或少地参与过这个过程。</p><p id="b100" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么什么是ETL过程呢？</p><p id="72e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jt" href="https://www.sas.com/en_us/insights/data-management/what-is-etl.html" rel="noopener ugc nofollow" target="_blank"> ETL </a>代表<strong class="ih hj"> <em class="ju">提取、转换和加载</em> </strong>，这是大型基础设施的数据管理部分涉及的三个关键步骤。它是从各种类型的来源中提取数据、整理/清理数据，然后以格式化的方式将其存储在数据仓库或数据库或数据框架中以便于查询和分析的过程。此外，该过程理想地应该是<strong class="ih hj">自动化的</strong>，并且本质上可以是<strong class="ih hj">迭代的</strong><strong class="ih hj">。</strong></p><p id="4837" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据仓库和数据库之间有一些细微的区别，主要是仓库中的数据是现成的用于分析，而数据库中的数据主要用于读/写目的。在这方面，仓库更类似于数据框架。因此，在本文中，我们将使用dataframe作为一种方式，用Python中的例子来描述ETL过程。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jv"><img src="../Images/eee01848e69ae76edcb52b661ebab4dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GiYSYel-LFh5YEc-"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://rivery.io/blog/etl-vs-elt-whats-the-difference/" rel="noopener ugc nofollow" target="_blank"> ETL与ELT:有什么区别？| Rivery </a></figcaption></figure><p id="2c70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在小范围内，ETL过程可能类似于这样:</p><ul class=""><li id="1023" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc kb kc kd ke bi translated"><em class="ju">使用Python的熊猫库导入CSV数据集</em></li><li id="5810" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><em class="ju">清理/处理数据，以处理缺失值或格式错误的实例</em></li><li id="5c49" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><em class="ju">将清理后的数据加载回数据帧，以便高效查询和分析</em></li></ul><p id="68df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在大规模上，该过程可能是驻留在云基础设施中的广泛数据管道的一部分，如<a class="ae jt" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank">亚马逊网络服务(AWS) </a>、<a class="ae jt" href="https://azure.microsoft.com/en-us/" rel="noopener ugc nofollow" target="_blank">微软Azure </a>或<a class="ae jt" href="https://cloud.google.com/" rel="noopener ugc nofollow" target="_blank">谷歌云平台(GCP) </a>。在这种情况下，流程可能如下所示:</p><ul class=""><li id="88ab" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc kb kc kd ke bi translated"><em class="ju">从各种API或软件产品中提取数据(也称</em> <a class="ae jt" href="https://www.alooma.com/blog/what-is-data-ingestion#:~:text=Data%20ingestion%20is%20a%20process,%2C%20CSVs%2C%20or%20from%20streams." rel="noopener ugc nofollow" target="_blank"> <em class="ju">数据摄取</em> </a> <em class="ju">)并放入</em> <a class="ae jt" href="https://en.wikipedia.org/wiki/Data_lake" rel="noopener ugc nofollow" target="_blank"> <em class="ju">数据湖</em> </a></li><li id="074e" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><em class="ju">从数据湖中提取原始数据，并通过各种清理步骤将其转换为更可用的格式</em></li><li id="afb4" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated"><em class="ju">将格式化干净的数据存储到数据仓库中，如</em> <a class="ae jt" href="https://aws.amazon.com/redshift/" rel="noopener ugc nofollow" target="_blank"> <em class="ju">红移</em> </a> <em class="ju"> (AWS)或</em><a class="ae jt" href="https://cloud.google.com/bigquery" rel="noopener ugc nofollow" target="_blank"><em class="ju">big query</em></a><em class="ju">【GCP】</em></li></ul><p id="d469" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不管过程的规模如何，上述两个例子都有可能实现自动化。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kk"><img src="../Images/198581b40deece6d2578f10d917d2e7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*A84gLKZGhdsc8AgA"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://www.reddit.com/r/AZURE/comments/mkfzww/big_data_pipeline_on_aws_microsoft_azure_and/" rel="noopener ugc nofollow" target="_blank">AWS、微软Azure和谷歌云上的大数据管道:Azure(reddit.com)</a></figcaption></figure><p id="a516" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将格式化的数据存储在数据仓库或数据帧中是数据管道中的关键步骤，因为它使后续的分析或机器学习工作更加方便和高效。因此，ETL是一个可能被大多数处理任何级别数据的人有意或无意使用的过程。</p><h1 id="ba1e" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">为什么理解这个概念很重要？</h1><p id="c83f" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">为了更好地理解使用ETL的环境，首先确定它在整个<strong class="ih hj">数据科学工作流程</strong>中的位置是很重要的。它通常位于业务问题公式化和建模/分析步骤之间。因此，它构成了数据科学问题的关键，也是我个人最喜欢的项目方面，因为我真正接触到了数据。</p><p id="06e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">区分<em class="ju">数据管道</em>和<em class="ju">数据科学工作流程</em>非常重要。前者代表实际的数据流，而后者是一个概念或方法，其范围要大得多，包括直接处理实际数据的前者。</p><p id="d2a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总体数据科学方法可以总结为以下关键步骤:</p><ol class=""><li id="f8bf" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc lo kc kd ke bi translated">制定业务问题— <em class="ju">业务问题</em></li><li id="0630" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc lo kc kd ke bi translated">将业务问题转化为数据问题— <em class="ju">数据问题</em></li><li id="c7cc" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc lo kc kd ke bi translated">决定回答问题需要什么样的数据</li><li id="c5dc" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc lo kc kd ke bi translated"><strong class="ih hj"> <em class="ju">计算出我们所需的各种数据来源和提取数据所需的工具</em> </strong></li><li id="9233" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc lo kc kd ke bi translated"><strong class="ih hj"> <em class="ju">确保收集的数据代表正在解决的问题</em> </strong></li><li id="d0cf" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc lo kc kd ke bi translated"><strong class="ih hj"> <em class="ju">清理/处理数据，将其转换成可用的格式</em> </strong></li><li id="ce1f" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc lo kc kd ke bi translated">分析和可视化数据</li></ol><ul class=""><li id="5639" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc kb kc kd ke bi translated">探索性数据分析</li><li id="4446" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc kb kc kd ke bi translated">分析或仪表板</li></ul><p id="7813" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.特征工程、预处理和建模</p><p id="9edf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9.将模型自动化和生产化，以便在实际中使用</p><p id="e1d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">10.从模型或分析中获得有意义的见解，以回答最初的问题</p><p id="d1d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上述过程的<strong class="ih hj"> ETL部分在第4–6点</strong>中被捕获。因此，你可以看到，它构成了整个序列的中心部分，可能需要迭代才能从数据中获得最大的意义。</p><h1 id="7250" class="kl km hi bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">使用Python的三个简单ETL示例</h1><p id="4460" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">现在我们已经在高层次上建立了流程的样子，让我们深入研究它实际涉及的几个例子。这些例子来自我做过的项目，都是用Python写的。</p><h2 id="39db" class="lp km hi bd kn lq lr ls kr lt lu lv kv iq lw lx kz iu ly lz ld iy ma mb lh mc bi translated">使用网络抓取可视化美国失业数据</h2><p id="31a3" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">第一个例子有效地描述了一个快速而简单的ETL过程，用于收集、清理和呈现美国失业数据。整个项目是创建一个带有几个经济和财务指标的<a class="ae jt" href="http://thecraftofdata.com/2021/03/creating-a-dashboard-using-python-to-track-critical-financial-and-economic-indicators" rel="noopener ugc nofollow" target="_blank">仪表板</a>，以及包含其他指标的其他类似ETL过程的<a class="ae jt" href="https://github.com/saychelsea11/Finance_And_Covid_Tracking_Dashboard/blob/main/Finance_tracking.ipynb" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>。</p><p id="e4a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将关注从劳工统计局网站上搜集的失业数据。该流程的代码片段如下所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es md"><img src="../Images/258e7b89c451ca806f7bd56af2271b5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5NB40vp4KSl4A8Si"/></div></div></figure><p id="ec2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用Python的<em class="ju"> Beautiful Soup </em>和<em class="ju"> Requests </em>库提取XML格式的数据，随后解析并存储在dataframe中。原始XML数据的快照如下所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es me"><img src="../Images/e3cb0dd3501699e67e2b28081308b9c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/0*0sczRlWRihjfGKRO"/></div></figure><p id="6962" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为日期没有作为原始数据的一部分显式返回，所以需要进行一些日期操作来将失业率映射到年份和月份。最终清除的数据存储在如下所示的数据帧中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mf"><img src="../Images/b074ac5eef3762713f15690c60f242f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/0*tKIoaYpQYyRMXMs4"/></div></figure><p id="28c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将格式化后的数据存储在数据帧(类似于数据库)中，便于进行分析和绘图，以直观显示一段时间内的趋势。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mg"><img src="../Images/8433b693eb723a48de2bd07f6bd079f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/0*haOrjZG_qclbJ2TH"/></div></figure><h2 id="2fdb" class="lp km hi bd kn lq lr ls kr lt lu lv kv iq lw lx kz iu ly lz ld iy ma mb lh mc bi translated">存储来自CSV文件和API的邻域坐标和场地信息</h2><p id="6ee7" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">是的，没错。这个项目的数据提取、清理和存储过程尤其混乱，甚至涉及一些手动步骤。然而，这是人们在现实生活场景中可能会遇到的情况，在现实生活场景中，需要收集来自各种来源的原始数据，并以两者相辅相成的方式进行组合。坦率地说，我非常喜欢这个过程，因为我可以更多地接触数据。</p><p id="d2e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了提供这个项目的简要概述，我试图<a class="ae jt" href="http://thecraftofdata.com/2019/02/determining-an-ideal-location-for-opening-a-retail-store-in-atlanta" rel="noopener ugc nofollow" target="_blank">确定在亚特兰大市最好的街区开一家零售店</a>。所有的项目信息都可以在<a class="ae jt" href="https://github.com/saychelsea11/Clustering-Neighborhoods-In-Atlanta-To-Determine-Ideal-Location-For-A-Retail-Store" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到。该项目的数据收集包括以下关键步骤:</p><ol class=""><li id="76ea" class="jw jx hi ih b ii ij im in iq jy iu jz iy ka jc lo kc kd ke bi translated"><em class="ju">收集所有的街区名称及其人口</em></li><li id="fe45" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc lo kc kd ke bi translated"><em class="ju">提取每个邻域的坐标</em></li><li id="9e95" class="jw jx hi ih b ii kf im kg iq kh iu ki iy kj jc lo kc kd ke bi translated"><em class="ju">使用坐标</em>提取每个街区的场馆信息</li></ol><p id="afcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">邻居的名字和人口直接从维基百科复制到一个<a class="ae jt" href="https://github.com/saychelsea11/Clustering-Neighborhoods-In-Atlanta-To-Determine-Ideal-Location-For-A-Retail-Store/blob/master/Data/atlanta_neighborhoods.csv" rel="noopener ugc nofollow" target="_blank"> CSV文件</a>，然后允许数据直接导入Python中的数据帧。一旦我们有了这些信息，第2步和第3步就只能在Jupyter环境中完成了。</p><p id="ab3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为数据帧一部分的初始邻域信息片段如下所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mh"><img src="../Images/aeef6bea3a285c4479d8182e2367ae6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/0*7-29l9g9MeyZNn-N"/></div></figure><p id="4385" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了提取邻域坐标，使用了<em class="ju"> geopy </em>库的<em class="ju">nominam</em>API，当邻域名称作为输入提供时，它返回纬度和经度信息。下面的示例显示了一个街区的过程—<em class="ju">Whittier Mill Village Atlanta</em>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mi"><img src="../Images/e3fb52aa4bd93afc91c338c88b3dda7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VOAI7TOFcUigbQzi"/></div></div></figure><p id="5a1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，这个过程被扩展为使用如下所示的代码提取所有邻域的坐标。由于邻域名称非常具体，因此存在根据所提供的输入未返回适当坐标的情况，在这种情况下，包含了一种错误处理机制，该机制为缺失的纬度和经度分别分配了虚拟值998和999。这让我可以在以后像外科手术一样添加这些值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mj"><img src="../Images/3e6b17a906235a3455ec3eb3432c92fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/0*Uf8AYqnnmzwhJGJA"/></div></figure><p id="6bcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不幸的是，在27种情况下，坐标没有被返回，而4个邻居有错误的坐标，这意味着我们仍然有130个邻居成功返回。为了节省时间和精力，剩余的31个坐标通过快速在线搜索手动添加，并用于替换虚拟值。必须进行更多的数据处理，以将缺失/错误的坐标放入主数据框中。</p><p id="ddbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的数据集开始成形。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mk"><img src="../Images/ecf27f10f84429a749a77c6bfab76daa.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/0*Fi5SB3J14tov-V4Z"/></div></figure><p id="7922" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三步包括使用Foursquare API从每个街区提取所有的地点。下面显示了一些示例代码和返回的原始JSON数据。如您所见，您首先需要创建<strong class="ih hj">客户端ID </strong>和<strong class="ih hj">客户端秘密</strong>凭证来开始使用API，然后使用特定格式的URL来获取场地信息，接下来是一些JSON解析。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ml"><img src="../Images/158214aa4c5efe9a45294fe4a0395a98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4-51EKx3a3jHPTq2"/></div></div></figure><p id="5ce5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的例子中，返回的场地名为“Jamrock Jerk Center”，分类为<em class="ju">加勒比海餐厅</em>(场地类型)。我们从这些数据中需要的最重要的信息是场地类型，以比较不同的社区，并根据最常见的类型将它们分成不同的组。</p><p id="a911" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其余的提取过程是使用下面的代码自动完成的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mm"><img src="../Images/0e9c9d1d4ee67f4072923238b0cd5c66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9OTPCUUXvC_fpJiM"/></div></div></figure><p id="dfd0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，下面的数据集就是最终产品。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mn"><img src="../Images/13a35f77446b6990df3991811a50b579.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MRgZ4Lvri9cTXyY7"/></div></div></figure><p id="d444" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是通过分析上述数据集得出的一些有趣的见解。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mo"><img src="../Images/f0c7129308726020a3d7cb67921badd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/0*dExYO2LDJWL7ROJh"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mp"><img src="../Images/4545902593bf25124aeab4989cf5e244.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QuUIMUcKn83nRCOW"/></div></div></figure><h2 id="7efe" class="lp km hi bd kn lq lr ls kr lt lu lv kv iq lw lx kz iu ly lz ld iy ma mb lh mc bi translated">从谷歌工作表中分析世界幸福数据</h2><p id="4770" class="pw-post-body-paragraph if ig hi ih b ii lj ik il im lk io ip iq ll is it iu lm iw ix iy ln ja jb jc hb bi translated">坦率地说，这个分析纯粹是从一个有趣的角度来做的，而不是为了解决一个特定的问题。这也可以说是这篇文章中最简单的例子。我希望在未来使它有用，但目前它只是为了探索和实践。</p><p id="9fcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最初，数据是以CSV文件的形式提供的，但是我把它转移到了Google Sheet上，以避免上传外部文件的需要。这样做是为了避免在<em class="ju"> Google Colab </em>上挂载虚拟驱动器。笔记本在<a class="ae jt" href="https://github.com/saychelsea11/Analyzing-Correlations-of-World-Happiness-to-Key-Factors/blob/master/world_happiness_report.ipynb" rel="noopener ugc nofollow" target="_blank">这里</a>有售。如果您想使用<a class="ae jt" href="https://github.com/saychelsea11/Analyzing-Correlations-of-World-Happiness-to-Key-Factors/blob/master/world_happiness_dataset.csv" rel="noopener ugc nofollow" target="_blank"> CSV文件</a>，该部分仍然在那里，但是已经和虚拟驱动器挂载一起被注释掉了。</p><p id="df52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一些关于使用<em class="ju"> gspread </em> Python库与Colab上的Google sheets进行交互的<a class="ae jt" href="https://github.com/burnash/gspread" rel="noopener ugc nofollow" target="_blank">文档</a>,以及一篇带有逐步演练的<a class="ae jt" rel="noopener" href="/analytics-vidhya/colab-and-google-sheets-surprisingly-powerful-combination-for-data-science-part-1-bbbb11cbd8e">中型文章</a>。</p><p id="0eac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这一步会很快，关键步骤<strong class="ih hj">是连接到谷歌表单</strong>。整个过程如下面的代码片段所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mq"><img src="../Images/ae2c861618b0ce3c2b202a8ddffd87b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/0*a3ilV2prB6Etxp4V"/></div></figure><p id="2d7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">生成的数据框架与数值变量的可视化相关矩阵如下所示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mr"><img src="../Images/12e74d4ce041e77a6146270940d2323d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c6bkMQnh91A_mCT8"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ms"><img src="../Images/4db77dbbd80504c51c8c5dc0e113ed93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*alyBfUHnhvjBiOrw"/></div></div></figure><p id="19b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的例子展示了ETL过程中涉及的一些不同的方面和挑战。它们还描述了不同类型项目过程的多样性。尽管是在复杂的云数据基础设施之外完成的，但它们非常接近更大的流程。</p><p id="7b1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望这些例子有助于阐明ETL过程，并从概念层面描述它的含义，以及展示它如何适用于不同的场景。</p><p id="712c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你参与过什么样的ETL过程，你面临过什么样的挑战？写在下面的评论里吧。</p></div><div class="ab cl mt mu gp mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="hb hc hd he hf"><p id="f27c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ju">原载于2021年5月23日http://thecraftofdata.com</em><a class="ae jt" href="http://thecraftofdata.com/2021/05/what-exactly-is-an-etl-process" rel="noopener ugc nofollow" target="_blank"><em class="ju"/></a><em class="ju">。</em></p></div></div>    
</body>
</html>