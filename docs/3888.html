<html>
<head>
<title>For Noobs: How to Copy a List in Python 3.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对于 Noobs:如何在 Python 3 中复制列表。</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/for-noobs-how-to-copy-a-list-in-python-3-703522d62ef9?source=collection_archive---------36-----------------------#2021-06-27">https://medium.com/nerd-for-tech/for-noobs-how-to-copy-a-list-in-python-3-703522d62ef9?source=collection_archive---------36-----------------------#2021-06-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6987" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章是 noob 写的，也是为 noob 写的。当然，这也适用于任何教 noobs 的人。</p><p id="c928" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于 noob 来说，只使用等号复制列表会导致灾难。有一个很大的危险是你的代码中会有一个 bug，需要你花很长时间去修复。</p><p id="0482" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是如何复制一个列表的方法，至少在开始时是这样，直到你掌握了列表工作的一些惊人的微妙之处。</p><p id="268b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设每一年的最佳编码员名单总是略有不同，因此，你不必从头开始制作新的名单，只需复制旧的名单，重命名为新的一年，然后相应地修改它。假设老詹姆斯得到了小詹姆斯的很多帮助，所以你把他们放在一起，就好像他们是一个团队。结果是一个嵌套列表。到 2020 年，小詹姆斯已经不再写代码，他的妹妹帕特里夏接替他的角色，帮助爸爸。列表没有其他变化。所以唯一需要的修改就是用帕特丽夏代替小詹姆斯。首先，导入复制模块，并使用 deepcopy 函数复制旧列表。然后修改列表，用“Patricia”替换“James Junior”。</p><p id="8e75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">best_coders_of_2019 = [['James Junior', 'James Senior'], 'Mary', 'Pete']</code></p><p id="cc9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">import copy</code></p><p id="a8df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">best_coders_of_2020 = copy.deepcopy(best_coders_of_2019)</code></p><p id="fc9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">best_coders_of_2020[0][0] = 'Patricia'</code></p><p id="20f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是全部了。如果你打印出 2020 年最佳编码器，你会看到:</p><p id="c510" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">[['Patricia', 'James Senior'], 'Mary', 'Pete']</code></p><p id="52ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你打印出 2019 年最佳编码，你会看到:</p><p id="62b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">[['James Junior', 'James Senior'], 'Mary', 'Pete']</code></p><p id="72c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很好，很简单，对吧？如果你只是想知道如何安全地复制一个列表，你可以停止阅读。这篇文章的其余部分只对你有学术意义。</p><p id="8964" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样一个简单直观的过程需要导入一个模块，这似乎有点奇怪。</p><p id="1fa6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为什么不单独使用等号呢？它看起来像这样:</p><p id="ae6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">#Noobs should not code like this.</code></p><p id="f2e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">best_coders_of_2019 = [['James Junior', 'James Senior'], 'Mary', 'Pete']</code></p><p id="dc68" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">best_coders_of_2020 = best_coders_of_2019</code></p><p id="8ab9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">best_coders_of_2020[0][0] = 'Patricia'</code></p><p id="5bdc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">想到这一点是很自然的，因为单独使用等号对字符串和数字很有效。如果你打印出 2020 年最佳编码器，你会看到:</p><p id="bca5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">[['Patricia', 'James Senior'], 'Mary', 'Pete']</code></p><p id="9e93" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你打印出 2019 年最佳编码，你会看到:</p><p id="76f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">[['Patricia', 'James Senior'], 'Mary', 'Pete']</code></p><p id="7d4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">看到问题了吗？单独使用等号复制 2019 列表，然后修改它，也改变了 2019 列表。我的天啊。</p><p id="9296" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">什么样的人会料到呢？Python 3 就是这样设计的。作为一个新手，我不太明白它的来龙去脉(这真的很难理解)，但它与用更少的时间复制列表和用更少的内存存储列表有关。Noobs 不需要知道为什么。有很多方法可以复制列表，但是只有看起来复杂的 deepcopy 函数看起来很简单。</p><p id="decc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一个警告:我认为单独使用等号复制字典也有同样令人惊讶的行为。好消息是 deepcopy 处理字典和列表的方式差不多。</p><p id="57c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">@bartshmatthew 在 Twitter 上如果不想在这里评论。</p></div></div>    
</body>
</html>