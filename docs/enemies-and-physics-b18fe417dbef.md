# 敌人和物理学

> 原文：<https://medium.com/nerd-for-tech/enemies-and-physics-b18fe417dbef?source=collection_archive---------27----------------------->

现在我们有了一个可以玩的玩家对象，我们需要找些东西来射击。就像我们之前的对象一样，我们将从一个简单的游戏对象开始，这样我们就可以在添加不同的纹理和精灵之前看到我们的游戏是如何运行的。

![](img/477a6ce1de88328908addaf33f18d57a.png)

正如我们从上面看到的，我们创建了一个敌人的对象来玩。颜色与所用的不同，为了使它在屏幕上不占主导地位，我们将它缩小了一点，在整个刻度上设置为 0.75。接下来，我们必须进入新创建的脚本，设置一些代码，让我们的敌人向下坠落，并在它到达底部时返回顶部。

![](img/8205c7f974f79a48eb2f68423587c46e.png)

现在的问题是，我们只是让它直线下降。如果我们保持这种状态，那么我们就根本不需要球员的移动。因此，让我们看看如何从顶部创建一个随机产卵点。

![](img/6bb86aef9b3caa3c4d2ec231ec766b85.png)

正如我们所看到的，如果你用 random.range 替换新的 Vector3 代码中的 x 轴位置，然后确定你希望对象落入的范围，我们可以改变它产卵的位置，使它更难跟上敌人的产卵位置。
现在，我们可以对代码进行一些清理，并为我们的 random.range 创建一行新代码:

![](img/414f629b9c5e298c6a2e3e3ee2da6ca3.png)

这个新的 randomX float 为我们做的是让我们更容易阅读当前代码行。现在看起来可能很小，但是继续使用这种方法是一个很好的实践，因为将来可能会有很多行代码需要处理并且您想要更改 1 个特定的值时，阅读它会容易得多。

# 物理学

现在我们有了随机繁殖的敌人，让我们来了解一些基本的物理知识。到目前为止，我们的对象都不会相互作用。他们就像幽灵一样经过。我们要做的是，在我们的碰撞箱下，勾选“触发”框。下一步，我们将不得不添加刚体组件到我们所有的对象，并检查了重力功能。刚体允许我们的游戏对象对实时物理做出反应。最后，我们需要为我们的对象创建一些标签，这样当我们返回到脚本时，我们就有标签来引用未来的目标。

![](img/5bc207271e3f66a465503a54b6d21419.png)

标记对象

既然我们的对象已经设置了它们的标签，我们现在可以进入脚本并开始构建一些 OnTrigger 效果。首先，我们要弄清楚如何编写 OnTrigger 代码。对于任何代码，我们不确定它是如何工作的，我们可以用谷歌搜索，或者去 Unity 文档，在我们可以使用的手册中搜索。

![](img/7a181b863afb563c1e0e0d12a5f2785f.png)

在触发器上搜索

到了那里，我们只需转到 monobehaviour 并向下滚动，直到找到 OnTriggerEnter。

![](img/e05634949954c76c79e1be199f00d934.png)

之后，我们可以通过脚本 API 来查找它，了解它是如何工作的。

有了我们的代码，我们想要测试它，看看我们的敌人是否检测到任何类型的点击。因此，我们运行一个 debug.log 并运行游戏。我们可以在底部看到，当玩家或激光击中敌人时，它会告诉我们是什么击中了它。

![](img/87ffd0695db6029e4ef0494986c63a4c.png)

命中检测测试

现在，是我们创建一些脚本的时候了，这样当敌人击中播放器或激光时，它就被摧毁了。如果我们击中了玩家，我们希望失去生命值，但是现在我们只是把它写成 debug.log。如果激光击中了敌人，我们也希望在这个过程中摧毁我们的激光。

首先，这是我们如何运行触发事件的播放器部分:

![](img/e61838b0a7d46c561a386b4e811da851.png)

玩家打击敌人

正如我们所看到的，当我们用我们的玩家攻击敌人时，它被摧毁了，在我们的控制台中，我们可以看到它让我们知道我们失去了一条生命，我们将在以后的文章中讨论。

现在，让我们激活上面写的脚本的激光部分，看看它是如何工作的:

![](img/b705bda17ead341e368932e8af3ebb65.png)

激光打击敌人

正如我们所看到的，激光和敌人在碰撞的那一刻都被从游戏中消灭了。所以，我们今天设法增加了一个新的敌人。同样，我们让它在任意位置向下移动。我们已经设法安装了一个触发机制，这样当东西被击中时就会被摧毁。
接下来，我们将研究如何为我们的玩家制作一些健康组件，并清理一些代码。