<html>
<head>
<title>Implementing space shooter game features - Ammo limit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现太空射击游戏功能-弹药限制</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-ammo-limit-4da7533e2d71?source=collection_archive---------21-----------------------#2021-06-07">https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-ammo-limit-4da7533e2d71?source=collection_archive---------21-----------------------#2021-06-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="82e3" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="4c94" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">快速回顾 Unity 中添加到太空射击游戏的新功能</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/ff5e45ccdcc4a5fc734255fa8fb4299f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Wd-BOqDZOemdBydPPBIRsQ.gif"/></div></div></figure><p id="5db7" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:用 Unity 实现一个限制玩家在太空射击游戏中发射弹药的系统。</p><p id="eb41" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在之前的帖子中，我<a class="ae ko" rel="noopener" href="/nerd-for-tech/implementing-space-shooter-game-features-extra-life-a670cc82f2b9">在我的 Unity 太空射击游戏中实现了一个健康增强项目</a>。现在是时候实现一个系统来限制弹药，显示其统计数据，并提供一种补充弹药的方法。</p><h1 id="a12b" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">限制弹药</h1><p id="847d" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">为了限制弹药，让我们从打开玩家脚本开始:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lm"><img src="../Images/f8d06183d2f2aa81f2e76abb7725f920.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/1*mWkbpesoLJajAXGgKWPxIg.gif"/></div></figure><p id="e684" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦打开，让我们创建一个新的变量来存储玩家能够携带和发射的子弹或激光的数量:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es ln"><img src="../Images/2037220a531e917b9ceee767c234b01d.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/1*lUVMHG1MHqPdyPF0xwLyWQ.gif"/></div></figure><p id="53e0" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在玩家每次射击时执行的方法中，让我们在开始时添加一个条件，以检查是否没有激光可供射击，如果是这样，让我们退出该方法:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lo"><img src="../Images/81e29e042c5d691bc6a41e0efd2721d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*N9j_tIfGCek3kNBvTXVwxA.gif"/></div></div></figure><p id="9a49" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，如果玩家射击，让我们在方法结束时从激光中减去一个单位:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lp"><img src="../Images/c182ff8fb5d0dad613bb47fd15a70d89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Gc1uo3f3bxfJ-S3Gpm2fiA.gif"/></div></div></figure><h1 id="91f4" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">显示弹药状态</h1><h2 id="446c" class="lq kq hi bd kr lr ls lt kv lu lv lw kz kb lx ly lb kf lz ma ld kj mb mc lf ho bi translated">带音频</h2><p id="27cc" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">为了让玩家意识到弹药耗尽，让我们添加一个新的音频到没有弹药时播放的玩家脚本数组中:</p><div class="jh ji jj jk fd ab cb"><figure class="md jl me mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/10565d70c5d433c2196993ca87fd25c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:382/format:webp/1*J_Stjg4XuS1mf9fsEetPYA.png"/></div></figure><figure class="md jl mj mf mg mh mi paragraph-image"><img src="../Images/8b2024b4fa143e5c53cb2fe01d94fe50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1546/1*sX0d-Rzt7DmjjPDziSiZmQ.gif"/></figure></div><p id="41dc" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">让我们添加相应的调用来播放先前条件中的音频，包括新音频的索引作为参数:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mk"><img src="../Images/38d77816527ea98306f620f2975d1660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aOr81tghBozSjGjXXBkapg.gif"/></div></div></figure><h2 id="edcb" class="lq kq hi bd kr lr ls lt kv lu lv lw kz kb lx ly lb kf lz ma ld kj mb mc lf ho bi translated">使用 UI 元素</h2><p id="8644" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">同样，我们可以使用 UI 元素来显示弹药状态，让我们添加一个新的 UI 元素，就像我们在之前<a class="ae ko" rel="noopener" href="/nerd-for-tech/creating-ui-elements-in-unity-a778929eacfa">所做的那样:</a></p><div class="jh ji jj jk fd ab cb"><figure class="md jl ml mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/bf9947611ed1fb78c26fa3a8fab6351a.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/1*qU5M_X0Wb5gKd1vvuIqPnQ.gif"/></div></figure><figure class="md jl mm mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/5bab1cf3f2dcd5525edf1d0211ac69c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1434/format:webp/1*yYXS_gmqWfcl5bqpMWR_pw.png"/></div></figure></div><p id="4ea1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">使用 2 张图片和 1 个文本元素，我们可以确保提供当前弹药的状态:</p><div class="jh ji jj jk fd ab cb"><figure class="md jl mn mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/b6243e90eedb555ac950b9cca749a0e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*lyLxZBFYc0t5fznfzA9Rwg.png"/></div></figure><figure class="md jl mo mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/3af6a12e5b4cbecd7947fdc7490f6e57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*ORHHGGL62ZtrWKbLEG3UOA.png"/></div></figure></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/091e6cc4298b98d7d3be190720aa0596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t7IoJoixFyBiupHWBSRUgA.png"/></div></div><figcaption class="mp mq et er es mr ms bd b be z dx translated">在顶部，我们使用文本元素来显示可用激光器的数量。在底部，我们用一个图像来显示要射击的弹药类型。</figcaption></figure><p id="8a00" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在让我们打开 UI 管理器脚本，创建一个新的公共方法来更新弹药状态:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mt"><img src="../Images/84a382c48f23ea2d690ff8e6c0259f78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Xx-IXgFJxNEiMCDAnd9flA.gif"/></div></div><figcaption class="mp mq et er es mr ms bd b be z dx translated">该方法将获得剩余的弹药总量。</figcaption></figure><p id="9f54" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，为了能够更新屏幕上的值，让我们创建一个新变量来存储对画布中文本元素的引用:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mu"><img src="../Images/f3d094f85239e3bac640137b1f001e7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/1*2bdPLM0iT8xJkhZCrX0mNQ.gif"/></div><figcaption class="mp mq et er es mr ms bd b be z dx translated">不要忘记使用<strong class="bd kr">【serialize field】</strong>将文本元素拖到检查器中。</figcaption></figure><p id="54cc" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，将文本元素拖动到画布中的 UI Manager 脚本组件中:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mv"><img src="../Images/d8cc94882e4137e7385b5b3d53f8eecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VfPXyL89N0UXHXeeDWfEMQ.gif"/></div></div></figure><p id="ad78" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这样，我们就能够在每次调用该函数时用相应的值修改 text 属性:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mw"><img src="../Images/442f74cbee2da0cf22f8c68a5a32acf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/1*fGfbjgRrhXmOtRBTxgE1WQ.gif"/></div></figure><p id="e7ca" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，打开玩家脚本，将相应的调用添加到 UI 管理器中，包括玩家每次射击时弹药的当前值:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mx"><img src="../Images/62700d17cc62e9d2a7121b79c74930c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jL_1H5Of8cxZmMUounahHQ.gif"/></div></div></figure><p id="393d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，如果我们在 Unity 中运行游戏，我们会看到当玩家射击时弹药值会更新:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/a1ff8c3db368aa67ae69d3e0a607d37a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WUCsTRTU6udKTT4cQXXu6w.gif"/></div></div></figure><h1 id="f87a" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">提供补充弹药的方法</h1><p id="697f" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">最后，但不是最不重要的，让我们添加一个新的电源项目来补充玩家的弹药。如果你不知道如何在你的游戏中实现一个加电物品，你可以访问我以前的一个帖子:</p><div class="my mz ez fb na nb"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/creating-a-power-up-for-your-game-in-unity-6810d73376a1"><div class="nc ab dw"><div class="nd ab ne cl cj nf"><h2 class="bd hs fi z dy ng ea eb nh ed ef hr bi translated">在 Unity 中为你的游戏创造动力</h2><div class="ni l"><h3 class="bd b fi z dy ng ea eb nh ed ef dx translated">关于如何在你的 Unity 游戏中实现一个增强道具的快速指南</h3></div><div class="nj l"><p class="bd b fp z dy ng ea eb nh ed ef dx translated">medium.com</p></div></div><div class="nk l"><div class="nl l nm nn no nk np jq nb"/></div></div></a></div><p id="8056" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">让我们添加新加电项目的精灵，包括其他加电项目具有的各个组件:</p><div class="jh ji jj jk fd ab cb"><figure class="md jl nq mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/82f96b1bdac2697baf1704064e433d23.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/format:webp/1*lmbnVje3DyN0HC4Okse67w.png"/></div></figure><figure class="md jl nr mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/47b74ad0baa4dc85731708181fa52d9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*UC7_Ed2UdJuoQXyQmJaIDA.png"/></div></figure><figure class="md jl ns mf mg mh mi paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/e2aa03271dc9818e658f5bac1468f466.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/format:webp/1*-90hhDngnLI7ec7iu-QeLg.png"/></div></figure></div><p id="0e1f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，如果我们再次运行游戏，我们将能够在收集能量物品时补充弹药:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/5ee97a761da4f73118fdfe509e008525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3Q-Vo7IRKAzgPqDPTZBqLA.gif"/></div></div></figure><p id="58d2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就是这样，我们实施了一个限制弹药的系统！:d .我会在下一篇文章中看到你，在那里我会展示更多添加到我的 Unity 太空射击游戏中的功能。</p></div><div class="ab cl nt nu gp nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="hb hc hd he hf"><blockquote class="oa ob oc"><p id="17b4" class="js jt od ju b jv jw is jx jy jz iv ka oe kc kd ke of kg kh ki og kk kl km kn hb bi translated"><em class="hi">如果你想更多地了解我，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>