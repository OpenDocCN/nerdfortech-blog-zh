<html>
<head>
<title>Should You make Dynamic Websites in Golang?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应该用 Golang 做动态网站吗？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/should-you-make-dynamic-websites-in-golang-631b2ef71ec0?source=collection_archive---------1-----------------------#2021-09-20">https://medium.com/nerd-for-tech/should-you-make-dynamic-websites-in-golang-631b2ef71ec0?source=collection_archive---------1-----------------------#2021-09-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="804f" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">Golang 是制作简单网站的最佳平台吗？</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/793320ce95b37d07063358b025c678c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mBtqR-X_HZdGkPBg.png"/></div></div></figure><h1 id="2aa5" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">介绍</h1><p id="d69b" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">上个月，我决定拓展业务，学习一项新技能。我想重建一个过时的网站，并把它放在云上，这听起来像是一个学习 Golang 的好机会，同时还可以做一些很酷的事情！</p><p id="45d9" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">为了澄清事实，是的！在 Golang 创建网站是 100%可行的，创建的网站可以在这里找到<a class="ae lc" href="https://projectstar.io" rel="noopener ugc nofollow" target="_blank">如果你想看一看。我更想解决的问题是:“<em class="ld">用 Go 创建一个网站值得你花时间吗？”</em></a></p><h2 id="8589" class="le jk hi bd jl lf lg lh jp li lj lk jt kk ll lm jv ko ln lo jx ks lp lq jz lr bi translated"><strong class="ak">Golang 的主要用例。</strong></h2><p id="9d50" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">Go 是一种相对较新的编程语言，在 2009 年成为一个开源项目。使用 Golang 的顶级公司有谷歌、优步和 Twitch。关于其<a class="ae lc" href="https://golang.org" rel="noopener ugc nofollow" target="_blank">官网</a>上的文档:</p><blockquote class="ls lt lu"><p id="b716" class="kb kc ld kd b ke kx ij kg kh ky im kj lv kz km kn lw la kq kr lx lb ku kv kw hb bi translated">“Go 富有表现力、简洁、干净、高效。它的并发机制使编写充分利用联网机器的程序变得容易”</p></blockquote><p id="541f" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated"><strong class="kd hj">下面列出了一些用例:</strong></p><ul class=""><li id="ab98" class="ly lz hi kd b ke kx kh ky kk ma ko mb ks mc kw md me mf mg bi translated">先进的网络性能和多核机器的充分利用</li><li id="a1c4" class="ly lz hi kd b ke mh kh mi kk mj ko mk ks ml kw md me mf mg bi translated">Go 是一种编译语言，并赋予 Go 类似于 C 和 C++的速度性能。</li><li id="74c5" class="ly lz hi kd b ke mh kh mi kk mj ko mk ks ml kw md me mf mg bi translated">如果您熟悉 C、C++或其他 OOP 语言，那么语法相对容易掌握。</li></ul><p id="064b" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated"><em class="ld">如此充分的披露，接下来发生的一切只是我的看法！</em></p><h1 id="67b2" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">项目:一个动态网站</h1><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mm mn l"/></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">在 Go 中开发网站的一个 5 部分系列！由你的真心打造。</figcaption></figure><p id="fbc0" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">该项目的目标是创建一个个人网站，可以展示一些关于我自己的相对基本的信息，通过 post 请求发送 SMTPS 电子邮件，并动态展示以前写的博客！我通常用 python 的<a class="ae lc" href="https://www.djangoproject.com/" rel="noopener ugc nofollow" target="_blank"> Django </a>和<a class="ae lc" href="https://flask.palletsprojects.com/en/2.0.x/" rel="noopener ugc nofollow" target="_blank"> Flask </a>框架来写网站，所以你会注意到我用这些框架进行了反向比较！</p><h2 id="cabd" class="le jk hi bd jl lf lg lh jp li lj lk jt kk ll lm jv ko ln lo jx ks lp lq jz lr bi translated">缺点:开发过程</h2><p id="52d4" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">我对 Golang 的第一个体会是<em class="ld">语言本身没有实时重载。</em></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ms"><img src="../Images/501a86c973d66b1b2dc914b5c2df149b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*FwEGH8Sxhx2I0E0fYAVa1w.png"/></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">图 1.1 Django 实时重载示例</figcaption></figure><p id="e60b" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">实时重载允许对 html、css 和源文件进行修改，而无需重新编译应用程序。这在 web 开发中非常有用，正如你所想象的，“啊啊……如果那张图片再偏右一点就好了……”当我沮丧的时候，我在 Google 上搜索“<em class="ld"> live reloading in Golang </em>”然后看！一些开发人员实际上制作了一个名为<a class="ae lc" href="https://github.com/cosmtrek/air" rel="noopener ugc nofollow" target="_blank"> <strong class="kd hj"> air </strong> </a>的包，它将为您处理这些功能！</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mt"><img src="../Images/ad985ba23ec1c344f71dd4106ecb19d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HTI8n_Cx8FsScGI_5H1oag.png"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">图 1.2 在 Golang 使用空气</figcaption></figure><p id="ac17" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">如您所见，代码<code class="du mu mv mw mx b">air run .\main.go</code>运行我们的 web 服务器，随着存储库中的更改，应用程序会自动重建和部署。所以在安装了一些第三方的包之后，Golang 就可以配置使用 Live reloading 了。</p><h2 id="e705" class="le jk hi bd jl lf lg lh jp li lj lk jt kk ll lm jv ko ln lo jx ks lp lq jz lr bi translated">优点:处理 Get 与 Post 请求</h2><p id="888a" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">在 go 中处理 HTTP 请求是一次相当愉快的经历。在 web 服务器上有<code class="du mu mv mw mx b">handler</code>函数处理指向给定 URL 的任何 web 请求。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es my"><img src="../Images/a5274193e096ffcc6150a74b5ce7ce8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*Tf0v5ahsqS9rh47H9m6Jtg.png"/></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">图 2.1 解释联系页面的 Get 和 Post 请求</figcaption></figure><p id="ec74" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">在上面的示例代码中，我们的处理程序正在监听地址<code class="du mu mv mw mx b">“127.0.0.1:80/contact"</code>，通过使用<code class="du mu mv mw mx b">http.Request.Method</code>字段，我们可以利用 switch 语句来确定哪个请求正在到来。超级容易！</p><h2 id="5128" class="le jk hi bd jl lf lg lh jp li lj lk jt kk ll lm jv ko ln lo jx ks lp lq jz lr bi translated"><strong class="ak">缺点:HTML 模板继承</strong></h2><p id="2756" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">这可能是我在用 go 编程时经历的最令人失望的事情之一，缺少可以利用的 HTML 模板继承。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mz"><img src="../Images/1c6667ccb3bcb9cc21b57d4c7733a111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oH_8MTKq-5fCo0ESTuZPGQ.png"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">图 3.1 Django 中的模板继承</figcaption></figure><p id="7ce7" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">在我熟悉的 web 框架中，人们通常可以利用模板继承。这是准多态性，但对于 HTML 文件。从本质上说，不是每个网页都有一个大的 html 文件，而是可以有许多 HTML 文件连接在一起构成一个单独的网页。这有助于组织你的 html 代码。</p><p id="7aab" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">另一方面，Golang 只支持一个级别的模板继承。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es na"><img src="../Images/a513fdc2392f436a9560ae60471c5af3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*40AZgQ6nVTllEhCvDKnuhQ.png"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">图 3.2 Golang 中的模板继承</figcaption></figure><p id="349c" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">这是为什么呢？这种语言非常依赖于结构。在 Golang 中执行网页时，可以将数据结构传递给网页。传递的 HTML 数据属于<code class="du mu mv mw mx b">string</code>类型，这意味着你可以将一段硬编码的 HTML 注入到网页中。但是，如果您想要注入的数据是动态的(比如说，另一个包含动态博客列表的网页)，那么该数据将被逐字解释，而不是动态解释。这是一个 Golang 工作代码的例子:</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es nb"><img src="../Images/31e4dd13dfd709bb2c5a612d242814ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kukg5xVeim75aJ-vKKgF4w.png"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">图 3.3 从 main.go 文件向 Base.html 传递数据</figcaption></figure><p id="11c0" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">正如你所看到的，我们有一个类型为<code class="du mu mv mw mx b">PageData</code>的<code class="du mu mv mw mx b">data</code>对象，它包含几个要在 base.html 网页上显示的字段。当网页在 GET 方法中执行时，您可以访问通过以下方式传递的变量:</p><pre class="iy iz ja jb fd nc mx nd ne aw nf bi"><span id="b4c7" class="le jk hi mx b fi ng nh l ni nj">{{ .&lt;field name&gt; }} </span></pre><p id="db75" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">为了让您信服，这些变量用黄色下划线标出！根据您的使用情况，这对于您的 web 开发来说可能已经足够了。</p><h1 id="6f5f" class="jj jk hi bd jl jm jn jo jp jq jr js jt io ju ip jv ir jw is jx iu jy iv jz ka bi translated">结论</h1><p id="907e" class="pw-post-body-paragraph kb kc hi kd b ke kf ij kg kh ki im kj kk kl km kn ko kp kq kr ks kt ku kv kw hb bi translated">总而言之，Golang 编程非常有趣，与其他语言相比，我非常喜欢它处理网络和套接字功能的方式。语法并不太难掌握，我肯定会在将来更多地使用它来制作微服务。</p><p id="d366" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">也就是说，每种语言/技术都是软件工程师工具带中的一个工具。如果我能回到过去，我不会<strong class="kd hj">推荐</strong>使用 Golang 进行简单的网站开发。</p><p id="b7d8" class="pw-post-body-paragraph kb kc hi kd b ke kx ij kg kh ky im kj kk kz km kn ko la kq kr ks lb ku kv kw hb bi translated">事实上，这就像试图用勺子而不是锤子将钉子敲进木头。行得通吗？当然，但是它可能需要你多一点努力。如果你想做一个简单的静态或动态网站，我未来的首选仍然是 Django。</p><h2 id="40ab" class="le jk hi bd jl lf lg lh jp li lj lk jt kk ll lm jv ko ln lo jx ks lp lq jz lr bi translated">请评论你们对 Golang 的看法，以及你们是如何利用它的——或者不同意我的观点？让我知道为什么！</h2></div></div>    
</body>
</html>