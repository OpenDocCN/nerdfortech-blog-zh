<html>
<head>
<title>Script to change Zoom virtual background every day</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每天改变缩放虚拟背景的脚本</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/script-to-change-zoom-virtual-background-every-day-d41457ac8865?source=collection_archive---------14-----------------------#2021-08-17">https://medium.com/nerd-for-tech/script-to-change-zoom-virtual-background-every-day-d41457ac8865?source=collection_archive---------14-----------------------#2021-08-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/90a97107d443ff4ce60f5dc174a7915d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/0*jgvwrRykzT4h-mAF.png"/></div></figure><p id="b108" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在过去的几个月里，我发现我在徒步旅行时点击的图片有了新的用途。我开始用它们作为缩放虚拟背景。如果你和我一样，拍了很多照片，很难决定哪张好看。然后我决定在不同的日子里把它们都用上。遗憾的是，Zoom 没有这个内置功能。作为一名软件开发人员，我必须每天自动选择一个随机缩放的虚拟背景。</p><h1 id="75a9" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">这个脚本是做什么的？</h1><p id="5c8a" class="pw-post-body-paragraph im in hi io b ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj hb bi translated">Zoom 确实有一个 API，我可以用来每天改变我的背景，但对于这项任务来说，这似乎太费力了。软件开发人员天生懒惰，对吗？</p><p id="08d8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">相反，我发现 Zoom 应用程序创建了一个在它的 preferences 文件夹中被选中的背景的副本，并引用它。该脚本只是接收一个随机文件，并用这个后台文件替换它。瞧啊。示出了不同的缩放虚拟背景。然后可以将它放入 cron 作业中，每天(或者您喜欢的任何频率)执行，以定期更改后台。</p><h1 id="463c" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">先决条件</h1><p id="c1cc" class="pw-post-body-paragraph im in hi io b ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj hb bi translated">我已经把所有我想用作背景的图片放在了我的用户目录的一个文件夹里。我的是在<code class="du kn ko kp kq b">/zoom/bgpictures/</code>，这是我在脚本中使用的，但是它是一个变量，你可以把它改成你想要的任何值。</p><p id="013d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，我们在应用程序中设置一个缩放虚拟背景。哪一个并不重要。我们所需要的是 Zoom 将分配给这个背景的唯一 ID。目录中可能已经有一些文件，但是我们希望选择与我们刚刚上传的图像相对应的文件，以避免替换不同的文件。目录位于:<code class="du kn ko kp kq b">~/Library/Application Support/zoom.us/data/VirtualBkgnd_Custom</code>。文件名将类似于:<code class="du kn ko kp kq b">9WAE197F-90G2-4EL2-9M1F-AP784B4C2FAD</code></p><h1 id="369f" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">剧本</h1><p id="f276" class="pw-post-body-paragraph im in hi io b ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj hb bi translated">我们将使用一个 bash 脚本来替换我们刚刚使用的图像。我会把这个脚本放在我为背景图片创建的缩放文件夹中。它可以被命名为任何你喜欢的名字，我把我的命名为<code class="du kn ko kp kq b">~/zoom/zoombg.sh</code>。脚本如下:</p><pre class="kr ks kt ku fd kv kq kw kx aw ky bi"><span id="db9a" class="kz jl hi kq b fi la lb l lc ld">#!/bin/bash</span><span id="b2fd" class="kz jl hi kq b fi le lb l lc ld"># The name of file that we copied before and will be replaced with<br/>OG_BG="9WAE197F-90G2-4EL2-9M1F-AP784B4C2FAD";</span><span id="198e" class="kz jl hi kq b fi le lb l lc ld"># Directory where Zoom keeps the backgrounds<br/>ZOOM_DIR="/Users/$USER/Library/Application Support/zoom.us/data/VirtualBkgnd_Custom/";</span><span id="2c56" class="kz jl hi kq b fi le lb l lc ld"># Directory of our images<br/>BGPATH="/Users/$USER/zoom/bgpictures/";</span><span id="ec03" class="kz jl hi kq b fi le lb l lc ld"># Picking a random file<br/>NEW_BG=$(find "$BGPATH" -type f | sort -R | head -1);</span><span id="87c4" class="kz jl hi kq b fi le lb l lc ld"># Replacing the file<br/>cp -R "$NEW_BG" "$ZOOM_DIR/$OG_BG";</span></pre><p id="7a11" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果为目录选择不同的路径，请在变量中进行更改。我们需要通过运行以下命令使该脚本可执行:</p><pre class="kr ks kt ku fd kv kq kw kx aw ky bi"><span id="bdf2" class="kz jl hi kq b fi la lb l lc ld">chmod 755 ~/zoom/zoombg.sh</span></pre><h1 id="0028" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">随机更改缩放虚拟背景</h1><p id="83c3" class="pw-post-body-paragraph im in hi io b ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj hb bi translated">剧本准备好了。我们需要做的就是将它放入 cron 作业中，这是一个内置的基于时间的作业调度程序。我们需要决定一个时间表，我们希望改变虚拟背景的缩放频率。我每天早上 9:55 做作业，因为我的会议从早上 10 点开始。</p><p id="dbf7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你是 cron jobs 的新手，你可以使用<a class="ae lf" href="https://corntab.com/" rel="noopener ugc nofollow" target="_blank">生成器</a>来帮助你。我使用:</p><pre class="kr ks kt ku fd kv kq kw kx aw ky bi"><span id="4e7f" class="kz jl hi kq b fi la lb l lc ld">55 9 * * 1-5 /Users/saranshkataria/zoom/zoombg.sh &gt; /dev/null 2&gt;&amp;1</span></pre><p id="94f6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">第一部分(55 9 * * 1–5)是您需要根据您的时间表定制的内容。第二部分只是告诉操作系统在那个时间点做什么。如果您为 bash 脚本选择了不同的位置，则需要更新路径。</p><p id="63ae" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要将其放入 cron 作业中，请键入</p><p id="885b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">它将打开一个使用 vi 的编辑器。敲击键盘上的 I 键进入插入模式，粘贴到行中，按 Escape 后接“:wq”，回车保存并退出。</p><p id="19d2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是全部，我们将有一个随机缩放虚拟背景每天/频率你选择！</p><p id="82cb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果您使用的是 Windows，可以对脚本进行相应的修改，使用起来应该相当简单。</p><p id="5f3f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你有任何问题，欢迎在下面留言！</p></div><div class="ab cl lg lh gp li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="hb hc hd he hf"><p id="9059" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="ln">原载于 2021 年 8 月 17 日</em><a class="ae lf" href="https://www.wisdomgeek.com/general/script-to-change-zoom-virtual-background-every-day/" rel="noopener ugc nofollow" target="_blank"><em class="ln">【https://www.wisdomgeek.com】</em></a><em class="ln">。</em></p></div></div>    
</body>
</html>