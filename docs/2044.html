<html>
<head>
<title>What is bootstrapping | Uploading cookbook in Chef-Server | Node Configurations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是Chef-Server |节点配置中的引导|上传指南</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-bootstrapping-uploading-cookbook-in-chef-server-node-configurations-db59c1991514?source=collection_archive---------12-----------------------#2021-04-18">https://medium.com/nerd-for-tech/what-is-bootstrapping-uploading-cookbook-in-chef-server-node-configurations-db59c1991514?source=collection_archive---------12-----------------------#2021-04-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d9ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">先决条件:<a class="ae jd" rel="noopener" href="/nerd-for-tech/attributes-in-chef-a56073de90ea">https://medium . com/nerd-for-tech/attributes-in-chef-a 56073 de 90 ea</a></p><p id="252b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" rel="noopener" href="/nerd-for-tech/runlist-multiple-recipes-linux-group-users-in-chef-170afcb51fba">https://medium . com/nerd-for-tech/run list-multiple-recipes-Linux-group-users-in-chef-170 afcb 51 FBA</a></p><p id="3da1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤1: </strong>访问您的亚马逊EC-2机器，并遵循以下命令:</p><blockquote class="je jf jg"><p id="a31d" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">须藤秀</p><p id="3324" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">cd烹饪书</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/ee6471b9dc5904cef9c27011b88c1dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*48doh6p6bEUq__Cy6vIM6g.png"/></div></figure><p id="9d01" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第二步:</strong></p><p id="268c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">创建一个厨师服务器帐户。去<a class="ae jd" href="https://manage.chef.io/login" rel="noopener ugc nofollow" target="_blank">https://manage.chef.io/login</a>，为你的厨师-服务员创建一个组织。一段时间后，我们将看到“初学者工具包”下载它。使用它，我们可以连接我们的厨师工作站与不同的节点。</p><p id="1d4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Start-kit包含所有用于连接服务器的服务器文件。按顺序遵循下面的输出。</p><p id="13da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，去https://manage.chef.io/login<a class="ae jd" href="https://manage.chef.io/login" rel="noopener ugc nofollow" target="_blank"/>&gt;注册，并验证你的账户</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/efac61179d6f38519df3e4b9e2eacfc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*jo8suluZZQ7nr_MbBUJvLQ.png"/></div></figure><p id="dac2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其次，创建一个组织，一个弹出对话框将出现点击继续。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/1e1f8e0462e43d8c9aaf878d2a3c164f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*cyPj-9PdKZEquI9ZgETWnQ.png"/></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/6a63b0aca5062034c8cc566a8ca7ad9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*xtbz1Zr6yUGivkx5dUB1bQ.png"/></div></figure><p id="5feb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终的厨师管理网页将如下所示</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/25cdb8243f72167a8c3bbbadc4a917a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*6euNYMWQ54qBZhAVke-M8w.png"/></div></figure><p id="d4cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三，下载starter-kit(服务器文件) &gt;解压并使用WinSCP软件将其转移到一台Linux EC-2机器上。</p><p id="2281" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a.主机名=公共IPv4 DNS的值</p><p id="542a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b.用户名= Linux实例用户名，即“ec2-用户”</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/7390c3f2ffe58c6a1a16c2eb617a9d19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*UqTOEYe3tuZwZGrJHv8DwA.png"/></div></figure><p id="35de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">之后，单击高级选项&gt;身份验证，并提供EC-2 Linux实例的密钥。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/8bb61d09a53703f12f0493275a170d4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*B_1bQCnk8hFBZyo1tarVgg.png"/></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/eabe0abde9ec997c62df96a8fb484a7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*TcDaC19jzew-u0BLpztZdw.png"/></div></figure><p id="f5b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">单击“OK”&gt;“log in ”,我们将重定向到WinSCP应用程序。让我们转到必须解压缩初学者工具包的目录。从左到右拖放“chef-repo”目录意味着本地机器到Linux服务器。</p><div class="jt ju ez fb jv jw"><a href="https://winscp.net/download/WinSCP-5.17.10-Setup.exe" rel="noopener  ugc nofollow" target="_blank"><div class="jx ab dw"><div class="jy ab jz cl cj ka"><h2 class="bd hj fi z dy kb ea eb kc ed ef hh bi translated">正在下载WinSCP-5 . 17 . 10-setup . exe::WinSCP</h2><div class="kd l"><h3 class="bd b fi z dy kb ea eb kc ed ef dx translated">WinSCP是一个免费的SFTP、SCP、亚马逊S3、WebDAV和FTP客户端。</h3></div><div class="ke l"><p class="bd b fp z dy kb ea eb kc ed ef dx translated">winscp.net</p></div></div><div class="kf l"><div class="kg l kh ki kj kf kk jr jw"/></div></div></a></div><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/558f85ce7812ced6eb2b6d317165f0a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*DM0TlcCWoqlm_Pmy6CBysw.png"/></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/a9737c2902e7b47fbfb27b568ea79ca9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*XSzcBLm0OhEueufZJ2HZPw.png"/></div></figure><p id="9c34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第四，让我们验证我们在Linux服务器中共享的文件。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/07202588c87068fcfc9edb97f8061801.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*nsuBCVyZyaU3CGdwsZ4i9Q.png"/></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/13b7dade7be8a5e864411586d83d0fe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*pXyOZEJ-TGvRxDVmxBH_pg.png"/></div></figure><p id="974c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要验证我们的Linux工作站是否已经连接到chef-server，请使用以下命令。</p><blockquote class="je jf jg"><p id="01ec" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">刀SSL检查</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/8ea153aa4016e4b81dbdd3718927d7e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*Zc5iXCwayN486YRQF50l0Q.png"/></div></figure><p id="36ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第三步:</strong></p><p id="a9b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">引导一个节点= &gt;</p><p id="040b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当工作站和节点位于同一可用性区域时，将节点连接到chef-server称为引导。</p><p id="f7b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，要将chef-server连接到节点，首先要重定向到chef-repo目录，其中包含所有服务器文件。</p><p id="2965" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，创建一个Ec-2实例(chef-node-1)</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/68a1b909688fb2bae6674dbe24057d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*b10uithBMmD5PZT0coEUfQ.png"/></div></figure><p id="d8a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二，在创建实例时，我们在windows本地机器上下载了扩展名为. pem的实例密钥对。</p><p id="2a08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用WinSCP机器把它转移到我们的Linux工作站上</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es jl"><img src="../Images/d35012f0193de0e4723be54b9ef3396b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*SKxwAK9ua7Ti0-9Zz_3lcQ.png"/></div></div></figure><p id="402a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们在Linux实例(工作站)中验证密钥对</p><blockquote class="je jf jg"><p id="54b0" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">须藤秀</p><p id="3823" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">cd chef-repo</p><p id="6649" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">ls</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/79b83beba78c0ba5c66f2fe264a85c26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*No9FOcTHw5_F30QyQRDqoA.png"/></div></figure><p id="d80c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三，将节点与工作站链接</p><p id="779d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">命令:</p><blockquote class="je jf jg"><p id="f2da" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">刀引导172 . 31 . 3 . 71-连接-用户ec2-用户-sudo-I Node-key . PEM-N Node 1</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es jl"><img src="../Images/c845923bc36b254de4486d3ad8fa9247.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*-wd2XMNEOrXlJH6MaDzDfQ.png"/></div></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es jl"><img src="../Images/8073732015d5845552e6f1881f45bf08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*7us6gcA98aun6wwYNtXiaA.png"/></div></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es jl"><img src="../Images/3ba3267052d31a197f436563fe3d1fb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*TQUgt140BaPCuG3HmmYT2g.png"/></div></div></figure><p id="094b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第四步:</strong></p><p id="145f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们的工作站中有两个cookbook，我们只需要一个cookbook目录，该目录当前位于“chef-repo”文件夹中。</p><p id="34ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将现有的烹饪书移至chef-repo/cookbooks/并删除当前的烹饪书，即烹饪书。</p><p id="0aff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">命令:</p><blockquote class="je jf jg"><p id="eef5" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">ls</p><p id="818c" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">ls烹饪书</p><p id="d7e1" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">ls厨师报告/烹饪书</p><p id="c921" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">mv烹饪书/测试烹饪书厨师报告/烹饪书</p><p id="ea71" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">mv烹饪书/Apache-烹饪书厨师-报告/烹饪书</p><p id="c0a3" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">RM–射频烹饪书/</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es jl"><img src="../Images/bb84bbc819fe80ea1b0779dc59390d81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*3e8A6git8Tcvwa2WpcVzmA.png"/></div></div></figure><p id="c2ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第五步:</strong></p><p id="0159" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们把我们的食谱之一“apache-cookbook”上传到chef-server</p><p id="cc36" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">命令:</p><blockquote class="je jf jg"><p id="341a" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">刀食谱上传阿帕奇-食谱</p><p id="ebf9" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">刀具食谱清单</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/060b96f9629d134dd65352bfb0934d26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*9hlcOiYZO8UvvpNYHzNWzQ.png"/></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/42604eafee1961356dd4cf3ce34fb055.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*2ul6OsxmjB_itP6fB3XsqQ.png"/></div></figure><p id="f7fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其次，如何将配方添加到特定节点的run_list中</p><blockquote class="je jf jg"><p id="4201" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">刀节点run_list set Node1 "配方[Apache-cookbook::Apache-recipe]"</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/da92653c66f78bcf06617332ebe2adc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*7aipO4V19v4m8lxBM_pmdg.png"/></div></figure><p id="70eb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查添加到run_list的现有配方</p><blockquote class="je jf jg"><p id="6aa2" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">刀节点显示<node_name/></p><p id="d794" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">刀节点显示节点1</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/da92653c66f78bcf06617332ebe2adc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*7aipO4V19v4m8lxBM_pmdg.png"/></div></figure><p id="68ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三，要以图形方式检查这个run_list，请转到chef-server &gt; Nodes &gt; node 1 &gt; edit run list。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es kp"><img src="../Images/360487cfeb210303fdda0e3d5077645d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*PyfKFFlFdT0ecR3z0AG-Yw.png"/></div></figure><p id="0918" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第六步:</strong></p><p id="40ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的步骤中，我们已经将cookbook (apache-cookbook)更新/上传到chef-server。由于这里我们没有使用自动化，我们将手动转到节点(Node1)并运行命令chef-client。这将有助于运行作为运行列表添加的脚本。</p><p id="3cc3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到Node1并遵循下面的命令。</p><blockquote class="je jf jg"><p id="5482" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">Sudo su // root</p><p id="19f4" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">厨师客户端//从父厨师服务器运行食谱</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es kq"><img src="../Images/9b30ab8b2a3a5ae1255d45473ab39e48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*28Ij_9Sk7URIePHDY3eTMA.png"/></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/45b8fe92d1db5117150ce70c1f59f68b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*FThZgTlhWaHodMKMoXuGIg.png"/></div></figure><p id="37b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们自动执行从工作站到主厨服务器再到节点的流程</p><p id="236f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们在工作站上对我们的食谱(apache-recipe.rb)做一些修改。</p><blockquote class="je jf jg"><p id="8f1a" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">cd chef-repo</p><p id="39eb" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">VI cookbooks/Apache-cookbook/recipes/Apache-recipe . Rb</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/150de5395877cb70d6e5a23fe1f91bc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*AtHUxiw9z3NFGnNtrsVCkg.png"/></div></figure><p id="b423" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到该节点并尝试运行更新运行列表配方。它将输出显示为最新的。</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es jl"><img src="../Images/8c40a4b1c1ffe97481cd4ea67b4ef025.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*pvWrpbSgNNkejdtowQfxDA.png"/></div></div></figure><p id="a417" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这意味着在修改脚本后，我们必须再次将它上传到chef-server。</p><p id="2bca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们将食谱上传到chef-server，然后尝试在节点上手动运行它，我们可以看到变化。</p><p id="d694" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">工作站:</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/6ec4fcbb11d64778a6fc18cc3e210195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*Jp2_VF7L4REDy_z5SZUiGQ.png"/></div></figure><p id="1ae3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">节点:</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/6b78386f3650c995f6e024f78d7692b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*95jJyZLWydHsDRxuLtzOnQ.png"/></div></figure><p id="67f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第七步:</strong></p><p id="5b0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们自动化这个过程。如果我们改变一个脚本节点，将自动调用chef-server并相应地更新它。这里我们将使用crontab调度程序来自动化这个过程。</p><p id="abe5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到节点1并设置调度程序。</p><blockquote class="je jf jg"><p id="2371" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">须藤秀</p><p id="5378" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">vi /etc/crontab</p></blockquote><p id="a067" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">代码:</p><blockquote class="je jf jg"><p id="8690" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">* * * * * root chef-客户端</p><p id="04b9" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">//这意味着这个具有root权限的命令将每分钟运行一次。</p></blockquote><figure class="jm jn jo jp fd jq er es paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="er es jl"><img src="../Images/95419f3412a85ee26fb7fbd380438476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*72hO4nDRp_R6QLNb0dCuNw.png"/></div></div></figure><p id="0501" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">回到工作站，对菜谱(apache-recipe.rb)做一些修改</p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/598e06e03c42ebde35e451a5f698a346.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*ZFwoL5Z5fgYAlCGQE-JTTA.png"/></div></figure><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/5eda9987ee04a13990438362b18907b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*FvsQCQ29B_KxOTYPPywVEQ.png"/></div></figure><p id="aa48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此外，修改后的食谱必须上传到chef-server，然后刷新一分钟，我们可以看到节点调用了chef服务器。</p><blockquote class="je jf jg"><p id="5152" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated">刀食谱上传阿帕奇-食谱</p></blockquote><p id="a21b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">输出:</strong></p><p id="4403" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jh">[root @ IP-172–31–13–9食谱]#刀刀食谱上传apache-cookbook </em></p><p id="6f8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jh">上传apache-cookbook [0.1.0] </em></p><p id="f949" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jh">上传了1本食谱。</em></p><figure class="jm jn jo jp fd jq er es paragraph-image"><div class="er es jl"><img src="../Images/f711f570c17ad81bb3b1a002f7ae119c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*dZpVNEjZUyDKUvMxStfkkw.png"/></div></figure></div></div>    
</body>
</html>