<html>
<head>
<title>Managing Containers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">管理容器</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/managing-containers-c98844b1e43d?source=collection_archive---------2-----------------------#2022-05-03">https://medium.com/nerd-for-tech/managing-containers-c98844b1e43d?source=collection_archive---------2-----------------------#2022-05-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/e98de51c9a113e133c2d07ebdb9e3622.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/0*VopCH7PSKdc5zNXA.png"/></div></figure><p id="2df1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一个<strong class="io hj"> Docker文件</strong>是构建Docker图像的文本文件。该文本文件包含关于容器的特定说明。要构建Docker文件，请遵循以下步骤。</p><p id="c4b5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">举个例子，</p><p id="e24a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">来自节点</em> →来自docker hub中的官方节点映像(这将是基础映像)</p><p id="1d95" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">WORKDIR</em>T6<em class="jk">。/app </em>  →这将是在映像上构建的所有容器的工作目录，即所有、运行、复制命令将在工作目录中执行</p><p id="0033" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">运行npm安装</em> →安装package.json中的所有包</p><p id="91f4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">复制</em> <strong class="io hj"> <em class="jk">。</em></strong><em class="jk"/><strong class="io hj">/<em class="jk">app</em></strong>→将本地机器当前目录下的所有文件夹复制到容器工作目录(app)</p><p id="60bd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk"> CMD ['node '，' filename.js'] </em> →该语句只有在我们创建一个<strong class="io hj">容器</strong>时才会被执行。CMD命令的主要目的是启动容器中所需的软件</p><h1 id="9822" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">Docker命令:我们在命令提示符中键入的内容:</h1><p id="d150" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">创建图像→ <em class="jk"> docker build </em>。</p><p id="ad22" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">任何带有— <em class="jk"> help </em>的命令都会给你所有相关命令的描述</p><p id="d94b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们基于图像构建容器→<em class="jk">docker run&lt;image _ name&gt;</em></p><p id="972a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk"> docker运行&lt; image_name &gt; </em>将基于图像创建新的容器。</p><p id="6517" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果我们想启动一个现有的容器，该怎么办？</p><p id="8b9f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">有两种模式——<strong class="io hj">附着</strong>(显示console.log)和<strong class="io hj">分离</strong>模式(不显示console.log)</p><p id="737b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk"> docker运行&lt; image_name &gt; </em> →创建新容器并打印所有console . logs→默认为附加模式。</p><p id="95fe" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">docker Run</em><strong class="io hj"><em class="jk">-d</em></strong><em class="jk">&lt;image _ name&gt;→</em>以分离模式运行容器——即容器打印的输出不可见，命令提示符/终端不等待容器停止。</p><p id="4903" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">docker start&lt;container _ name&gt;</em></p><p id="4a56" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">docker start-a&lt;container _ name&gt;</em></p><p id="6bcf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">之前我们可以通过-i标志使它具有交互性(在终端中使用给定输入)</p><h1 id="1006" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">删除图像和容器</h1><p id="4907" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated"><em class="jk"> docker ps </em> →列出所有正在运行的容器</p><p id="f802" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk"> docker ps -a </em> →列出所有运行和停止的集装箱</p><p id="8813" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk"> docker图像</em> →列出所有本地存储的图像</p><p id="8e5b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">docker RM&lt;container _ name&gt;</em>→移除集装箱</p><p id="7fb5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">docker RMI&lt;image _ name&gt;</em>→删除图像</p><p id="4334" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">删除图像时需要注意的一点是，它没有任何容器，包括停止的容器</p><h1 id="dd54" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">命名图像和容器</h1><p id="fc9d" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated"><strong class="io hj">我们给一个容器命名的时候叫做name，给一个图像命名的时候叫做Tag</strong>。</p><p id="8f1e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">标签由两部分组成— <em class="jk">名称:标签</em> →节点(名称):14(版本)</p><p id="9c8a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><em class="jk">原载于2022年5月3日https://www.pansofarjun.com</em><a class="ae ko" href="https://www.pansofarjun.com/post/managing-containers" rel="noopener ugc nofollow" target="_blank"><em class="jk"/></a><em class="jk">。</em></p></div></div>    
</body>
</html>