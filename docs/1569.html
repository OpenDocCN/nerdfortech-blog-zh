<html>
<head>
<title>Spotify in Docker Container</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker容器中的Spotify</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/spotify-in-docker-container-2c0c2ce16c9?source=collection_archive---------6-----------------------#2021-03-26">https://medium.com/nerd-for-tech/spotify-in-docker-container-2c0c2ce16c9?source=collection_archive---------6-----------------------#2021-03-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/09d447b7e149c87032d2ee8ad78db69c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*c660gr1lwHyiNo08.jpeg"/></div></div></figure><p id="01a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我之前的文章<a class="ae jo" href="https://mtabishk999.medium.com/running-gui-applications-in-docker-firefox-nautilus-file-manager-5424694104ec" rel="noopener">这里</a>中，我已经讨论了我们如何在Docker中启动像Firefox浏览器、Nautilus文件管理器这样的GUI应用程序。</p><p id="6d1f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天，我再次使用Docker容器中的另一个GUI应用程序，<strong class="is hj"> Spotify。</strong></p><h1 id="3bc1" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">为了运行GUI应用程序，我们需要一个XServer，它可以作为每个Linux桌面环境的一部分。</h1><p id="e62c" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated"><em class="ks">对于Windows，可以使用</em><a class="ae jo" href="https://sourceforge.net/projects/xming/" rel="noopener ugc nofollow" target="_blank"><em class="ks">Xming</em></a><em class="ks">。</em></p><p id="2a3a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ks">对于OSX，可以用</em><a class="ae jo" href="https://www.xquartz.org/" rel="noopener ugc nofollow" target="_blank"><em class="ks">Xquarkz</em></a><em class="ks">。</em></p><figure class="ku kv kw kx fd ij er es paragraph-image"><div class="er es kt"><img src="../Images/db9bf9076b5dbda8acd7904b8baefc31.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/format:webp/0*HGyQOCo0oU0LdBys.png"/></div></figure><p id="e8c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是在容器中，我们没有任何<strong class="is hj">x server</strong>——所以我们将:</p><ul class=""><li id="1f49" class="ky kz hi is b it iu ix iy jb la jf lb jj lc jn ld le lf lg bi translated">将本地机器上<code class="du lh li lj lk b">/tmp/.X11-unix</code>中的<code class="du lh li lj lk b">X11</code>插座安装到容器中的<code class="du lh li lj lk b">/tmp/.X11-unix</code>中。</li></ul><p id="3363" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lh li lj lk b">-v /tmp/.X11-unix:/tmp/.X11-unix</code></p><ul class=""><li id="94d7" class="ky kz hi is b it iu ix iy jb la jf lb jj lc jn ld le lf lg bi translated">将主机的<strong class="is hj">显示</strong>环境变量共享到容器中</li></ul><p id="9630" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lh li lj lk b">-e DISPLAY=$DISPLAY</code></p><ul class=""><li id="f5bf" class="ky kz hi is b it iu ix iy jb la jf lb jj lc jn ld le lf lg bi translated">使用<strong class="is hj">主机运行容器</strong>网络驱动程序</li></ul><p id="70cb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lh li lj lk b">--net=host</code></p><ul class=""><li id="f6f2" class="ky kz hi is b it iu ix iy jb la jf lb jj lc jn ld le lf lg bi translated">为了声音</li></ul><p id="dbfd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lh li lj lk b">--device /dev/snd</code></p><h1 id="897e" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">Dockerfile使用Spotify应用程序构建图像:</h1><p id="8128" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated"><code class="du lh li lj lk b">$ cat Dockerfile</code></p><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="ll lm l"/></div></figure><p id="7a2d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lh li lj lk b">$ sudo docker build -t mtabishk/spotify-app .</code></p><p id="ccf9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">docker Hub:<a class="ae jo" href="https://hub.docker.com/repository/docker/mtabishk/spotify-app" rel="noopener ugc nofollow" target="_blank">https://Hub . docker . com/repository/docker/mtabishk/Spotify-app</a></p><p id="88a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du lh li lj lk b">$ sudo docker run --rm -it -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix --net=host --device /dev/snd mtabishk/spotify-app</code></p><figure class="ku kv kw kx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/eaaf7334e90c19c0b634fcdd2f9fcd98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8sIjI_JrlPaBviAV.jpeg"/></div></div></figure><p id="4180" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">您应该会看到Spotify应用程序现在显示在您的主机操作系统桌面上。</strong></p><h1 id="30ed" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">视频演示:</h1><figure class="ku kv kw kx fd ij"><div class="bz dy l di"><div class="ln lm l"/></div></figure></div><div class="ab cl lo lp gp lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hb hc hd he hf"><p id="bd1d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">今天就到这里吧！我很快会带一些新文章回来，谢谢！🤗</p><p id="9517" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">穆罕默德·塔比什·坎戴</p><p id="1c68" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">领英:<a class="ae jo" href="https://www.linkedin.com/in/mtabishk/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/mtabishk/</a></p></div></div>    
</body>
</html>