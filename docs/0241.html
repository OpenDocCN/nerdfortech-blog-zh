<html>
<head>
<title>Model Hosting with SageMaker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 SageMaker 进行模型托管</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/hosting-models-with-sagemaker-4f13fd7798fa?source=collection_archive---------0-----------------------#2020-08-06">https://medium.com/nerd-for-tech/hosting-models-with-sagemaker-4f13fd7798fa?source=collection_archive---------0-----------------------#2020-08-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/9ad06d7fa4a6f9b41debbd31e29a43e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1tXhp9af_3IA2xePJAB74A.png"/></div></div></figure><div class=""/><p id="18b5" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在创建端点之前，我们需要一个经过训练的模型。我们可以对 Sagemaker 做同样的事情。在 Sagemaker 中，我们有三个选项用于<a class="ae jo" href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_CreateTrainingJob.html" rel="noopener ugc nofollow" target="_blank">培训工作</a>。见下文。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jp"><img src="../Images/753235c90ab7313ae1af12acbc1d9d44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cLSnL4AaaA9SpO1gM88nMQ.png"/></div></div></figure><p id="438f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以在任何地方训练我们的模型，并将训练好的模型带到 S3，或者将其嵌入到容器图像本身中。稍后将详细介绍。</p><p id="3ebc" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们看看 Sagemaker 中模型托管的基本逻辑结构。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ju"><img src="../Images/26ac98f389fbd4304ad0be35f60a55c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dj1m7kgCxKYhFVoImQACEw.png"/></div></div></figure><p id="41e2" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们有一个端点，它引用一个端点配置。这类似于自动缩放中的 launchConfig。此配置引用了一个模型。它将充当运行时。这里需要注意的一点是，我们在端点配置中有多个变量。这些变体指的是不同的版本或完全不同的算法。为了解释变型和模型的联系，我们可以参考下图。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jv"><img src="../Images/20ebdf5e40e0f9239ecbf6db40e0c1c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hfpdpjC1s9Lgq9PM8jZCIQ.png"/></div></div></figure><p id="8a9e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们可以自带算法。为此，我们需要构建一个如下结构的容器。这里我们用 Flask 和 Nginx 创建了一个 web 服务。这以 rest 格式呈现了我们的推理。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jw"><img src="../Images/69e2f0d22e764ddc519a0f8a8b8c7203.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kl5_rmlt5ozog4XPu5rb2g.png"/></div></div></figure><p id="41cd" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">客户容器的文件夹结构。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jx"><img src="../Images/d02b99fc7b8dd92c8b1604bbd34f554c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GUv1-UW3WqNjsmpgZePUWA.png"/></div></div></figure><p id="266e" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们在 AWS 中有自定义网络，我们可能会面临问题。因此，让我们来探索托管模型的网络流程/交互。</p><figure class="jq jr js jt fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es jy"><img src="../Images/c22f50e618b389a0cb5c65ac00950ffc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YNg3vf8beAYtEtPKILZTVw.png"/></div></div></figure><p id="ac80" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">快乐学习！！</p></div></div>    
</body>
</html>