<html>
<head>
<title>How to setup Windows Subsystem Linux (WSL 2) with Visual Studio Code on Windows 10</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Windows 10上用Visual Studio代码设置Windows子系统Linux (WSL 2)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-setup-windows-subsystem-linux-with-visual-studio-code-on-windows-10-b06fdbe9b30b?source=collection_archive---------0-----------------------#2021-02-19">https://medium.com/nerd-for-tech/how-to-setup-windows-subsystem-linux-with-visual-studio-code-on-windows-10-b06fdbe9b30b?source=collection_archive---------0-----------------------#2021-02-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/5f8842c2d235948ab0a088276f467253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yjIOzjb1s8PejFOX8SGoiw.png"/></div></div></figure><p id="db4f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你是Linux的粉丝，但是运行windows，并且不想为你的开发过程而经历切换这两个操作系统的麻烦，那么Windows subsystem for Linux(WSL)是你的选择。WSL允许您在windows上运行原生Linux命令，同时享受您喜爱的windows工具和应用程序。事实上，有了WSL，您可以在windows上运行整个Linux内核！在本文中，我将指导您在我们的windows ten上安装Ubuntu，并为您的代码开发环境设置VS代码。</p><h1 id="1819" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">在您的windows上启用WSL</strong></h1><p id="690f" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">默认情况下，Windows不启用WSL。因此，在安装Ubuntu之前，您需要在windows上启用WSL功能。在你的windows搜索栏上，输入“<em class="kr">功能</em>”在结果栏上，选择“<strong class="is hj">打开和关闭Windows功能，”</strong>打开如下对话框。向下滚动并选中<strong class="is hj"> Windows Subsystem for Linux，</strong>如图中突出显示的。之后，点击ok，重启你的<em class="kr"> PC </em>。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/74008f73d18c61a1f41791b465374537.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ymkh0P1Cn4XADGMrHSrB6A.jpeg"/></div></div></figure><h1 id="4281" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">WSL—WSL 1和WSL 2哪个？(更新)</strong></h1><p id="f384" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">wsl1和wsl2有什么区别，应该用哪个？根据微软文档，很明显，wsl1是第一个发布的<strong class="is hj"> wsl </strong>并且<strong class="is hj"> wsl 2 </strong>在系统调用兼容性方面比<strong class="is hj"> wsl 1 </strong>有所更新。由于Linux二进制使用系统调用文件系统管理，wsl1使用由<strong class="is hj"> wsl </strong>团队构建的转换层来管理Linux和Windows文件上的文件系统，但是速度较慢或者可能与一些重要的Linux本地应用不兼容，除非WSL团队发布了支持更新。另一方面，<strong class="is hj"> wsl 2 </strong>在Linux自己的内核上升级了完整的系统调用功能。因此，wls1针对从Linux更快地访问windows文件进行了优化，而使用<strong class="is hj"> wsl 2 </strong>支持在原生Linux应用上更快的性能。由于我们可能希望使用更多的Linux本地支持应用程序来充分利用Linux环境，而不必等待来自<strong class="is hj"> WSL </strong>团队的更新，我们将在这里使用wsl2。要默认启用<strong class="is hj"> wsl 2 </strong>,请在您的windows PowerShell或命令行上运行以下命令——</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="a3e9" class="lc jp hi ky b fi ld le l lf lg">Enable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform -NoRestart<br/></span></pre><p id="f4bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后<strong class="is hj">重启你的系统</strong>确保它正常运行。重启系统后，以管理员身份打开Powershell(点击<strong class="is hj"> <em class="kr">以管理员身份运行</em> </strong>)并运行此命令将其设置为默认设置—</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="5fc5" class="lc jp hi ky b fi ld le l lf lg">wsl --set-default-version 2</span></pre><p id="6a84" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在你的电脑可以接受最新的Ubuntu版本了。如果在任何时间点，你想恢复到<strong class="is hj"> wsl 1 </strong>，你可以运行；</p><pre class="kt ku kv kw fd kx ky kz la aw lb bi"><span id="ff98" class="lc jp hi ky b fi ld le l lf lg">dism.exe /online /disable-feature /featurename:VirtualMachinePlatform /norestart<br/>wsl --set-default-version 1</span></pre><h1 id="cb89" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">在Windows上安装Ubuntu发行版</strong></h1><p id="ccae" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">现在，wsl2设置为默认，我们可以安装Ubuntu的最新稳定版本。要安装Ubuntu，请到微软商店或windows搜索栏输入Linux发行版。选择Ubuntu并按照提示进行操作。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/1d3d914a1bd1ba7672ca20fd020a2c13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tqAdi7tF4YmTJgNE-7OiBw.png"/></div></div></figure><p id="a87d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">点击<strong class="is hj">安装</strong></p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es li"><img src="../Images/ba4c75697ec17cdd408fd28b0a30e818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FY9GyBlnkIP5PoZNDycOMA.png"/></div></div></figure><p id="1862" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦完成点击启动，你会看到Ubuntu终端被打开。您需要设置用户名和密码。就是这样。您已经成功地在windows上运行了Linux！</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/c58f7b007087dad78ccd0d55ff82293a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-tt06DQXyNeMUIZefiFWiA.jpeg"/></div></div></figure><h1 id="d5e5" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">设置Visual Studio开发代码。</strong></h1><p id="b902" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">首先，要在WSL上使用VS代码，您需要在windows上安装并通过远程访问它，因为WSL没有图形界面。因此，如果您还没有安装VS代码，就让我们来安装吧。转到<a class="ae lk" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> VS代码页这里</a>。选择windows并安装它。为了远程访问VS代码，我们需要在WSL的VS代码上安装<a class="ae lk" href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl" rel="noopener ugc nofollow" target="_blank">远程扩展</a>。打开您的VS代码并单击</p><p id="ec74" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="kr"> ctrl +shift+x </em></p><p id="8cf6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">并在市场搜索栏上输入“<em class="kr"> wsl </em>”。选择远程— WSL，然后按安装。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/ccba27f79ba67491d96823153d98ec01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bYFMlFvjUyGt15jleoZ4Gg.png"/></div></div></figure><p id="bb1a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦安装完成，回到Ubuntu终端并输入代码。—注意<em class="kr">“代码“+”。”(代码。)</em>。当您单击enter时，您将看到消息“正在安装VS代码服务器c7d83e57…”</p><p id="3938" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里发生的事情是，WSL正在安装一个更小的VS代码服务器，它与Windows(客户端)上安装的VS版本相匹配。然后，服务器将与Windows上的VS代码通信，小型服务器将接收我们对Windows VS代码所做的任何更改。服务器将依次在WSL中安装和托管扩展。因此，我们运行的代码(例如python或JavaScript)与基于工具和资源(例如包或框架)的代码相比，我们在WSL中而不是在windows中运行。</p><h1 id="98b2" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">总结</strong></h1><p id="240b" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">在本文中，我们通过在windows 10上启用WSL功能来安装Ubuntu。设置好用户名和密码后，我们就可以在windows上访问Ubuntu终端了。我们还通过VS代码远程扩展为我们的WSL开发工作流设置了VS代码。通过扩展，安装在windows上的VS代码可以利用来自WSL的资源和工具。感谢您的阅读，希望对您有所帮助。如果您有任何问题或改进建议，请随时在下面发表评论。谢谢你。</p></div></div>    
</body>
</html>