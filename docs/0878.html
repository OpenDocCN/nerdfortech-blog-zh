<html>
<head>
<title>Documenting Spring Boot REST API with OpenAPI 3.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用OpenAPI 3.0记录Spring Boot REST API</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/documenting-spring-boot-rest-api-with-openapi-3-0-220a5103f0a5?source=collection_archive---------5-----------------------#2021-02-20">https://medium.com/nerd-for-tech/documenting-spring-boot-rest-api-with-openapi-3-0-220a5103f0a5?source=collection_archive---------5-----------------------#2021-02-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="294d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们将看到如何记录我上一篇文章中实现的Spring Boot应用程序(使用Kotlin)。</p><p id="70ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://techcolors.medium.com/implement-rest-api-with-kotlin-spring-boot-and-h2-database-9d0103064600" rel="noopener">小工具图库App: Kotlin + Sprint Boot +H2数据库</a></p><p id="27b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">OpenAPI 3.0是一种描述和记录API的开源格式，以前称为Swagger规范。</p><p id="063b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤1 </strong>:让我们从添加OpenAPI 3.0 <a class="ae jd" href="https://mvnrepository.com/artifact/org.openapitools/openapi-generator/3.0.0" rel="noopener ugc nofollow" target="_blank"> maven依赖</a>到我们的pom.xml开始</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="50fb" class="jn jo hi jj b fi jp jq l jr js">&lt;<strong class="jj hj">dependency</strong>&gt;<br/>    &lt;<strong class="jj hj">groupId</strong>&gt;org.springdoc&lt;/<strong class="jj hj">groupId</strong>&gt;<br/>    &lt;<strong class="jj hj">artifactId</strong>&gt;springdoc-openapi-ui&lt;/<strong class="jj hj">artifactId</strong>&gt;<br/>    &lt;<strong class="jj hj">version</strong>&gt;1.5.4&lt;/<strong class="jj hj">version</strong>&gt;<br/>&lt;/<strong class="jj hj">dependency</strong>&gt;</span></pre><p id="67b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Step-2 </strong>:通过在主类上添加@OpenAPIDefinition来启用openapi文档，如下所示。</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="ac28" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj">package </strong>com.shasr.gadgetgallery<br/><br/><strong class="jj hj">import </strong>io.swagger.v3.oas.annotations.OpenAPIDefinition<br/><strong class="jj hj">import </strong>org.springframework.boot.autoconfigure.SpringBootApplication<br/><strong class="jj hj">import </strong>org.springframework.boot.runApplication<br/><br/><strong class="jj hj">@OpenAPIDefinition</strong><br/>@SpringBootApplication<br/><strong class="jj hj">class </strong>GadgetgalleryApplication<br/><br/><strong class="jj hj">fun </strong>main(args: Array&lt;String&gt;) {<br/>    <em class="jt">runApplication</em>&lt;GadgetgalleryApplication&gt;(*args)<br/>}</span></pre><p id="9f45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在步骤1和2中，我们为Rest API在默认URI配置了OpenAPI 3.0默认文档，如下所示</p><p id="090f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="http://localhost:8080/swagger-ui.html" rel="noopener ugc nofollow" target="_blank">http://localhost:&lt;app-port&gt;/swagger-ui . html</a></p><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ju"><img src="../Images/3ec493f206be1744af8e13b1ea1b68a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3wKDPhC6WjdClm2lO3cK7A.png"/></div></div></figure><figure class="je jf jg jh fd jv er es paragraph-image"><div class="er es kc"><img src="../Images/02fa2893a811f18fd13bd79b2e5c54db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*Xjdeo4NrGffRGzJeh6XAHA.png"/></div></figure><p id="638a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">步骤-3 </strong>:让我们覆盖默认的URI和在打开的API控制台(application.yml)上显示的HTTP方法的顺序</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="bb99" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj">springdoc</strong>:<br/>  <strong class="jj hj">swagger-ui</strong>:<br/>    <strong class="jj hj">path</strong>: /gadget-gallery<br/>    <strong class="jj hj">operationsSorter</strong>: method</span></pre><p id="9388" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们试试<a class="ae jd" href="http://localhost:8080/gadget-gallery" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/gadget-gallery</a>，它会被重定向到<a class="ae jd" href="http://localhost:8080/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/swagger-ui/index . html？configUrl =/v3/API-docs/swagger-config</a></p><p id="5d6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong> : HTTP方法按字母顺序显示</p><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kd"><img src="../Images/087d30ccd411a7640076df3f762ef0b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wlf-3hmiLwOIyBtmeVE4tw.png"/></div></div></figure><p id="8af3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认URI显示错误页面如下:<a class="ae jd" href="http://localhost:8080/swagger-ui.html" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/swagger-ui . html</a></p><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ke"><img src="../Images/447e9aa32274f042b9bb24f6e30ebe54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mcMOFjljoFaAo2Sla2aDjg.png"/></div></div></figure><p id="99be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">步骤4 :让我们从OpenAPI控制台开始测试API</p><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kf"><img src="../Images/eebe75285ffaccdbdacb9fee87d37bb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FZt7BHi3ZrYkmWDuVNEAfQ.png"/></div></div></figure><p id="b876" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">去取所有的小器具</p><figure class="je jf jg jh fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es kg"><img src="../Images/da13844379b15b0d9def0f2e56d73d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rmej_tNECy1x3bFKSjETCA.png"/></div></div></figure><p id="a4a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Github:</p><div class="kh ki ez fb kj kk"><a href="https://github.com/shashirl9/gadget-gallery-kotlin-springboot-mysql" rel="noopener  ugc nofollow" target="_blank"><div class="kl ab dw"><div class="km ab kn cl cj ko"><h2 class="bd hj fi z dy kp ea eb kq ed ef hh bi translated">shashirl 9/gadget-gallery-kotlin-spring boot-MySQL</h2><div class="kr l"><h3 class="bd b fi z dy kp ea eb kq ed ef dx translated">简单的休息API与科特林，Spring Boot和MySQL-shashirl 9/小工具-画廊-科特林-springboot-mysql</h3></div><div class="ks l"><p class="bd b fp z dy kp ea eb kq ed ef dx translated">github.com</p></div></div><div class="kt l"><div class="ku l kv kw kx kt ky ka kk"/></div></div></a></div><p id="9b00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">总结</strong>:</p><p id="fcfa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们通过在pom.xml中添加OpenAPI依赖项并使用@OpenAPIDefinition <strong class="ih hj">注释主类，将OpenAPI 3.0配置添加到现有的Sprint Boot Rest API中。我们更新了自定义URI，并在OpenAPI控制台上订购了HTTP方法</strong></p><ul class=""><li id="0564" class="kz la hi ih b ii ij im in iq lb iu lc iy ld jc le lf lg lh bi translated"><strong class="ih hj"> Part-1: </strong> <a class="ae jd" rel="noopener" href="/nerd-for-tech/implement-rest-api-with-kotlin-spring-boot-and-h2-database-9d0103064600">用科特林、Spring Boot和H2数据库实现REST API</a></li><li id="a49d" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj"> Part-2 </strong> : <a class="ae jd" href="https://techcolors.medium.com/documenting-spring-boot-rest-api-with-openapi-3-0-220a5103f0a5" rel="noopener">用OpenAPI 3.0记录Spring Boot REST API</a></li><li id="19d0" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj"> Part-3 </strong> : <a class="ae jd" rel="noopener" href="/nerd-for-tech/create-mysql-instance-on-redhat-openshift-container-platform-ocp-482a7c3e6cb2">在Redhat Openshift容器平台(OCP)上创建MySQL实例</a></li><li id="76c6" class="kz la hi ih b ii li im lj iq lk iu ll iy lm jc le lf lg lh bi translated"><strong class="ih hj">第4部分:</strong>将Spring Boot应用程序部署到OCP集群，并连接到MySQL实例(步骤3)(进行中)</li></ul></div></div>    
</body>
</html>