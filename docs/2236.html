<html>
<head>
<title>Using the logical OR for short circuit evaluation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用逻辑OR进行短路评估</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-the-logical-or-for-short-circuit-evaluation-5a62b6be9147?source=collection_archive---------14-----------------------#2021-04-27">https://medium.com/nerd-for-tech/using-the-logical-or-for-short-circuit-evaluation-5a62b6be9147?source=collection_archive---------14-----------------------#2021-04-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9f80f3a8ced25ebfadd61747f0c15da7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hoFfl6-E3FrBG3J-uwmmow.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">罗布·兰伯特在<a class="ae iu" href="https://unsplash.com/s/photos/technology?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="75f0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这周我在做一个项目，这个小技巧派上了用场。我认为这真的很酷，值得加入你的锦囊妙计，所以看看这个吧。</p><p id="ccf5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我接触过的其他语言中，布尔OR运算符(通常表示为||)用于计算条件语句的布尔表达式。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="edc9" class="kc kd hi jy b fi ke kf l kg kh">if( friday || birthday ) {<br/>  throwPizzaParty();<br/>}</span><span id="1feb" class="kc kd hi jy b fi ki kf l kg kh">do{<br/>  washLaundry();<br/>  vacuumHouse();<br/>} while ( sunday || messyInside )</span></pre><p id="d3b9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果<code class="du kj kk kl jy b">friday</code>或<code class="du kj kk kl jy b">birthday</code>是真实的，举办一个披萨派对。如果<code class="du kj kk kl jy b">sunday</code>或<code class="du kj kk kl jy b">messyInside</code>是真的，该做家务了。谢谢你容忍我的愚蠢的例子:)</p><p id="b4b8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">但是有了JavaScript，我看到了使用逻辑OR的新方法。它可用于以非常简洁的条件返回两个值之一。这给我们带来了一个非常酷的方法，我学会了使用双管<em class="km">短路评估</em>。</p><p id="7923" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设你正在写一个函数，对于一个特定的变量，你不确定它在被调用时是否是未定义的。这是我在本周处理一些异步API调用时想到的。我的结局是这样的:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="c3a4" class="kc kd hi jy b fi ke kf l kg kh">const processUsersLocationData(apiResponse) {<br/>  doAllTheThings(apiResponse)<br/>}</span></pre><p id="5545" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">…但是由于应用程序的异步特性，我不能指望这个函数严格地在API响应之后被调用。如果它在收到API响应之前被调用，这个函数将试图作用于<code class="du kj kk kl jy b">undefined</code>，我们将得到一个错误，杀死服务器。我需要这个函数即使在<code class="du kj kk kl jy b">apiResponse</code>还没有被设置，仍然是<code class="du kj kk kl jy b">undefined</code>的时候被调用。我最初写了一个条件<code class="du kj kk kl jy b">if</code>，但是最后简化成这样:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="8ec5" class="kc kd hi jy b fi ke kf l kg kh">const processUsersLocationData(apiResponse) {<br/>  apiResponse = apiResponse || "still waiting on API";  <br/>  doAllTheThings(apiResponse);<br/>}</span></pre><p id="8aba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">…第二行，<code class="du kj kk kl jy b">apiResponse = apiResponse || “still waiting on API”</code>，当当前为<code class="du kj kk kl jy b">undefined</code>时，将的<code class="du kj kk kl jy b">apiResponse</code>设置为<code class="du kj kk kl jy b">"still waiting on API"</code>。它去掉了设置<code class="du kj kk kl jy b">if</code>条件带来的额外代码，并在一行代码中快速工作，<em class="km">使条件</em>短路。</p><p id="ee79" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">当然，and和or似乎总是在一起，以互补的方式工作。而这种情况也没什么不同。你可以用&amp; amp；</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="93c0" class="kc kd hi jy b fi ke kf l kg kh">if(friday){<br/>  pizzaParty();<br/>}</span></pre><p id="067f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">…可以简化为:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="beb6" class="kc kd hi jy b fi ke kf l kg kh">friday &amp;&amp; pizzaParty();</span></pre><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="kn ko l"/></div></figure><p id="cb5c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">总结一下，我们可以利用||和&amp;&amp;来简化条件和求值。这可以为你提供一个快速的方法来用一个<code class="du kj kk kl jy b">truthy</code>值替换一个<code class="du kj kk kl jy b">falsey</code>值，并避免你的应用程序出轨！</p></div></div>    
</body>
</html>