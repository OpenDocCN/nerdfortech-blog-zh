<html>
<head>
<title>Adding Final Boss</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">添加最终Boss</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/adding-final-boss-eb3e6d14cd07?source=collection_archive---------22-----------------------#2021-06-12">https://medium.com/nerd-for-tech/adding-final-boss-eb3e6d14cd07?source=collection_archive---------22-----------------------#2021-06-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7493" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第52天-制作2D太空射击游戏</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/695c44e2e8d0221c3f24b1be19ce7d4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f2IBrKYDhYw4yLRpOiW0MQ.png"/></div></div></figure><p id="34c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">目标:</strong>创造一个被击败后结束游戏的Boss。</p><p id="1e72" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，boss由三部分组成，两臂会跟随玩家并开火，中间的主体会发射激光束。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/7eca998c86c1dca56eb6e32756cec30c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*g7_-x5JcapLDZ4x3Dw9VfA.png"/></div></figure><p id="baed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将这三个部分添加到一个空的游戏对象中，使其成为一个实体。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/dc141fb77cad6713342533b9db28c442.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*9Qj-v_17k8NXPGJ9UnO-_Q.png"/></div></figure><p id="8193" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，创建一个脚本，并将其添加到Main_Boss gameobject中，这样就可以从整体上控制Boss的行为。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/068f6a9759082f153cf9e73d6bbcdf8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3MnmB0HHp1PTIHrulCe8bg.png"/></div></div></figure><p id="c3e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后在Update中添加移动功能，这将使boss向下移动，直到到达Y轴上的所需位置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es js"><img src="../Images/5178d55fe9e6d3471268c2058611812a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*qlxTAGQeSvBToVuYLGzorg.png"/></div></figure><p id="4846" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在为Main_Body游戏对象创建另一个脚本，它将处理单个游戏对象的行为。</p><p id="a083" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在脚本中，添加变量来引用其他脚本，并定义一个健康变量来确定在boss被摧毁之前主体可以受到伤害的次数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/30e6acb1a4b258f11662b6766efdb81b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgRMX0l8i20nxzygMHG1KQ.png"/></div></div></figure><p id="f378" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在定义一个协程，它将为主boss处理激光束的产生。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/399619c3beb5d69f958e5a592d61aa21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zqIHcE7ee0RXH1PcDZAAJg.png"/></div></div></figure><p id="f6ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在在产卵的时候创建一个对所有需要的脚本的引用，并启动创建的协程，这样boss将在一定的时间间隔开始发射激光束。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/6256daefa62bf282cb9286e4a8a011ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*VW7k4ezLjmRIqUV2U4dzCA.png"/></div></figure><p id="1ec8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后创建一个OnTrigger函数，该函数将处理与玩家发射的激光接触时的boss行为。</p><p id="bd42" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每一次击中boss的激光都会减少boss的生命值1，每次击中都会给玩家的总得分增加50，并摧毁击中boss的激光。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jw"><img src="../Images/a1efbe10a42fe6313a60bd177c2c7f4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*Ne4RidnvPva8HcGikgJKhA.png"/></div></figure><p id="b4e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当玩家成功击中了生命值为0的boss时，调用UIManager显示玩家击败了boss并赢得了游戏。然后摧毁父游戏对象，因为它是主体，所以如果玩家在手臂之前摧毁主体，那么整个boss都会被摧毁。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/6e541fd05c2944b83e459aa98c265512.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pJLuu68BTqEEXwTZlnCGyQ.png"/></div></div></figure><p id="26d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">至于激光束，创建一个激光束精灵，添加碰撞器和刚体，然后创建一个新的脚本并将其添加到精灵中。</p><p id="ba7e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在脚本内部，创建一个gameobject变量并将其引用到主boss。参考完成后，将激光束的位置更改为参考游戏对象的位置</p><p id="11a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后启动协程，使激光束精灵可以缩放，以给出射束的感觉。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jy"><img src="../Images/6e048e89459d6d6641fe96bb0aea27ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WLSn3QSR_08avBy_5zy1xw.png"/></div></div></figure><p id="c2fc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在在协程中，使用Lerp函数将激光精灵从原始比例缩放到目标比例。</p><p id="9fb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有这些都完成后，我们还需要设计我们的侧臂的行为，因此为手臂创建一个新的脚本。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jz"><img src="../Images/868ca1cad024434dbd4f1657792f1c04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*01zfo8O8xOzcRZaME3NaOg.png"/></div></figure><p id="0f5d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据需要在脚本中声明变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ka"><img src="../Images/228224188e33661ce0c048c4ec012b38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wt3h9IcNJYt5yJ5rRySp2g.png"/></div></div></figure><p id="77de" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后在Start中创建一个对所有必要的游戏对象和脚本的引用，然后启动一个协程向我们的玩家发射子弹。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kb"><img src="../Images/32b7d265e104b0b9fe3b07258356e387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YP9BMK-z5d5MCNwwWhNKiA.png"/></div></div></figure><p id="dd18" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后在协程中启动一个while循环，只要玩家还活着，它就会一直工作。在循环内部实例化项目符号，其位置在intPos gameobject的位置。还要确保实例化的项目符号在繁殖过程中保持手臂的旋转角度，这样项目符号将朝着实例化过程中手臂倾斜的方向移动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kc"><img src="../Images/9a34c0036d79a6a6d37cc96f8a7dfc79.png" data-original-src="https://miro.medium.com/v2/resize:fit:230/format:webp/1*GF0MRpTwkz_46WcKTWlOtA.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kd"><img src="../Images/6c76826f2f9c866488136b5c73d4a8ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:378/format:webp/1*bpc3ZcyvCFS1e2rRo8tLBg.png"/></div></figure><p id="de17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在两臂内添加一个新的空游戏对象，并将其放置在两臂的顶端。这个游戏对象将保持子弹的实例化位置，这样子弹总是从手臂的尖端射出。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ke"><img src="../Images/c8a932150c880904ab506f48483aea05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*DalONnW9rzWJEAqCJ4jNYg.png"/></div></figure><p id="69b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后创建一个OnTrigger函数来检测手臂何时接触玩家发射的激光，并通过减少1的生命值来受到伤害，并在玩家每次击中时提供25的分数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kf"><img src="../Images/ea9ece4812c00c1d8c8bfe02e260ff37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SwFmpfvzHRNcEmpWrpUdJw.png"/></div></div></figure><p id="994d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在旋转手臂，使它总是看着玩家的方向。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kg"><img src="../Images/73f920603095be8ca22b78adaf4fb100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FixBVE0CBALm7tupsZjXHw.png"/></div></div></figure><p id="f5b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，在Update函数中创建一个条件来检查玩家是否还活着，以及玩家是否被留在了原点。如果为真，则旋转手臂看向玩家，如果为假，则直视下方。</p><p id="58ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后如果手臂生命值达到0，摧毁手臂。</p><p id="664e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">确保对右臂也做同样的操作，但是在更新中改变条件来检查玩家是否在原点的右边。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kh"><img src="../Images/507e0b162ebe99f1689d49c6f12b470f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*CQiLhIFp4dP8vICdVVBcog.png"/></div></figure><p id="c304" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要创建一个手臂发射的子弹，创建一个新的脚本，并添加一个语句，在2秒后摧毁游戏对象，这是足够的时间击中玩家或出界。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ki"><img src="../Images/741314103e6e9cd5c1df35ef64a00e5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*15niqEIVXto4eYZw7GF-7A.png"/></div></div></figure><p id="91bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后在Update里面添加一个语句，以_speed变量确定的速度向下移动子弹。</p><p id="94dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，项目符号是通过旋转进行实例化的，因此即使在脚本中，它是向下移动的，它也将向实例化期间预定的方向移动。举例来说，你正向A点移动，如果你想再向B点移动，你要看着B点，所以你的角度改变了，但是你仍然在向前移动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kj"><img src="../Images/b48deb20a15c8636e11ee2eff68b43e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MgJx5sd_8t0eigmqRe5N9Q.png"/></div></div></figure><p id="222d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，当子弹成功击中玩家时，玩家受到伤害，子弹会自我毁灭。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kk"><img src="../Images/a1cc8095ae7805d16e620b7b7c9d8e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1zm_bqX1pZEMm-gq9wNBqg.gif"/></div></div></figure><p id="f781" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是最后的样子。</p></div></div>    
</body>
</html>