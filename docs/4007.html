<html>
<head>
<title>GraphQL vs. RESTful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GraphQL与RESTful</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/graphql-vs-restful-e1a99fd14285?source=collection_archive---------3-----------------------#2021-07-03">https://medium.com/nerd-for-tech/graphql-vs-restful-e1a99fd14285?source=collection_archive---------3-----------------------#2021-07-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="71e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当谈到API时，大多数人最初被介绍并继续使用RESTful约定，但是GraphQL在最近几年变得越来越流行。今天我们将讨论使用GraphQL的区别和一些好处。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/7487cc7b3f46111a28c1895318f1503d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ULITHErCZzYdqxLtlP1qDw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">使用REST和GraphQL的简单请求和响应的比较</figcaption></figure><h2 id="92a9" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">GraphQL是什么？</h2><p id="20e1" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">直接摘自<a class="ae kt" href="https://graphql.org/" rel="noopener ugc nofollow" target="_blank"> GraphQL网站</a>:“graph QL是一种API查询语言，也是一种用现有数据完成这些查询的运行时。GraphQL为您的API中的数据提供了完整且易于理解的描述，使客户能够准确地要求他们需要的东西，使API更容易随着时间的推移而发展，并支持强大的开发工具。”</p><p id="bf54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">需要澄清一些事情:GraphQL本身与数据库没有任何关系，它只是一种查询数据库的查询语言。它不是SQL的替代品，也不是全新的ORM。它也<strong class="ih hj">不是</strong>REST的替代品，而是一种选择，你可以在同一个项目中利用这两者！</p><h2 id="e8fb" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">回顾休息</h2><p id="eebe" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">直接取自<a class="ae kt" href="https://restfulapi.net/" rel="noopener ugc nofollow" target="_blank"> RESTful网站</a>:“REST是<strong class="ih hj">RE</strong>presentational<strong class="ih hj">S</strong>state<strong class="ih hj">T</strong>transfer的首字母缩写。它是分布式超媒体系统的架构风格，由Roy Fielding于2000年在他著名的论文中首次提出。像任何其他架构风格一样，REST也有它自己的<a class="ae kt" href="https://restfulapi.net/rest-architectural-constraints/" rel="noopener ugc nofollow" target="_blank"> 6指导约束</a>，如果一个接口需要被称为<strong class="ih hj"> RESTful </strong>，就必须满足这些约束。</p><p id="233b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一个快速澄清:虽然很多人比较两者，但REST和HTTP并不相同。REST是使web服务成为真正RESTful API的一组约束。阿皮亚·贾因是这样说的:</p><blockquote class="ku kv kw"><p id="0886" class="if ig kx ih b ii ij ik il im in io ip ky ir is it kz iv iw ix la iz ja jb jc hb bi translated">“HTTP是一个契约，一个通信协议，而REST是一个概念。它是一种架构风格，可以使用HTTP、FTP或其他通信协议，但广泛用于HTTP。REST隐含了一系列关于服务器和客户端应该如何交互的约束。HTTP是一种通信协议，具有服务器-客户端数据传输的给定机制。它在REST API中最常用，只是因为REST是受WWW(万维网)的启发，在REST被定义之前，WWW大量使用HTTP，所以用HTTP实现REST API风格更容易。”</p></blockquote><h2 id="200d" class="jt ju hi bd jv jw jx jy jz ka kb kc kd iq ke kf kg iu kh ki kj iy kk kl km kn bi translated">架构比较</h2><p id="8fe3" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">随着2010年初移动应用的蓬勃发展，脸书开发了GraphQL来适应现代需求，并简化查询以提高低功耗设备和松散网络的性能。</p><p id="fb54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们花一点时间来欣赏这种简单性，让我们一起看看REST和GraphQL的架构:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lb"><img src="../Images/ff2619ed49bff5236d9a11732487e305.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SbLokuBeozWFeG-Eak82xg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">REST建筑风格</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lc"><img src="../Images/3fb5d4bf5d325a5ec410585effa04cb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8K79UwIBNz3xSq5Bq06wig.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">GraphQL架构风格</figcaption></figure><p id="4fa5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如您所见，GraphQL通过利用允许客户端访问不同类型的数据存储的单个端点，真正简化了这种架构。</p><h1 id="9c5b" class="ld ju hi bd jv le lf lg jz lh li lj kd lk ll lm kg ln lo lp kj lq lr ls km lt bi translated">为什么选择GraphQL？</h1><p id="550c" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">好的好的..所以这一切，当然..但是真的..为什么选择GraphQL？</p><p id="8a47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用GraphQL的一个主要原因是，许多使用现代web和移动应用程序的数据库都具有图形形状。例如:一个照片帖子可能有喜欢和评论，这些评论可能有用户创建的反应、更多评论和标志。这一切构成了一张图表。</p><p id="a1cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">除了适应数据结构，GraphQL还解决了3个主要问题:</p><ol class=""><li id="49fc" class="lu lv hi ih b ii ij im in iq lw iu lx iy ly jc lz ma mb mc bi translated">提取不足——有时我们可能会发现自己不得不从多个端点进行提取，以检索一个视图所需的所有数据。使用REST，您必须发出多个请求，然后根据需要处理和使用检索到的数据。使用GraphQL，我们可以通过一个请求多次访问服务器，在一个查询中检索我们需要的所有数据。</li><li id="f584" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated">过量提取——有时我们可能发现自己只需要请求返回的一小部分数据。提取一整块数据，只使用其中的一小部分，效率很低，会降低应用程序的速度，尤其会给有带宽问题的人带来麻烦。使用GraphQL，我们可以只包含想要查询的参数，避免检索不需要的数据。</li><li id="e704" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc lz ma mb mc bi translated">缓慢的前端开发——考虑到某些问题，我们可能会在后端创建一个新的端点，以简化特定视图的获取请求，并避免获取不足或过量..但是这需要一些工作！使用GraphQL，客户端能够获取所需的数据，仅此而已。没有什么会变慢，也不需要新的端点。向查询中添加新字段非常简单。</li></ol><h1 id="e7e1" class="ld ju hi bd jv le lf lg jz lh li lj kd lk ll lm kg ln lo lp kj lq lr ls km lt bi translated">回顾和总结</h1><ul class=""><li id="913f" class="lu lv hi ih b ii ko im kp iq mi iu mj iy mk jc ml ma mb mc bi translated">REST和GraphQL都可以通过带有URL的HTTP请求来获取，并将请求作为JSON数据返回。</li><li id="514b" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc ml ma mb mc bi translated">它们都调用服务器上的函数。</li><li id="b292" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc ml ma mb mc bi translated">它们都有入口点，并且它们都能够区分API是用于读取数据还是写入数据。</li><li id="1ce3" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc ml ma mb mc bi translated">GraphQL是一种查询语言和一组工具，利用HTTP在单个端点上工作，通过以图形组织的数据和由模式结构化的对象来帮助优化性能和灵活性。</li><li id="a494" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc ml ma mb mc bi translated">使用GraphQL，单个查询可以调用fetch多个数据点，并只使用特定的查询数据进行响应，而REST每个查询只调用一个路由处理函数，并返回所有嵌套的数据。</li><li id="d261" class="lu lv hi ih b ii md im me iq mf iu mg iy mh jc ml ma mb mc bi translated">GraphQL没有内置的缓存、监控或错误报告功能，也没有针对拒绝服务攻击的安全性，但是提供了一些很酷的功能，比如自我记录和<a class="ae kt" href="https://github.com/prisma/graphql-playground" rel="noopener ugc nofollow" target="_blank"> GraphQL操场</a>，在这里您可以检查您的模式，甚至运行查询和突变来测试您的API。</li></ul><p id="2578" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您打算开发一个移动应用程序，考虑使用GraphQL，因为带宽更重要——而如果您要构建一个需要一个强大的API、缓存和监控系统的应用程序，那么最好使用RESTful约定。<strong class="ih hj"> <em class="kx">但话说回来..您可以在同一个项目中同时使用这两种方法！</em> </strong></p><p id="b96b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">干杯，我很快会再见到你的！</p></div></div>    
</body>
</html>