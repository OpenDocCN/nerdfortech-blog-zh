<html>
<head>
<title>The difference between “==” and “is” in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中“==”和“是”的区别</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-difference-between-and-is-in-python-52f447756c10?source=collection_archive---------6-----------------------#2021-02-01">https://medium.com/nerd-for-tech/the-difference-between-and-is-in-python-52f447756c10?source=collection_archive---------6-----------------------#2021-02-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/03d833280c05daa2addab3851b4d0933.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WCOIbMON_04FcIr9"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">保罗·斯科鲁普斯卡斯在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="a1ed" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">Python 的' == '和' is '通常被认为是相等运算符。虽然这看起来可能是正确的，但并不完全正确。“是”实际上是一个身份关键字。当确定两个变量是否存储相同的值时，使用“==”运算符，而“is”关键字确定两个变量是否在计算机内存中存储相同的值。</p><p id="3c5f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在我之前关于 python 变量的文章中，我将变量描述为一个盒子，其中存储了一个值。这并不能真正解释发生了什么😶。原来 python 已经给计算机内存中的特定位置分配了不同的值。简单地说，如果我将数字 5 放入一个名为“alpha”的变量中，并将数字 5 放入另一个变量中并命名为“bravo”，python 会简单地将这两个变量名分配给内存中名为“5”的空间。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="8468" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; alpha = 5<br/>&gt;&gt;&gt; bravo = 5 </span></pre><p id="ae74" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，如果我们用' == '运算符比较两个变量的相等性，我们将得到<strong class="ix hj"> True </strong>作为输出，因为这两个值当然是相同的。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="b146" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; alpha == bravo<br/>True</span></pre><p id="a10a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们使用“is”关键字会怎么样？我们仍然会得到<strong class="ix hj">真值</strong>作为输出。记得我之前说过“is”关键字决定了两个变量在计算机内存中是否存储相同的值。因为这两个变量指向内存中的同一个空间，所以输出为<strong class="ix hj"> True。</strong></p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="a594" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; alpha is bravo<br/>True</span></pre><p id="61f1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么我们如何知道这两个对象存储相同的值呢？python 有一个“id”函数，它告诉我们一个值在内存中的确切位置。它就像一个地址。因此，如果我们对这两个变量调用<strong class="ix hj"> id </strong>函数:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="d7d9" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; id(alpha)<br/>140709619484448<br/>&gt;&gt;&gt; id(bravo)<br/>140709619484448</span></pre><p id="4316" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">它们返回相同的 id。这实际上意味着这两个变量存储同一个对象😂。</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="7767" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么这是否意味着 python 在内存中给世界上所有的数字都分配了一个空间呢？当然不是。Python 只在内存中保存从-5 到 256 的数字。这意味着，如果你要在两个不同的变量中存储一个大于 256 或小于-5 的数，python 会在内存中复制它们。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="3cfe" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; charlie = 729<br/>&gt;&gt;&gt; delta = 729<br/>&gt;&gt;&gt; id(charlie)<br/>1957526993008<br/>&gt;&gt;&gt; id(delta)<br/>1957526992944</span></pre><p id="8e64" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么这对我们的运营商意味着什么呢？比较时，两个操作符是否都返回<strong class="ix hj">真值</strong>作为输出？让我们看看:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="bc09" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; charlie == delta<br/>True<br/>&gt;&gt;&gt; charlie is delta<br/>False</span></pre><p id="61ff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">“is”关键字返回<strong class="ix hj"> False </strong>，因为存储在这两个变量中的数字存储在计算机内存的不同位置。看出区别了吗？😉</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="a8da" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">同样的类比不能应用于列表、元组等其他数据类型。在这种情况下，以列表为例，将同一个列表存储在两个不同的变量中并不意味着当您对这两个变量运行“id”函数时，它们将具有相同的“地址”。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="1b74" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; echo = [1, 2]<br/>&gt;&gt;&gt; foxtrot = [1, 2]<br/>&gt;&gt;&gt; id(echo)<br/>1957526901568<br/>&gt;&gt;&gt; id(foxtrot)<br/>1957533751616</span></pre><p id="cb34" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">您可以看到两个列表包含相同的值，但是它们存储在计算机内存的不同位置。如果我们运行' == '和' is ':</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="a15d" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; echo == foxtrot<br/>True<br/>&gt;&gt;&gt; echo is foxtrot<br/>False</span></pre><p id="8728" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">产量并不令人惊讶，对吗？但是，如果我们创建另一个变量，并在其中存储一个以前命名的变量，会怎么样呢:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="9105" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; golf = echo<br/>&gt;&gt;&gt; id(echo)<br/>1957526901568<br/>&gt;&gt;&gt; id(golf)<br/>1957526901568<br/>&gt;&gt;&gt; golf == echo<br/>True<br/>&gt;&gt;&gt; golf is echo<br/>True</span></pre><p id="5d80" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">两者都返回<strong class="ix hj">真值</strong>作为输出。这是因为当“echo”被放入“golf”变量时，python 只是让变量“golf”指向“echo”最初指向的内存空间。因为两个变量指向内存中的同一个空间，所以它们会有相同的“id”。</p></div><div class="ab cl ki kj gp kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="hb hc hd he hf"><p id="883b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">据我所知，字符串数据类型似乎没有任何问题。无论字符串有多长，对于两个操作符，它总是返回<strong class="ix hj"> True </strong>🤔</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="af50" class="kc kd hi jy b fi ke kf l kg kh">&gt;&gt;&gt; hotel = 'aa' * 2000<br/>&gt;&gt;&gt; india = 'a' * 4000<br/>&gt;&gt;&gt; juliet = 'aa' * 2000<br/>&gt;&gt;&gt; id(hotel)<br/>2527098241152<br/>&gt;&gt;&gt; id(india)<br/>2527098241152<br/>&gt;&gt;&gt; id(juliet)<br/>2527098241152<br/>&gt;&gt;&gt; hotel == india<br/>True<br/>&gt;&gt;&gt; hotel == juliet<br/>True<br/>&gt;&gt;&gt; india == juliet<br/>True<br/>&gt;&gt;&gt; hotel is india<br/>True<br/>&gt;&gt;&gt; hotel is juliet<br/>True<br/>&gt;&gt;&gt; india is juliet<br/>True</span></pre><p id="8fb5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">也许我错过了什么？😐下面评论！</p><h2 id="81e8" class="kc kd hi bd kp kq kr ks kt ku kv kw kx jg ky kz la jk lb lc ld jo le lf lg lh bi translated">结论</h2><p id="10b5" class="pw-post-body-paragraph iv iw hi ix b iy li ja jb jc lj je jf jg lk ji jj jk ll jm jn jo lm jq jr js hb bi translated">当确定身份关键字“is”将返回 True 还是 False 作为输出时，它实际上与“id”函数有关。“id”甚至可以表示身份😏。当值相同时，“==”运算符返回 True。</p><p id="70a1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢阅读:)。</p></div></div>    
</body>
</html>