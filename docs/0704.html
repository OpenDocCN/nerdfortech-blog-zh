<html>
<head>
<title>No Duplicates Allowed!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不允许重复！</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/no-duplicates-allowed-dfddf3dce424?source=collection_archive---------3-----------------------#2021-02-06">https://medium.com/nerd-for-tech/no-duplicates-allowed-dfddf3dce424?source=collection_archive---------3-----------------------#2021-02-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c254" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">几周前我进行模拟JavaScript面试时，我的一个编码挑战是从数组中移除重复元素。令我懊恼的是，我真的不知道该怎么做。幸运的是，这并没有发生在实际的工作面试中，面试官告诉了我一个完成这个任务的方法。当我得知从数组中删除重复项是一个常见的JavaScript面试问题时，我并不感到惊讶，这意味着我们这些JavaScript新手应该知道至少有几种方法可以做到这一点。</p><p id="6efb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们来看看三种方法来摆脱这些该死的重复。(但是，请记住，与JavaScript中的许多其他编码任务一样，有许多方法可以实现。我刚刚发现我喜欢这三个，如果在面试中再次提出这个任务，我会使用其中的一个或多个。)</p><p id="d910" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">预备，集合，开始！</p><p id="f192" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为ES6欢呼三声！这个最新版本的JavaScript给了我们一个超级简单的方法来删除数组中的重复项。那就是使用<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="noopener ugc nofollow" target="_blank">设置对象</a>，如下所示:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="2d02" class="jn jo hi jj b fi jp jq l jr js">const myArray = [9, 9, 1, 5, 8, 9, 13, 1, 7, 5]</span><span id="9a0f" class="jn jo hi jj b fi jt jq l jr js">function noDupsAllowed(arr) {</span><span id="6970" class="jn jo hi jj b fi jt jq l jr js">  return […new Set(arr)]</span><span id="584a" class="jn jo hi jj b fi jt jq l jr js">}</span><span id="2a38" class="jn jo hi jj b fi jt jq l jr js">console.log(noDupsAllowed(myArray))</span></pre><p id="49df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者更简单:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="ed0e" class="jn jo hi jj b fi jp jq l jr js">const myArray = […new Set([9, 9, 1, 5, 8, 9, 13, 1, 7, 5])]</span><span id="5151" class="jn jo hi jj b fi jt jq l jr js">console.log(myArray)</span></pre><p id="b055" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每个示例中记录到控制台的结果是<em class="ju">【9，1，5，8，13，7】</em>。</p><p id="8f58" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的正式JavaScript研究中，从来没有涉及过Set对象。为什么？我不知道，但我希望是这样。</p><p id="1771" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这如何让我们得到一个没有重复的数组呢？Set对象保存值，但是每个值必须是唯一的。如上面的例子所示，传入一个iterable对象(在本例中是一个数组)将产生一个新的集合，该集合包含与该iterable对象相同的值，只是新集合中的每个值只有一个实例。任何重复的值都会被丢弃。这种方法的一个好处是新集合中的项目遵循它们的插入顺序。</p><p id="0d1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用Set对象从数组中删除重复项是如此简单和高效，以至于coder和YouTuber <a class="ae jd" href="https://www.youtube.com/watch?v=bRpVR1x_O8Q" rel="noopener ugc nofollow" target="_blank"> Robin Pokorny </a>称之为执行这项任务的“唯一正确的方法”。</p><p id="7fbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">失意？用滤镜！</strong></p><p id="1d21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获得无重复数组的一个不太简单但仍然容易的方法是使用<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener ugc nofollow" target="_blank"> filter() </a>方法。</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="ee65" class="jn jo hi jj b fi jp jq l jr js">const myArray = [9, 9, 1, 5, 8, 9, 13, 1, 7, 5]</span><span id="0ee9" class="jn jo hi jj b fi jt jq l jr js">function noDupsAllowed(item) {</span><span id="8bc3" class="jn jo hi jj b fi jt jq l jr js">  return item.filter((v, index) =&gt; item.indexOf(v) === index)</span><span id="b0e9" class="jn jo hi jj b fi jt jq l jr js">}</span><span id="b09e" class="jn jo hi jj b fi jt jq l jr js">console.log(noDupsAllowed(myArray))</span></pre><p id="1e8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">顾名思义，filter()方法过滤掉任何不符合我们设置的条件的元素。在我们的例子中，filter()有两个参数:被评估的当前元素的值(由<em class="ju"> v </em>表示)和该元素的<em class="ju">索引</em>。注意，它还使用indexOf()，返回该值的第一个实例的索引。如果一个值在被过滤的数组中出现不止一次，那么我们的函数会想，“嘿，我已经在先前的索引中遇到这个值了。抱歉，伙计，但我不能让你加入新的队伍。”</p><p id="bf40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的例子也可以这样写:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="933e" class="jn jo hi jj b fi jp jq l jr js">let newArray = myArray.filter((v, index) =&gt; myArray.indexOf(v) === index)</span><span id="1974" class="jn jo hi jj b fi jt jq l jr js">console.log(newArray)</span></pre><p id="79f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用filter()方法而不是Set对象的一个优点是，它还可以用于返回重复项。</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="3c25" class="jn jo hi jj b fi jp jq l jr js">const myArray = [9, 9, 1, 5, 8, 9, 13, 1, 7, 5]</span><span id="d1ca" class="jn jo hi jj b fi jt jq l jr js">let newArray = myArray.filter((v, index) =&gt; myArray.indexOf(v) !== index)</span><span id="8fc5" class="jn jo hi jj b fi jt jq l jr js">console.log(newArray)</span></pre><p id="cdfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">结果:<em class="ju">【9，9，1，5】</em>。我们唯一要做的改变就是使用<em class="ju">！== </em>而不是<em class="ju"> === </em>。</p><p id="f1ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">For tooth，a For Loop </strong></p><p id="b86c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后一种方法比前两种方法稍微复杂一点。它包括创建一个空数组，并使用一个<em class="ju"> for </em>循环迭代原始数组，并将唯一值推入新数组。</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="522d" class="jn jo hi jj b fi jp jq l jr js">const myArray = [9, 9, 1, 5, 8, 9, 13, 1, 7, 5]</span><span id="2e83" class="jn jo hi jj b fi jt jq l jr js">function noDupsAllowed(arr) {</span><span id="4f7c" class="jn jo hi jj b fi jt jq l jr js">   const newArray = []</span><span id="1629" class="jn jo hi jj b fi jt jq l jr js">   for(let v of arr) {</span><span id="b197" class="jn jo hi jj b fi jt jq l jr js">     if(newArray.indexOf(v) === -1) {</span><span id="6e06" class="jn jo hi jj b fi jt jq l jr js">       newArray.push(v)</span><span id="905a" class="jn jo hi jj b fi jt jq l jr js">     }<br/>   }<br/>   return newArray<br/>}</span><span id="54bb" class="jn jo hi jj b fi jt jq l jr js">console.log(noDupsAllowed(myArray))</span></pre><p id="7868" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与前面使用filter()的示例类似，这个示例使用indexOf()，只是它检查新数组以查看其中是否已经有值。如果不是(因此是<em class="ju"> -1 </em>，这是indexOf()在没有找到该值时返回的内容)，那么该值将被推入新数组。</p><p id="ddf2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">为什么不直接设定？</strong></p><p id="f6c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我在以后的编码面试中被要求从数组中删除重复项，我更愿意使用Set。然而，我听说面试官可能认为这太容易了，希望你展示更多的编码技能。在这种情况下，我更喜欢使用filter()方法。除此之外，我会求助于循环的<em class="ju">。我遇到过其他方法，但发现它们太复杂，不适合我。</em></p><p id="baef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你有什么想法？如果你在一次编码面试中被要求这样做，你用的是什么方法？</p></div></div>    
</body>
</html>