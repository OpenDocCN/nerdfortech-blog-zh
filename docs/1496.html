<html>
<head>
<title>Restricting Player Movement</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">限制玩家移动</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/restricting-player-movement-83f8540a792f?source=collection_archive---------12-----------------------#2021-03-22">https://medium.com/nerd-for-tech/restricting-player-movement-83f8540a792f?source=collection_archive---------12-----------------------#2021-03-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1d7f74c771ecd199ea8fc00d49f87c3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Uo7egz4PFqB5jdFYNm9kjA.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">清理和限制球员边界之前的移动</figcaption></figure><p id="3cea" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们从使用我们的<a class="ae js" href="https://sidthakur3519.medium.com/variables-and-its-usage-7a7b32773880" rel="noopener">变量</a>开始，让我们创建两个变量来存储我们的用户输入。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/f03bf95a7d7576efbbd59e189a072a27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tctWEqkSj1zgNz1KniEK1w.png"/></div></div></figure><p id="eab2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们还从<a class="ae js" href="https://sidthakur3519.medium.com/simple-player-movement-in-unity-3f28b7ab2151" rel="noopener">简单统一运动文章</a>中注意到，我们正以恒定的速度移动我们的物体。让我们将这个<strong class="iw hj">速度</strong>设为私有变量，因为我们不希望任何其他类访问这个变量，但是我们希望能够在编辑器中自由地改变速度。这可以通过以下方式实现:</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/3504d85f2b97cab42ea0f0c5acc454f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p1Z38jB08_Z8Zr19jjK5VA.png"/></div></div></figure><p id="5ba7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">既然我们的变量已经声明了，让我们从输入变量开始初始化它们，</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/5ecd4439f04c9a71c22dbcf68c8e23fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S-yC5cYI62BWiYuGF4cZYg.png"/></div></div></figure><p id="5343" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们将这些输入变量存储在一个向量中，这样我们就可以得到一个我们希望对象移动的方向，</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ka"><img src="../Images/7b0ddadc34e7a3af2bb0b93e9d24ab98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H9_K-817703mXIOxUSo__g.png"/></div></div></figure><p id="9d09" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有了这个设置，我们可以让我们的角色移动，但在此之前，让我们创建一个名为"<strong class="iw hj"> Movement </strong>"的方法(这是一个包含一系列语句的代码块)，它将存储任何与移动相关的内容。<em class="kb">注意:一定要调用</em> <strong class="iw hj"> <em class="kb">运动()</em> </strong> <em class="kb">“在你的</em> <strong class="iw hj"> <em class="kb">更新()</em></strong><em class="kb"/>。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/1b6eab3fd010d24aea5621fad2f6e502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BM0kQKud_qglwbLQDYznQw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">翻译是用来让你的角色移动</figcaption></figure><p id="d2d8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但是在这样做的时候，我们意识到一些有趣的事情，它们是:</p><p id="aae7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">→ <em class="kb">移动不爽快</em>，这是因为<strong class="iw hj"> GetAxis() </strong>返回值的范围是-1到1。这会给人一种你的物体在加速或减速的印象，这在很多情况下是好的，但在这种情况下，我更喜欢即时响应，为此我们可以使用<strong class="iw hj"> GetAxisRaw() </strong>，它会返回-1、0或1的值。</p><p id="f9df" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">→ <em class="kb">对角移动时速度增加</em>，当使用输入向量的组合时，我们最终以两个向量的平方根移动，结果使我们移动得更快。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kd"><img src="../Images/3af994856d138a1d8858175c0910cc0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qyYNh9ucYOLIXJIjOZaFUw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">我们在这里看到，当沿对角线移动时，我们最终以1.41的幅度移动，这与我们的水平和垂直幅度1不同。</figcaption></figure><p id="796d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了防止这种情况发生，我们可以使用，</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es ke"><img src="../Images/6bc79099b9d1c33966a878edac7ce202.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*UOpdIdfMxcPgzRJaZPq_CQ.png"/></div></figure><p id="1f3c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这会返回一个大小为1的向量，同时保持方向不变。所以更新后的“<strong class="iw hj">机芯()”</strong>看起来像下面的<strong class="iw hj">、</strong></p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/6d3ee48825315982c394c09ee3ad7a2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QUzFrMeVj7FruiJ-Rvcd3Q.png"/></div></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="22f7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="kb">设定移动界限！</em> </strong></p><p id="d685" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">此时，我们观察到我们的玩家不断离开我们的屏幕，</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e8587a10aa911796488e487208f23d27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RPRHVOHy72_bRdBtML9cRw.gif"/></div></div></figure><p id="61cb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可以通过限制它的移动来解决这个问题，这更像是说你可以在水平轴上移动5个单位，在垂直轴上移动5个单位。这可以通过使用，</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div class="er es kn"><img src="../Images/e08690f6a8b0a41122a637c53b7a3249.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/1*h4aJznIKziUkk_Ot8cVfiw.png"/></div></figure><p id="7373" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这需要3个参数，<br/> →第一个是我们希望限制的值。<br/> →第二个是它能达到的最小值<br/> →第三个是它能达到的最大值</p><p id="10bc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们还知道，每一个游戏对象都有一个“<strong class="iw hj">变换</strong>组件，每一个“<strong class="iw hj">变换</strong>组件都有以下几种，</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/6ac41dd05cee1e56edf75703c848768c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*AwOhqiaC3XJhhq495zEM6Q.png"/></div></div></figure><p id="3a24" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们需要"<strong class="iw hj"> Position </strong>"组件，操纵这个组件会改变我们在游戏中的位置，所以下面的操作会限制玩家的动作。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kp"><img src="../Images/a3880df82d905c1356729a37cdb0089b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L7XZknJVi90w_LX6Wl4SEQ.png"/></div></div></figure><p id="426c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在让我们看看最终产品。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d438c899953ccad54b8369258aeea5e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uZh-7mozmCsPE_qXDiMg0g.gif"/></div></div></figure><p id="da52" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">希望你在阅读这篇文章的时候和我在实现它的时候一样开心。</p></div></div>    
</body>
</html>