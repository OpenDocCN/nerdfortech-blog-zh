<html>
<head>
<title>What is Func</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是 Func</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-func-a9ae1f04cb57?source=collection_archive---------1-----------------------#2022-12-09">https://medium.com/nerd-for-tech/what-is-func-a9ae1f04cb57?source=collection_archive---------1-----------------------#2022-12-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="c67f" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">C#概念|委托和事件</h2></div><blockquote class="ix iy iz"><p id="1b98" class="ja jb jc jd b je jf ij jg jh ji im jj jk jl jm jn jo jp jq jr js jt ju jv jw hb bi translated"><strong class="jd hj">目的:</strong> <br/>使用返回类型 Delegate Func 优化(第二次)我们的返回方法程序</p></blockquote><figure class="jy jz ka kb fd kc er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es jx"><img src="../Images/00ff093340bebfdbed880aaeb5ea085c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9sL0fVZ5KfoHfwmvQxYiEg.png"/></div></div></figure><p id="6e26" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">我们已经优化了这个程序，从它的起点(使用返回方法)到使用返回类型委托(什么是返回委托)。现在，我们可以更进一步，进一步优化这段代码。</p><p id="b793" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">以下是我们的代码目前的情况…</p><figure class="jy jz ka kb fd kc er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es km"><img src="../Images/4103304b68db5d6f1b829f3182ba1a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pr442mDgl-6d4xoD5zjMUw.png"/></div></div></figure><p id="8074" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">经过一些优化后，现在看起来像…</p><figure class="jy jz ka kb fd kc er es paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="er es kn"><img src="../Images/382271a2606226fe6814ec2d7bfaf11e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gxzK2cpn-0aYNJvJWBdhCQ.png"/></div></div></figure><p id="1b06" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">像过去一样，让我们一行一行地检查新代码，解码我们的程序，以了解这里发生了什么。</p><h2 id="18d4" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kj kz la lb kk lc ld le kl lf lg lh li bi translated"><strong class="ak">一号线</strong></h2><pre class="jy jz ka kb fd lj lk ll bn lm ln bi"><span id="8826" class="lo kp hi lk b be lp lq l lr ls">using System;</span></pre><p id="9e14" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">为了使用 Func 类型的委托，我们需要使用系统库。</p><h2 id="6c37" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kj kz la lb kk lc ld le kl lf lg lh li bi translated">第 10 行</h2><pre class="jy jz ka kb fd lj lk ll bn lm ln bi"><span id="a9c9" class="lo kp hi lk b be lp lq l lr ls">public Func&lt;string, int&gt; CharacterLength;</span></pre><p id="7084" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">就像动作类型委托在一行代码中创建事件类型委托一样。Func 类型委托在一行代码中创建返回类型委托。</p><p id="ddfb" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">这一行声明该委托是<strong class="jd hj"> public </strong>，它是一个 Func 类型的委托，带有关键字<strong class="jd hj"> Func </strong>，它需要一个<strong class="jd hj">字符串</strong>的输入值，并返回一个<strong class="jd hj">整数</strong>值。</p><p id="ff4c" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">如果您在创建 Func 委托时查看 Visual Studios 工具提示，您可以看到如何布局 t 形括号(&lt; &gt;)。正如您在下面看到的，我们可以包含多达 16 个输入值和 1 个返回值。</p><div class="jy jz ka kb fd ab cb"><figure class="lt kc lu lv lw lx ly paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><img src="../Images/8c43a0042a828e1684813e37c75f490b.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/format:webp/1*asdL6xrtMvdPu0UKbYrnHQ.png"/></div></figure><figure class="lt kc lz lv lw lx ly paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><img src="../Images/868e61ffa91cba5b98d611332d018ca2.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*6Wrn883_MKgDt9fG1bHBKA.png"/></div></figure><figure class="lt kc ma lv lw lx ly paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><img src="../Images/f7698a2634211d1b8387df475d524cc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*w1RZiCzv0xp2y7RBPJ-CtA.png"/></div></figure></div><h2 id="6e13" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kj kz la lb kk lc ld le kl lf lg lh li bi translated">第 18 行</h2><pre class="jy jz ka kb fd lj lk ll bn lm ln bi"><span id="7835" class="lo kp hi lk b be lp lq l lr ls">CharacterLength = GetCharacters;</span></pre><p id="6ed8" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">因为我们都创建了返回委托并在 Func 函数中创建了它的变量，所以我们只需要跟踪委托的一个名称。在我们技术上有两个之前，CharacterLength 是委托名，cl 是委托类型变量。</p><p id="4974" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">但是现在，我们只有一个，所以现在只要我们的方法签名模板匹配我们的返回方法，我们就可以用它原来的名字实例化我们的委托。</p><h2 id="2d09" class="ko kp hi bd kq kr ks kt ku kv kw kx ky kj kz la lb kk lc ld le kl lf lg lh li bi translated">第 20 行</h2><pre class="jy jz ka kb fd lj lk ll bn lm ln bi"><span id="caf7" class="lo kp hi lk b be lp lq l lr ls">int count = CharacterLength(_name);</span></pre><p id="43f7" class="pw-post-body-paragraph ja jb hi jd b je jf ij jg jh ji im jj kj jl jm jn kk jp jq jr kl jt ju jv jw hb bi translated">这行代码创建了一个名为<em class="jc"> count </em>的整数变量。然后，它实例化我们的 count 变量，并让它保存 GetCharacters 方法返回的返回值。然后，我们将我们的 _name 变量传递给我们的方法，以获得我们的整数值。</p><h1 id="81a3" class="mb kp hi bd kq mc md me ku mf mg mh ky io mi ip lb ir mj is le iu mk iv lh ml bi translated">试验</h1><p id="78be" class="pw-post-body-paragraph ja jb hi jd b je mm ij jg jh mn im jj kj mo jm jn kk mp jq jr kl mq ju jv jw hb bi translated">一旦我们运行这个程序，它会返回一个注释“Count is: 6”，其中“Jordan”有 6 个字符。</p><figure class="jy jz ka kb fd kc er es paragraph-image"><div class="er es mr"><img src="../Images/cccb2270d3988ffa9771ac74da8a6d70.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*KOj0J3CP6JK87PYllPhSHQ.png"/></div></figure></div></div>    
</body>
</html>