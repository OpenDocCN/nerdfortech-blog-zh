<html>
<head>
<title>Kubernetes Namespace</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes名称空间</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/kubernetes-namespace-1baea403336c?source=collection_archive---------16-----------------------#2021-05-19">https://medium.com/nerd-for-tech/kubernetes-namespace-1baea403336c?source=collection_archive---------16-----------------------#2021-05-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/54da2d8593add08fafd59b26d5f7f561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J6qB8_yDBg-uav5y.png"/></div></div></figure><h2 id="72f6" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">什么是名称空间？</h2><p id="4831" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">名称空间适用于许多用户分布在多个团队或项目中的环境。名称空间不能相互嵌套，每个Kubernetes资源只能位于一个名称空间中。名称空间是在多个用户之间划分集群资源的一种方式。Kubernetes使用一个默认的名称空间作为默认名称空间。</p><h2 id="edfc" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">创建名称空间:</h2><p id="b6cc" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">您可以使用命令提示符或YAML文件来创建命名空间。</p><p id="adcf" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj">使用终端</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="f85b" class="iq ir hi kt b fi kx ky l kz la">kubectl create namespace dev</span></pre><p id="99e8" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj">使用yml文件</strong></p><p id="6469" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">为此，创建一个名为namespace.yml的yml文件，并将以下命令放入其中。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="d6b1" class="iq ir hi kt b fi kx ky l kz la">apiVersion: v1<br/>kind: Namespace<br/>metadata:<br/>  name: dev</span></pre><p id="6056" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">并在终端上运行以下命令</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="fc41" class="iq ir hi kt b fi kx ky l kz la">kubectl apply -f namespace.yml</span></pre><h2 id="2055" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">如何在这个命名空间中部署？</h2><p id="f6d6" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki hb bi translated">创建名称空间后，您可以通过两种方式在其中创建部署，但是您必须提及您将在其中部署的名称空间。</p><p id="c5eb" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj">使用端子</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="25ec" class="iq ir hi kt b fi kx ky l kz la">kubectl run dev-nginx --image=nginx -n dev</span></pre><p id="9f27" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated"><strong class="jq hj">使用yml </strong></p><p id="6194" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">这类似于普通的部署，你所要做的就是在你的yml文件的元数据下添加以下内容并应用它。</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="df46" class="iq ir hi kt b fi kx ky l kz la">metadata:<br/>  namespace: dev</span></pre><p id="1c85" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">通常，您创建的所有部署都将位于默认的<strong class="jq hj">名称空间下。所以您可以使用典型的kubectl get命令直接访问它。</strong></p><p id="1497" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">但是在这种情况下，您必须使用一个额外的参数来查看您创建的pod</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="b395" class="iq ir hi kt b fi kx ky l kz la">kubectl get pods -n dev</span></pre><p id="41de" class="pw-post-body-paragraph jo jp hi jq b jr kj jt ju jv kk jx jy jb kl ka kb jf km kd ke jj kn kg kh ki hb bi translated">通过使用这个命令，您可以看到您在名称空间dev下部署的所有pod。</p><h2 id="6ecf" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">查看所有名称空间中的所有窗格</h2><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="5a40" class="iq ir hi kt b fi kx ky l kz la">kubectl get pods --all-namespaces</span></pre></div></div>    
</body>
</html>