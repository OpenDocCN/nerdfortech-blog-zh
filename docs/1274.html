<html>
<head>
<title>Test ngx-translate easily using ngx-translate-testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 ngx-translate-testing 轻松测试 ngx-translate</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/test-ngx-translate-easily-using-ngx-translate-testing-d0e951d82ebc?source=collection_archive---------2-----------------------#2021-03-12">https://medium.com/nerd-for-tech/test-ngx-translate-easily-using-ngx-translate-testing-d0e951d82ebc?source=collection_archive---------2-----------------------#2021-03-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="257a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用<strong class="ih hj"> ngx-translate-testing </strong>库在您的应用程序中测试 ngx-translate <strong class="ih hj">国际化</strong>支持。让我们开始吧。</p><p id="6c8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">安装:</em> </strong></p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="a0aa" class="jn jo hi jj b fi jp jq l jr js">npm install @ngx-translate-testing --save-dev</span></pre><p id="c14a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">用法:</em> </strong></p><p id="2b31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将<em class="jd"> TranslateTestingModule </em>添加到您想要测试的规范文件中，如下所示:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="a250" class="jn jo hi jj b fi jp jq l jr js"><strong class="jj hj">import </strong>{ TranslateTestingModule } <strong class="jj hj">from</strong> 'ngx-translate-testing';</span><span id="d7f5" class="jn jo hi jj b fi jt jq l jr js">describe('HomeComponent', () =&gt; {<br/>  beforeEach(() =&gt; {<br/>    TestBed.configureTestingModule({<br/>      imports: [ TranslateTestingModule.withTranslations({}) ]<br/>    });<br/>  }</span><span id="23c5" class="jn jo hi jj b fi jt jq l jr js">});</span></pre><p id="c6fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您在 html 文件中只使用了 TranslatePipe，并且不需要在组件中测试任何翻译，那么 TranslateTestingModule 的上述配置就足够了。</p><p id="0c29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您在 component.ts 文件中使用了 TranslateService，并且想要测试翻译，请按如下方式修改配置:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="f9a7" class="jn jo hi jj b fi jp jq l jr js">const translations = {<br/>    'login': {<br/>        'errorMessage': { <br/>          'Something went wrong': 'Something went wrong.'<br/>        } <br/>     }<br/>};</span><span id="015b" class="jn jo hi jj b fi jt jq l jr js">describe('TranslationService', () =&gt; {<br/>  beforeEach(() =&gt; {<br/>    TestBed.configureTestingModule({<br/>      imports: [ <br/>        TranslateTestingModule.withTranslations('en', translations)<br/>      ]<br/>    });<br/>  }</span><span id="a7b8" class="jn jo hi jj b fi jt jq l jr js">});</span></pre><p id="b203" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将您想要测试的所有翻译添加到 translations 数组中，并将其作为参数提供给 withTranslations 和 locale。</p><p id="d4c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以通过如下链接方式添加多个翻译:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="e4ba" class="jn jo hi jj b fi jp jq l jr js">TranslateTestingModule<br/>  .withTranslations('en', ENGLISH_TRANSLATION),<br/>  .withTranslations('he', HEBREW_TRANSLATION),<br/>  .withTranslations('de', '../../assets/i18n/de.json')</span></pre><p id="62af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您也可以指定默认语言，如下所示:</p><pre class="je jf jg jh fd ji jj jk jl aw jm bi"><span id="d46d" class="jn jo hi jj b fi jp jq l jr js">TranslateTestingModule.withDefaultLanguage('en')</span></pre><p id="7f25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">开心测试:)鼓掌看更多这样的帖子:)</p></div></div>    
</body>
</html>