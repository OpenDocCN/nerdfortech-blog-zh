<html>
<head>
<title>What is Monorepo? and how to Implement it in NestJS?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是 Monorepo？以及如何在 NestJS 中实现？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-monorepo-and-how-to-implement-it-in-nestjs-c88eac6fe1a?source=collection_archive---------0-----------------------#2022-10-31">https://medium.com/nerd-for-tech/what-is-monorepo-and-how-to-implement-it-in-nestjs-c88eac6fe1a?source=collection_archive---------0-----------------------#2022-10-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e8392f28423581d390ff0d9de84328a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cHe-sXdujtYsSDHh"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">潘卡杰·帕特尔在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><div class=""/><h1 id="66a9" class="iv iw hy bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">什么是 Monorepo？</h1><p id="e10a" class="pw-post-body-paragraph jt ju hy jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">单一回购与多重回购相反，后者有时被称为<strong class="jv hz">整体式仓库。</strong>我们应该意识到，它与单一服务和微服务架构完全不同。<br/>到<strong class="jv hz">总结</strong>，Monorepo 包含在同一个存储库中的多个项目(彼此相关或不相关)。在<strong class="jv hz">多重回购</strong>中，我们为每个服务使用一个单独的存储库。</p><p id="cdea" class="pw-post-body-paragraph jt ju hy jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">Monorepo 被许多大公司使用，包括<strong class="jv hz">谷歌</strong>、<strong class="jv hz">脸书</strong>、<strong class="jv hz">微软</strong>和<strong class="jv hz">推特</strong>。</p><p id="e277" class="pw-post-body-paragraph jt ju hy jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">首先，我对<strong class="jv hz">单一回购</strong>非常满意<strong class="jv hz">，但让我们诚实地面对使用单一回购的利弊，根据你的情况，你应该决定是否使用单一回购。</strong></p><h1 id="edec" class="iv iw hy bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">如何在微服务中使用？</strong></h1><p id="bf19" class="pw-post-body-paragraph jt ju hy jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">Monorepo 专为微服务而设计。通过 CI/CD 后，您可以为每个应用程序创建一个单独的 docker 容器，这也意味着向上扩展将很容易。</p><h1 id="ee46" class="iv iw hy bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">什么是福利？</h1><p id="0c1a" class="pw-post-body-paragraph jt ju hy jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi kw translated"><span class="l kx ky kz bm la lb lc ld le di">V</span>T27】可视性:根据我的经验，Monorepo 最有用的就是可视性。这意味着开发人员可以在一个地方找到所有代码。此外，他们可以轻松地将应用程序相互连接，并使用共享库，如 dto、类型和通信库。</p><p id="5e55" class="pw-post-body-paragraph jt ju hy jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><strong class="jv hz">依赖和避免重复:</strong>正如我所说，所有的代码都在同一个地方，所以我们可以轻松地将应用程序连接在一起。您的框架可以解决依赖问题，这取决于您使用的是什么。例如，如果您创建了一个库，但没有在代码中使用它，它就不会包含在您的项目中。</p><p id="5ee5" class="pw-post-body-paragraph jt ju hy jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">代码风格:我喜欢的另一件事是我们可以在所有应用程序中保持相同的代码风格。你在整个项目中有一个 Eslint，无论你什么时候改变它，都会影响到项目中的所有代码。</p><p id="c72d" class="pw-post-body-paragraph jt ju hy jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><strong class="jv hz">测试和 CI/CD: </strong>由于您已经有了所有的代码，如果您不想使用 mock，那么编写 E2E 测试会容易得多。对于每次推送，项目中的所有测试都将运行并检查是否一切正常。所以你会确信这些变化不会对整个项目产生任何有害的影响。</p><h1 id="7f42" class="iv iw hy bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">缺点是什么？</h1><p id="4f00" class="pw-post-body-paragraph jt ju hy jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated"><strong class="jv hz">太敏感:</strong>如果推一个不好的提交，会影响整个项目。这意味着没有人可以在他们的本地机器上运行任何应用程序。</p><p id="526b" class="pw-post-body-paragraph jt ju hy jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><strong class="jv hz">量大:</strong>既然拉代码，就收所有的 app 和代码。有时甚至可以达到几千兆字节。</p><p id="48fc" class="pw-post-body-paragraph jt ju hy jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><strong class="jv hz">更长的 CI/CD </strong>:比如你忘了在行尾加分号。如果你做了然后推代码，CI/CD 会从头开始构建所有的 app，太花时间了。</p><p id="5f00" class="pw-post-body-paragraph jt ju hy jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><strong class="jv hz">在 NestJS 中创建一个新的 Monorepo 项目</strong></p><figure class="lf lg lh li fd hk"><div class="bz dy l di"><div class="lj lk l"/></div></figure><p id="daab" class="pw-post-body-paragraph jt ju hy jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">如果你想获得新的更新，别忘了订阅我和我的 youtube 挑战。</p></div></div>    
</body>
</html>