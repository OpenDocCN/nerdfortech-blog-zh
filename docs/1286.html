<html>
<head>
<title>JavaScript — The Demonic Language</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript——恶魔语言</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/javascript-the-demonic-language-part-01-618c53e8b1a0?source=collection_archive---------14-----------------------#2021-03-12">https://medium.com/nerd-for-tech/javascript-the-demonic-language-part-01-618c53e8b1a0?source=collection_archive---------14-----------------------#2021-03-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="b738" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">让我们开始学习恶魔语言的旅程。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/62c795f07fdbcda9069893a42b8f70ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*yKB6dxW32ZET8CkXwXBj9w.jpeg"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">JavaScript——它是一种恶魔语言吗🤔(来源:<a class="ae jj" href="https://lh3.googleusercontent.com/proxy/5lIAq-ajjxXWD70wVpCwOJTGS8TdEYepqfAuyRtl9qKlIu9iwEH8ZwfThr7yO_9LEPdidNSjrOOt6IROxwbA0YARm7Mv0SYSX8vNcykdMvkcGrxOeLL3sc1Ufoin7oIa5Md5O-IPO3VOtg" rel="noopener ugc nofollow" target="_blank">谷歌图片</a>)</figcaption></figure><p id="f125" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">你已经听说过JavaScript以及我们为什么使用它。但令人惊讶的是，JavaScript(或JS)是一种“脚本”语言，由于其活跃的社区交互，它每天都在发展。新的<strong class="jm hj">模块和库</strong>已经形成，可以在JS内部使用，使编码更容易、更快。所以有时候，初学者学习JS可能会变得有点棘手，很难立即掌握，因为这些定期更新的新技术和旧技术的过时。我们在2000年代早期看到的JS和现在的版本有很大的不同。现在大多数时候，开发人员使用各种各样的JS框架，而不是直接使用普通的JS进行web开发，因为框架简化了他们的工作。但是要进入任何JS框架，我们必须了解普通JS中从基础到深层的概念，因为这些概念也应用在那些框架中。所以，这篇文章我会给你一个关于JavaScript的基本介绍，一些核心概念，如单线程特性和异步行为也会解释。在进入任何JS框架之前，这些术语都非常重要。其他一些概念如<a class="ae jj" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures" rel="noopener ugc nofollow" target="_blank"> <strong class="jm hj"> <em class="kg">闭包</em> </strong> </a> <strong class="jm hj"> <em class="kg">，</em> </strong> <a class="ae jj" href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" rel="noopener ugc nofollow" target="_blank"> <strong class="jm hj"> <em class="kg">回调</em> </strong> </a> <strong class="jm hj"> <em class="kg">，</em> </strong> <a class="ae jj" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises" rel="noopener ugc nofollow" target="_blank"> <strong class="jm hj"> <em class="kg">承诺</em> </strong> <em class="kg"> </em> </a>将在以后的文章中详细解释这些概念。首先，让我们看一点JavaScript，以及它是如何诞生的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es kh"><img src="../Images/10806388315bf1dc0e90c92c2d45fe0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XX83aKiBh7CG1ispJrsvQg.jpeg"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">如果你知道这些概念，就不用哭了。😏(来源:<a class="ae jj" href="https://starecat.com/content/wp-content/uploads/programming-pro-tip-code-javascript-underwater-so-nobody-could-see-you-crying.jpg" rel="noopener ugc nofollow" target="_blank">谷歌图片</a>)</figcaption></figure></div><div class="ab cl km kn gp ko" role="separator"><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr ks"/><span class="kp bw bk kq kr"/></div><div class="hb hc hd he hf"><h2 id="a3ef" class="kt ku hi bd kv kw kx ky kz la lb lc ld jt le lf lg jx lh li lj kb lk ll lm ln bi translated">JavaScript是什么？</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lo"><img src="../Images/c85b6b43cb805f61112fcc8008696f73.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*ADhZnYs08R7EQpT9iu0lhg.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">事情就是这样…...(来源:<a class="ae jj" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRlrYECMML4yzAEp1f02dDSIrQJeHQ9RAL6cQ&amp;usqp=CAU" rel="noopener ugc nofollow" target="_blank">谷歌图片</a>)</figcaption></figure><p id="20d6" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated"><em class="kg">“JavaScript，我们也称之为JS，是一种</em> <strong class="jm hj"> <em class="kg">轻量级、解释型、松散类型的</em> </strong> <em class="kg">(您不必指定变量中将存储什么类型的信息)</em> <strong class="jm hj"> <em class="kg">脚本语言</em> </strong> <em class="kg">，用于基于浏览器的web应用程序，开发基于物联网的应用程序，构建web服务器，以及开发服务器应用程序和游戏开发。”</em></p><p id="5ae7" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">但是现在我们可以在浏览器之外使用JavaScript，使用一个叫做<strong class="jm hj"> <em class="kg"> NodeJS的JavaScript运行环境。</em> </strong> JavaScript是一种基于原型的、多范例的、<strong class="jm hj">单线程的</strong>动态语言，也具有<strong class="jm hj">异步行为</strong>。它还支持面向对象和函数式编程。JavaScript源于ECMAScript，ECMAScript定义了JavaScript语言的所有标准。ECMAScript是一种通用编程语言，它描述了JavaScript为确保不同浏览器之间的网页互操作性所需的所有标准。ECMAScript标准每年发布一次，目前ECMAScript的最新版本是ECMAScript 2020–第11版(ES11)。</p><p id="f8d5" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">JavaScript是一种<strong class="jm hj">区分大小写的语言(</strong>意味着名为‘Example’的变量名与‘Example’不同)。JavaScript使用<strong class="jm hj"> DOM(文档对象模型)</strong>，它是由各自的web浏览器指定的，包含JavaScript可以使用和交互的HTML元素。JS使用这些DOM来添加、更改和删除HTML元素，更改HTML元素的属性，更改CSS，以及对页面事件做出反应。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lp"><img src="../Images/d1524bc54b5ffdaf084854b8205b2f1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oh7HxJxxKtLHqDLSJz9-sg.jpeg"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">2009年的普通(纯)JavaScript，现在我们有了JavaScript框架。</figcaption></figure><h2 id="6c2c" class="kt ku hi bd kv kw kx ky kz la lb lc ld jt le lf lg jx lh li lj kb lk ll lm ln bi translated">JavaScript的历史</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lq"><img src="../Images/e28b0976b69e713fe30d7a10c9f00373.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4PyPxA4eJHiecl1whz_EQA.jpeg"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">先研究一下😐</figcaption></figure><p id="59dd" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">早在JS诞生之前，开发人员在1995年9月左右使用Netscape开发人员推出的LiveScript使静态网站更具交互性，并提供一些动态行为。后来改名为JavaScript。JavaScript这个名字来源于Java，它是一种流行的编程语言。网景公司用它作为营销策略，使JS流行起来。你可以在这里阅读更多关于JS <a class="ae jj" href="https://en.wikipedia.org/wiki/JavaScript#The_rise_of_JScript" rel="noopener ugc nofollow" target="_blank">的历史。</a></p><h2 id="0ac7" class="kt ku hi bd kv kw kx ky kz la lb lc ld jt le lf lg jx lh li lj kb lk ll lm ln bi translated">ES5 vs ES6</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es lr"><img src="../Images/b3bb9fda396cbe6f88341f7daffd1782.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rT5IS-aZL7QiyIO5Lb4ZHw.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">ECMAScript演变</figcaption></figure><p id="b924" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">ES是一种由ECMA国际组织定义的脚本语言。ES代表ECMAScript，因此ES5(ECMAScript第五版)代表ECMAScript 5(也称为ECMAScript 2009)，ES6(ECMAScript第六版)代表ECMAScript 2015。ES5发布于2009年，ES6发布于2015年。创建ES是为了维护JavaScript的标准，这有助于它进一步发展，而不会让开发人员对概念感到困惑。除了JS，ES还有许多其他的实现。与ES5相比，2016年发布的ES6在JS方面有一些重大改进，允许开发人员编写复杂的程序。下表描述了ES5和ES6之间的一些主要差异。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ls"><img src="../Images/d80d5faae7d0c0afa402e4df5807d27c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*J4REBNEy_BmJq5hc298ojw.png"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">ES5 vs ES6</figcaption></figure><h2 id="b9c4" class="kt ku hi bd kv kw kx ky kz la lb lc ld jt le lf lg jx lh li lj kb lk ll lm ln bi translated">为什么JS被认为是单线程？</h2><p id="5dcc" class="pw-post-body-paragraph jk jl hi jm b jn lt ij jp jq lu im js jt lv jv jw jx lw jz ka kb lx kd ke kf hb bi translated">在上一节中，您可能会遇到一个叫做“单线程”的词。那么,“单线程”到底是什么意思。通常，像Java这样的高级语言使用多线程方法，通过赋予代码一些异步(一个代码不会等到前一个代码完成它的执行)性质，使用多个线程来运行程序。像JavaScript这样的编程语言是单线程的，这意味着JS只有一个线程(一个调用堆栈和一个内存堆)，因此它必须具有同步行为(一个线程应该等待上一个线程完成执行)。但是我们知道JS有一个异步行为。像JS这样的单线程语言怎么可能有异步行为？感谢像V8 (Chrome)和SpiderMonkey (Firefox)这样的JavaScript引擎，我们可以实现异步行为，即使它是单线程的。让我们看看它是如何发生的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ly"><img src="../Images/9c7b75d5e01ca3d72d1bddd1c6108984.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vE5p5jxxS8XaSxRnwC5CEA.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">如果JS是单线程的，它是如何表现异步行为(多线程行为)的？🤔</figcaption></figure><h2 id="e741" class="kt ku hi bd kv kw kx ky kz la lb lc ld jt le lf lg jx lh li lj kb lk ll lm ln bi translated">JavaScript异步行为</h2><p id="924e" class="pw-post-body-paragraph jk jl hi jm b jn lt ij jp jq lu im js jt lv jv jw jx lw jz ka kb lx kd ke kf hb bi translated">正如我们之前所知，尽管JS是单线程的，但它表现出异步行为。是这样的。</p><p id="7cd0" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">让我们看一个简单的代码段示例。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="9af9" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">上面的函数是“setTimeout ”,这是浏览器提供的一个内置函数。该函数接受两个参数，第一个参数是包含要执行的代码的函数，第二个参数是以毫秒为单位的时间。因此，在上面的示例中，setTimeout函数中的“console.log”语句在1000毫秒(1秒)后执行。因此，在setTimeout函数完成执行之前，您会注意到显示为“Hello World 2”的第二个“console.log”语句被执行。因此，输出如下所示。</p><pre class="iy iz ja jb fd mb mc md me aw mf bi"><span id="de30" class="kt ku hi mc b fi mg mh l mi mj">Hello World 2</span><span id="89a0" class="kt ku hi mc b fi mk mh l mi mj">Hello World 1 &lt;- this display after 1 second</span></pre><p id="1878" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">因此，这描述了JavaScript中的异步行为，这仅仅意味着console.log("Hello World 2 ")不会等到<em class="kg"> setTimeout </em>方法完成其执行。因此，程序首先显示第二条console.log语句，然后在1秒钟后(因为1000毫秒)执行第一条console.log语句。所以，由于JS是单线程的，根据理论，第二个console.log语句应该等到<em class="kg"> setTimeout </em>方法作为同步行为完成它的执行。但这不会发生。这是怎么发生的。这些都是由JavaScript引擎本身管理的。让我们深入JavaScript引擎背后的科学。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ml"><img src="../Images/9a7d41cc3f5c4857af805b447c275010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8i4ubLNwOoB2sLyjq9CQOA.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">代码片段(左)和web浏览器内部(右)</figcaption></figure><p id="26b2" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">因此，在上图中，你可以看到JavaScript引擎内部的三个模块或部分，分别命名为<strong class="jm hj"> <em class="kg">调用栈、Web API和回调队列。</em> </strong>这是JS引擎中主要的三个部分(可能是Chrome的V8引擎或者Forefox的SpiderMonkey引擎等等。).因此，<strong class="jm hj">调用堆栈</strong>所做的是，它是一个堆栈(使用<em class="kg">后进先出</em>方法),其中<strong class="jm hj">临时保存数据，直到它被执行</strong>(在这种情况下，直到它在控制台中被打印)。<strong class="jm hj"> Web API </strong>所做的是，它<strong class="jm hj">持有所有像setTimeout这样的内置方法，并在Web API内部执行它们，而不是将它们发送到调用栈。</strong><strong class="jm hj">回调队列</strong> <strong class="jm hj">保存从Web API返回的数据，然后将它们推送到调用栈</strong>以在控制台中打印出来。下面的视频展示了这是如何发生的。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="mm ma l"/></div></figure><p id="6808" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">为简单起见，我将<em class="kg"> setTimeout </em>函数命名为#1，将第二个<em class="kg"> console.log </em>语句命名为#2 ( <strong class="jm hj"> #表示“数字”</strong>)。首先，setTimeout开始执行。因为setTimeout是Web API中的一个方法，所以它的执行发生在Web API内部。不在调用堆栈中。因此，当它在Web API中执行时，第二个<em class="kg"> console.log </em>语句#2被推到调用堆栈中执行。在它被执行并在控制台中打印为“Hello World 2”之后，它在调用栈中被删除。<strong class="jm hj">(一旦调用堆栈中的代码段执行完毕，它将自动从调用堆栈中删除)</strong>。与此同时，setTimeout方法完成其执行，并在回调队列中等待。然后，它被推入调用堆栈，并显示在控制台中。这就是为什么我们首先看到Hello World 2，然后在1秒钟后(方法中规定的setTimeout执行时间为1000毫秒)我们看到“Hello World 1”。</p><p id="b761" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">这就是JavaScript如何获得异步行为的，尽管它是一种单线程语言。</p><p id="3df8" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">所以现在你可能对JavaScript有了一个简单的了解。所以，在以后的文章中，我会详细阐述更多的概念，比如<strong class="jm hj"> <em class="kg">回调、承诺、异步等待、闭包</em> </strong>等等。所以，敬请期待下一部，注意安全。</p><p id="fe9e" class="pw-post-body-paragraph jk jl hi jm b jn jo ij jp jq jr im js jt ju jv jw jx jy jz ka kb kc kd ke kf hb bi translated">和平。😉✌</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mn"><img src="../Images/8e633895c368427a857229287a713fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*yiD1ohHtFUjpn3M6QQjAPg.jpeg"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">看看JavaScript的发展有多快🙄</figcaption></figure></div></div>    
</body>
</html>