<html>
<head>
<title>What is this? JavaScripts this Keyword</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这是什么？JavaScripts这个关键字</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-this-javascripts-this-keyword-23cc6fab741a?source=collection_archive---------20-----------------------#2021-06-07">https://medium.com/nerd-for-tech/what-is-this-javascripts-this-keyword-23cc6fab741a?source=collection_archive---------20-----------------------#2021-06-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ae5e9d94cffdf159967b7a8f1545f6f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kewz0xLvwocuc8INzphzmA.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@emilymorter" rel="noopener ugc nofollow" target="_blank">艾米丽·莫特</a>通过<a class="ae iu" href="https://unsplash.com/photos/8xAA0f9yQnE" rel="noopener ugc nofollow" target="_blank">Unsplash.com</a>拍摄</figcaption></figure><p id="ee1f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> <em class="jt">关于JavaScript介绍性面试主题的迷你系列的第1部分。</em> </strong></p><p id="fe4c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请原谅这个双关语，自从上周晚些时候我完成了一次模拟技术面试后，我就等着用它了。这篇博客将是我探索一些关于JavaScript的常见面试问题的迷你系列的第一篇，从JavaScript关键字<code class="du ju jv jw jx b">this</code>开始。</p><p id="dd41" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我的面试官问的第一个问题是描述一下与JavaScript相关的<code class="du ju jv jw jx b">this</code>。一个简单、天真的问题，让我无言以对。我知道如何使用<code class="du ju jv jw jx b">this</code>，但当被要求描述它时，我甚至不知道从何说起。采访结束后，我立即跳上谷歌，开始阅读我在<code class="du ju jv jw jx b">this</code>上能找到的任何东西，以及我将在未来几周内写的一些其他话题。</p></div><div class="ab cl jy jz gp ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hb hc hd he hf"><p id="4c09" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">简单来说，JavaScripts的<code class="du ju jv jw jx b">this</code>关键字指的是它所属的对象。一个简单问题的简单答案是对的，特别是考虑到JavaScript中几乎所有的东西都是对象。没那么快。如果事情这么简单，我就不会写这篇文章了。对于JavaScript来说，这个主题比大多数语言更令人困惑的是使用<code class="du ju jv jw jx b">this</code>的上下文很重要！</p><figure class="kg kh ki kj fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/4e755efb5ee5a530df049b3bee320783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kltK4IcScLaWRkzKSv4zfw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">经由imgflip.com</figcaption></figure><p id="531b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最容易理解的上下文是全局上下文(在函数或对象之外)。在这里调用时，<code class="du ju jv jw jx b">this</code>指的是全局对象，它在浏览器中是窗口对象，无论您是否处于严格模式。</p><p id="bf8f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在函数内部，<code class="du ju jv jw jx b">this</code>的值取决于它是如何被调用的。在严格模式下，如果值在执行前没有被绑定/应用/调用，那么<code class="du ju jv jw jx b">this</code>将是未定义的。在以后的文章中会有更多的介绍。然而，在<em class="jt">“草率模式”</em>中，这仍然是指全局对象。</p><p id="9171" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt"> —更多信息请参见MDN页面上的</em> <a class="ae iu" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode" rel="noopener ugc nofollow" target="_blank"> <em class="jt">严格模式</em> </a> <em class="jt">。</em></p><p id="75bc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">JavaScript类实际上是用来模拟面向对象的函数，因此类中的<code class="du ju jv jw jx b">this</code>的行为与函数中的一样。然而，类构造函数<code class="du ju jv jw jx b">this</code>内部只是一个对象，就像JavaScript中的所有东西一样。</p><p id="a3ab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们快速看几个例子。</p><pre class="kg kh ki kj fd kk jx kl km aw kn bi"><span id="a2b3" class="ko kp hi jx b fi kq kr l ks kt">//  Global Context<br/>1.  let x = this</span><span id="26e1" class="ko kp hi jx b fi ku kr l ks kt">2.  console.log(x === window) // true</span><span id="d865" class="ko kp hi jx b fi ku kr l ks kt">//  Function Context - "Sloppy Mode"<br/>3.  function thisExample () { console.log(this === window) }</span><span id="ae9f" class="ko kp hi jx b fi ku kr l ks kt">4.  thisExample() // true</span><span id="5c60" class="ko kp hi jx b fi ku kr l ks kt">//  Function Context - Strict Mode<br/>5.  function thisExample () {<br/>6.     "use strict"<br/>7.     console.log(this === window) }</span><span id="6297" class="ko kp hi jx b fi ku kr l ks kt">8.  thisExample() // false</span><span id="1cf7" class="ko kp hi jx b fi ku kr l ks kt">9.  /* this is undefined in strict mode because we didn't bind this 10. to a value before executing the thisExample */</span></pre><p id="9c72" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">旁注:如果你想在函数上下文中用<code class="du ju jv jw jx b">this</code>访问全局变量，使用var来赋值。如果你不这么做，会发生什么。</p><pre class="kg kh ki kj fd kk jx kl km aw kn bi"><span id="2486" class="ko kp hi jx b fi kq kr l ks kt">1.  var a = "THIS"<br/>2.  function thisEx () { return this.a } </span><span id="205d" class="ko kp hi jx b fi ku kr l ks kt">3.  thisEx() ==&gt; "THIS"</span><span id="dfd6" class="ko kp hi jx b fi ku kr l ks kt">4.  let y = "NOT THIS"<br/>5.  function nextEx () { return this.y }</span><span id="45b4" class="ko kp hi jx b fi ku kr l ks kt">6.  nextEx() ==&gt; undefined</span></pre><p id="491e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这是因为let是块范围的局部变量，而var是全局范围的变量。第5行的函数nextEx不能访问<code class="du ju jv jw jx b">y</code>,因为它不在函数范围内。</p><p id="29ba" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我想展示的最后一个例子是，当它被用在一个对象内部定义的方法中时。在这种情况下<code class="du ju jv jw jx b">this</code>指的是父对象。有趣的事实是，在对象内部定义和调用的函数实际上叫做方法！</p><pre class="kg kh ki kj fd kk jx kl km aw kn bi"><span id="5b56" class="ko kp hi jx b fi kq kr l ks kt">//  Object Method<br/>1.  let obj = {<br/>2.     a: 10,<br/>3.     func: function () { return this.a }<br/>4.  }</span><span id="53ee" class="ko kp hi jx b fi ku kr l ks kt">5.  console.log(obj.func()) ==&gt; 10</span></pre><p id="fd70" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">到目前为止，一切都是JavaScripts关键字<code class="du ju jv jw jx b">this</code>的“是什么”。我不认为你需要记住所有这些，相反，只要知道<code class="du ju jv jw jx b">this</code>指的是一个对象，它的值根据它被调用的范围/场景而变化。</p><p id="63c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了完整地回答这个问题，你可能需要提到bind()、call()和apply()，因为这些是最常用的。我的下一篇博文将深入这三个函数，以及它们如何让我们使用<code class="du ju jv jw jx b">this</code>关键字。</p><p id="7002" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">面试时如何形容<code class="du ju jv jw jx b">this</code>？请在下面的评论中告诉我！</p><p id="a9b9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" rel="noopener" href="/nerd-for-tech/javascript-this-and-arrow-functions-215a90973a05"> <strong class="ix hj"> <em class="jt">第二部分:JavaScript:本和箭头功能</em> </strong> </a></p><p id="a44e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://davidpolcari.medium.com/using-javascripts-bind-call-and-apply-868c4347cea9" rel="noopener"> <strong class="ix hj"> <em class="jt">第三部分:使用JavaScripts bind()、call()和apply() </em> </strong> </a></p></div></div>    
</body>
</html>