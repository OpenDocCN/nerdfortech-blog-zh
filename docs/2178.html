<html>
<head>
<title>ABC of A/B Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">A/B测试基础知识</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/abc-of-a-b-testing-abde706d2efb?source=collection_archive---------7-----------------------#2021-04-25">https://medium.com/nerd-for-tech/abc-of-a-b-testing-abde706d2efb?source=collection_archive---------7-----------------------#2021-04-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c814" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">平台上的“订单”按钮应该是绿色还是蓝色？给定时事通讯的最佳标题是什么？哪个版本的广告点击率最高？仅仅通过做和观察会发生什么来判断变化的影响通常是令人惊讶的困难。A/B测试等实验为使用<em class="jd">因果</em> <em class="jd">推理</em>进行决策提供了一种干净简单的方法。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/d9ce305e87d637bc33aabe73c2fb61a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*emF_7bKdQOOsIObbKp5CZg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">以点击率为关键指标的A/B测试(来源:<a class="ae ju" href="https://commons.wikimedia.org/wiki/File:A-B_testing_simple_example.png" rel="noopener ugc nofollow" target="_blank">维基百科</a>)</figcaption></figure><p id="58bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> A/B测试</strong>(也称为<strong class="ih hj">分割测试</strong>)是一个向不同的内容访问者同时展示同一营销资产的两个变体的过程，例如网页或电子邮件。根据<a class="ae ju" href="https://www.crazyegg.com/blog/increase-your-conversion-rate/" rel="noopener ugc nofollow" target="_blank">转换率</a>或其他指标，您可以决定哪种变体表现最佳。</p><p id="2665" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">许多科技公司，如亚马逊、Booking.com、脸书、微软和谷歌，每年对数百万客户进行超过10，000次A/B测试。2007年，通过在线控制实验，亚马逊得出了网站性能和收入之间的直接关系，在降低网站延迟100毫秒后，增加了1%的收入。</p><h1 id="eed4" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">入门指南</h1><h2 id="cd40" class="kt jw hi bd jx ku kv kw kb kx ky kz kf iq la lb kj iu lc ld kn iy le lf kr lg bi translated"><strong class="ak">检验假设</strong></h2><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lh"><img src="../Images/97becb7955ae5ef5b65cb1282490d587.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4F1B0zOoY-liSIRiXZjMDg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">来源:<em class="li"> </em> <a class="ae ju" href="http://pages.optimizely.com/eBook-Data-DNA.html" rel="noopener ugc nofollow" target="_blank"> <em class="li">构建你公司的数据DNA </em> </a></figcaption></figure><p id="f939" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设一家游戏公司发现，用用户在简讯中的相对排名(游戏化)替换用户在平台上的脸书朋友的实际分数，将为休眠客户带来更好的参与度，从而导致他们的重新激活。在这种情况下，<strong class="ih hj">默认动作</strong>是带分数的简讯。<strong class="ih hj">变量</strong>是带有等级的通迅。</p><p id="990b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一步是用<strong class="ih hj">量化</strong>到<strong class="ih hj">更好的</strong>到<strong class="ih hj">客户参与度</strong>到<strong class="ih hj">T11】来衡量实验的成功。指标可以是再次开始玩游戏的客户数量。这个矩阵的缺点是一些用户在漏斗的后期卡住或退出，而简讯对此没有影响。更适合本实验的矩阵是<em class="jd">点击率(CTR)或点击率</em>。这衡量的是收到简讯并回到平台的客户占总客户的百分比。</strong></p><p id="d7e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦默认动作、可变动作和矩阵被定义，实验最关键的一步就是设置<a class="ae ju" href="http://the%20null%20hypothesis%20and%20the%20alternate%20hypothesis/" rel="noopener ugc nofollow" target="_blank">零假设和</a>备择假设。假设默认动作的转换概率为<code class="du lj lk ll lm b">Pa</code>，变量的转换概率为<code class="du lj lk ll lm b">Pb</code>。那么我们两个假设是:</p><p id="8876" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">无效假设(现状)，H0: </em> <strong class="ih hj">在重新激活<em class="jd">简讯</em>中添加好友等级将导致转化概率(CTR) </strong>不变，即<code class="du lj lk ll lm b">Pa-Pb</code> = 0</p><p id="0d45" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">替代假设()，H1: </em> <strong class="ih hj">在重新激活<em class="jd">简讯中添加好友等级会导致</em>转化概率(CTR)的变化</strong>即<code class="du lj lk ll lm b">Pa-Pb </code> ≠ 0</p><h1 id="15a6" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">设置实验</h1><p id="5d0b" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">市面上有很多A/B测试工具，如<a class="ae ju" href="https://marketingplatform.google.com/about/optimize/" rel="noopener ugc nofollow" target="_blank"> Google、</a>optimize、<a class="ae ju" href="https://www.hubspot.com/products/marketing?hubs_post=blog.hubspot.com/&amp;hubs_post-cta=hsg-nav__box-link&amp;_conv_v=vi%3A1*sc%3A1*cs%3A1614535885*fs%3A1614535885*pv%3A3*seg%3A%7B10031564.1%7D*exp%3A%7B%7D&amp;_conv_s=si%3A1*sh%3A1614535884896-0.3413533361405219*pv%3A3" rel="noopener ugc nofollow" target="_blank"> Hubspot </a>、<a class="ae ju" href="https://www.optimizely.com/" rel="noopener ugc nofollow" target="_blank">optimize</a>、<a class="ae ju" href="https://www.zoho.com/pagesense/" rel="noopener ugc nofollow" target="_blank"> Zoho </a>等。一些像Google这样的公司可以免费使用，但是缺乏高级功能和集成。此外，一些公司构建了根据自身需求定制的内部工具，例如:</p><ul class=""><li id="e7e3" class="ls lt hi ih b ii ij im in iq lu iu lv iy lw jc lx ly lz ma bi translated">Airbnb: <a class="ae ju" rel="noopener" href="/airbnb-engineering/https-medium-com-jonathan-parks-scaling-erf-23fd17c91166">实验报告框架</a></li><li id="5c2b" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">亚马逊:<a class="ae ju" href="https://developer.amazon.com/blogs/appstore/post/Tx3J8G0UZN8S13F/a-b-testing-now-supports-segmentation" rel="noopener ugc nofollow" target="_blank">网络实验室</a></li><li id="8048" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">微软:<a class="ae ju" href="https://www.microsoft.com/en-us/research/group/experimentation-platform-exp/#!videos" rel="noopener ugc nofollow" target="_blank"> ExP </a></li><li id="8633" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">网飞:<a class="ae ju" href="https://netflixtechblog.com/reimagining-experimentation-analysis-at-netflix-71356393af21" rel="noopener ugc nofollow" target="_blank">闪亮</a></li><li id="f9ec" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">Spotify: <a class="ae ju" href="https://engineering.atspotify.com/2020/10/29/spotifys-new-experimentation-platform-part-1/" rel="noopener ugc nofollow" target="_blank"> ABBA </a>(聪明的名字)</li><li id="33f4" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">火绒:<a class="ae ju" rel="noopener" href="/tinder-engineering/phoenix-tinders-testing-platform-part-iii-520728b9537">凤凰</a></li><li id="f7c9" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">优步:<a class="ae ju" href="https://eng.uber.com/xp/" rel="noopener ugc nofollow" target="_blank">莫菲斯</a></li></ul><p id="9550" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">拆分组</strong></p><p id="69bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">基于群组的</em>:根据人口统计、地理、客户类型随机划分客户群。如果这两个群体不包括相似的客户，它可以由于不相关用户的比较而稀释效果大小。</p><p id="09c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">时间范围</em>:避免批量发送电子邮件，即以固定的时间间隔在一天中发送。但是，如果有必要，请确保用户组在这两个组的时间段内按比例划分。这将确保结果不会因基于时间的因素而失真。</p><p id="b9e9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">持续时间/样本量</strong></p><p id="b764" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">运行实验足够长的时间，以获得足够大的样本量，从而获得两个变量之间的统计显著差异。根据公司、受众类型和流量的不同，达到期望的统计显著性所需的样本可能需要几个小时到几周的时间。如果你不想手动计算给定显著性的样本大小，有很多免费的在线服务可以为你计算大小，例如<a class="ae ju" href="https://docs.adobe.com/content/target-microsite/testcalculator.html" rel="noopener ugc nofollow" target="_blank"> Adobe </a>、<a class="ae ju" href="https://www.optimizely.com/sample-size-calculator/" rel="noopener ugc nofollow" target="_blank"> Optimizely </a>和<a class="ae ju" href="https://www.surveymonkey.com/mp/sample-size-calculator/" rel="noopener ugc nofollow" target="_blank"> Surveymonkey </a>。有限总体(N)的样本量公式为:误差范围(e)、z得分(z)和标准差(e)</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mg"><img src="../Images/424f3675dfc5040365bf71a0f515bf9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MsLZP9g3UbM2qH2YkWmYug.png"/></div></div></figure><p id="5a84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，<strong class="ih hj">少量降低显著性可以显著减少样本量。</strong> <a class="ae ju" href="https://www.superoffice.com/blog/email-open-rates/" rel="noopener ugc nofollow" target="_blank"> 23%的邮件打开发生在投递后的第一个小时</a>，24小时后，邮件被打开的几率下降到1%以下。</p><h1 id="4aa2" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated"><strong class="ak">测量结果</strong></h1><p id="8ceb" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">给定的实验是针对2000个客户运行的，这些客户几乎被平均分为969个客户的默认客户(A)和1031个客户的变体客户(B)。一旦测试停止，结果总结如下。这里，<code class="du lj lk ll lm b">converted</code>是点击链接的唯一客户总数，<code class="du lj lk ll lm b">rate</code>是<code class="du lj lk ll lm b">total</code>与<code class="du lj lk ll lm b">converted.</code>的比率</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mh"><img src="../Images/6372705fc77accda40cd51dd29828d68.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*mSfiGv1-wE90nfP1tjhUdA.png"/></div><figcaption class="jq jr et er es js jt bd b be z dx translated">A组收到的是默认的时事通讯，B组收到的是不同的</figcaption></figure><p id="5ab9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以看出，变体B的转化率(9.31%)远高于变体A的转化率(6.19%)或高出3.32%。粗略看来，<strong class="ih hj">这是两个假设之间非常好的变化，但是我们能确定如果我们选择一些随机样本，它仍然成立吗？</strong>如果我们拒绝了零假设，接受了改变，但实际上并没有给转换带来任何积极的改变(I型错误)怎么办？相反，如果我们不接受改变，即使它提高了转化率(第二类错误)。为了确定这些结果不仅仅是偶然的，而且对更多的人群有效，我们将看看分布情况。</p><div class="jf jg jh ji fd ab cb"><figure class="mi jj mj mk ml mm mn paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><img src="../Images/f00f4a5261ddde00c60314ea57cc3b03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*E6C64_zBpbLu6uCEQ-MQ3A.jpeg"/></div></figure><figure class="mi jj mo mk ml mm mn paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><img src="../Images/c427abe9d37e32a0d9bde55b6b0f0fe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*EZHbaTOVEE2nenwqlpHypw.png"/></div><figcaption class="jq jr et er es js jt bd b be z dx mp di mq mr translated">第一类和第二类错误(来源:<a class="ae ju" href="https://www.statisticssolutions.com/to-err-is-human-what-are-type-i-and-ii-errors/" rel="noopener ugc nofollow" target="_blank">https://www . statistics solutions . com/to-err-is-human-what-is-type-I-and-II-errors/</a>)</figcaption></figure></div><h2 id="c941" class="kt jw hi bd jx ku kv kw kb kx ky kz kf iq la lb kj iu lc ld kn iy le lf kr lg bi translated">分配</h2><p id="659f" class="pw-post-body-paragraph if ig hi ih b ii ln ik il im lo io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">从<a class="ae ju" href="https://www.investopedia.com/terms/b/binomialdistribution.asp" rel="noopener ugc nofollow" target="_blank">二项分布</a>可以看出，B组(排名)的随机样本比A组(得分)的大部分样本有更高的转化概率。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ms"><img src="../Images/55af7e82e5456eaf64dcca7f91ac44e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PZw62Fi-Rfp4zu_UCR03mg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">变异A和B的预期分布(转换与概率)</figcaption></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es mt"><img src="../Images/0ee06889fdb1c1db6175052a6f4e16d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*Kfvc42PldWeXItvQlTNTzg.png"/></div><figcaption class="jq jr et er es js jt bd b be z dx translated">99%置信水平下<a class="ae ju" href="http://www.mit.edu/~6.s085/notes/lecture2.pdf" rel="noopener ugc nofollow" target="_blank">零假设的汇总统计数据</a></figcaption></figure><p id="a80d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从分布中，我们看到<strong class="ih hj"> p </strong> - <strong class="ih hj">值</strong>为<strong class="ih hj"> </strong> 0.0044，这意味着有0.44%的机会犯下<strong class="ih hj">I型错误，</strong>可忽略不计(最大可接受p值为0.05)。绿色阴影区域代表<strong class="ih hj">观察功率(</strong> <a class="ae ju" href="https://en.wikipedia.org/wiki/Power_(statistics)" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">统计功率</strong> </a> <strong class="ih hj"> ) </strong>。上图中的灰色虚线代表零假设的置信区间(上图为99%)。通过找出替代假设分布下和无效假设的置信区间之外的面积来计算观察到的功效。观察到的功率<strong class="ih hj"> 92.7远高于期望的80%，因此存在统计上不显著的II型误差。</strong></p><blockquote class="mu mv mw"><p id="cb43" class="if ig jd ih b ii ij ik il im in io ip mx ir is it my iv iw ix mz iz ja jb jc hb bi translated">由于第一类错误和第二类错误在统计上是不重要的，并且在整体转换中有显著的提升，我们<strong class="ih hj">拒绝零假设，并有99%的信心变量比默认变量表现更好，并实施基于排名的简讯。</strong></p></blockquote><h1 id="9c23" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">避免常见错误</h1><ul class=""><li id="83f5" class="ls lt hi ih b ii ln im lo iq na iu nb iy nc jc lx ly lz ma bi translated">在A/B测试中，<strong class="ih hj">只关注每个测试的一个变化</strong>，以便更好地确定结果的属性。就电子邮件而言，变化包括文本(开头、结尾)、主题和布局等。要测试多个变化，使用更复杂的测试，如<a class="ae ju" href="https://www.optimizely.com/optimization-glossary/multivariate-test-vs-ab-test/" rel="noopener ugc nofollow" target="_blank">多元测试</a>或<a class="ae ju" href="https://github.com/raffg/multi_armed_bandit" rel="noopener ugc nofollow" target="_blank"> Bandit算法</a></li><li id="b632" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated"><strong class="ih hj">如果没有统计学意义就不要放弃新版本</strong>，尽量多迭代几次作为这个迭代过程。此外，在集群/群组水平上寻找显著性，即特定集群的转化率是否提高(<a class="ae ju" href="https://www.conversion-uplift.co.uk/glossary-of-conversion-marketing/simpsons-paradox/#:~:text=Simpson's%20Paradox%20(also%20called%20the,the%20trend%20disappears%20or%20reverses." rel="noopener ugc nofollow" target="_blank"> Yule-Simpson效应</a>)。如果是这样，您可以使用新版本来锁定集群的受众，而不是使用一揽子模板来优化活动</li><li id="2137" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc lx ly lz ma bi translated">即使备选假设成立，公司也应<strong class="ih hj">在转换中设定最小影响大小或提升</strong>，以证明给定变更的业务可行性。</li></ul><p id="0b43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">来源:</p><ol class=""><li id="398c" class="ls lt hi ih b ii ij im in iq lu iu lv iy lw jc nd ly lz ma bi translated"><a class="ae ju" href="https://towardsdatascience.com/a-collection-of-a-b-testing-learning-resources-newbie-to-master-6bab1e0d7845" rel="noopener" target="_blank">https://towards data science . com/a-collection-of-a-b-testing-learning-resources-新手到高手-6bab1e0d7845 </a></li><li id="dcd1" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc nd ly lz ma bi translated"><a class="ae ju" href="https://www.linkedin.com/posts/denisevisser_bolcom-de-winkel-van-ons-allemaal-activity-6742395058261131264-gLWb/" rel="noopener ugc nofollow" target="_blank">https://www . LinkedIn . com/posts/denisevisser _ BOL com-de-winkel-van-ons-allemaal-activity-6742395058261131264-gLWb/</a></li><li id="f4e1" class="ls lt hi ih b ii mb im mc iq md iu me iy mf jc nd ly lz ma bi translated"><a class="ae ju" href="https://towardsdatascience.com/the-math-behind-a-b-testing-with-example-code-part-1-of-2-7be752e1d06f" rel="noopener" target="_blank">https://towards data science . com/the-math-behind-a-b-testing-with-example-code-part-1-of-2-7be 752 E1 d 06 f</a></li></ol><div class="ne nf ez fb ng nh"><a href="https://towardsdatascience.com/how-do-a-b-tests-work-996842ce6fc0" rel="noopener follow" target="_blank"><div class="ni ab dw"><div class="nj ab nk cl cj nl"><h2 class="bd hj fi z dy nm ea eb nn ed ef hh bi translated">A/B测试是如何工作的？</h2><div class="no l"><h3 class="bd b fi z dy nm ea eb nn ed ef dx translated">深入了解科技行业最强大的工具之一</h3></div><div class="np l"><p class="bd b fp z dy nm ea eb nn ed ef dx translated">towardsdatascience.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv jo nh"/></div></div></a></div></div></div>    
</body>
</html>