<html>
<head>
<title>2.5D Game Development: Animations: Part 5 — Ladder Climb</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2.5D 游戏开发:动画:第 5 部分——爬梯</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/2-5d-game-development-animations-part-6-ladder-climb-87d3a6c733d0?source=collection_archive---------12-----------------------#2021-08-02">https://medium.com/nerd-for-tech/2-5d-game-development-animations-part-6-ladder-climb-87d3a6c733d0?source=collection_archive---------12-----------------------#2021-08-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b19e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将回顾我如何设置一个简单的爬梯机制。</p><p id="85f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我发现实现这一点的最简单的方法是在梯子附近设置一个碰撞器来启动攀爬动画。我用了 Vector3。MoveTowards()从梯子底部移动到我在梯子顶部设置的航路点。一旦到了那里，我就触发动画，完成梯子的攀爬，然后过渡到站立，这样我就可以再次自由移动了。</p><p id="d472" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一步一步来的。</p><p id="a7c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我找到了一个爬梯子的动画，并把它设置在 Unity 中，就像我的其他动画一样。</p><p id="2ba2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，我设置了 Animator 控制器窗口，其中包含所需的节点及其过渡。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/c0eaf73efda097b241b2f9c292f017b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_ugEP49l2xuXUtfU0UzP-Q.png"/></div></div></figure><p id="62a0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这看起来一团糟，老实说，的确如此！有几种方法可以处理 animator 控制器窗口，这可能不是最好的方法，但我想强调通过代码处理动画状态，以及使用这种方法可以实现什么。</p><p id="0e57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我们有一个攀登梯子动画和一个攀登到顶端动画用于这个实现。正如你在这里看到的，我有跑步动画过渡到爬梯动画。我刚刚用一个名为“climbLadder”的 bool 参数创建了一个条件，并将其设置为 true，转换就发生了。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/6e78d9053da46bbfe4f6f116466e7b19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzRGvu5zqPX1vOfJiRelKQ.png"/></div></div></figure><p id="cba3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就导致了爬到顶端的动画，基本上就是一个梯子的拆卸。这种转变的方式是当玩家到达位于梯子顶端的一个路点时，通过代码设置一个“结束梯子”触发器。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/62f8143e928d688a7d64c4abcc34b243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Xu9_cwFKejRbT8pwTdDag.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/3d98e53cab1a8480d71aff9d98dfd20b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uyKZRlNVkVuMT7m45QCzUQ.png"/></div></div></figure><p id="b032" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我制作了两个独立的行为脚本来处理退出爬到顶端动画退出状态。其中一个重新激活角色控制器，另一个设置站立位置，以便当角色控制器被重新激活时，它移动到该位置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es js"><img src="../Images/3dc61e7383adde8796a144940a53d4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8RqZf6Hxuyi6_XGn2VslBw.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">行为脚本 1</figcaption></figure><p id="9eaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这要求:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jx"><img src="../Images/ddb4288f426eda3d8d0e0bd28215e288.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/1*pqSUltf1HR7xjA6G7ZIeog.png"/></div></figure><p id="e5d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它将 transform.position 设置为预定的 GetStandPosition。就像抓壁架一样。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jy"><img src="../Images/4500c9025c8e1250cacf86e7eb774356.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M68i20jJtme7IS3YQTzxmw.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">行为脚本 2</figcaption></figure><p id="5e96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将调用播放器中的方法，将控制器设置回活动状态。就像抓壁架一样。</p><p id="3b9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了回到运行或空闲状态，需要以速度为条件进行转换。如果速度大于 0 &gt;运行。如果速度小于 0.1 &gt;怠速。最终结果:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jz"><img src="../Images/63cb4450a72aeaf885ec2cf466265005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*elaR6a0dlmke_ADz3LvgPw.gif"/></div></div></figure><p id="9cbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您需要计算 X、Y 和 Z 轴的站立姿势变换位置，并确保在检查器中指定该位置。</p></div></div>    
</body>
</html>