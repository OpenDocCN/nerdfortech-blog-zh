<html>
<head>
<title>Software refactoring is a survival need</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">软件重构是一种生存需要</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/software-refactoring-is-a-survival-need-e043da843018?source=collection_archive---------9-----------------------#2021-02-27">https://medium.com/nerd-for-tech/software-refactoring-is-a-survival-need-e043da843018?source=collection_archive---------9-----------------------#2021-02-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/e12f6065cf3711befefa3c6e59626755.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*g8mcqt8zK4bWmMeE"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">当一个项目开始时，没有人真正知道它会是什么</figcaption></figure><p id="17c5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你大汗淋漓地醒来。现在是午夜。发生了什么事？</p><p id="e9b5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你在做梦。准确地说，是夜游。你的项目，你的孩子，你过去几个月的生活，完全崩溃了。开发人员退出，您的优秀功能无法交付，您的客户不满意。</p><p id="5fac" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">发生了什么事？你错过了什么？</p><p id="15f8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我告诉你吧。你错过了死亡的痛苦重构。</p><h1 id="c626" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">一点软件理论</h1><p id="5445" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">当一个项目开始时，没有人真正知道它会是什么。作为开发人员，这是我们工作的一部分，在我们进行、改造、重新安排、学习和改进的过程中学习。</p><p id="134f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，合乎逻辑的是，一个软件项目，任何项目，都要经历3个不可避免的阶段:</p><ol class=""><li id="e09c" class="kv kw hi iw b ix iy jb jc jf kx jj ky jn kz jr la lb lc ld bi translated">快速启动版本</li><li id="2a36" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">死亡的痛苦重构</li><li id="d79f" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr la lb lc ld bi translated">成熟</li></ol><p id="a632" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">第一，你想要的是能尽快有用的极简主义的东西，这样你才不会在发布前被淹没。项目经理压力太大。开发商昨天必须合并。QA人员想知道为什么他们甚至在这里睡觉时哭，因为你需要在你有机会测试之前交付。</p><p id="20e8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">债务不断累积，直到项目达到这个关键的临界点。</p><p id="0117" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在这个阶段，任何软件都面临一个决定:重构，或者死亡。</p><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lj"><img src="../Images/139a14cc9d30c943240d4f040b315d22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uzl91hRR3HifZSlO"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">做东西的时候，大部分工作是看不见的。制作工具，整理碎片…</figcaption></figure><h1 id="18e6" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">如何及时发现它</h1><p id="9579" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">如果幸运的话，您已经在生产中运行了。</p><p id="f11f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">为了实现这一点，你已经积累了太多的技术债务，以至于开发人员的大部分时间都花在了变通办法和补丁上。</p><p id="12fa" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">寻找线索:</p><ul class=""><li id="8528" class="kv kw hi iw b ix iy jb jc jf kx jj ky jn kz jr lo lb lc ld bi translated">你的团队对bug修复的任何新特性都加倍了他们的估计</li><li id="9ef5" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr lo lb lc ld bi translated">再也没有人<strong class="iw hj">相信他们合并的东西了。一条线就可能破坏整个系统。当你说“测试覆盖”的时候，每个人都看着窗外吹着口哨</strong></li><li id="be4d" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr lo lb lc ld bi translated">新来的人被告知永远不要碰代码的这个中心部分，也不要碰那个，也许也不要碰这个。<strong class="iw hj">入职</strong>很难。</li><li id="f08a" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr lo lb lc ld bi translated">人们开始放弃，因为从事这项工作太痛苦了</li></ul><h1 id="82c4" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">如何生存下去</h1><p id="7e7f" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">首先，团队会知道。他们会抱怨，会告诉你。</p><p id="5ed4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果你不想听或者他们都已经离开了，这里有一些关于先从哪里还债的建议:</p><ul class=""><li id="c7e7" class="kv kw hi iw b ix iy jb jc jf kx jj ky jn kz jr lo lb lc ld bi translated"><strong class="iw hj">测试覆盖</strong>。确保有效的方法继续有效。添加单元测试、集成测试、端到端套件，并巧妙运用。测试是一门手艺，有些人非常擅长。请永远不要认为测试只是简单的常识，任何有头脑的人都可以做；还有更多。</li><li id="d481" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr lo lb lc ld bi translated"><strong class="iw hj">简约</strong>。你真的喜欢这个没人用过的花哨功能:要么把它去掉，要么让它有用。你喜欢用45种方式做一件事。只保留最好的。</li><li id="cfbf" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr lo lb lc ld bi translated">带回<strong class="iw hj">一致性</strong>。债务的技术利益通常包括一些不一致。我们尝试一种方式，尝试另一种方式，改进第一种方式，合并两种方式，经过6或7次尝试后，我们有了自己喜欢的东西。但是我们也有7个不同的版本。</li><li id="bf95" class="kv kw hi iw b ix le jb lf jf lg jj lh jn li jr lo lb lc ld bi translated"><strong class="iw hj">文档</strong>。当你在写文档的时候，你会发现上面的想法中缺少了什么。如果你不能用一句话来描述一件事情是做什么的，那么这件事情就需要返工:去掉，拆分，简化，…</li></ul><figure class="lk ll lm ln fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/19f592c7e5063665ac6edbf1654df5be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ELbFEUT6kOhGpYZH"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">你最终会成功的</figcaption></figure><h1 id="cea3" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">如何完全避免</h1><p id="76a5" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">你正在开始一个新项目，想避开这个困难的阶段？投资。</p><p id="e6cc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">大多数项目负担不起这样的奢侈。做干净的东西需要时间和金钱，而你一开始就没有。</p><p id="5a05" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">也就是说，请记住，痛苦的重构会降临到你身上，不管你是否想要，通常是在最不实际的时候。为它腾出空间，做好准备，给你的团队持续改进的空间。倾听他们的想法和抱怨。</p><h1 id="c1fb" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">结论</h1><p id="c59e" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">制作软件意味着尝试并改进它们，然后再回来做得更好。重构并没有给客户带来直接的价值——它给团队带来理智，给产品带来质量，带来稳定性和<em class="lq">然后是</em>更快的开发和更容易的维护。</p><p id="85d8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">继续睡觉，但醒来时不要忘记:这是你行动的最后机会。</p></div></div>    
</body>
</html>