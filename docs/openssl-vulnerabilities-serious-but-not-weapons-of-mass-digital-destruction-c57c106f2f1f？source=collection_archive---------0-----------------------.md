# OpenSSL 漏洞:严重，但不是大规模数字杀伤性武器

> 原文：<https://medium.com/nerd-for-tech/openssl-vulnerabilities-serious-but-not-weapons-of-mass-digital-destruction-c57c106f2f1f?source=collection_archive---------0----------------------->

![](img/59293942694f712cb1913fb17f1011af.png)

这听起来像是一场迫在眉睫的数字灾难。但是, [OpenSSL 项目](https://mta.openssl.org/pipermail/openssl-announce/2022-October/000238.html)在 10 月 26 日公布的广泛使用的 OpenSSL 加密库中的几个漏洞——当时被标记为“关键”——被证明不是 Heartbleed 2.0，在一周的疯狂猜测后，这让人们稍微松了口气。

这并不意味着他们不是认真的。如果一个加密互联网通信的程序遭到破坏，可能性是可怕的。犯罪黑客可以利用它们来收集被认为是安全的数据，如密码、信用卡号、社会保险号等等。

但是，尽管这些漏洞需要修复，但它们并不是大规模数字杀伤性武器，很大程度上是因为它们只影响 OpenSSL 的最新版本(3.0 及更高版本)，而且大多数用户仍在使用不包含这些漏洞的版本 1.1.1。

OpenSSL 项目上一次宣布一个关键漏洞是在 2014 年，这个被称为 [Heartbleed](https://www.synopsys.com/content/dam/synopsys/sig-assets/datasheets/Heartbleed-Story.pdf) 的漏洞是互联网历史上最具灾难性的漏洞之一。网络安全专栏作家约瑟夫·斯坦伯格(Joseph Steinberg)当时在《福布斯》上写道，“有些人可能会认为这是自商业流量开始在互联网上流动以来发现的最严重的漏洞(至少就其潜在影响而言)。”

这是因为，正如《黑暗阅读》中的一篇[帖子所说，“[Heartbleed]基本上给了攻击者一种方法来窃听互联网通信，从服务和用户那里窃取数据，冒充服务，并在他们几乎没有做过任何事情的情况下做所有这些事情。”](https://www.darkreading.com/vulnerabilities-threats/prepare-critical-flaw-openssl-security-experts-warn)

这也是为什么在那次事件之前，软件安全专家一直在敦促每个使用开源软件组件的人——也就是任何地方的任何人——跟踪它们并保持它们的最新状态。

虽然开源有许多优势(因此它被广泛使用)，但如果用户因为不知道他们正在使用它而没有安装补丁来修复组件中的错误或缺陷，它会将用户置于危险之中。

OpenSSL 项目的声明是对这一风险的最新高调提醒。但到 11 月 1 日发布修复缺陷的更新(版本 3.0.7)时，它们已经被降级为“高严重性”——虽然仍然很严重，但远没有最初宣传的那么危险。

**减轻因素**

这是由于几个重要的缓解因素。

首先，在漏洞的细节公开之前就注意到漏洞，并在漏洞公开的当天发布补丁，这是不寻常的，也是非常好的。通常在黑客开始利用漏洞几周、几个月甚至几年后，漏洞才会被发现。犯罪分子在 2012 年开始秘密利用 Heartbleed，但直到 2014 年才公开。

第二，OpenSSL 的使用不像十年前那么普遍。尽管仍有成千上万的用户，互联网安全公司 [Censys 报道](https://censys.io/critical-vulnerability-in-openssl/)截至 10 月 30 日，只有 7062 台主机运行 OpenSSL 的易受攻击版本，其中大多数在美国(2321 台)，不到 700 台在德国、日本、中国、捷克、英国、法国、俄罗斯、加拿大和荷兰。

Synopsys 软件完整性小组的技术总监兼首席架构师迈克尔·怀特指出,“Heartbleed 之后，SSL 库的选择变得更加多样化。当 Heartbleed 出现时，OpenSSL 是领先的库，但现在世界上有了其他几个轻量级的选项，例如 Boring SSL 和 LibreSSL，它们试图通过透明和简化来降低风险。”

除此之外，许多用户仍在使用早期版本的 OpenSSL，它们没有版本 3 中发现的漏洞。虽然 OpenSSL 项目宣布其 11 月 1 日的更新也包括 1.1.1 版的更新，但这只是一个漏洞修复，而不是安全修复。

“这些漏洞只影响了 3.0 版本的开发流程，”新思网络安全研究中心首席安全策略师蒂姆·麦基(Tim Mackey)说，“3.0 版本的最初发布是在 2021 年 9 月。3.0 版本处于其生命周期的早期，这是为什么这两个漏洞的影响较低的关键因素，”他说，并补充说，1.1 版本将在 10 个月内保持完全支持，直到 2023 年 9 月。

**攻击面小得多**

所有这些都意味着这次的“攻击面”比心脏出血要小得多。

最后，专家同意 OpenSSL 的观点，即尽管刚刚修补的漏洞很严重，但它们还没有上升到“危急”级别。

最有可能利用它们的攻击是拒绝服务(DoS)，在这种情况下，攻击者能够用大量垃圾流量淹没网站，以至于网站崩溃；或者是远程代码执行(RCE)，在这种情况下，该漏洞允许攻击者远程在计算机上执行恶意代码，这可能导致攻击者控制机器。

但是 OpenSSL 项目在 11 月 1 日的博客文章中报告说，“我们没有发现任何可能导致远程代码执行的工作漏洞，并且在这篇文章发布时，我们没有这些问题被利用的证据。”

这并不意味着使用 3.0 及以上版本的用户应该放松。[Sophos Naked Security 博客](https://nakedsecurity.sophos.com/2022/11/01/openssl-patches-are-out-critical-bug-downgraded-to-high-but-patch-anyway/)宣称“我们强烈建议你尽快更新。”OpenSSL 本身“仍然认为这些问题是严重的漏洞，并鼓励受影响的用户尽快升级。”

总的来说，这一事件应该作为安全使用开源软件需要做什么的例证。

首先，像这样的情况在开源软件中更有可能发生，因为更新不像商业软件那样“推”给用户。用户必须知道他们正在使用的产品有可用的更新，然后从存储库中“提取”它们。显然，如果他们不知道他们需要这样做，他们就不太可能这样做。

**获得合适的工具**

虽然个人用户可能没有能力跟踪他们正在使用的软件的每个开源组件，但在组织层面上，这可以通过一个名为[软件组合分析](https://www.synopsys.com/software-integrity/security-testing/software-composition-analysis.html?cmp=pr-sig&utm_medium=referral) (SCA)的自动化工具来完成。

该工具将有助于找到开源组件，并确定任何已知的漏洞和潜在的许可冲突，还可以帮助编译软件材料清单(SBOM)，这将成为所有软件产品的强制元素。[拜登总统 2021 年 5 月关于改善国家网络安全的行政命令](https://www.whitehouse.gov/briefing-room/presidential-actions/2021/05/12/executive-order-on-improving-the-nations-cybersecurity/)要求联邦机构购买的任何软件产品都必须具备该命令。

正如 Mackey 所说，“OpenSSL 中的缺陷是 SCA 对于任何 AppSec 和 InfoSec 团队如此重要的一个例子。SCA 的结果将准确显示组件在哪里被使用，以及使用的是哪个版本。这使得响应团队能够快速响应任何新的漏洞，而不管其严重性、版本以及补丁来自何处。”

Mackey 还指出，在 OpenSSL 的例子中，“有成千上万的代码分支，也称为分支。每个人对每次编译都有不同的要求。

《黑暗阅读邮报》指出，虽然长期以来将 OpenSSL 集成到其产品和服务中的大型技术公司可能已经准备好进行更新，但这仍然给“潜在的数百万其他人——包括联邦机构、私营公司、服务提供商、网络设备制造商和无数网站运营商——留下了一个迫在眉睫的最后期限，以在威胁行为者开始利用漏洞之前找到并修复漏洞。”

如果没有像 SCA 这样的自动化工具来帮助找到 OpenSSL 的每个实例，这将是一项漫长而复杂的任务，因为单个软件组件可能被深埋在一个组织正在使用的产品、服务或设备中，这就是所谓的依赖链。

这意味着该产品、服务或设备的提供商需要安装更新。Mackey 说:“包含 OpenSSL 易受攻击版本的应用程序的来源会有所不同，但这就是补丁需要来自的地方。”"需要注意的是，有些原点可能不会像其他原点那样快速响应."

**别再上当了**

确保您获得的是合法版本的更新也很重要。新思软件完整性小组的安全解决方案高级主管 Patrick Carey 在[的一个视频帖子](https://www.synopsys.com/blogs/software-security/preparing-for-openssl-critical-security-vulnerability/)中指出，更新的提前通知虽然对用户有帮助，但“也带来了额外的风险，因为它允许坏人在同一时间内试图利用这种情况进行有针对性的攻击。”

“你需要警惕的是，当你下载一个补丁时，它是一个合法的、打了补丁的 OpenSSL 版本，而不是一个黑客发布的受感染的版本，试图欺骗你将恶意软件放入你的代码中，”他说。

Mackey 补充说，对于习惯于从单一、权威的商业供应商而不是开源项目获得更新的组织来说，“考虑到 OpenSSL 存在多少分支，这种风险就更大了。OpenSSL 的分发渠道也很多。”

所以，有好消息。情况可能会更糟。但是如果你不知道你使用的是 OpenSSL 3.0 版还是更高版本，你需要尽快弄清楚。然后，您需要修补它，并确保它是正确的修补程序。

正如 Synopsys 网络安全研究中心的全球研究负责人 Jonathan Knudsen 所说，“如果你已经在关注你的供应链，那么 OpenSSL 应该只是照常营业。如果你没有意识到你的软件中包含了什么，也许这就是让你开始管理供应链风险的刺激。”