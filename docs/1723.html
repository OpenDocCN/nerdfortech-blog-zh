<html>
<head>
<title>Linux/UNIX Link’s and its Types</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux/UNIX 链接及其类型</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/linux-unix-links-and-its-types-ad7a67f16531?source=collection_archive---------9-----------------------#2021-04-03">https://medium.com/nerd-for-tech/linux-unix-links-and-its-types-ad7a67f16531?source=collection_archive---------9-----------------------#2021-04-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="ff19" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">Linux 中的链接是什么？</h1><p id="e10f" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">Linux 中的链接是指向文件或目录的指针。</p><h1 id="e6b3" class="im in hi bd io ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj bi translated">在 linux 中我们什么时候使用链接？</h1><p id="18a1" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">还有很多例子，我们将在本文中进一步讨论，但目前的一些用途是创建一个方便的路径，到一个深埋在文件层次结构中的目录；链接的其他用途包括:</p><ul class=""><li id="9dad" class="kn ko hi jm b jn kp jr kq jv kr jz ks kd kt kh ku kv kw kx bi translated">链接库</li><li id="6148" class="kn ko hi jm b jn ky jr kz jv la jz lb kd lc kh ku kv kw kx bi translated">确保文件在固定的位置(不必移动原件)</li><li id="d47a" class="kn ko hi jm b jn ky jr kz jv la jz lb kd lc kh ku kv kw kx bi translated">在多个位置保存单个文件的“副本”</li></ul><h1 id="a6ae" class="im in hi bd io ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj bi translated">等等，它们和“捷径”一样吗？🧐</h1><p id="5953" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">在某种程度上，是的…但是就像甘道夫说的</p><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ld"><img src="../Images/060a75d62bbe06c31491ccf5a28b61a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZjnB8uPpIhzLJwD2DJ8F2Q.jpeg"/></div></div></figure><p id="d22a" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">让我解释一下。比方说，你有一个外置驱动器，连接到你的 Windows 机器上。在那个驱动器上有一个叫做家庭作业的文件夹😛。如果您在桌面上创建目录的快捷方式，当您单击打开快捷方式时，您的文件管理器将打开您的外部驱动器上的音乐目录。</p><p id="5b7c" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">现在，假设您将该驱动程序连接到一台 Linux 机器上。该驱动器被安装为说，<em class="ls">/数据</em>，并且在该驱动器上是文件夹作业。您在您的主目录中创建了一个指向该位置的链接——这样您就有了一个从<em class="ls">~/作业</em>指向<em class="ls">/数据/作业</em>的链接。如果你在你的主目录中打开快捷方式，它会在<em class="ls">~/作业</em>中打开文件管理器，而不是<em class="ls">/数据/作业</em>。您在<em class="ls">~/作业</em>中所做的任何更改都会自动反映到/数据/作业中。这就是最大的不同。</p><h1 id="fd77" class="im in hi bd io ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj bi translated">链接的类型</h1><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lt"><img src="../Images/48f6d0fdb038d0e285b80a9b2f22ab3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MpLCbNvpQfpvQTfEB5va2Q.png"/></div></div></figure><p id="b462" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">在 Linux 中，有两种不同类型的链接:</p><ul class=""><li id="0423" class="kn ko hi jm b jn kp jr kq jv kr jz ks kd kt kh ku kv kw kx bi translated">硬链接</li><li id="dc80" class="kn ko hi jm b jn ky jr kz jv la jz lb kd lc kh ku kv kw kx bi translated">符号链接</li></ul><h1 id="6c94" class="im in hi bd io ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj bi translated">硬链接</h1><p id="cd77" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">只能链接到文件(而不是目录)</p><p id="f525" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">无法引用不同磁盘或卷上的文件，并且它们引用与原始源相同的信息节点。</p><p id="9d77" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">即使原始文件被删除，硬链接也将继续保持可用。</p><p id="2905" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">创建硬链接的命令是:</p><pre class="le lf lg lh fd lu lv lw lx aw ly bi"><span id="4a6a" class="lz in hi lv b fi ma mb l mc md">$ ln  [original filename] [link name]</span></pre><h1 id="2e7d" class="im in hi bd io ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj bi translated">符号链接或符号链接</h1><p id="1630" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">可以链接到目录</p><p id="5b44" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">引用不同磁盘或卷上的文件/文件夹</p><p id="0c30" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">如果原始位置被删除，将作为断开(不可用)的链接存在</p><p id="bd3d" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">引用抽象文件名和目录(相对于物理位置)，并被赋予它们自己唯一的 inode。</p><ul class=""><li id="cd50" class="kn ko hi jm b jn kp jr kq jv kr jz ks kd kt kh ku kv kw kx bi translated">创建软链接的命令是:</li></ul><pre class="le lf lg lh fd lu lv lw lx aw ly bi"><span id="1a2a" class="lz in hi lv b fi ma mb l mc md">$ ln  -s [original filename] [link name]</span></pre><p id="ef7b" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">硬链接创建和符号链接创建的主要区别在于您使用了<em class="ls"> -s </em>选项。</p><p id="4f3e" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated"><strong class="jm hj">什么是 inode 你问</strong>，一个<strong class="jm hj"> inode </strong>是一个数据结构，在 Linux 中存储了一个文件的各种信息，比如访问模式(读、写、执行权限)、所有权、文件类型、文件大小、组、链接数量等。每个 inode 由一个整数标识。创建文件时，会为文件分配一个信息节点</p><p id="3d2f" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">值得注意的一件有趣的事情是不同类型的链接是如何对待 inodes 的。硬链接的索引节点是相同的，而符号链接的索引节点是不同的。这可以通过移除符号链接的原始位置来进一步说明。当你这样做的时候，软链接消失了(尽管损坏的引用链接文件仍然存在)。为什么？符号链接指向的引用 inode 不再存在。</p><p id="4ac4" class="pw-post-body-paragraph jk jl hi jm b jn kp jp jq jr kq jt ju jv lp jx jy jz lq kb kc kd lr kf kg kh hb bi translated">与硬链接不同，如果您删除原始文件或目录，符号链接将会保留，但是现在它将被视为断开的链接，并且将不可用。请记住，有了硬链接，你可以删除原来的链接将会保留，仍然是可用的。</p><h1 id="1d0b" class="im in hi bd io ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj bi translated">这就是这篇文章的全部内容，如果你读到这里的话…</h1><figure class="le lf lg lh fd li er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es me"><img src="../Images/dcf21bddde5fc157c9aac93e9c15ed20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Jf6hf9EonuGzdIN5JeZObQ.gif"/></div></div></figure></div></div>    
</body>
</html>