<html>
<head>
<title>Have you set a budget for your cloud project yet? It saved us $40 a day</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您是否已经为您的云项目设定了预算？它每天为我们节省了 40 美元</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/have-you-set-a-budget-for-your-cloud-project-yet-it-saved-us-40-a-day-a5a9899a7946?source=collection_archive---------1-----------------------#2022-11-09">https://medium.com/nerd-for-tech/have-you-set-a-budget-for-your-cloud-project-yet-it-saved-us-40-a-day-a5a9899a7946?source=collection_archive---------1-----------------------#2022-11-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0452bcafe2862d6c42dec9d6602a230a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*prtN7LUlBmiAYY4k"/></div></div></figure><p id="0e26" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">自己维护服务器工作量很大。云服务通常在成本和工作量方面更胜一筹，除非你运气不好，没有安全控制措施。</p><p id="bfb0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我最近参与的一个云项目的成本突然毫无预警地一天增加了 40 美元。幸运的是，我们有一个预算，得到了警报，并可以立即解决问题。</p><h1 id="ce56" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">立即添加预算</h1><p id="f52b" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果你还没有为你的项目设定预算，现在停止阅读，去添加它。我会等的。</p><p id="9db0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">完成了吗？干得好！</p><p id="eed5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我感到惊讶的是，在创建一个新的云项目时，设置预算并不是一个必须的步骤。成本可能会如此迅速地上升，我不认为任何人会从中受益(我确信无意的使用和成本也会伤害云提供商)。</p><p id="9088" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">举个例子，我知道有一个项目违反了凭证。攻击者使用该帐户做了一些事情(可能是挖掘密码或刮擦),并且花费极高。</p><h1 id="0612" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">预算应该花费的费用</h1><p id="acd7" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">预算通常是你能花多少钱。但是当我们为云项目设定预算时，它应该被设定为我们需要花费多少的警报。</p><p id="1556" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果没有必要，我们不应该用那笔钱；只要有可能，我们应该尽量减少它。</p><p id="ee8e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">设定预算的最简单方法是查看一天的基础设施运行情况。乘以一个月的天数。这是您的系统继续运行所需的预算。</p><p id="574e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">很有可能，你很快意识到你负担不起，你可以优化一些部件来降低成本。如果你能负担得起，而且对你来说也不意外，你的团队已经做得很好了！</p><p id="2f18" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果超出了预算，你会想马上知道。因为如果是这样，你可能会亏本经营。如果不是为了你自己，你越早做出反应，你的雇主肯定会感激你的。</p><h1 id="2a42" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">为您的预算配置警报</h1><p id="5765" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">只有当你冒险超出预算时，你得到通知，预算才有帮助。</p><p id="f35e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我参与的这个项目中，我增加了 40 美元，这要感谢一个警报，当每月预期成本超过上个月预算的 110%时就会触发该警报。</p><p id="c5dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这种设置允许随着用户和使用量的增加，预算逐月缓慢增加。然而，如果增长太快，你会马上得到警告。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/98083cb7bf4623532f7f0350a40a7dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x2EER8FW5nstseRR"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">Google Cloud 中设置的警报示例(金额被有意掩盖)</figcaption></figure><p id="b722" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谷歌云平台允许通过发布/订阅以及电子邮件通知进行高级计费通知。使用它，你可以编写自己的通知或触发器，但是，以我的经验，一封简单的电子邮件就足够了。与<a class="ae la" href="https://styler.slack.com/apps/A0F81496D-email?tab=more_info" rel="noopener ugc nofollow" target="_blank"> Slack 电子邮件应用</a>一起，这些电子邮件通知也可以在 Slack 中发出。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lb"><img src="../Images/85f06834a6809839ed332760392e1c09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FZ6m-O1n1PTWActH5RCmPA.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">使用 slack 电子邮件应用程序和 Gmail 转发给 Slack 的计费提醒电子邮件示例</figcaption></figure><h1 id="efc9" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">什么会导致成本飙升？</h1><p id="6303" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如上例所示，最糟糕的成本高峰来自非法或恶意使用。例如，如果有人抓取您的内容或执行拒绝服务(DOS)攻击。</p><p id="e4fb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，出现峰值还有更普遍、更不明显的原因。根据我最近的经验，由于使用和价格的变化。</p><h1 id="8a4f" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">因使用而涨价</h1><p id="d68a" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">虽然这是最不令人担忧的峰值，因为它意味着人们正在使用你的产品，但这是一个必须管理的成本。</p><p id="a810" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我在我的任何项目中都使用 Firebase 免费层。它很好，但很快就用完了，你最终要付钱。</p><p id="d7a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下图显示了 BigQuery 的成本，一旦空闲层用完，big query 会在月中突然启动。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/f333f2eea0b644cdcdfe41a2fc332ab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tl8tJOGi0Cxyw79RoOi4uQ.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">免费层用完之后，BigQuery 成本开始堆积的一个例子</figcaption></figure><h1 id="e204" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">由于价格变化而增加</h1><p id="753e" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">虽然我们希望您能及时得到通知并做好准备，但是很容易错过定价的变化。即使你被告知，也很难知道它是否以及如何影响你。</p><p id="ca67" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于价格变化，我写了这篇文章。我仍然没有找到任何价格变化的通知，但从 10 月 1 日起，GCP 正常运行时间检查价格发生了变化。</p><p id="20ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦使用了免费层，这导致我们的项目每天额外花费 40 美元。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/8b0b84091554a73c6dae1b2d6c9099eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1fwgqJKe4KErPtA6qo04Qg.png"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">从<a class="ae la" href="https://cloud.google.com/stackdriver/pricing" rel="noopener ugc nofollow" target="_blank">堆栈驱动程序定价页面</a></figcaption></figure><p id="bdef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">仔细监控云提供商的价格更新有助于避免意外，但有些东西最终会溜走。当他们这样做的时候，你会想要有一个预算，这样你就可以很快抓住它并做出反应。</p><h1 id="c44a" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">不要没有预算就去</h1><p id="46c7" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">我希望这篇文章有助于强调为什么有一个预算是重要的。只需要几分钟就可以设置好，而且可以节省很多钱。</p><p id="2a91" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢您的阅读。我希望它有帮助。稍后我会添加一些额外的帖子，介绍如何降低成本以及在出现峰值时进行故障排除。</p><p id="2308" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您有任何问题，请随时联系我们。</p></div></div>    
</body>
</html>