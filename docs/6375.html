<html>
<head>
<title>SNS, SQS, and EventBridge</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">社交网站、SQS 和 EventBridge</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/when-to-use-sns-sqs-and-eventbridge-36074a331131?source=collection_archive---------1-----------------------#2022-02-12">https://medium.com/nerd-for-tech/when-to-use-sns-sqs-and-eventbridge-36074a331131?source=collection_archive---------1-----------------------#2022-02-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2b19132b34518c17252d845949c70e67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X6Hb5_B8L64H-OoZDvwKGg.jpeg"/></div></div></figure><p id="ac2b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本指南中，我们将了解何时使用社交网站、SQS 和 EventBridge</p><h2 id="e792" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">议程</h2><ul class=""><li id="2616" class="kj kk hi is b it kl ix km jb kn jf ko jj kp jn kq kr ks kt bi translated">什么是 SQS、SNS 和 EventBridge</li><li id="1a57" class="kj kk hi is b it ku ix kv jb kw jf kx jj ky jn kq kr ks kt bi translated">何时使用什么<strong class="is hj">资源</strong></li></ul><p id="2528" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> SNS 代表简单通知服务，SQS 代表简单排队服务。</strong></p><h1 id="f3b8" class="kz jp hi bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">社交网站（Social Network Site 的缩写）</h1><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/8571777bda17288f1b82c1ab84b0c452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RAw5TRMHaG0ol5tqAk3IKg.png"/></div></div></figure><ul class=""><li id="c350" class="kj kk hi is b it iu ix iy jb lv jf lw jj lx jn kq kr ks kt bi translated">它使用发布者/订阅者系统。您可能拥有一个主题，发布到该主题，订阅者会收到关于该主题的事件通知。</li></ul><p id="220e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">话题都是 SNS 的一等公民。它们类似于队列，只是主题不为消息传递进行投票。它们本质上被创建为具有特定的主题，如订单主题、交易主题、日志主题。每当应用程序中发生事件时，拥有该数据的应用程序将向主题发布一条消息，该主题将向该主题的所有不同订阅者交付该消息的相同副本。</p><p id="d2c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，如果我们有一个订单主题，并且许多服务对接收订单更新感兴趣，我们将订阅该主题的所有服务，以便在事件发生时通知他们，并以他们自己的速度处理该事件。</p><p id="d7d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">消息确实有大小限制，</p><ul class=""><li id="58a3" class="kj kk hi is b it iu ix iy jb lv jf lw jj lx jn kq kr ks kt bi translated">发布一条关于某个主题的消息可以传递给许多不同类型(SQS、Lambda、电子邮件)的订阅者(扇出)</li><li id="25e1" class="kj kk hi is b it ku ix kv jb kw jf kx jj ky jn kq kr ks kt bi translated"><strong class="is hj">其他系统关心事件吗？</strong>如果你的答案是肯定的，那么你应该使用社交网络，因为你想在你的话题上发布一条消息，并潜在地告诉其他人某个特定的事件发生了。</li></ul><h1 id="8e49" class="kz jp hi bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">SQS</h1><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/02256c8ded8e5d3c84f06800106313c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sak9EvMnuW5304tVZeOUjQ.png"/></div></div></figure><ul class=""><li id="a87c" class="kj kk hi is b it iu ix iy jb lv jf lw jj lx jn kq kr ks kt bi translated">这是一种用于消息处理的排队服务。SQS 可以是社交网络的订户。每当有人向 SNS 发布消息时，您的 SQS 队列都会收到一条消息，可以在以后进行处理。</li><li id="b736" class="kj kk hi is b it ku ix kv jb kw jf kx jj ky jn kq kr ks kt bi translated">SQS 允许应用程序所有者将消息发布到一个队列中，这样可以将他们的应用程序彼此分离。</li></ul><p id="34e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">队列是 SQS 的一等公民。它是您将通过控制台、CLI 或基础设施以代码形式创建的内容。队列是应用程序所有者发布消息的目的地。这是一个临时的存放池，您可以在其中发布消息。</p><p id="99b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">轮询是订阅者或希望接收消息的人处理消息的机制，因此希望从队列中检索消息的应用程序将轮询该队列，以便能够成功地处理它们。</p><ul class=""><li id="766e" class="kj kk hi is b it iu ix iy jb lv jf lw jj lx jn kq kr ks kt bi translated">必须轮询队列以发现新事件的系统。</li><li id="4d2f" class="kj kk hi is b it ku ix kv jb kw jf kx jj ky jn kq kr ks kt bi translated">队列中的消息通常由单个消费者或单个服务负责处理。如果他们都关心相同的事件，他们可以有自己单独的队列。</li><li id="f587" class="kj kk hi is b it ku ix kv jb kw jf kx jj ky jn kq kr ks kt bi translated">您的系统关心某个事件吗？你关心什么时候发生了什么，所以你是这个数据的接收者，如果它是真的，SQS 对你来说是正确的选择。</li></ul><h1 id="3976" class="kz jp hi bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">事件桥</h1><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/e192f98276a48f39bdf29e5f5c471250.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UyVojf1eq4A4RdzIgNntwQ.png"/></div></div></figure><p id="9771" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">EventBridge 类似于 SNS，在 SNS 上有一些改进，做的事情略有不同。EventBrdige 的主要概念是:</p><ul class=""><li id="4ec6" class="kj kk hi is b it iu ix iy jb lv jf lw jj lx jn kq kr ks kt bi translated">消息总线</li><li id="ea0c" class="kj kk hi is b it ku ix kv jb kw jf kx jj ky jn kq kr ks kt bi translated">事件</li><li id="2a4b" class="kj kk hi is b it ku ix kv jb kw jf kx jj ky jn kq kr ks kt bi translated">规则</li><li id="4bd5" class="kj kk hi is b it ku ix kv jb kw jf kx jj ky jn kq kr ks kt bi translated">目标</li></ul><p id="8d5a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">消息总线与主题相同，您向事件总线发布一条消息，并且这些消息有不同的接收者。</p><p id="d9d3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">事件可以由订单服务等应用程序构建。它也可以像 EC2 一样由 AWS 服务本身发出。每当实例启动时，您可以将 EC2 与您的事件总线集成在一起，以便事件在发生时自动生成。</p><p id="0dd1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你也可以将其与其他第三方 saas 或软件集成为服务提供商，如 Datadog、PagerDuty 和 Shopify。由于无缝集成，他们将为您提供功能，而不是编写您自己的自定义功能代码。</p><p id="c8b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">规则匹配传入的事件，并将它们发送到相应的目标进行处理。</p><p id="36cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">目标是您的目的地端点。它们是一天结束时将被调用的内容。</p><p id="99e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它们还有其他有趣的功能，比如邮件过滤(允许你过滤邮件)</p><h1 id="8ffa" class="kz jp hi bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">谢谢</h1><p id="bf71" class="pw-post-body-paragraph iq ir hi is b it kl iv iw ix km iz ja jb ma jd je jf mb jh ji jj mc jl jm jn hb bi translated">喜欢阅读吗？在下面留下一些“掌声”,以便其他人可以找到这篇文章。🙂</p><p id="84f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">查看我的其他帖子:)</p><p id="dc99" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae md" rel="noopener" href="/@thecraftman">https://medium.com/@thecraftman</a></p></div></div>    
</body>
</html>