# 具体什么是成本？|采访问答

> 原文：<https://medium.com/nerd-for-tech/what-is-cost-in-detail-1da7457febb0?source=collection_archive---------4----------------------->

了解解释计划 oracle 中的成本计算。

![](img/081b2f955f4a0d11fffe80269788b4ed.png)

详细的成本是什么

什么是成本？

*   我们知道优化器根据不同计划的成本来决定最佳执行计划。
*   因此，成本在查询调优中扮演着重要的角色。
*   成本是优化器对执行一条语句的 I/o 数量的最佳估计。
*   作为一个简单的定义，成本是一个单位。这意味着读取单个块。
*   它是用一个更好的公式计算出来的。当查询估计器估计成本时，它一起使用磁盘 I/O、CPU 使用和内存使用。

> **成本=单块 I/O 成本+多块 I/O 成本+ Cpu 成本/单块读取时间**

注意:

*   **单块 I/O 成本=单块读取次数*单块读取时间**
*   **多块 I/O 成本=多块读取次数*多块读取次数**
*   **Cpu 成本= Cpu 周期数/ CPU 速度**

**成本计算说明:**

我来一一解释一下。

*   在大多数情况下，这些表将被逐块读取。因此，根据读取方式，它决定是逐块读取还是一次读取几个块。
*   因此，它将找到我们执行的单块读取次数，并将其乘以单块读取时间。单个数据块读取时间是指平均读取单个数据块的时间。然后，它会计算多块 I/O 成本。
*   如果是全表读取，或者如果要读取一系列表，数据库服务器会一次读取多个块以加快读取速度。
*   因此，如果在我们的执行中会有一个多块读取，它的计算方法是多块读取次数乘以多块读取时间。
*   CPU 成本的计算方法是，将预计用于执行的 CPU 周期数除以 CPU 速度。
*   这是理论计算。因为很难找到 CPU 的成本，因为它

**如何求 CPU 成本？**

*   然而，这很重要。因为在排序、哈希、缓存等的时候会有很多 CPU 的使用。
*   所以这个在成本计算中必须算一个单位。
*   这 3 项成本的总和被划分为单块读取时间，它返回我们执行的总成本。
*   成本计算的公式就是这么简单。但是你不应该认为成本仅仅意味着从光盘上读取数据。
*   从光盘上读取比其他光盘的成本要高得多。但是在成本计算中也考虑了从内存读取和 CPU 使用。
*   如果我们注意到，除了读一个表之外，数据库服务器在读索引、连接两个表、排序等时还会读数据。因为这些操作读取的块数可能比返回的块数多得多。它可能需要一次又一次地读取同一个块，尤其是当我们连接表时。

**结论:**

*   成本很重要。因为优化器根据它们的成本来决定最佳的执行计划。
*   它主要是根据统计数据计算出来的。
*   更好的成本计算。因此，一个更好的执行计划，最新的统计数据是重要的，因为成本是根据统计数据计算的，请注意，这是一个估计。