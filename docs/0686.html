<html>
<head>
<title>Python regular expressions in 5 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 正则表达式 5 分钟</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/python-regular-expressions-in-5-minutes-ecc8b6624308?source=collection_archive---------3-----------------------#2021-02-04">https://medium.com/nerd-for-tech/python-regular-expressions-in-5-minutes-ecc8b6624308?source=collection_archive---------3-----------------------#2021-02-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0363" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你作品的介绍和快速参考。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/315cefae22bad09c72d91177ac374308.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pBcU7-GtBdBDwzqxLTxidg.jpeg"/></div></div></figure><p id="2ab9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Python 中的正则表达式是我们数据科学技能墙的基石。它使我们能够快速简单地选择文本，并在日常工作中使用它。</p><p id="290a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设您想要从一大页时态中选择一些重复出现的文本，例如在对 tweet 的情感分析中，您想要选择所有的人 ID，如“@myname ”,或者例如特定 tweet 中的所有标签，如“#datascience 或#regex。</p><p id="a01a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在 python 中，通过“regex”模块是可能的，它允许我们在文本中选择、匹配和替换一些识别的模式。我们开门见山吧！</p><p id="4d6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用正则表达式，我们用一些特殊字符重新识别每个字母、符号或模式，下面列出了主要的字符。</p><ul class=""><li id="e01a" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated"><strong class="ih hj">。(点)</strong>:匹配<strong class="ih hj">除换行符以外的任何字符</strong>。</li><li id="c99e" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> \d </strong>:选择任意一个<strong class="ih hj">十进制数字</strong>，所以数字在【0，9】之间。</li><li id="3878" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> \s </strong>:表示空白<strong class="ih hj"/>，当我们想要选择多个单词时很有用。</li><li id="71b5" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> \w </strong>:匹配任意<strong class="ih hj">字字符</strong>，所以字母【a-zA-Z】；数字[0，9]和 uderscore。</li><li id="c566" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> \D \S \W </strong>:如果我们使用大写字母，则符号表示与小写符号相对的<strong class="ih hj">。所以它们是一个非数字、非空格和非单词字符。</strong></li></ul><p id="b16e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有这些符号都用于选择句子中的字符，但如果没有一些重复限定符，这些符号就没有用，这些限定符可以让我们提高选择的质量，例如，给出数字的数量或特定字符重复的次数。它们应用在 regex 语句之后，指的是最后一个特殊字符。所以主要的量词是:</p><ul class=""><li id="5071" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated"><strong class="ih hj"> * </strong>:选择前面 regex 语句的<strong class="ih hj">零个</strong> <strong class="ih hj">或更多个重复</strong>，例如 regex 语句“ab*”将选择:“a”后跟任意数量的 bs；(' a '，' ab '，' abb '等..).</li><li id="a1ba" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> + </strong>:匹配<strong class="ih hj">一个或多个重复的 regex 语句</strong>。</li><li id="c76e" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj">{ n }；{n，m} </strong> : <strong class="ih hj"> n 次重复</strong>或<strong class="ih hj">前面文本的 n 到 m 次重复</strong>。</li><li id="e27b" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj">？</strong> : <strong class="ih hj">测试选择的零次或一次重复</strong>。</li></ul><p id="93ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">还有其他特殊字符用于确定与时态相关的 regex 语句的位置。我们可以决定选择是在字符串的开头还是结尾。</p><ul class=""><li id="83b5" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated"><strong class="ih hj"> ^ </strong>:匹配管柱的<strong class="ih hj">起点</strong>。</li><li id="0cca" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> $ </strong>:匹配字符串的<strong class="ih hj">端</strong>。</li><li id="533a" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> [] </strong>:用于选择特定<strong class="ih hj">集合</strong>中的所有字符，例如所有大写字母(【A-Z】)。</li><li id="63a9" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> \ </strong>:如果我们想使用一些特殊的带有<strong class="ih hj">原始用法</strong>的 chacarters，比如' $ '，我们必须前置' \ '符号。因此，要选择美元符号，我们必须写' \$ '。</li></ul><p id="2074" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后是模块的属性和内容，它们用于选择、替换或查找文本中的 regex 语句。我们将通过一些例子来探讨它们。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kd"><img src="../Images/2f747b81b4e725c9a58e20c50b10372d.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*QDVy5-IwLnlW6LY_7kaL0Q.jpeg"/></div></figure><p id="f37f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们终于掌握了使用 regex 模块制作一些示例和练习的所有基本技能。首先导入模块:</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="b98b" class="kj kk hi kf b fi kl km l kn ko">import regex as re </span></pre><p id="8da9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将使用的第一种方法是选择文本中的所有明喻模式，这是“findall”方法。假设您有一个包含姓名和电话号码的字符串，并且您只想选择后者。在这种情况下，我们将使用特殊字符' \d '。</p><pre class="je jf jg jh fd ke kf kg kh aw ki bi"><span id="7589" class="kj kk hi kf b fi kl km l kn ko">phone_numbers='Luke: 4-567-123-6789 Mike: 97-567-78-54376'</span><span id="0d3c" class="kj kk hi kf b fi kp km l kn ko">re.findall("\d{1,2}-\d{3}-d{2,3}-\d{4,5}", phone_numbers)</span><span id="74df" class="kj kk hi kf b fi kp km l kn ko">output ['4-567-123-6789', '97-567-78-54376']</span></pre><p id="5d62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是回到第一段，如果我们正在进行分析，我们想从 twitter 帖子中选择用户名和标签，该怎么办？</p><p id="cca8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在 twitter 中，如果满足以下条件，则用户名有效:</p><ul class=""><li id="fcb8" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">在'^@'正则表达式中，是以“@”开头的文本吗</li><li id="fe06" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">仅包含字母数字字符(字母 A-Z，数字 0-9)。在这种情况下，我们可以使用“[A-Za-z0–9]”或“[\w\d]”。我们使用括号是因为我们想对集合应用另一个量词。</li><li id="b4cd" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">它必须在 4 到 15 个字符之间，所以{4，15}。</li></ul><p id="a8b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用 re.match()或 re.search()方法来查找字符串的匹配项，下面的代码通过 regex 语句报告了选择。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kq"><img src="../Images/c9ef5aaff5dc66685e9613045f4baff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1mv3K1eZlkrwmbB01E5AcQ.png"/></div></div></figure><p id="6a5a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了选择所有的标签，我们在开头使用“#”符号，然后添加未定义数量的数字或单词，例如:“#[\w\d]+”。</p><p id="4f19" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以探索的最后一种方法对替换文本中的特定表达式很有用。它是“re.sub(old，new，string)”方法，在下面几行中我报告一个简单的例子:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kr"><img src="../Images/90e0c7258d9b33fe2c1267d9f927f0ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*PlTrlzDSrBLX6JLebroxRQ.png"/></div><figcaption class="ks kt et er es ku kv bd b be z dx translated">如何使用 re.sub()方法？</figcaption></figure><p id="5820" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正则表达式是一个强大而有用的工具，可以在一个长而复杂的脚本中选择、替换和匹配特定的文本表达式。这是一个快速介绍和备忘单，我附加了一些链接来提高你的正则表达式能力。</p><div class="kw kx ez fb ky kz"><a href="https://regexone.com/" rel="noopener  ugc nofollow" target="_blank"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">正则表达式-学习正则表达式-第 1 课:介绍，和 ABC</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">正则表达式在从文本中提取信息时非常有用，比如代码、日志文件、电子表格或…</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">regexone.com</p></div></div></div></a></div><div class="kw kx ez fb ky kz"><a href="https://www.w3resource.com/python-exercises/re/" rel="noopener  ugc nofollow" target="_blank"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">Python Datetime -练习、实践、解答- w3resource</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">页面底部有一个编辑器，用于编写和执行脚本。] 1.写一个 Python 程序来检查…</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">www.w3resource.com</p></div></div></div></a></div><div class="kw kx ez fb ky kz"><a href="https://docs.python.org/3/library/re.html" rel="noopener  ugc nofollow" target="_blank"><div class="la ab dw"><div class="lb ab lc cl cj ld"><h2 class="bd hj fi z dy le ea eb lf ed ef hh bi translated">重新正则表达式操作- Python 3.9.1 文档</h2><div class="lg l"><h3 class="bd b fi z dy le ea eb lf ed ef dx translated">这个模块提供了类似于 Perl 中的正则表达式匹配操作。无论是图案还是字符串…</h3></div><div class="lh l"><p class="bd b fp z dy le ea eb lf ed ef dx translated">docs.python.org</p></div></div></div></a></div></div></div>    
</body>
</html>