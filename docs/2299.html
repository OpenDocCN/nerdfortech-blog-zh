<html>
<head>
<title>The Composable Architecture — Apply into actual projects — Part 1: The common structure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可组合架构——应用于实际项目——第1部分:通用结构</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-composable-architecture-apply-into-actual-projects-part-1-the-common-structure-2762e844cbd?source=collection_archive---------7-----------------------#2021-04-30">https://medium.com/nerd-for-tech/the-composable-architecture-apply-into-actual-projects-part-1-the-common-structure-2762e844cbd?source=collection_archive---------7-----------------------#2021-04-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fe3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我要感谢上一个系列(以前在Medium上面)期间支持我的所有人，我真的很感激这一点。所以，接下来，我将带你进入一个新的系列课程，比第一个更吸引人，也更有帮助。让我们在现实生活中接触Swift可组合架构，而不是在纸上。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/020f7f4420da6d89e2cf23f7da26c679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kz77FG4Q5qsjOUMvAS7IeA.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图片来源:<a class="ae jt" href="https://unsplash.com/photos/taiuG8CPKAQ" rel="noopener ugc nofollow" target="_blank">https://unsplash.com/photos/taiuG8CPKAQ</a></figcaption></figure><h1 id="2cf4" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">对SCA的担忧</h1><p id="1dcc" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">在过去的时间里，我收到了许多不同的问题以及有益的讨论，然后我意识到，一般来说，有两个要点是你们所关心的。</p><ul class=""><li id="e29a" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc lc ld le lf bi translated">首先，SCA看起来很酷，对吧，但是他们怎么知道这个架构是否适合实际的生产项目呢？</li><li id="5f2f" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc lc ld le lf bi translated">第二，似乎需要很长时间才能应用这个SCA，因为它需要大量的时间来学习和正确实践。</li></ul><p id="8a40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于第一个问题，根据我的经验，我会说:“是的，老实说，在实践中应用这个方法时，我遇到了许多困难和挑战，花了很多时间。然而，毕竟，我克服了它——至少，直到现在”</p><p id="678f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于第二点，我会说:“这取决于你。没有不牺牲就能掌握一件事的快速简单的方法。但是，我再说一遍，当你从PointFree团队那里了解到这一点时，你会产生共鸣。”</p><p id="9ead" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，即使如此，我还是会试着为你建立一个足够好的结构，让你可以立即应用到这个项目中——只需要一些基本的东西。当然，我还是鼓励你尽可能地去挖掘这个令人惊叹的建筑。</p><h1 id="cc42" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">共同结构</h1><p id="02c1" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">根据我的经验，我总结了你应该做的步骤，所以你只需要记住它们。</p><h2 id="13ae" class="ll jv hi bd jw lm ln lo ka lp lq lr ke iq ls lt ki iu lu lv km iy lw lx kq ly bi translated">该结构</h2><p id="1d51" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">我们代码库的结构将如下所示</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lz"><img src="../Images/49b8365561f7ba35f5726095c71f4045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GPwFPBQLi_Qi78aW_CTacA.png"/></div></div></figure><p id="acb2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种结构非常简单。只有一点担心:视图中的视图状态和核心中的状态。对于ViewState来说，是只存在于view内部的状态，对于State来说，是可以影响到action或reducer等其他模块甚至外部的状态。</p><h2 id="6d17" class="ll jv hi bd jw lm ln lo ka lp lq lr ke iq ls lt ki iu lu lv km iy lw lx kq ly bi translated">要遵循的步骤</h2><p id="9bc6" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">这是文章最重要的部分，你可以记笔记反复检查。</p><ol class=""><li id="b580" class="kx ky hi ih b ii ij im in iq kz iu la iy lb jc ma ld le lf bi translated">创建模型——视图所依赖的数据</li><li id="5534" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ma ld le lf bi translated">创建视图</li><li id="3bc7" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ma ld le lf bi translated">定义与视图相关的状态、动作、环境和缩减器(我暂时称之为核心部分的状态)</li><li id="320a" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ma ld le lf bi translated">定义视图状态</li><li id="254b" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ma ld le lf bi translated">用状态映射视图状态</li><li id="9754" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ma ld le lf bi translated">从核心部件中的状态转移到视图状态</li><li id="d613" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ma ld le lf bi translated">使用ViewStore获取我们需要的操作，并将视图状态连接到视图</li><li id="5ce0" class="kx ky hi ih b ii lg im lh iq li iu lj iy lk jc ma ld le lf bi translated">定义还原剂和副作用</li></ol><p id="f9a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您感到困惑，请不要担心——只需记下概述步骤，我们将在下一篇文章中立即进入细节和实际示例。</p><h1 id="8bb3" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">结论</h1><p id="b058" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">热身部分到此为止。在下一部分中，我们将实现身份验证阶段，更确切地说，是登录屏幕。在实施过程中，我会分析和解释每一个步骤。敬请关注。</p></div></div>    
</body>
</html>