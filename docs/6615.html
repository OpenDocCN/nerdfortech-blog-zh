<html>
<head>
<title>Slot Rotation Solution:2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">插槽轮换解决方案:2</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/slot-rotation-solution-2-1dcaf3d5b1bb?source=collection_archive---------8-----------------------#2022-04-01">https://medium.com/nerd-for-tech/slot-rotation-solution-2-1dcaf3d5b1bb?source=collection_archive---------8-----------------------#2022-04-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/60a5ee2f96219c386d521625347a4fb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/0*ElQhNRS3lNuL6iLK.png"/></div></figure><p id="e2d4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">目的:</strong>旋转老虎机</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/8c05c79ae9f2d619ab98ac82e98049f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*ApDVTHuWa7HVH50uMHyNgg.png"/></div></figure><p id="7302" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，创建一个item类来存储一个项目包含的所有值。这里，它包含一个精灵和一个值。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/80c6a5a454d42203ea4ffe7fbfca932f.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*4oM6gVf4C7R3IEK69T42Aw.png"/></div></figure><p id="26ec" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">创建另一个脚本并定义项目列表。然后在ButtonClick上创建一个动作事件，该事件将向事件的所有订阅者发送一个信号，最后创建一个bool变量，该变量仅在当前旋转停止时允许旋转。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jq"><img src="../Images/8a7ab050b49d81784929c56f13c6a5dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*g7wPwbDBMzARKjIQBuZPYQ.png"/></div></figure><p id="1702" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里，当调用spin方法并且Spin为true时发送一个信号。此方法连接到微调按钮。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jr"><img src="../Images/a039dc4083833b5da205ba44376e56c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*uEqG43RTmJHQYr6AU-WbnA.png"/></div></figure><p id="96c1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后创建一个公共方法，当int值通过参数传递时，该方法从项目列表中返回一个项目sprite。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es js"><img src="../Images/87d47fbe5fc6e0db5b18d4f66e7c89b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*QzYuZ0hb3wxceOmiuFXCxQ.png"/></div></figure><p id="2491" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在定义一个变量数组来存储布局组上的所有图像，然后创建一个对存储项目列表的ItemDatabase脚本的引用。</p><p id="8f79" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">创建三个sprite变量来存储sprite变化期间的sprite。然后为时间和速度创建浮点变量。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/238b83b531791c20100432e060266aed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/1*AeiWhNzMZLlCdaGFIPcndQ.png"/></div></figure><p id="70dd" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在在Start中，列出itemSprites数组中的所有子图像，并将spinItem方法作为订阅者添加到OnButtonClick事件中。</p><p id="2e21" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后调用GetSprite方法，该方法将在I位置返回一个Sprite并将其存储在image sprite中。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/f52f201a701c43440cb17a73b3504542.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*tLna07sJhGT37m9q3yXh1Q.png"/></div></figure><p id="d6e2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在创建一个订阅事件的方法，并在其中设置旋转速度和旋转时间。然后调用Ienumerator函数，该函数将开始旋转。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es jv"><img src="../Images/84fae2e85914aa0fa4e61a3e6d3510ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cvs38fLZoKjkJDgmRw2wOQ.png"/></div></div></figure><p id="2aad" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后在Ienumerator中，检查旋转时间是否剩余，然后创建一个条件将值添加到速度变量中，这将增加下一次循环之前的等待时间。</p><p id="609e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后将最后一个sprite存储在一个变量中，并将它赋给temp，后者将把它赋给数组中的第一个图像。在ItemImage中循环，同时将当前图像的sprite更改为前一个图像，并在继续下一个while循环之前等待speed time。</p><p id="98c5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后，将ItemDatabase中的Spin bool设置为true，并允许按钮开始下一次旋转。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es ka"><img src="../Images/b71025bfe79b0b52311616ed76229dbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*u25kK203KeliDDdrw0xkBw.gif"/></div></div></figure><p id="e79f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是最终的结果。</p></div></div>    
</body>
</html>