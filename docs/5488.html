<html>
<head>
<title>Mobile Games In Unity: Player Attack Set Up</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Unity中的手机游戏:玩家攻击设置</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/mobile-games-in-unity-player-attack-set-up-3bf955af5879?source=collection_archive---------7-----------------------#2021-10-08">https://medium.com/nerd-for-tech/mobile-games-in-unity-player-attack-set-up-3bf955af5879?source=collection_archive---------7-----------------------#2021-10-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="91b5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在这篇文章中，我将介绍如何为玩家设置攻击功能。让我们开始吧。</p><p id="0c61" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我认为最有趣的部分是设置hitbox。我所做的是创建一个空的游戏对象，它将有一个盒子碰撞器，一个刚体，和一个处理攻击逻辑的脚本，并使它成为玩家精灵的子对象。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es jk"><img src="../Images/1032f42f66d3c9b7a7c0e1f6cf03e733.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*FAkHXkMVZOs7NPprMGI-qA.png"/></div></figure><p id="da91" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">要创建这个hitbox，我需要进入我设置的攻击动画。我需要做的就是按下record，然后根据攻击动画的帧来调整hitbox的大小和形状。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es js"><img src="../Images/aef1788acf3c6866e0151d614c920e7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*WsMNaBNfvQ9CLoOCpFBRaQ.png"/></div></figure><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es js"><img src="../Images/c7d4a57d52e4ba71e036a99bc8b252ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*6aVNt3Ar7unaAw2ZKg24uw.png"/></div></figure><p id="bf90" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这部分实际上需要一点时间。确保在动画开始和结束时使hitbox的盒子碰撞器在animator中处于非活动状态，这样它就不会在玩游戏时撞到其他东西，或者对敌人造成额外的伤害。</p><p id="4afb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我需要开始编写脚本了。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es js"><img src="../Images/27fc24b37e40208a22272985c52e1835.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*0dleeY5E9_N4SaYYuh5dyg.png"/></div></figure><p id="63b2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了防止盒子碰撞器每帧击中敌人数百次，我设置了一个协程，在0.5秒后重置<code class="du jt ju jv jw b">canHit </code> bool。在OnTriggerEnter函数中，我正在检查我在调试中遇到了什么。日志线。在此之后，我将从被点击的游戏对象中获取IDamageable接口。在那之后，我说如果剑击中的物体有IDamageable脚本，获取它，并为那个游戏物体实现伤害函数。由于每个敌人都有不同的生命值，所以有些敌人很容易被击败，而有些则比较困难。在调用IDamageable脚本中的损坏函数后，启动重置bool的协程。</p><p id="ce5e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是苔藓巨人脚本中的伤害函数:</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es js"><img src="../Images/93986fbfbad7c7781081654b1845fb69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*8yNXi2_XUwTzED6Vnwl6sA.png"/></div></figure><p id="ca7d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以如果敌人死了，什么都不要做。否则生命值减一。如果苔藓巨人有5点生命值。玩家需要击中苔藓巨人5次才能击败它。</p><p id="ce81" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你也可以让敌人触发一个动画，让它看起来像是被击中了！在敌人脚本中调用伤害函数中的触发参数。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es jx"><img src="../Images/62c2a1bfcc3e1a9f0569a931bda2cc32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UTK6TB6GLrgsObPOYSTR5w.gif"/></div></div></figure><p id="8b8f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是全部了！</p></div></div>    
</body>
</html>