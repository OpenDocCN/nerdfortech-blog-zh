<html>
<head>
<title>Galaxy Shooter 2D — Heat Seeking Lasers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">银河射手2D——热寻的激光</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/galaxy-shooter-2d-heat-seeking-lasers-20-a8347dfde1b4?source=collection_archive---------29-----------------------#2021-05-28">https://medium.com/nerd-for-tech/galaxy-shooter-2d-heat-seeking-lasers-20-a8347dfde1b4?source=collection_archive---------29-----------------------#2021-05-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="a20d" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">敌人甚至不知道是什么袭击了他们！</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/d02f6f537a46dd817bb8ff89553598d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_tzi9nQKOdvPbejfkRGrsQ.gif"/></div></div></figure><p id="80d3" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我的船上武器库已经有点过时了，只有两种武器(如果你包括默认的那种)。我已经决定增加热寻的激光，只寻找飞船目标(小行星被忽略，但这并不意味着它们会碍事)。</p><p id="7348" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这是一个基本的武器，但需要一些工作来实现和优化。这就是为什么这篇文章完全专注于解释我是如何实现的。</p></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><h1 id="73a6" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">准备</h1><ul class=""><li id="300c" class="le lf hi jl b jm lg jp lh js li jw lj ka lk ke ll lm ln lo bi translated">这种武器只能通过热追踪启动获得。我添加了一个新的sprite和<a class="ae lp" href="https://pablogomezplaton.medium.com/galaxy-shooter-2d-modularity-9-4d8927c8dc46" rel="noopener">添加了一个新的enum来保存powerup引用。</a></li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lq"><img src="../Images/ee0523ef07971d7336fab257579763de.png" data-original-src="https://miro.medium.com/v2/resize:fit:426/1*gVUGBv2UqugEuzLrk2z4cQ.gif"/></div></figure><ul class=""><li id="c196" class="le lf hi jl b jm jn jp jq js lr jw ls ka lt ke ll lm ln lo bi translated">我在飞船脚本中实现了武器交换，它将暂时替换热搜索的默认激光预设。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/1ef183441c96ae905bdf8f352e9af987.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jd0A81c-03rysKshnMMhLQ.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">我使用<a class="ae lp" href="https://pablogomezplaton.medium.com/galaxy-shooter-2d-coroutines-3-bacf9cca8574" rel="noopener">协程</a>来处理每次加电的持续时间</figcaption></figure><ul class=""><li id="fc43" class="le lf hi jl b jm jn jp jq js lr jw ls ka lt ke ll lm ln lo bi translated">我创建了一个“新的”激光预制体，热寻激光脚本将被添加进去。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lz"><img src="../Images/cd87546629d84a8791ecdd773d9e807c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z8Kv7BhtWJ_c9hzhHBfy6A.png"/></div></div></figure></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><h1 id="d274" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">履行</h1><p id="c9cf" class="pw-post-body-paragraph jj jk hi jl b jm lg ij jo jp lh im jr js ma ju jv jw mb jy jz ka mc kc kd ke hb bi translated">记住，在实现一个特性之前，你应该首先设计它。你可以在设计的过程中设计它，但是这会花费你更多的时间来编码，因为你要同时考虑这个特性应该做什么以及如何编码。</p><p id="5101" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">热寻的激光器应该表现如下:</p><ul class=""><li id="5267" class="le lf hi jl b jm jn jp jq js lr jw ls ka lt ke ll lm ln lo bi translated">激光器需要一种方法来探测激光器周围的敌人。最理想的是，使用<strong class="jl hj"> <em class="md">协程</em> </strong>来避免检查每一帧的敌人，并使用<strong class="jl hj"> <em class="md"> Physics2D。OverlapCircleNonAlloc </em> </strong>检测敌人将允许快速和优化的碰撞查询。<br/><strong class="jl hj"><em class="md">协程</em> </strong>将以OnEnable()方法启动，并一直处于活动状态，直到激光被破坏或禁用。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es me"><img src="../Images/b0f29007f40b1517e320c61c700b9168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2u_lT-lEBDDihMEG0EyWdg.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">单击以缩放。这些变量是激光器工作所必需的。</figcaption></figure><ul class=""><li id="c72e" class="le lf hi jl b jm jn jp jq js lr jw ls ka lt ke ll lm ln lo bi translated">激光将只追逐一个有敌方脚本的目标，并且是距离激光最近的目标(小行星被解散)。这意味着，对于每一个探测到的敌人，激光都必须检查谁是最近的。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mf"><img src="../Images/9c1dab300159689eab723d3efb713f18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Ehe-pJsGmBTpTwjUhyeIA.png"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">为了获得最近的接触，激光必须绕过探测到的敌人。这是一个有点昂贵的操作，因此，为了应对这一点，这就是为什么我选择使用协程，以避免每帧检查碰撞器/目标。</figcaption></figure><ul class=""><li id="ac00" class="le lf hi jl b jm jn jp jq js lr jw ls ka lt ke ll lm ln lo bi translated">如果选择了一个目标，游戏对象将朝着激光和选择的目标之间的方向旋转。在任何情况下，激光总是以恒定的速度沿其局部轴线向上运动。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mg"><img src="../Images/d6c6607a38c4b5640b98ad89d0a0183a.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*WMqrRMN8RGbxL07NSEAlKw.png"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mh"><img src="../Images/189c910ee98b41560a8d1a430afd3743.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZdvX185KX_68lyx_xPv9Mw.png"/></div></div></figure><ul class=""><li id="6924" class="le lf hi jl b jm jn jp jq js lr jw ls ka lt ke ll lm ln lo bi translated">当选择的敌人没有生命了，或者失去了对该敌人的参照时，目标被取消选择。激光会锁定那个敌人，直到敌人被消灭，我们也跳过了寻找敌人的昂贵操作。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mi"><img src="../Images/811457deeff0f25a37e27d1445b2decd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UraE2XScQ9ZgC3LAlHIBSg.png"/></div></div></figure><ul class=""><li id="11ea" class="le lf hi jl b jm jn jp jq js lr jw ls ka lt ke ll lm ln lo bi translated">当激光接触到一个<strong class="jl hj">可伤害的</strong>实体时，对该实体造成伤害并自毁(或自失能)。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mj"><img src="../Images/354c6e1fca209156ed4729b66d8f70af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*L77Cz3yiCkVYPjbtVUXdUw.png"/></div></figure><ul class=""><li id="4af5" class="le lf hi jl b jm jn jp jq js lr jw ls ka lt ke ll lm ln lo bi translated">如果激光在水平轴上离开屏幕，激光将会绕回并从离开屏幕的另一侧再次进入。同样，如果它存在于垂直方向，它将自毁/自失能。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mk"><img src="../Images/8edda7ca1961b9bc4893c661f1456cec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uXknH5Yl_XK_bb375Em2bQ.png"/></div></div></figure><ul class=""><li id="2ec9" class="le lf hi jl b jm jn jp jq js lr jw ls ka lt ke ll lm ln lo bi translated">作为一个临时演员，为了平衡/调试的目的，我想想象一下激光的半径。为此，我使用了<strong class="jl hj"> <em class="md">小发明</em> </strong>。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ml"><img src="../Images/7d420db2c8493408d9b4076be4c662f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*zkjR7DuuUapU4TE_3Inv2A.png"/></div></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mm"><img src="../Images/35368498a8315e6e8199bd16139665ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rCHNg8tS3kHt6Vj9b6MoyQ.png"/></div></div></figure></div><div class="ab cl kf kg gp kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hb hc hd he hf"><h1 id="5065" class="km kn hi bd ko kp kq kr ks kt ku kv kw io kx ip ky ir kz is la iu lb iv lc ld bi translated">最终结果</h1><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/e1079f4dca5b42f25955cbb785e3c012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2vCR_sTJ81q1_AMj8GKgxQ.gif"/></div></div><figcaption class="lv lw et er es lx ly bd b be z dx translated">有时，一个基本特性有其自身的复杂性。只要记住，当你估计编码一需要多少时间的时候。</figcaption></figure></div></div>    
</body>
</html>