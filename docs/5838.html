<html>
<head>
<title>Natural Language Processing for Detecting Victims in Emergency Situations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于在紧急情况下检测受害者的自然语言处理</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/natural-language-processing-for-detecting-victims-in-emergency-situations-1f8776926c7?source=collection_archive---------4-----------------------#2021-11-23">https://medium.com/nerd-for-tech/natural-language-processing-for-detecting-victims-in-emergency-situations-1f8776926c7?source=collection_archive---------4-----------------------#2021-11-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c9e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如何在紧急情况下使用社交媒体帖子和文本来提高急救人员和援助机构的覆盖范围和响应时间。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/afd6643ee1bd62c7b867314eeceafa8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o1jFKC-hKn0pqEAeESpVMg.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图片:sunnewsonline.com</figcaption></figure><p id="e371" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">火灾、洪水、山体滑坡、长期饥饿、流行病、武装冲突或入侵、交通事故、地震甚至狂风、危机和灾难都是我们日常生活的一部分。它们倾向于定义我们之间以及与自然环境的互动方式。</p><p id="fe2d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一件正在不断重新定义我们在现代如何与自己互动的事情是社交媒体。通过它的力量，接触和覆盖面是人类历史上前所未有的。利用社交媒体的无处不在和机器学习的力量，我们可以在多大程度上改善我们的生活，并为尼日利亚的危机提供及时的援助。</p><p id="bd76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这种动机——使用社交媒体帖子和文本来发现紧急情况下需要救济的人——定义了我试图应对的挑战的范围。请跟着我一起看我的作品。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="b245" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">资料组</h1><p id="b3be" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">对于这项工作，所需的数据集是危机后社交媒体帖子和短信的集合，并带有用于确定所需援助方式的注释。</p><p id="d33a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获取所需数据集的一种方法是从 Twitter 和脸书等社交平台上繁琐地抓取、过滤、清理和标记数万条信息。根据人力情况，这种方法需要一个月又一个月的艰苦的人工工作，但是它提供了对数据分发的最佳控制，并且可以很容易地针对特定的位置或地区进行定制。</p><p id="d1b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">幸运的是，<a class="ae ld" href="http://www.appen.com/" rel="noopener ugc nofollow" target="_blank"> FigureEight 公司，现在的阿彭</a>，已经做了所有收集这些数据的艰苦工作。<a class="ae ld" href="https://github.com/joshasgard/Disaster-Response-App/tree/master/data" rel="noopener ugc nofollow" target="_blank">图 8 灾难响应数据集</a>由 26249 条灾后信息组成，这些信息是在几次灾难后从几个平台上提取的。然后，每条消息都用二进制标签(0 或 1)标注了 36 个预定义的 aid 类别。</p><p id="ac70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为清楚起见，如果消息在特定 aid 类别下具有标签“1 ”,则意味着消息编写器需要该 aid，而标签“0”则意味着相反。总之，这个数据集非常适合建立一个模型，通过他们的社交媒体帖子来检测需要帮助的人。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="caa8" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">方法学</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es le"><img src="../Images/f664942d26f83710c6733b0fd0d90476.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*dU3_swKBNpGK5YvL0ydb_A.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">机器学习管道(来源 GOSMAR。欧盟)</figcaption></figure><p id="72e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于目标是建立一个可以在危机期间接收数千条原始文本消息并检测需要紧急援助的人的帖子的模型，因此需要开发一个数据清理(或处理)管道和一个用于训练模型的机器学习管道。</p><h2 id="152a" class="lf kb hi bd kc lg lh li kg lj lk ll kk iq lm ln ko iu lo lp ks iy lq lr kw ls bi translated">ETL 管道</h2><p id="eb9d" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">ETL 是<a class="ae ld" href="https://www.snowflake.com/guides/etl-pipeline#:~:text=An%20ETL%20pipeline%20is%20the,and%20move%20it%20to%20another." rel="noopener ugc nofollow" target="_blank">提取-转换-加载</a>的简称。ETL 管道代表了一组从源中提取数据的过程或步骤。csv 文件)，转换数据并将其加载到数据库中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/0654c7e5566ef2d087138b4d3c909b3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jeEzSzL37wdSx4W2G4PObQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">数据集概述</figcaption></figure><p id="3653" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从上面的概览图可以清楚地看到,<a class="ae ld" href="https://github.com/joshasgard/Disaster-Response-App/tree/master/data" rel="noopener ugc nofollow" target="_blank">“类别”列中的数据集</a>是字符串(字母)和数字(整数)的混合。使用<a class="ae ld" href="https://github.com/joshasgard/Disaster-Response-App/blob/4e1119d792ad214b3d5ee833e0921212d3362952/data/process_data.py" rel="noopener ugc nofollow" target="_blank">定制的 ETL 管道(用 Python 构建)</a>，上面格式的原始文本数据可以被转换，如下所示。</p><p id="ee5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="lu">提取数据</em> </strong></p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="4c56" class="lf kb hi lw b fi ma mb l mc md"><em class="lu">#   Import data files    </em><br/><strong class="lw hj">messages = pd.read_csv(messages_filepath)    <br/>categories = pd.read_csv(categories_filepath) </strong>    <br/><em class="lu">#   Merge datasets    </em><br/><strong class="lw hj">df = pd.merge(messages, categories)</strong></span></pre><p id="18f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="lu">变换数据</em> </strong></p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="b0f1" class="lf kb hi lw b fi ma mb l mc md"><em class="lu">#   Split the categories column into separate columns.    </em> <strong class="lw hj">categories_table = df.categories.str.split(';',expand = True)    categories_table.columns = categories_table.iloc[0].apply(lambda x: x[0:-2])</strong><br/>         <br/><em class="lu">#   Clean class values for each category and cast as numeric.   </em><br/><strong class="lw hj">for column in categories_table:        <br/>categories_table[column]=categories_table[column].str[-1].astype('int')     </strong></span><span id="56d1" class="lf kb hi lw b fi me mb l mc md"><em class="lu">#   Remove duplicates from data.  </em>  <br/><strong class="lw hj">df = df.drop_duplicates(subset='message')     </strong></span><span id="be5c" class="lf kb hi lw b fi me mb l mc md"><em class="lu">#   Filter out 'related' category with non-binary class  </em>  <br/><strong class="lw hj">df = df[df['related']!=2]</strong></span></pre><p id="b3f0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="lu">加载数据到 SQLite 数据库</em> </strong></p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="b1e6" class="lf kb hi lw b fi ma mb l mc md"><em class="lu">#   Create SQL engine with database name    </em><br/><strong class="lw hj">engine = create_engine('sqlite:///'+database_filename)     </strong></span><span id="1c51" class="lf kb hi lw b fi me mb l mc md"><em class="lu">#   Load cleaned data into SQL engine, replacing data in database if #   defined name already exists.  </em>  <br/><strong class="lw hj">df.to_sql(table_name, engine, index=False,if_exists='replace')</strong></span></pre><p id="17ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你有兴趣给代码一个旋转，请访问这里的<a class="ae ld" href="https://github.com/joshasgard/Disaster-Response-App/blob/4e1119d792ad214b3d5ee833e0921212d3362952/data/process_data.py" rel="noopener ugc nofollow" target="_blank">项目回购。</a>ETL 管道的最终产品是一个数据集，可以输入到模型中进行训练。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/e1361b040cf25011caba49d7c965d681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TbzWgiW2HW09thm80XR2Rg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">ETL 产品—“ML 就绪”数据集</figcaption></figure><h2 id="b357" class="lf kb hi bd kc lg lh li kg lj lk ll kk iq lm ln ko iu lo lp ks iy lq lr kw ls bi translated">ML 管道</h2><p id="907a" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">虽然完整的机器学习管道可以说是由数据预处理步骤(ETL)、建模和部署组成，但我将管道分成模块化 python 脚本的逻辑块，以使调试更容易。</p><p id="85a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里使用的的<a class="ae ld" href="https://github.com/joshasgard/Disaster-Response-App/blob/master/models/train_classifier.py#:~:text=pipeline%20%3D%20Pipeline(%5B,multi_clf%27%2C%20MultiOutputClassifier(RandomForestClassifier()))%5D" rel="noopener ugc nofollow" target="_blank"> ML 流水线由四个主要步骤组成:<strong class="ih hj"> <em class="lu">文本矢量化(和标记化)、词频-逆文档频率(Tf-Idf)归一化、分类器模型训练和超参数调优</em> </strong> <em class="lu">。</em></a></p><p id="c65b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当<a class="ae ld" href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html" rel="noopener ugc nofollow" target="_blank">文本矢量化步骤接收我们的原始文本消息</a>并将其转换为令牌(单个单词)计数矩阵时，<a class="ae ld" href="https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfTransformer.html#:~:text=Transform%20a%20count%20matrix%20to%20a%20normalized%20tf%20or%20tf%2Didf%20representation" rel="noopener ugc nofollow" target="_blank"> Tf-Idf 转换器接收令牌计数矩阵并将其转换为标准化的 Tf-Idf 表示</a>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mf"><img src="../Images/57af209ba88f3d77cffeba86152068e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZruGnzIuRwbO4r1QQeyPcw.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">来源:filotechnologia.blogspot.com<a class="ae ld" href="http://filotechnologia.blogspot.com/2014/01/a-simple-java-class-for-tfidf-scoring.html" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><p id="011c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于像这样的分类问题，有相当多的<a class="ae ld" href="https://www.analyticsvidhya.com/blog/2020/11/popular-classification-models-for-machine-learning/" rel="noopener ugc nofollow" target="_blank">算法</a>我们可以训练和验证，以确定性能最好的一个。例如，一个<a class="ae ld" href="https://scikit-learn.org/stable/modules/naive_bayes.html" rel="noopener ugc nofollow" target="_blank">朴素贝叶斯分类器</a>、一个<a class="ae ld" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.AdaBoostClassifier.html?highlight=adaboost#:~:text=An%20AdaBoost%20%5B1%5D%20classifier%20is%20a%20meta%2Destimator%20that%20begins%20by%20fitting" rel="noopener ugc nofollow" target="_blank"> AdaBoost 分类器</a>和一个<a class="ae ld" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html?highlight=random%20forest#:~:text=A%20random%20forest%20is%20a%20meta%20estimator%20that%20fits%20a%20number%20of" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj">随机森林分类器</strong> </a>都适合我们转换后的消息数据，但是随机森林分类器在性能上略胜一筹。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mg"><img src="../Images/49ea4aac54a166ddd43ddb785bb1a78e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gtKarMUmzpx-X2WzKej7bQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">资料来源:freecodecamp.org</figcaption></figure><p id="81e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Scikit-learn 提供了一个易于使用的<a class="ae ld" href="https://scikit-learn.org/stable/modules/generated/sklearn.pipeline.Pipeline.html?highlight=pipeline#:~:text=Pipeline%20of%20transforms%20with%20a%20final%20estimator" rel="noopener ugc nofollow" target="_blank"> ML 管道类</a>，我在这一步利用了它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mh"><img src="../Images/b74b9291b9652da1f650050fa48e6217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*78nHd6Ih3bA90DgYy6VVSw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">sci kit-学习管道</figcaption></figure><p id="aec3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">超参数调整</strong></p><p id="293f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在 ML 管道中对模型进行训练后，我们可以通过选择模型的<a class="ae ld" href="https://www.analyticsvidhya.com/blog/2021/04/evaluating-machine-learning-models-hyperparameter-tuning/" rel="noopener ugc nofollow" target="_blank">最佳超参数</a>来进一步改善模型性能。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="acbe" class="lf kb hi lw b fi ma mb l mc md"><em class="lu">#   Pipeline Hyperparameter Range to tune. </em></span><span id="fa1e" class="lf kb hi lw b fi me mb l mc md"><strong class="lw hj">parameters</strong> = {'vect__ngram_range': ((1,1), (1,2)),        'vect__max_features': (None, 5000, 10000),        <br/>'tf_idf__use_idf': (True, False),        'multi_clf__estimator__min_samples_leaf':[1,2],        'multi_clf__estimator__n_estimators': [10,20,100],        'multi_clf__estimator__max_depth': [None,5,10],        'multi_clf__estimator__min_samples_split': [2,3,5]}</span></pre><p id="1d66" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过<a class="ae ld" href="https://github.com/joshasgard/Disaster-Response-App/blob/master/models/train_classifier.py#:~:text=parameters%20%3D%20%7B,pipeline%2C%20param_grid%3Dparameters)" rel="noopener ugc nofollow" target="_blank">在指定的超参数网格上彻底搜索</a>，用最佳参数重新训练模型并进行评估。为此，我使用了 Scikit-Learn 网格搜索 CV。</p><h2 id="4411" class="lf kb hi bd kc lg lh li kg lj lk ll kk iq lm ln ko iu lo lp ks iy lq lr kw ls bi translated">模型评估</h2><p id="9a50" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">使用精确度、召回率和 F1 分数来评估我们的分类模型的性能。它们通过数学方法计算如下:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mi"><img src="../Images/41995bc5814cc2deda5772985f6cc18b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*_7dNORndjY7pBfO4JGSDfg.jpeg"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">评估指标</figcaption></figure><p id="92e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中正数和负数分别代表上述 36 个援助类别中的 1 和 0。下面是一个表和一个图，显示了每个类别的训练模型性能。<a class="ae ld" href="https://docs.google.com/spreadsheets/d/e/2PACX-1vQcla05za0aPbnYVGSmO4oikXKa2l2PpkGJKp-xKHCytD4JP6NCthH3tksoXDpYWsITyKJfKHUJNW8u/pubchart?oid=819176499&amp;format=interactive" rel="noopener ugc nofollow" target="_blank">点击此处查看更具互动性的指标图</a>。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="0475" class="lf kb hi lw b fi ma mb l mc md">           <strong class="lw hj">  36 Categories  precision    recall  f1-score</strong></span><span id="b769" class="lf kb hi lw b fi me mb l mc md"><strong class="lw hj">               related       0.83      0.96      0.89<br/>               request       0.84      0.49      0.62<br/>                 offer       0.00      0.00      0.00<br/>           aid_related       0.78      0.67      0.72<br/>          medical_help       0.45      0.04      0.07<br/>      medical_products       0.76      0.07      0.14<br/>     search_and_rescue       0.73      0.08      0.14<br/>              security       0.33      0.01      0.02<br/>              military       0.38      0.02      0.04<br/>           child_alone       0.00      0.00      0.00<br/>                 water       0.85      0.45      0.58<br/>                  food       0.84      0.61      0.71<br/>               shelter       0.79      0.40      0.53<br/>              clothing       1.00      0.08      0.15<br/>                 money       0.60      0.03      0.05<br/>        missing_people       1.00      0.01      0.03<br/>              refugees       0.67      0.04      0.08<br/>                 death       0.85      0.19      0.31<br/>             other_aid       0.62      0.04      0.07<br/>infrastructure_related       0.33      0.00      0.01<br/>             transport       0.64      0.04      0.07<br/>             buildings       0.75      0.16      0.26<br/>           electricity       0.67      0.02      0.04<br/>                 tools       0.00      0.00      0.00<br/>             hospitals       0.00      0.00      0.00<br/>                 shops       0.00      0.00      0.00<br/>           aid_centers       0.00      0.00      0.00<br/>  other_infrastructure       0.00      0.00      0.00<br/>       weather_related       0.87      0.62      0.73<br/>                floods       0.90      0.32      0.48<br/>                 storm       0.82      0.36      0.50<br/>                  fire       0.00      0.00      0.00<br/>            earthquake       0.92      0.71      0.80<br/>                  cold       0.57      0.04      0.08<br/>         other_weather       0.50      0.03      0.06<br/>         direct_report       0.81      0.36      0.50<br/></strong></span><span id="acae" class="lf kb hi lw b fi me mb l mc md"><strong class="lw hj">             micro avg       0.82      0.51      0.63</strong></span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mj"><img src="../Images/05ab13b630ebb2659c372f7c9330ad87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D9Nq2kfBaqldXzwhbSB60w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">模型度量</figcaption></figure><p id="1d38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终，为每个援助类别选择要强调(或优先考虑)的评估指标取决于浪费资源来检测一些错误信息(精确度)还是未能检测到一些在紧急情况下需要帮助的人的信息(回忆)，或者甚至两者都有(f1 得分)。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mk"><img src="../Images/8df3115b041f2c158278ce4a77b41c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MYNamsx1qrOQXigP2dx1XQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">数据不平衡</figcaption></figure><ul class=""><li id="4835" class="ml mm hi ih b ii ij im in iq mn iu mo iy mp jc mq mr ms mt bi translated">上面的条形图代表原始数据集中前五个最平衡类别的标签(0 和 1)。大多数其他类别显示了积极(1)和消极(0)标签之间的严重不平衡。比如像<code class="du mu mv mw lw b">'fire', 'missing people', 'offer', 'hospital', 'electricity', and 'transport'</code>这样的重要类别，消息很少。</li><li id="2d98" class="ml mm hi ih b ii mx im my iq mz iu na iy nb jc mq mr ms mt bi translated">即使在网格搜索交叉验证中嵌入了分层抽样来帮助保持类别权重，该模型对于这些类别仍然失败得很惨。<strong class="ih hj">因此，如上所示，我们对这些类别进行了非常高或非常低的精度和(或)召回。</strong></li></ul><p id="038b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">剩下的就是保存训练好的模型以备将来使用，这听起来很简单。只需导入 python Pickle 模块并转储模型。</p><pre class="je jf jg jh fd lv lw lx ly aw lz bi"><span id="df9a" class="lf kb hi lw b fi ma mb l mc md">import pickle<br/>pickle.dump(model, open(model_filepath, ‘wb’))</span></pre><blockquote class="nc nd ne"><p id="ee1c" class="if ig lu ih b ii ij ik il im in io ip nf ir is it ng iv iw ix nh iz ja jb jc hb bi translated"><strong class="ih hj">注</strong>:除非特别说明，本作品所有代码均用<a class="ae ld" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python 3 编写。</a>在项目过程中还使用了其他几个依赖项、库和包。如果你想更深入一点，请访问<a class="ae ld" href="https://github.com/joshasgard/Disaster-Response-App.git" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的资源库，获取你需要的所有脚本和代码(请在那里留下一颗星，⭐️.)</p></blockquote><p id="e165" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你一直跟着我到这一步，干得好！👍</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="85d4" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">部署</h1><p id="838d" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">为了给这个项目注入一点活力，并切实展示训练模型的检测能力，我决定在这个模型上构建并部署一个 web 应用程序。我用<strong class="ih hj"> Flask </strong>框架搭建后端，Bootstrap 和 JQuery 用来设计界面。如果你想去兜一圈，点击<a class="ae ld" href="https://detect-aid-messages.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">这里</a>参观，风险自负😅。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ni"><img src="../Images/41b60edf8ffecb95aba3a6d4463cecc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tDLyjOavbsTYJOa_RfNiaw.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">Web 应用程序界面</figcaption></figure></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><h1 id="eea8" class="ka kb hi bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">结论</h1><p id="d922" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">我对该解决方案在尼日利亚不同地区的应用范围感到兴奋。在危机和紧急情况下，数百万人在尼日利亚的社交媒体平台上发布实时更新和呼救。f1 平均得分为 63%,这个项目为开发更好的解决方案用于我们的社区开辟了一个可能性的世界。</p><p id="c462" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我在这里应用的方法可以改进。例如，最近一位更有经验的评论家告诉我，使用贝叶斯优化调优的<a class="ae ld" href="https://aiinpractice.com/xgboost-hyperparameter-tuning-with-bayesian-optimization/" rel="noopener ugc nofollow" target="_blank"> XGBoost 可以获得更好的性能</a>。</p></div><div class="ab cl jt ju gp jv" role="separator"><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy jz"/><span class="jw bw bk jx jy"/></div><div class="hb hc hd he hf"><blockquote class="nj"><p id="bb3b" class="nk nl hi bd nm nn no np nq nr ns jc dx translated">非常感谢您花时间通读！如果你也看到了这种解决方案的潜力，请鼓掌👏，留下评论，最重要的是，分享，分享，分享👊！！！！</p></blockquote><p id="a6c7" class="pw-post-body-paragraph if ig hi ih b ii nt ik il im nu io ip iq nv is it iu nw iw ix iy nx ja jb jc hb bi translated">如果你想复制这项工作，改进这种方法，或者只是没有足够的技术细节，请访问<a class="ae ld" href="https://github.com/joshasgard/Disaster-Response-App.git" rel="noopener ugc nofollow" target="_blank"> GitHub </a>获取代码以及如何重用它们。特别感谢<a class="ae ld" href="http://Udacity.com" rel="noopener ugc nofollow" target="_blank"> Udacity </a>团队在本次工作中给予的指导和反馈。</p><p id="2c30" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想在其他有趣的项目上合作，或者想分享一些新的见解，请通过<a class="ae ld" href="https://www.linkedin.com/in/idowu-odesanmi" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae ld" href="https://twitter.com/id_joshua" rel="noopener ugc nofollow" target="_blank"> Twitter </a>联系我，或者通过邮件联系 idowuodesanmi@gmail.com。</p></div></div>    
</body>
</html>