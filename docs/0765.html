<html>
<head>
<title>Micro Frontends Hands-On Example Using React, Webpack 5, and Module Federation: Adding a third React Micro Frontend</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微前端使用 React、Webpack 5 和模块联合的实践示例:添加第三个 React 微前端</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/micro-frontends-hands-on-example-using-react-webpack-5-and-module-federation-adding-a-third-2fe8c61a73f?source=collection_archive---------1-----------------------#2021-02-12">https://medium.com/nerd-for-tech/micro-frontends-hands-on-example-using-react-webpack-5-and-module-federation-adding-a-third-2fe8c61a73f?source=collection_archive---------1-----------------------#2021-02-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a441dcdf8a4259b0e5e16e10aa44ba1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FDRdVe-JjES0B5vXIsn5sQ.gif"/></div></div></figure><p id="e68d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这篇文章是上一篇文章的延续</p><div class="jo jp ez fb jq jr"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/micro-front-ends-hands-on-project-63bd3327e162"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hj fi z dy jw ea eb jx ed ef hh bi translated">微前端:动手项目</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">准备好您的机器并安装节点，如果需要，请按照下面的文章/视频操作:</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">medium.com</p></div></div><div class="ka l"><div class="kb l kc kd ke ka kf io jr"/></div></div></a></div><p id="b66f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最终代码可在以下网址找到</p><div class="jo jp ez fb jq jr"><a href="https://github.com/ranyelhousieny/micro-front-ends" rel="noopener  ugc nofollow" target="_blank"><div class="js ab dw"><div class="jt ab ju cl cj jv"><h2 class="bd hj fi z dy jw ea eb jx ed ef hh bi translated">ranyelhousieny/微前端</h2><div class="jy l"><h3 class="bd b fi z dy jw ea eb jx ed ef dx translated">通过在 GitHub 上创建帐户，为 ranyelhousieny/微前端开发做出贡献。</h3></div><div class="jz l"><p class="bd b fp z dy jw ea eb jx ed ef dx translated">github.com</p></div></div><div class="ka l"><div class="kg l kc kd ke ka kf io jr"/></div></div></a></div><p id="209a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到目前为止，我们还没有使用 React。在下面的文章中，我们将添加第三个微前端 react-microfrontend-3</p><p id="e72f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npx 创建-反应-应用反应-微前端-3</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ea3bc483735f5f8145e03e4081264a89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nae7XyrPT-auisJXr_Z31g.gif"/></div></div></figure><p id="21a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们进入新创建的文件夹 cd react-microfrontend-3</p><p id="a5e2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">cd 反应-微前端-3</p><p id="a901" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后使用代码打开 VSCode。</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/54eed8a5cc58f99e691da725916b41c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*tRZZfjr7Fc77i5HllFsBgw.gif"/></div></div></figure><p id="a7fa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当 Visual Studio 代码打开时，导航到 react-micro frontend-3/src/index . js，并将其重命名为 bootstrap.js，如下所示</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kl"><img src="../Images/83118047333c34b6c1901763ec0a4976.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/1*4UgQAKLhbfb8LmECueqbsw.gif"/></div></figure><p id="5922" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在将 container/src/index.js 复制到 react-micro frontend-3/src/index . js 如下图所示:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es km"><img src="../Images/2a239e39a531f723e9b79571b5de74d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/1*Tc9fHIMQRuG2xiaNsb70zA.gif"/></div></figure><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kn"><img src="../Images/1cfb54a56b1f55d6563ea2bdcf8f6b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*x4pfn77ocsuw73-rawlt6Q.png"/></div></figure><p id="c7b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在 react-micro frontend-3/src/app . js 中，将所有内容替换为以下内容</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="75f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是最简单的 React App 组件。让我们从小做起，这样我们就可以慢慢成长</p><p id="bc75" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">保存文件</p><p id="550e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将微前端-2/webpack.config 复制到 react-微前端-3/</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es kq"><img src="../Images/280d8c807def744266bba3e9ad421b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/1*sQ25H2EgiWflHcuGtH3x0A.gif"/></div></figure><p id="7977" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按如下方式更改文件和端口中的名称:</p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/08a21123417dec965a8fe6742ad2b61a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NRJDuzmzmRV7iMtdNPMkng.png"/></div></div></figure><p id="feae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">保存文件</p><p id="37db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们来看棘手的部分。我们需要一些规则来将 JSX 翻译成任何浏览器都能理解的 JavaScript ES5。在前两个组件中，我们不必这样做，因为它们是普通的 JavaScript。</p><ol class=""><li id="0e41" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated"><strong class="is hj">为巴别塔添加一个加载器</strong></li></ol><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="5068" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它是一个模块对象</p><p id="bd15" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">模块{}</p><p id="77ba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个模块对象包含一个规则列表</p><p id="dc3b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">规则:[]</p><p id="b89c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个数组中，我们将有对象</p><p id="c542" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对象中的第一项是 is test: /\。js？$/，这一行只是要求 babel 编译扩展名为的文件。js 至 ES5</p><p id="700e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后我们将 node_modules 目录从 babel 中排除。Babel 不会编译这个目录中的任何文件</p><p id="7065" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是完整的文件</p><figure class="kh ki kj kk fd ij"><div class="bz dy l di"><div class="ko kp l"/></div></figure><p id="4c4f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将 serve 添加到<strong class="is hj">中的脚本<em class="lb">package . JSON</em>T5】</strong></p><figure class="kh ki kj kk fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/e0f8d325a85abbb63c7072365a5c17f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*R8fesis-DvJ2TPbx.png"/></div></div></figure><p id="1182" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">确保保存</p><h2 id="2220" class="ld le hi bd lf lg lh li lj lk ll lm ln jb lo lp lq jf lr ls lt jj lu lv lw lx bi translated">安装 react-microfrontend-3 的依赖项</h2><p id="3223" class="pw-post-body-paragraph iq ir hi is b it ly iv iw ix lz iz ja jb ma jd je jf mb jh ji jj mc jl jm jn hb bi translated">启动终端(ctrl +`)</p><p id="e6be" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行以下命令</p><p id="bb6a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npm 安装 web pack web pack-CLI web pack-服务器 html-web pack-插件</p><p id="29ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行 npm install 以确保所有内容都已安装</p><p id="1bed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npm 运行 webpack</p><p id="b60e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">并浏览<a class="ae md" href="http://localhost:8083/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8083/ </a></p><figure class="kh ki kj kk fd ij er es paragraph-image"><div class="er es me"><img src="../Images/0fbdd68bf54213096bdf8726c70812ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*rXcnVvlcc8CT9CFFh_oTGw.png"/></div></figure><p id="8f70" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于一个完整的一步一步的项目，请遵循以下文章</p><p id="8712" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae md" href="https://www.linkedin.com/pulse/micro-frontends-hands-on-example-using-react-webpack-rany/" rel="noopener ugc nofollow" target="_blank">https://www . LinkedIn . com/pulse/micro-frontends-hands-on-example-using-react-web pack-rany/</a></p></div></div>    
</body>
</html>