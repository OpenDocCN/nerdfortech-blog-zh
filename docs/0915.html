<html>
<head>
<title>Lakehouse, it’s evolution and Implementation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">莱克豪斯，它的发展和实施</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/lakehouse-its-evolution-and-implementation-4e9ef4b912da?source=collection_archive---------8-----------------------#2021-02-22">https://medium.com/nerd-for-tech/lakehouse-its-evolution-and-implementation-4e9ef4b912da?source=collection_archive---------8-----------------------#2021-02-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/1b669e9d2145f779793ff189a4559c19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NQLeVSs7R2doD79v8-eqEA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">湖畔小屋——简介</figcaption></figure><div class=""/><p id="ea19" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi js translated">我们今天所知的数据仓库架构将在未来几年消亡，取而代之的是一种新的架构模式，即<strong class="iw hy"> Lakehouse </strong>，它将基于开放的直接访问数据格式，如Apache Parquet，为机器学习和数据科学提供一流的支持，并提供一流的性能。</p><p id="0da8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">数据仓库的历史始于通过将运营数据库中的数据收集到集中式仓库中来帮助企业领导者获得分析见解，然后这些数据可用于决策支持和商业智能(BI)。这些仓库中的数据将使用写时模式写入，这确保了数据模型针对下游BI消费进行了优化。</p><h1 id="0483" class="kb kc hx bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">第一代</strong></h1><p id="cb7f" class="pw-post-body-paragraph iu iv hx iw b ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr hb bi translated">十年前，第一代系统开始面临一些挑战。首先，他们通常将计算和存储整合到一个本地设备中。这迫使企业为峰值用户负载和受管理的数据进行调配和付费，随着数据集的增长，这变得非常昂贵。其次，不仅数据集在快速增长，而且越来越多的数据集完全是非结构化的，例如视频、音频和文本文档，这些数据仓库根本无法存储和查询。</p><figure class="lf lg lh li fd hk er es paragraph-image"><div class="er es le"><img src="../Images/bccdd9cefdb84e5611c1033f32933aa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*ZNPwUC3iwlZ6dFlBZviwgA.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">第一代</figcaption></figure><h1 id="0602" class="kb kc hx bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">第二代</strong></h1><p id="9909" class="pw-post-body-paragraph iu iv hx iw b ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr hb bi translated">为了解决这些问题，<strong class="iw hy"> <em class="lj">第二代</em> </strong>数据分析平台开始将所有原始数据卸载到数据湖中:具有文件API的低成本存储系统，以通用且通常开放的文件格式保存数据，如Apache Parquet和ORC。这种方法始于Apache Hadoop运动，使用Hadoop文件系统(HDFS)实现廉价存储。在这种架构中，湖中的一小部分数据稍后将被ETL到下游数据仓库(如Teradata ),用于最重要的决策支持和BI应用程序。</p><figure class="lf lg lh li fd hk er es paragraph-image"><div class="er es le"><img src="../Images/44ccc3b8b40f3d62631e9381012f8b0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*mZpe4lqu9dOgdtfhUUZfPQ.png"/></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">第二代</figcaption></figure><p id="18ee" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">从2015年开始，云数据湖，如S3、ADLS和GCS，开始取代HDFS。它们具有卓越的耐用性(通常大于10个9)、地理复制性，最重要的是，成本极低，可以自动进行甚至更便宜的存档存储，例如AWS Glacier。该架构的其余部分在云中与第二代系统基本相同，有一个下游数据仓库，如Redshift或Snowflake。</p><p id="fb05" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">根据我们的经验，这种<strong class="iw hy">双层数据湖+仓库架构</strong>现在在行业中占主导地位。</p><p id="46ea" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="lj">这种混合架构通常会遇到4大问题。</em></p><p id="6656" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">可靠性:-保持数据湖和数据仓库的一致性既困难又昂贵。</p><p id="55e6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">数据陈旧性:-与数据湖中的数据相比，仓库中的数据是陈旧的。</p><p id="9c73" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对高级分析的支持有限:-无法对仓库数据提出预测性问题。</p><p id="9598" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">冗余存储的额外成本:-数据湖和仓库中的冗余数据。</p><h1 id="c63f" class="kb kc hx bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">介绍湖边小屋建筑</strong></h1><p id="2bd2" class="pw-post-body-paragraph iu iv hx iw b ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr hb bi translated">湖屋建筑将解决所有这些问题。<em class="lj">我们将Lakehouse定义为基于低成本且可直接访问的存储的数据管理系统，该系统还提供传统的分析DBMS管理和性能特性，如ACID事务、数据版本控制、审计、索引、缓存和查询优化</em>。因此，Lakehouse结合了数据湖和数据仓库的主要优点:前者是一种开放格式的低成本存储，可供各种系统访问，而后者具有强大的管理和优化功能。</p><h1 id="0529" class="kb kc hx bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">实施湖边小屋系统</strong></h1><p id="73cd" class="pw-post-body-paragraph iu iv hx iw b ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr hb bi translated">实现Lakehouse的第一个关键思想是让系统使用标准文件格式(如Apache Parquet)将数据存储在低成本的对象存储中(如亚马逊S3 ),但在对象存储之上实现事务性元数据层，该层定义哪些对象是表版本的一部分。最近的几个系统，包括Delta Lake、Apache Iceberg和Apache胡迪，都以这种方式成功地为数据湖添加了事务性特性。</p><figure class="lf lg lh li fd hk er es paragraph-image"><div class="er es le"><img src="../Images/6a1bf305bce04d31d35f24e89bc6515b.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*-GIaoLXSKLeT8PS0ARpZeQ.png"/></div></figure><p id="277f" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">尽管元数据层增加了管理功能，但不足以实现良好的SQL性能。数据仓库使用多种技术来获得一流的性能，例如将热数据存储在SSD等快速设备上，维护统计数据，构建索引等高效的访问方法，以及共同优化数据格式和计算引擎。在基于现有存储格式的Lakehouse中，不可能更改格式，但可以实现其他优化，使数据文件保持不变，包括缓存、辅助数据结构(如索引和统计数据)以及数据布局优化。</p><p id="9827" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy"><em class="lj"/></strong></p><p id="8ee7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae lk" href="http://www.databricks.com" rel="noopener ugc nofollow" target="_blank"> Databricks </a>使用Delta Lake、Delta Engine和Databricks ML运行时项目，基于这一设计构建了一个lake house平台。</p><p id="9ca5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">具有查询优化器、本机执行引擎(Photon)和缓存层的多集群负载平衡SQL端点加速了lake house上的所有工作负载。</p><figure class="lf lg lh li fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ll"><img src="../Images/0050c287a0e2edec917654bcc5f37bf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZPxihgkDwN8ev7rw94kgdA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">湖边小屋建筑</figcaption></figure><h1 id="c3d0" class="kb kc hx bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">结论</strong></h1><p id="a53b" class="pw-post-body-paragraph iu iv hx iw b ix kz iz ja jb la jd je jf lb jh ji jj lc jl jm jn ld jp jq jr hb bi translated">你的数据分析实践还停留在老一代吗？为了充分利用您的数据，现在是您转变观念，迎接数据处理和管理的未来的时候了。</p><p id="d2dd" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们提供关于使用Databricks实现Lakehouse架构的高级咨询。</p><p id="b3a7" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae lk" href="https://www.hifx.in" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hy"> <em class="lj">关于HiFX </em> </strong> </a></p><p id="0f6c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="lj">成立于2001年，我们是一群充满激情的技术专家，专注于追求卓越，致力于为客户提供高质量、高性价比的解决方案。</em></p><p id="2887" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="lj">在HiFX，我们理解拥有大量不同的数据而没有任何可操作的见解的痛苦。</em></p><p id="b2da" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="lj">通过各种来源以结构化和非结构化形式积累的庞大而复杂的数据，蕴含着与各种规模的组织的成功发展相关的重要业务洞察力。借助HiFX战略顾问团队，将这些Pb级数据转化为实时见解，以增强您的业务策略并提高您组织的收入。我们提供的解决方案将把您的组织转变为数据驱动的发电站。</em></p></div></div>    
</body>
</html>