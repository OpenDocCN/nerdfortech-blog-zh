<html>
<head>
<title>AGSI Data Storage</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AGSI 数据存储</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/agsi-data-storage-df40490adf7d?source=collection_archive---------2-----------------------#2022-10-11">https://medium.com/nerd-for-tech/agsi-data-storage-df40490adf7d?source=collection_archive---------2-----------------------#2022-10-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="cd59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">////////////////////////////////////////////////////////////////////////////</p><p id="ec0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">AGSI 数据存储报告</p><p id="05c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">_____________________________________________________________</p><p id="d4c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">maXbox Starter 99 作为时间轴 AGSI 数据集的存储气体的数据表示。</p><p id="4bd1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据科学家有很多种:</p><p id="60d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a)潜心钻研数据的人是最好的。</p><p id="d4f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个数据科学教程解释了所谓的 AGSI 数据存储和他的时间线可视化。AGSI 是一个总的气体存储库存，只要我们的数据提供商在网站上发布新的服务公告或更新，您就可以随时了解最新信息。</p><p id="7fc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">欧洲天然气基础设施公司(GIE)也在 https://www.gie.eu/publications/maps/<a class="ae jd" href="https://www.gie.eu/publications/maps/" rel="noopener ugc nofollow" target="_blank">提供相关数据，如储存地图和储存投资数据库</a></p><p id="a778" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据的结果将如下图所示:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/d765fa3caffc9f56147b2adce4f2f3e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lEnKyy8iYlM8P_gWwcUx2Q.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">时线</figcaption></figure><p id="9848" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Pic: 1154_agsi_plot13.png</p><p id="117b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们使用<em class="ju"> WinHttp。WinHttpRequest </em>、<em class="ju"> JSONObjects </em>和<em class="ju"> TEECharts </em>库加载并测试剧情。还需要一个 API 密钥，首先在:<a class="ae jd" href="https://agsi.gie.eu/account" rel="noopener ugc nofollow" target="_blank">https://agsi.gie.eu/account</a>获取密钥</p><p id="eaaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该数据代表前一个气体日结束时储存的气体。数据每天在欧洲中部时间 19:30 更新，23:00 更新一次。在我们深入研究代码之前，这是脚本的主要部分:</p><blockquote class="jv jw jx"><p id="5220" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">plotform:= getForm2(1400，600，clsilver，' sciplot 4 max box ')；<br/>plot form . icon . loadfromresourcename(h instance，' ZHISTOGRAM ')；</p><p id="0e87" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">http response:=<br/>getenergystreamjson 2(URL _ AGS iapi 2，' DE，2022–01–03，150 '，AGSI _ API key)；</p><p id="0853" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">JSON2Plot(plotform，letgeneratejson 2(HttpResponse))；</p></blockquote><p id="331f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">主要部分生成一个表单，调用 API 并绘制数据。</p><p id="356a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GIE 在其 AGSI 和 ALSI 透明出版物平台上提供 API(应用程序编程接口)服务。</p><p id="d003" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用 API 访问，消费者可以绕过 AGSI 和 ALSI 网站，直接和持续地获得数据。它能够提取、过滤、聚合数据，并根据需要创建任何子集，而不必从网站上单独下载每个数据集。API 导出格式是 JSON。例如 150 天的子集:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/02b96625f502275cb739c3c9e4934f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zzNZWCzs7zytvwuxmgVZqQ.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">存储子集</figcaption></figure><p id="3e25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Pic: 1154_agsi_plot14.png</p><p id="48a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">公布的数据集基于提供给宏碁的 EIC 代码映射表。存储数据按公司和国家汇总。</p><p id="daec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过电话，我传递国家、开始日期和天数:</p><blockquote class="jv jw jx"><p id="8e78" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">getenergystreamjson 2(URL _ AGS iapi 2，' DE，2022–01–03，150 '，AGSI _ API key)；</p></blockquote><p id="06b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所有可用的数据集也可以 Excel、CSV 和 JSON 格式下载。此报告中的数据显示了一个聚合视图—还可以访问按公司和存储设施划分的单个数据集。</p><p id="c526" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以让我们从 API 调用开始:</p><blockquote class="jv jw jx"><p id="d61c" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">http response:=<br/>getenergystreamjson 2(URL _ AGS iapi 2，' DE，2022–01–03，150 '，AGSI _ API key)；</p></blockquote><p id="ec97" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个命令和脚本运行<em class="ju"> WinHttp。WinHttpRequest </em>。当您失败时，您会得到一系列异常，如下所示:</p><p id="5435" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">例外:WinHttp。WinHttpRequest:完成此操作所需的数据尚不可用；或者您丢失了一个有效的密钥:</p><h2 id="6391" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">AGSIPost:获取响应失败:403 <em class="kw"> { </em></h2><h2 id="a4ff" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated"><em class="kw">【错误】:{ </em></h2><h2 id="376c" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated"><em class="kw">【代码】:403，</em></h2><h2 id="4d15" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated"><em class="kw"> "message ":"请求缺少有效的 API 密钥。"，</em></h2><h2 id="8489" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated"><em class="kw">“状态”:“权限 _ 被拒绝”</em></h2><h2 id="b1b8" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated"><em class="kw"> } </em> }</h2><p id="b4cf" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">有趣的是 JSON 格式的异常。当我从 Git 得到你的密钥时，也要小心暴露你的密钥:<em class="ju"> GitGuardian </em>已经检测到你的 GitHub 账户中暴露了以下 Google API 密钥。</p><p id="515e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来是用函数<em class="ju"> energyStream() </em>中的有效 API-key 请求格式化 get-call</p><blockquote class="jv jw jx"><p id="5cb1" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">函数</strong> getEnergyStreamJSON2(AURL，feedstream，aApikey: <strong class="ih hj">字符串</strong> ): <strong class="ih hj">字符串</strong>；</p><p id="046c" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi">…</p><p id="04e6" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">encodURL:= Format(AURL，[HTTPEncode(asp[0])，(asp[1])，ASP[2]])；</p><p id="f27d" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">writeln(encodurl)//调试</p><p id="2201" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">hr:= httpRq。Open('GET '，encodURL，false)；</p><p id="b6af" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">httprq . setrequestheader(' user-agent '，user agente)；</p><p id="6bc4" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">httpRq.setRequestheader('x-key '，aapi key)；</p></blockquote><p id="20d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">…</p><p id="e304" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">精彩的内容类型在哪里？据我所知，在 web 请求中只有两个地方可以设置内容类型:</p><ol class=""><li id="d66b" class="lc ld hi ih b ii ij im in iq le iu lf iy lg jc lh li lj lk bi translated">客户端为他发送到服务器的主体设置内容类型(例如 get 和 post)。</li><li id="9602" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated">服务器为响应设置内容类型。</li></ol><p id="9322" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">生成包含有效载荷主体的消息的发送方必须在该消息中生成内容类型报头字段，除非所封装的表示的预期媒体类型对于发送方是未知的；否则，我们无法获得响应:503503-服务不可用。</p><h2 id="5e96" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">(' headers = { " Content-Type ":" application/JSON " } ')</h2><h2 id="a94b" class="kb kc hi bd kd ke kf kg kh ki kj kk kl iq km kn ko iu kp kq kr iy ks kt ku kv bi translated">httprq . setrequestheader(' Content-Type '，application/JSON)；</h2><p id="bc94" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">这意味着应该只为 PUT 和 POST 请求设置 content-type HTTP 头。GET 请求可以有“Accept”头，它表示客户端理解哪种类型的内容。然后，服务器可以使用它来决定发送回哪种内容类型。</p><p id="3254" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为一个选项，您也可以使用<em class="ju"> TALWinInetHttpClient </em>。这是一个易于使用的基于 WinInet 的协议，并支持 HTTPs。HTTP 客户端组件，允许通过 HTTP 协议从 Web 上发布和获取任何数据。</p><blockquote class="jv jw jx"><p id="b609" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">函数</strong>TALHTTPClient _ Get(aUrl:ansi string；feedstream，aApikey: <strong class="ih hj">字符串</strong> ): <strong class="ih hj">字符串</strong>；</p><p id="daf9" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">Var</strong>LHttpClient:TALWininetHttpClient；ASP:tstring array；</p><p id="8ca8" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">begin<br/></strong>LHttpClient:= talwininethttpclient . create；<br/> asp:= splitStr(feedstream，'，')；<br/>lhttpclient . URL:= Format(AURL，[HTTPEncode(asp[0])，(asp[1])，ASP[2]])；LHttpClient。request method:= http mt _ Get；<em class="hi">//http RM _ Post；<br/> </em> LHttpClient。request header . user agent:= user agente；<br/> LHttpClient。request header . RawHeaderText:= ' x-key:'+aapi key；</p><p id="58f7" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">尝试<br/> </strong>结果:= LHttpClient。get1(lhttpclient . URL)；<em class="hi">//过载；<br/> </em> <strong class="ih hj">最后<br/> </strong> LHttpClient。免费；<br/> <strong class="ih hj">结束</strong>；<br/> <strong class="ih hj">结束</strong>；</p></blockquote><p id="09d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">任何缺失或不完整的数据也可以在 AGSI 上看到。接下来，我们使用<em class="ju"> TJSONObject </em>来转换我们的 JSON 响应:</p><blockquote class="jv jw jx"><p id="42b3" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">函数</strong>letgeneratejson 2(HttpRqresponseText:<strong class="ih hj">string</strong>):TJSONArray；<br/>T22】varjo:tjson object；</p><p id="7441" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">begin<br/></strong>jo:= tjson object。create 4(HttpRqresponseText)；<br/><strong class="ih hj">try<br/></strong><em class="hi">//writeln(jo . getstring(' data ')；<br/></em>writeln(itoa(jo . getjsonarray(' data ')。getjsonobject(0)。length))<br/>writeln(itoa(jo . getjsonarray(' data ')。length)) <br/>结果:= jo . getjsonarray(' data ')；</p><p id="aa38" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><em class="hi">//写出检查<br/></em><strong class="ih hj">for</strong><strong class="ih hj">it</strong>:= 0<strong class="ih hj">to</strong>result . length-1<strong class="ih hj">do<br/></strong>writeln(result . getjsonobject(<strong class="ih hj">it</strong>)。getstring(' gasDayStart ')+':'+<br/>result . getjsonobject(<strong class="ih hj">it</strong>)。getstring(' injection ')；</p><p id="df47" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">exception<br/></strong>writeln(' EJson:'+exception string(exception type，exception param))；<br/> <strong class="ih hj">结束</strong>；<br/> <strong class="ih hj">结束</strong>；</p></blockquote><p id="b705" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且这个 JSON 数组作为上面的函数返回，我们传递到下一个图:</p><blockquote class="jv jw jx"><p id="4ec5" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">程序</strong>JSON 2 plot(form 1:t form；jar:TJSONArray)；<br/><strong class="ih hj">var</strong>chart 1:t chart；cnt:整数；sumup，tmp2，tmp:double；gday: <strong class="ih hj">字符串</strong>；</p><p id="b925" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">begin<br/></strong>Form 1 . onclose:= @ Form _ close click；<br/>chart 1:= chart 注射器(form 1)；<br/>sumup:= 0；tmp 2:= 0；tmp:= 0；<br/> <strong class="ih hj">试试</strong></p><p id="d268" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">for</strong>CNT:= 0<strong class="ih hj">to</strong>jar . length-1<strong class="ih hj">do</strong>T83】begin<br/><em class="hi">//writeln(locate . getjsonobject(it))。getstring(' gasDayStart ')+':'+<br/></em>tmp:= jar . getjsonobject(jar . length-1-CNT)。get double(' injection ')；<br/>tmp 2:= jar . getjsonobject(jar . length-1-CNT)。get double(' full ')；<br/>sumup:= sumup+tmp；<br/>gday:= jar . getjsonobject(jar . length-1-CNT)。getstring(' gasDayStart ')；图表 1。系列[0]。Addxy(cnt，tmp，gday，cl green)；<br/>图表 1。系列[1]。Addxy(cnt，tmp2，''，clred)；<br/>图表 1。系列[2]。Addxy(cnt，jar . getjsonobject(jar . length-1-CNT)。getdouble('取款')，''，clyellow)；<br/> <strong class="ih hj">结束</strong>；</p><p id="b042" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated"><strong class="ih hj">除了<br/></strong>writeln(' e plot:'+exception string(exception type，exception param))；<br/> <strong class="ih hj">结束</strong>；</p><p id="4eea" class="if ig ju ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">PrintF(' land range % d:Injection sum:% . 2f '，[jar.length-1，sumup])；<br/> <strong class="ih hj">结束</strong>；</p></blockquote><p id="f0f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如我们所见，我们有 4 个系列要绘制(包括时间线):</p><ol class=""><li id="ddb6" class="lc ld hi ih b ii ij im in iq le iu lf iy lg jc lh li lj lk bi translated">注射(气体日注射)</li><li id="d853" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated">完整(存储/ WGV 百分比)</li><li id="d732" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated">取款(加油日取款(2 位数精度))。</li><li id="ab67" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated">GasDayStart(报告的气体日的开始时间)</li></ol><p id="0215" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">时间序列是气体日的结果，并且趋势是可用的。</p><p id="483a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">“天然气日”是指世界协调时 5:00 至第二天 5:00(冬季时间)和世界协调时 4:00 至第二天 4:00(采用夏令时)的时间段。燃气日在欧洲中部时间被解释为 UTC+1，在 CEST 的夏季时间被解释为 UTC+2。(定义:见 CAM 网络代码规范)。</p><p id="1e84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">API 访问是在一个类似 REST 的接口中提供的(表述性状态转移),以 JSON 格式公开数据库资源，在提到的响应头中有 content-type。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lq"><img src="../Images/6e29ba0b75e3fa25bae8deb279aa5fb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iUZqFaVFlo0al2Njeo5HHg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">头球</figcaption></figure><p id="0aae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">pic:1154 _ JSON _ https _ _ agsi . gie . eu . png</p><p id="8da4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">数据科学愿景的代码包含示例用法，并在 Python3、Delphi、Jupyter-Notebook、Lazarus 和 maXbox4 下运行。请注意，API 服务是免费提供给公众的。只有平台上当前可用的数据才是可用的。</p><p id="18a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">提示:要直接从系统中提取数据，您可以在浏览器中单击其中一个链接(web 流量与 API 流量；-)):</p><p id="efb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">https://agsi.gie.eu/api?type=eu AGSI+<a class="ae jd" href="https://agsi.gie.eu/api?type=eu" rel="noopener ugc nofollow" target="_blank"/></p><p id="a5bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结论:</strong></p><p id="1942" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">GIE 正在为其 AGSI 和 AGSI+存储数据提供 API(应用编程接口)服务。API 文档正在编写中，提供了关于如何使用该服务的示例和指导，注册后可以获得 API 密钥。下图为过去半年的情况:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lr"><img src="../Images/78c789af2bc5a82fdca50b9b8d158af0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qv_fW9Nv6emFxYWKUinPOg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">直到 2022 年 8 月 10 日 1154_agsi_plot15.png</figcaption></figure><p id="179a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">另一种堆叠视图是可能的:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/4443a5c4d8f87cf9775b7dcb47a3c222.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X1Id2VPocRXE-reu1OXAKA.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">1154_agsi_plot14stacked.png</figcaption></figure><p id="a38c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Pic: 1154_agsi_plot15.png</p><p id="91bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可以在以下位置找到脚本和图像:</p><p id="a9b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">【https://github.com/maxkleiner/agsi-data T4】</p><p id="919e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">参考:</p><p id="95ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="http://www.softwareschule.ch/download/maxbox_starter99.pdf" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">http://www.softwareschule.ch/download/maxbox_starter99.pdf</strong></a></p><p id="319f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://agsi.gie.eu/api" rel="noopener ugc nofollow" target="_blank">https://agsi.gie.eu/api</a></p><p id="2419" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://www.gie.eu/transparency-platform/GIE_API_documentation_v006.pdf" rel="noopener ugc nofollow" target="_blank">https://www . GIE . eu/transparency-platform/GIE _ API _ documentation _ v 006 . pdf</a></p><p id="7322" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://svn.code.sf.net/p/alcinoe/code/demos/ALWinInetHTTPClient/_source/Unit1.pas" rel="noopener ugc nofollow" target="_blank">https://SVN . code . SF . net/p/alcinoe/code/demos/ALWinInetHTTPClient/_ source/unit 1 . pas</a></p><p id="c8bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://docwiki.embarcadero.com/Libraries/Sydney/en/System.Net.HttpClient.THTTPClient.Post" rel="noopener ugc nofollow" target="_blank">https://docwiki.embarcadero.com/Libraries/Sydney/en/System.net . http client . thttpclient . post</a></p><p id="4776" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">文件和工具:【https://maxbox4.wordpress.com T2】</p><p id="6910" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">脚本引用:1154 _ energy _ API _ agsi _ plot 14 . txt</p><pre class="jf jg jh ji fd ls lt lu lv aw lw bi"><span id="c747" class="kb kc hi lt b fi lx ly l lz ma"><strong class="lt hj">Appendix: </strong>shows an WinAPIDownload class from maXbox4 integration</span></pre><p id="2088" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="ju">{ *——————————】</em></strong></p><p id="044b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">TWinApiDownload = class(to object)</p><p id="37dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">私人</strong></p><p id="a358" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fEventWorkStart:TEventWorkStart；</p><p id="0947" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fEventWork:TEventWork；</p><p id="f86d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fEventWorkEnd:TEventWorkEnd；</p><p id="21fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fEventError:TEventError；</p><p id="3cd4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fURL: <strong class="ih hj">字符串</strong>；</p><p id="12b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fUserAgent: <strong class="ih hj">字符串</strong>；</p><p id="14cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fs top:Boolean；</p><p id="a6d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fActive:布尔型；</p><p id="25ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fCachingEnabled:Boolean；</p><p id="3572" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">fProgressUpdateInterval:Cardinal；</p><p id="2541" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">函数</strong>GetIsActive:Boolean；</p><p id="66e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">公开</strong></p><p id="a56c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">构造器</strong>创建；</p><p id="28e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">析构器</strong>销毁；<strong class="ih hj">超驰</strong>；</p><p id="1d43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">函数</strong>CheckURL(aURL:<strong class="ih hj">string</strong>):整数；</p><p id="c8e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">函数</strong>下载(Stream: TStream):整数；<strong class="ih hj">过载</strong>；</p><p id="8454" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">函数</strong>下载(<strong class="ih hj">var</strong>RES:<strong class="ih hj">string</strong>):整数；<strong class="ih hj">过载</strong>；</p><p id="da40" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">函数</strong>ErrorCodeToMessageString(aerorcode:Integer):<strong class="ih hj">字符串</strong>；</p><p id="3b32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">程序</strong>停止；</p><p id="c7c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">程序</strong>清晰；</p><p id="5d4c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性</strong>用户代理:<strong class="ih hj">字符串</strong> <strong class="ih hj">读取</strong>熔丝代理<strong class="ih hj">写入</strong>熔丝代理；</p><p id="faa3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性</strong> URL: <strong class="ih hj">字符串</strong> <strong class="ih hj">读取</strong> fURL <strong class="ih hj">写入</strong>fURL；</p><p id="0a29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性</strong>download active:Boolean<strong class="ih hj">read</strong>GetIsActive；</p><p id="2b49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性</strong>cachingeenabled:Boolean<strong class="ih hj">read</strong>fCachingEnabled<strong class="ih hj">write</strong>fCachingEnabled；</p><p id="8b6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性</strong>update interval:Cardinal<strong class="ih hj">read</strong>fProgressUpdateInterval</p><p id="3c21" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">写</strong>fProgressUpdateInterval；</p><p id="fcdb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性</strong>OnWorkStart:TEventWorkStart<strong class="ih hj">改为</strong> fEventWorkStart</p><p id="b4ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">写</strong>fEventWorkStart；</p><p id="2153" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性</strong> OnWork: TEventWork <strong class="ih hj">读</strong> fEventWork <strong class="ih hj">写</strong>fEventWork；</p><p id="913c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性</strong>OnWorkEnd:teventkworkend<strong class="ih hj">读</strong>feventkworkend<strong class="ih hj">写</strong>feventkworkend；</p><p id="a468" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">属性</strong> OnError: TEventError <strong class="ih hj">读</strong> fEventError <strong class="ih hj">写</strong>fEventError；</p><p id="a8d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">结束</strong>；</p><p id="a665" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">马克斯·凯鹏华盈 2022 年 10 月 10 日</strong></p></div></div>    
</body>
</html>