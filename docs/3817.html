<html>
<head>
<title>Scrapping Amazon Website for Book Information</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">废弃亚马逊网站的图书信息</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/scrapping-amazon-website-for-book-information-7ed494197acd?source=collection_archive---------9-----------------------#2021-06-25">https://medium.com/nerd-for-tech/scrapping-amazon-website-for-book-information-7ed494197acd?source=collection_archive---------9-----------------------#2021-06-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8c851979eeb4c0067e8a24b9722c8535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SXZ2VwzmIOzivkLj"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">苏珊·Q·尹在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="faea" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">动机</strong></h1><p id="2533" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">去年，像很多年前一样，我计划在即将开始的一年里实现一些目标。我的目标之一是<strong class="jv hj">读</strong>一定量的书，或者更准确地说，一定量的书页:<strong class="jv hj"> 5000 </strong>。</p><p id="6d06" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">当我开始阅读的时候，我就开始思考我能做些什么来帮助我实现最终目标。首先，我想我可以填写一个Excel电子表格，然后将其加载到<strong class="jv hj"> Power BI </strong> desktop中，以创建一些可视化效果，并获得一些关于我所阅读内容的见解。</p><p id="d78d" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">考虑到我为我的Kindle购买所有的书，这是一件非常容易的事情，亚马逊的网页上有我可能需要的关于它们的所有信息，这只是将信息从书籍页面复制到电子表格中的问题。</p><p id="e095" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">然后，我开始思考如何挑战自己，只用书名和语言作为变量来自动完成这个过程。于是，我开始学习使用<strong class="jv hj"> Python </strong>的<strong class="jv hj"> Web报废</strong>和<strong class="jv hj"> Web抓取</strong>。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kw"><img src="../Images/cce82abc602fbb183e91ed3c8f64709e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kC-8_zmUeyrmnie0"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://unsplash.com/@ralexnder?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Alex Chumak </a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="ecc1" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">第一步:网页抓取</strong></h1><p id="e833" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">Python有很多库来做很多不同的事情，这是这种语言如此受欢迎的原因之一。在这个项目中，我使用了<strong class="jv hj"> Selenium </strong>库来执行<strong class="jv hj">网页抓取</strong>。</p><p id="5e72" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">Selenium是一个有很多功能的库，它可以用来自动化很多信息收集过程。在这个特别的项目中，我用它来:</p><ul class=""><li id="3a78" class="lb lc hi jv b jw kr ka ks ke ld ki le km lf kq lg lh li lj bi translated">打开亚马逊的网页；</li><li id="571d" class="lb lc hi jv b jw lk ka ll ke lm ki ln km lo kq lg lh li lj bi translated">将搜索类别更改为Kindle商店；</li><li id="07c3" class="lb lc hi jv b jw lk ka ll ke lm ki ln km lo kq lg lh li lj bi translated">在搜索栏中传递书名和语言；</li><li id="24be" class="lb lc hi jv b jw lk ka ll ke lm ki ln km lo kq lg lh li lj bi translated">根据用户的分数对结果进行排序；</li><li id="419a" class="lb lc hi jv b jw lk ka ll ke lm ki ln km lo kq lg lh li lj bi translated">在结果列表中找到正确的书。如果这本书不在第一个列表中，我会跳到下一页，直到找到正确的书；</li><li id="8491" class="lb lc hi jv b jw lk ka ll ke lm ki ln km lo kq lg lh li lj bi translated">最后，获取页面书的html，包含我需要的所有信息。</li></ul><p id="11e5" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">所有这些都是使用<strong class="jv hj">前端</strong>中的一些基础知识来完成的，以便能够找到正确的元素。</p><p id="3898" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">好了，现在我有了包含数据的html，接下来呢？</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lp"><img src="../Images/5125a0fe13d08f123e0bf0a7fa4299b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Hkuqx7Top6rWRPvW"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">马库斯·温克勒在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="024b" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">第二步:</strong>卷筒纸报废</h1><p id="d33e" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">一个网页的html包含了大量的信息，特别是像亚马逊这样的流行网站。为了帮助我找到我需要的东西，我使用了另外两个库:<strong class="jv hj"> Beautiful Soup </strong>和<strong class="jv hj"> lxml </strong>来从htm中抓取数据。</p><p id="9761" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">这些库有助于提高html的可读性，并帮助选择混杂在单词中的特定元素。有了它们，我可以获得我需要的所有书籍信息，比如作者、价格、页数、出版商等等。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/1b9c7e023ccda294aa8054fa0cff6adb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lQxTeXsXIkkwoYDOF1CwHg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">亚马逊网站上的图书信息示例</figcaption></figure><p id="f10e" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">现在，我只需要以一种易于使用的方式组织数据。如果你认为是熊猫，那你就对了。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/fcc9271c4aea1e6e35afea6265f9d942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M1Vp6kye9yRwSSfQ"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@lena_pixl?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Elena Loshina </a>在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="aa5c" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><strong class="jv hj"> Pandas </strong>是Python中最著名的库之一。在保持令人愉快的外观的同时操纵数据的能力使它非常受欢迎。</p><p id="b0d6" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">我用它将所有书籍中的所有信息连接成一个数据框架。然后，我删除了一些在我的分析中没有用的列。</p><p id="0a6c" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">为了存储数据，我使用了安装在本地的微软SQL服务器，但是这一步是可选的，我这样做只是为了练习保存数据的新方法。csv文件<strong class="jv hj">提供了相同的结果</strong>，Pandas已经内置了一个函数，可以轻松地生成文件<strong class="jv hj"/>。</p><p id="efea" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">这个项目的最后一部分，是<strong class="jv hj">可视化</strong>所有的数据，这样我就可以跟踪我的最终目标，同时也能了解其他很酷的事情。用于可视化的工具是<strong class="jv hj"> Power BI </strong>软件。</p><p id="a3ca" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">因为我离实现我的目标还有点远，所以我用了一些我没读过的书来模拟一些数据。结果如下图所示。</p><p id="75c4" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">每一页都显示了该项目的不同方面的信息。</p><h1 id="e522" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">结果</strong></h1><div class="kx ky kz la fd ab cb"><figure class="ls ij lt lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/85b4cf19a787359b61e590242d67964c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*PsnCx_NroR9IBLBqPGI-pA.png"/></div></figure><figure class="ls ij ly lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/5fdd9e1ae180089dc76bf679b4904a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*aYwelSH5R5rt7lThoG0bgg.png"/></div></figure></div><div class="ab cb"><figure class="ls ij lz lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/a7891433af511723f980fb854787f529.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*3xWa6kdYOGK0KBYFKKK8_Q.png"/></div></figure><figure class="ls ij ma lu lv lw lx paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/fb7b52f7ff8a35698cd12b3ba4286648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*-Y4XDeIIP27sGjOLyw8hDg.png"/></div></figure></div><p id="b9bf" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">第一个<strong class="jv hj">(左上)</strong>展示了关于我买过的书的更<strong class="jv hj">宏观的观点</strong>。我已经<strong class="jv hj">读了多少本</strong>，我已经<strong class="jv hj">读完了多少本</strong>，还有多少本<strong class="jv hj">还在读</strong>，以及这些书的<strong class="jv hj">类别</strong>和<strong class="jv hj">作者</strong>以及显示每本书何时完成的<strong class="jv hj">时间线</strong>。</p><p id="104b" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><strong class="jv hj">第二个(右上)</strong>显示项目的<strong class="jv hj">财务方面</strong>。<strong class="jv hj">花了多少钱给</strong>买书，<strong class="jv hj">花了多少钱是明智的</strong>(已经完成的书)，以及有多少钱可能是<strong class="jv hj">追加购买的</strong>(不会完成的书)。还显示了全年花费的时间表。</p><p id="31b5" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><strong class="jv hj">第三个(左下)</strong>显示书籍的<strong class="jv hj">页信息。全年<strong class="jv hj">读了</strong>多少页，每本书<strong class="jv hj">有</strong>多少页，还有一个米记<strong class="jv hj">跟踪我今年设定的目标</strong>。</strong></p><p id="fb51" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">最后，<strong class="jv hj">最后一个面板(右下角)</strong>显示了亚马逊Kindle商店的用户如何对这些书进行<strong class="jv hj">评级</strong>，它们在<strong class="jv hj">最畅销排行榜</strong>以及它们所属的<strong class="jv hj">类别</strong>中排名。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/c9b04775a5fa51c600d7c7c8875f7647.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*5UffGdwfg2hiuT0JlFvElA.jpeg"/></div></figure><h1 id="eb5e" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated"><strong class="ak">结论</strong></h1><p id="0d63" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">这是一个非常有趣的项目，开始只是作为记录我今年阅读页数的一种方式，最终却传递了很多我起初没有想到的额外信息。</p><p id="d4bf" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">所有带有解释的代码和使用的库的链接都可以在我的<strong class="jv hj"> Github </strong>中找到，我会在下面留下链接。</p><p id="4465" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated"><a class="ae iu" href="https://github.com/alerlemos/Projects/tree/main/Scrapping%20Amazon%20Website%20for%20Book%20Information" rel="noopener ugc nofollow" target="_blank"> <strong class="jv hj"> GitHub项目文件夹</strong> </a></p><p id="edfe" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">希望你喜欢！任何建议和意见都非常欢迎。</p><p id="c2f4" class="pw-post-body-paragraph jt ju hi jv b jw kr jy jz ka ks kc kd ke kt kg kh ki ku kk kl km kv ko kp kq hb bi translated">谢谢！</p></div></div>    
</body>
</html>