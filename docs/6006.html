<html>
<head>
<title>Demystifying Errors in MUI Autocomplete — part — II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">揭开MUI自动完成中错误的神秘面纱—第二部分</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/demystifying-errors-in-mui-autocomplete-part-ii-de56c885e973?source=collection_archive---------1-----------------------#2021-12-18">https://medium.com/nerd-for-tech/demystifying-errors-in-mui-autocomplete-part-ii-de56c885e973?source=collection_archive---------1-----------------------#2021-12-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9e4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在阅读此之前，请先阅读本<a class="ae jd" rel="noopener" href="/nerd-for-tech/demystifying-errors-in-mui-autocomplete-part-i-e306f922a906">第一部分</a>。它将为您提供MUI自动完成中的一些基本概念。</p><p id="a7e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们知道选项中显示的值将是<strong class="ih hj">原语</strong> ( <strong class="ih hj">字符串、数字等</strong>)。选项的输入可以是<strong class="ih hj">非原语</strong> ( <strong class="ih hj">对象数组</strong>)。对于任何实际的目的，比如向API或其他函数发送数据，我们都需要一个原始的数据结构。</p><p id="36ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在深潜之前，先给大家介绍两个道具<strong class="ih hj"> onChange </strong>和<strong class="ih hj"> onInputChange。</strong>两者都采用精确的参数(事件、值和原因)</p><blockquote class="je jf jg"><p id="4283" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated"><strong class="ih hj"> onChange </strong> —每当您在弹出菜单中选择显示选项时调用。</p><p id="c957" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated"><strong class="ih hj"> onInputChange </strong> —每当您在搜索字段中键入时调用。</p></blockquote><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="fbff" class="ju jv hi jq b fi jw jx l jy jz">&lt;Autocomplete<br/>options={top100Films}<br/>sx={{ width: 300 }}<br/>renderInput={(params) =&gt; &lt;TextField {...params} label="Movie" /&gt;}<br/><strong class="jq hj">onChange={(event, value, reason) =&gt; <em class="jh">console.log("onChange", value)}</em><br/>onInputChange={(event, value, reason) =&gt; <em class="jh">console.log("onInputChange",value)}</em><br/></strong>/&gt;</span></pre><figure class="jl jm jn jo fd kb er es paragraph-image"><div class="er es ka"><img src="../Images/744b27fb3296c9f2a50530d37a44d311.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*h6-8TZwwaWJqd2RnQnM--w.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">onChange vs onInputChange</figcaption></figure><p id="eac3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，当选择该选项时，onChange和onInputChange具有相同的值。当我在搜索栏中键入时，事情变得有趣了。</p><figure class="jl jm jn jo fd kb er es paragraph-image"><div class="er es ki"><img src="../Images/8ec635f1792acc83320cc65fb0f3d1d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/format:webp/1*bkJtlWrhqqbdlzKsqpgW7w.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">onChange vs onInputChange</figcaption></figure><p id="7cc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我在搜索字段中键入时，只有<strong class="ih hj"> onInputChange </strong>值发生变化。OnChange 仍然为空。因此规则是</p><blockquote class="je jf jg"><p id="bf65" class="if ig jh ih b ii ij ik il im in io ip ji ir is it jj iv iw ix jk iz ja jb jc hb bi translated"><strong class="ih hj"> onChange </strong>是一个函数<strong class="ih hj">弹出选项</strong>而<strong class="ih hj"> onInputChange </strong>是一个函数<strong class="ih hj">search field</strong>T30】值</p></blockquote><p id="5bc0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以每当我需要一个非原始的格式，比如对象，我应该使用onChange值。</p><pre class="jl jm jn jo fd jp jq jr js aw jt bi"><span id="f340" class="ju jv hi jq b fi jw jx l jy jz">&lt;Autocomplete<br/>id="country-select-demo"<br/>sx={{ width: 300 }}<br/>options={countries}<br/>getOptionLabel={option =&gt; option.name}<br/><strong class="jq hj">onChange={(event,value,reason) =&gt; console.log(value)}<br/></strong>renderInput={(params) =&gt; (<br/>&lt;TextField {...params}<br/>label="Choose a country"<br/>/&gt;<br/>)}<br/>/&gt;<br/>);<br/>}</span><span id="7bc3" class="ju jv hi jq b fi kj jx l jy jz">const countries = [<br/>{ code: "AD", name: "Andorra", phone: "376" },<br/>{ code: "AI", name: "Anguilla", phone: "1-264" },<br/>{ code: "AL", name: "Albania", phone: "355" },<br/>{ code: "AM", name: "Armenia", phone: "374" },<br/>{ code: "AO", name: "Angola", phone: "244" },<br/>{ code: "AQ", name: "Antarctica", phone: "672" },<br/>{ code: "AR", name: "Argentina", phone: "54" },<br/>{ code: "AS", name: "American Samoa", phone: "1-684" },<br/>{ code: "AT", name: "Austria", phone: "43" }<br/>];</span></pre><figure class="jl jm jn jo fd kb er es paragraph-image"><div class="er es kk"><img src="../Images/d11cf3537c1b2368c64b53ad7d590fb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*yWTAT60G05jjdkqFyWzfcQ.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx translated">onChange</figcaption></figure><p id="90ac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意这里onChange值返回包含名称<strong class="ih hj">‘安道尔’的整个对象。我们可以将这个对象用于API和函数。这是MUI Autocomplete中的一个重要特性，使它变得完整。希望这有帮助。</strong></p></div></div>    
</body>
</html>