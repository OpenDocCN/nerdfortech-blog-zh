<html>
<head>
<title>Cassandra - Multinode setup on a single host using docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用docker在单个主机上设置多节点</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/cassandra-multinode-setup-on-a-single-host-using-docker-fe3d8b844f52?source=collection_archive---------7-----------------------#2021-05-09">https://medium.com/nerd-for-tech/cassandra-multinode-setup-on-a-single-host-using-docker-fe3d8b844f52?source=collection_archive---------7-----------------------#2021-05-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/43cfbea970941207f67be111a7bc1689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oZvZAt56kCYUh8HJCpeHMw.png"/></div></div></figure><p id="806e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个帖子不是关于卡珊德拉数据库的细节。相反，它致力于如何使用docker在一台主机上启动cassandra的多节点设置。对于个人项目，让每个人都有多个主机系统来理解NoSQL多DC场景，这实在是不可行或负担不起的。</p><h1 id="715c" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">步伐</h1><p id="ec1c" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">我假设您的系统中已经安装了docker。</p><h1 id="0f9e" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">假设有一个新的开始</h1><p id="2fc4" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">检查docker实例</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/3a1e34093c5c093ce6c3394fd11915e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kzckLCGlM3dKPeXoE7HTLA.png"/></div></div></figure><h1 id="7ced" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><em class="kw">创建第一个节点—暴露在端口9042上</em></h1><blockquote class="kx ky kz"><p id="f01e" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated"><em class="hi">&gt;</em>docker run-p 9042:9042—name my-Cassandra-1-m 2g-d Cassandra:3.11</p></blockquote><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es le"><img src="../Images/0d693b398a79b92c71e8335ba04149ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IqCL0fKKOiN23mQX64tYhA.png"/></div></div></figure><h1 id="f78a" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">检查IP</h1><p id="6ba4" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">使用上面的命令检查容器的ip</p><blockquote class="kx ky kz"><p id="000d" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated">&gt; docker inspect—format = ' { { . network settings . IP address } } ' my-Cassandra-1</p></blockquote><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/db2d1e3ef7837232bf9801cfb543ba9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tk4RfhfAhlTVepxgqWHKgQ.png"/></div></div></figure><h1 id="d19e" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">创建另一个节点并链接到prev节点—暴露在端口9043上</h1><blockquote class="kx ky kz"><p id="e0e8" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated">&gt; docker run—name my-CASSANDRA-2-m 2g-d-e CASSANDRA _ SEEDS = " $(docker inspect—format = ' { { . network settings . IP address } } ' my-CASSANDRA-1)" CASSANDRA:3.11</p></blockquote><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lg"><img src="../Images/060bdc8decbecb20a828d7cf37785b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FIv4uTWQEXAB3BJ7SR4xQQ.png"/></div></div></figure><h1 id="fb3b" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">检查cassandra节点状态</h1><blockquote class="kx ky kz"><p id="b127" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated">&gt; docker exec-I-t my-Cassandra-1 bash-c '节点工具状态'</p></blockquote><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lh"><img src="../Images/cd190449b471731c8711529d294a382a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_JlmFtqwoXOzZnc8t-VWQ.png"/></div></div></figure><h1 id="81eb" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">通过客户端cqlsh使用cassandra</h1><blockquote class="kx ky kz"><p id="dc20" class="iq ir la is b it iu iv iw ix iy iz ja lb jc jd je lc jg jh ji ld jk jl jm jn hb bi translated">通过客户端cqlsh<br/>&gt;docker run-it—link my-Cassandra-1—RM Cassandra:3.11 bash-c ' exec cqlsh&lt;&lt;IP&gt;&gt;'</p></blockquote><p id="38fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在另一个docker容器中使用cqlsh客户端来处理数据库</p></div><div class="ab cl li lj gp lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="hb hc hd he hf"><p id="8bf6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就是这样。在一台主机上安装多节点就是这么简单。</p></div></div>    
</body>
</html>