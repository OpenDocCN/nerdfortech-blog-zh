# 使用开源软件不是安全问题。对它的管理不善

> 原文：<https://medium.com/nerd-for-tech/using-open-source-software-is-not-a-security-problem-mismanagement-of-it-is-95297702315a?source=collection_archive---------6----------------------->

![](img/2cef4f658fbd35cb8d7edb01c6e8a0c6.png)

如果你使用软件——今天我们都在使用——你就使用开源软件。如果你在做生意，不管你的品牌是什么或者你的产品是什么，你都是一家软件公司，这意味着你也是一家开源软件公司。

这意味着你需要知道你在用什么，它来自哪里，谁制造的，以及如何保养它。

新思科技[网络安全研究中心(CyRC)](https://www.synopsys.com/software-integrity/cybersecurity-research-center.html?cmp=pr-sig&utm_medium=referral) 的最新“[开源安全和风险分析](https://www.synopsys.com/software-integrity/resources/analyst-reports/open-source-security-risk-analysis.html?cmp=pr-sig&utm_medium=referral)”(OS SRA)报告的目标就是帮助组织理清这些问题。该报告基于对 2021 年 17 个行业超过 2400 个商业代码库的分析。

报告回答的问题之一是，你可能会使用多少？简而言之——很多。更详细地说，几乎 100%的可能性是，在你所有的代码库中都有开源软件组件，并且它构成了这些代码库的绝大部分——平均 78%。

该报告还提供了有关如何找到、跟踪、维护和管理它的指导，以避免任何软件带来的不可避免的风险。这些风险，从未修补的漏洞或许可冲突，可以导致从烦恼到法律责任到生存的损害。

这就是为什么你需要拿一份报告的原因——它是免费的。(披露:我为 Synopsys 撰稿)

没有好的理由不使用开源。即使你想避免，也无法避免——那艘船早已启航了。正如报告所说，“开源是我们今天所依赖的每一个应用程序的基础。”

它压倒性的受欢迎程度在很多层面上都是一件好事。它是免费的，只要满足与它的许可证相关的任何义务，就可以修改它以适应那些使用它的人的需要。

事实上，有什么不喜欢的东西，基本上消除了发明数字原材料或创建基本的构建模块的需要？创造力(和利润)在于发现新的和不同的现有组合(免费！)原材料。

这就是开源软件所提供的——使软件产品开发更快、更有效、更便宜的免费构件。这也是为什么今天大多数软件产品都是由现有组件组装而成，而不是从头开始编写。

**没有什么是完美的**

但是没有一个软件是完美的——毕竟，它是由不完美的人制作的。开源软件本质上并不比私有软件或商业软件更不安全，但它也不会更安全。由于它现在构成了软件产品中的大部分组件，这很重要。

根据 2022 年 OSSRA(该报告的第七个年度版本)，“开源无处不在，正如正确管理其使用的需求一样。识别、跟踪和管理开源对于有效的软件安全至关重要。”

这种情况已经持续了一段时间。软件仍在蚕食这个世界，比以往任何时候都要快。开源软件几乎包揽了所有的事情。这可能是好的也可能是坏的，因为无处不在的好处和风险会影响到每个人。

今年 OSSRA 报告发现的一些趋势令人鼓舞。至少有一个开源漏洞的代码库百分比略有下降，从 2020 年的 84%降至 81%。具有至少一个高风险开源漏洞的代码库的百分比下降更为显著，从 60%下降到 49%。

尽管如此，令人鼓舞的趋势并不意味着事情在控制之中——81%是鼓励黑客，而不是那些试图避免它们的人。如果所有代码库中有一半都存在已知的漏洞，那对网络罪犯来说就是一个巨大的攻击面。

一些趋势不太令人鼓舞。该报告发现，两个行业(物联网和航空航天、航空、汽车、运输、物流)60%或更多的代码库存在漏洞，这标志着组织必须走多远才能使自己更难成为网络犯罪的目标。

另外八个行业(互联网和移动 appsed tech 营销技术；能源和清洁技术；金融服务和金融科技；零售和电子商务；制造业、工业、机器人；和企业软件/SaaS)在其 50%或更多的代码库中存在漏洞。

此外，一些已知的漏洞在代码库中持续存在，并且在某些情况下逐年增加。根据该报告，在被检查的代码库中，“88%包含开源组件的过时版本”。也就是说，有可用的更新或修补程序，但尚未应用

请记住，这些都是已经公开的漏洞。这意味着坏人知道他们。正如报告所说，“可以得出一个结论，一些 DevSecOps 团队正在努力保持在开源风险的顶端。”

**长期游戏收益**

然而，从潜在的好处来看，也许从 OSSRA 报告中最重要的收获是，从长远来看，过去一年中最严重的漏洞之一可能会促使更多的组织将其开源软件的安全性置于更高的优先地位。

Log4Shell 是开源 Apache 日志库 [Log4j](https://www.synopsys.com/blogs/software-security/mitigating-impact-of-log4j-log4shell/?cmp=pr-sig&utm_medium=referral) 中的一组[漏洞](https://armerding.medium.com/get-your-vaccine-for-the-log4shell-software-pandemic-ae445b771be8)，在 2021 年 12 月公开时，已经存在于数亿到数十亿个系统、服务、网站和设备中。

Log4Shell 的缺陷是“远程代码执行”漏洞，这意味着它们可以允许网络攻击者远程控制运行 Java 应用程序的计算机，Java 是世界上最流行的编程语言之一。

更糟糕的是，利用 Log4Shell 很容易。新思软件完整性小组的技术总监兼首席架构师迈克尔·怀特在[的博客文章](https://www.synopsys.com/blogs/software-security/mitigating-impact-of-log4j-log4shell/?cmp=pr-sig&utm_medium=referral)中写道，这“执行起来很简单”

但是 OSSRA 的报告指出，Log4Shell 也提示了一些必要的提醒，或者实现，关于在商业中使用开源。

*   开源项目是由志愿者创建和维护的，而不是商业供应商。因此，补丁和安全更新通常不会“推”给用户，而是必须“拉”出来有时项目被放弃或不再维护，这意味着如果在其中发现缺陷，它们不会得到修补。
*   流行的开源项目可能有大量的志愿者来帮助维护代码，但是有数百万不太流行的项目只有不到 10 个人来维护它们。在某些情况下，项目多年没有更新或维护。
*   太多的开发人员采取了一种“信任并且不用费心去验证”的方法。Synopsys CyRC 的首席安全策略师蒂姆·麦基(Tim Mackey)从一开始就参与了 OSSRA 报告的制作，他称之为“哇呜！”接近。开发人员可能会被开源软件组件所能做的事情弄得眼花缭乱，以至于他们忽略了可能随之而来的风险，并且不执行商业或专有软件所需的安全审查。
*   开源组件并不比商业或专有代码更安全或更不安全，但是对它们的管理不当会产生重大的商业风险。

组织应该如何应对这些现实？最好的方法是从[软件材料清单(SBOM)](https://www.synopsys.com/blogs/software-security/software-bill-of-materials-bom/?cmp=pr-sig&utm_medium=referral) 开始，它是代码库中每个组件的详细清单，加上制作它的志愿者团队的信息，任何许可限制可能是什么，它是否有任何已知的漏洞，以及它是否依赖于其他软件组件(称为依赖性)才能正常工作。它本质上是软件供应链中的一个成分列表。

SBOM 可以帮助完成手动不可能完成的任务——探测依赖链的深度。Mackey 过去曾用一个简单的应用程序作为例子，它有八个“声明的”依赖项。虽然这看起来是一个可管理的数字，但其中每一个都有自己的依赖关系。一个多了八个，而另一个多了十五个。最终，该应用程序有 130 多个依赖项，这些依赖项有几个层次。

根据 OSSRA 的报告，“这些依赖关系是软件供应链中存在最大风险的地方。最大限度降低这种风险的唯一方法是使用全面、详尽的 SBOM 来跟踪依赖关系及其相关风险，从而使您能够在需要时采取有针对性的明智措施。”

事实上，在出现重大漏洞时，SBOM 可能是一项重要资产。在 Log4j 的例子中，一个拥有最新 SBOM 的组织只需进行简单的数据库搜索，就可以发现该库是否在其软件供应链中。如果是这样，它知道它需要获取并应用补丁。

好消息是，在过去的一年里， [SBOM 已经成为网络安全领域最热门的缩略语之一。乔·拜登总统在 2021 年 5 月 12 日发布的关于](https://www.rsaconference.com/library/Blog/drop-an-sbom-on-your-software-supply-chain-vulnerabilities)[“改善国家网络安全”](https://www.nist.gov/itl/executive-order-improving-nations-cybersecurity)(更官僚的说法是 EO 14028)的行政命令中明确呼吁这样做。如果这一劝告成为现实，联邦机构将被禁止购买任何不包含 SBOM 的软件产品。

**没有银子弹**

需要注意的是，SBOM 的“SB”并不代表“银弹”SBOM 是必要的，但还不够。Mackey 在 Synopsys 视频博客 AppSec Decoded 的最近一集中指出，“SBOM 会告诉你软件中有什么，但不会告诉你如何修补它，不会告诉你它是否已被修补，如果你不小心，它可能会给你误导性的信息。”

尽管如此，SBOM 本可以消除 Log4Shell 的大部分恐慌——更不用说圣诞节前数千开发和安全团队的不眠之夜了。正如 OSSRA 报告所述，“这种全天候的补救工作通常是由于组织不知道 Log4j 在他们的系统和应用程序中的位置，或者事实上，如果它在那里的话。”

“正如我们以前说过的，重要的是要区分缺乏开源管理和开源本身不是问题的事实，”该报告说。