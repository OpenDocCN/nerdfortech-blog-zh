<html>
<head>
<title>Adding Homing Missile</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">添加寻的导弹</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/adding-homing-missile-d205a7373b07?source=collection_archive---------17-----------------------#2021-06-11">https://medium.com/nerd-for-tech/adding-homing-missile-d205a7373b07?source=collection_archive---------17-----------------------#2021-06-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="a605" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第51天-制作2D太空射击游戏</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/5226c0e329785132798ce34577057575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/0*K81aJhDnuH_E0KSX.jpg"/></div></figure><p id="9e4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目标:制造一种寻的导弹，它能探测到最近的敌人并在开火时将其击落</p><p id="ffb4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先添加一个寻的导弹精灵，并添加碰撞器和刚体作为它的组件。然后为寻的导弹的行为创建一个新的脚本并把它添加到里面。最后，把它拖到你的项目中来创建一个预置实例。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/e7cfcf1634c77c520fa3d44ef938e179.png" data-original-src="https://miro.medium.com/v2/resize:fit:690/format:webp/1*jVr1MH7m_vJVsLi_5gN0Uw.png"/></div></figure><p id="be2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">声明两个变量，一个用于速度，另一个用于存储最近的敌人游戏对象。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jm"><img src="../Images/d4529650d9fe93f83b1df75afeaefde7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*xt4NIdR56OeSw8R7uEt4eQ.png"/></div></figure><p id="e421" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在找到场景中的所有敌人，并将其存储在一个数组中。然后计算敌人和导弹之间的距离。如果当前距离小于先前距离，那么用当前距离和当前敌人替换。检查与所有敌人的距离后，返回距离最短的敌人游戏对象。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es jn"><img src="../Images/981bf7444493fd535e82619a68e339b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zJNSOn32_37OUXXno5q5UA.png"/></div></div></figure><p id="203a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后将最近的敌人游戏对象存储在Update中创建的敌人变量中。此外，只有当敌人为空时才调用此函数，这样导弹就不会总是检查最近的敌人，而是会找到最近的敌人并向其移动，直到敌人再次为空或导弹击中敌人。</p><p id="0c88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">探测到最近的敌人后，向那个敌人移动，其他的则一直向上移动，直到它出界并摧毁自己。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es js"><img src="../Images/92748d6632c3f31771c62c2cb21dbfd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YewljTr0PPzSyuVirMxnGw.png"/></div></div></figure><p id="1626" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">探测到敌人后，向敌人移动，直到击中敌人或敌人被其他方式消灭。当导弹向敌人移动时，也要旋转导弹使其朝向敌人。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es jt"><img src="../Images/22c83fb43d9af527f6307f144f7eee30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*71YPG2vlVbZyvBkySbYSTg.png"/></div></div></figure><p id="76e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在进入玩家脚本，添加一个条件，当投射物激活且发射的导弹少于3枚时发射一枚投射物。</p><p id="bfcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在总共发射了三枚导弹后，将发射物设置为非活动状态，这样玩家就不能发射更多的寻的导弹。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ju"><img src="../Images/c892f83877d1d1a08cf4efe185fc3c11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dEGt79cCVhAqhhQr5WWBqw.png"/></div></div></figure><p id="d4ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每当fir导弹函数被调用时，产生导弹并把发射的导弹数加1。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/0d225fe2680039fe2e93b3dec1799926.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*FGF6nKyOcTUQS96hzy1liw.png"/></div></figure><p id="c17e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，每当玩家启动寻的导弹时，从启动脚本中调用该函数，将导弹设置为活动状态，并将发射的导弹数量重置为零。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jw"><img src="../Images/642ff2c04d7381cc97bccb10448060af.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*iS1V1v3uBhvtvv9eEN3NLw.png"/></div></figure><p id="610a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后增加了当寻的导弹碰到敌人时的摧毁功能。</p></div></div>    
</body>
</html>