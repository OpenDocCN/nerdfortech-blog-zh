<html>
<head>
<title>ReactJS: Container/Presentation Pattern + Manage Countdowns Effectively</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ReactJS:容器/表示模式+有效管理倒计时</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/reactjs-container-presentation-pattern-manage-countdowns-effectively-fdbb5ce383a2?source=collection_archive---------21-----------------------#2021-06-22">https://medium.com/nerd-for-tech/reactjs-container-presentation-pattern-manage-countdowns-effectively-fdbb5ce383a2?source=collection_archive---------21-----------------------#2021-06-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0a8a7651caae8cbe985e9fffcc7b6ffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n5XzqIN0NN6tPhYoAifhFA.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://unsplash.com/@evieshaffer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Evie S. </a>在<a class="ae iu" href="https://unsplash.com/s/photos/pink-wallpaper?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="eae0" class="iv iw hi bd ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js bi translated">说明</h1><p id="ddff" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">容器/表示模式建议将业务逻辑包含在<code class="du kr ks kt ku b">Container</code>组件中，而<code class="du kr ks kt ku b">Presentation</code>组件用于呈现/显示业务逻辑的结果。</p><h2 id="d2a9" class="kv iw hi bd ix kw kx ky jb kz la lb jf ke lc ld jj ki le lf jn km lg lh jr li bi translated">方案</h2><p id="b978" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在本文附带的<code class="du kr ks kt ku b">sandbox</code>中，我实现了一个基本的倒计时应用程序，当数到0时，调用一个函数。业务逻辑在<code class="du kr ks kt ku b">Container</code>组件中实现，而<code class="du kr ks kt ku b">Presentation</code>组件负责显示还剩多少时间。</p><h2 id="baa3" class="kv iw hi bd ix kw kx ky jb kz la lb jf ke lc ld jj ki le lf jn km lg lh jr li bi translated">我如何管理<code class="du kr ks kt ku b">Container</code>组件中的倒计时</h2><p id="3763" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">在<code class="du kr ks kt ku b">Container</code>组件中，我使用<code class="du kr ks kt ku b">useRef</code>实时存储剩余时间，使用Javascript的<code class="du kr ks kt ku b">setInterval</code>在每个<code class="du kr ks kt ku b">500ms</code>之后运行，并检查剩余时间是否为<code class="du kr ks kt ku b">&lt;= 0s</code>。如果是这样的话，当剩余时间到达<code class="du kr ks kt ku b">0</code>时，我将停止这个间隔，并调用我已经编写的回调函数<code class="du kr ks kt ku b">unmounts</code></p></div><div class="ab cl lj lk gp ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="hb hc hd he hf"><h1 id="d358" class="iv iw hi bd ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo lu jq jr js bi translated">解释实施/沙盒</h1><p id="4cf2" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">转到以下链接访问沙箱:<a class="ae iu" href="https://codesandbox.io/s/github/arbaz52/container-presentation-pattern-react-with-effective-countdown-management/" rel="noopener ugc nofollow" target="_blank">https://code sandbox . io/s/github/arbaz 52/container-presentation-pattern-react-with-effective-count down-management/</a></p><figure class="lw lx ly lz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/c7a4cbb79270367c7b5d1fb68b6a63f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*poO3BVKQmpNMyUj2bHMFLQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><code class="du kr ks kt ku b">Container</code>具有业务逻辑的组件</figcaption></figure><figure class="lw lx ly lz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ma"><img src="../Images/1fabf619a379a6b0a4e7d39e70d75abc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y8h6IbnX1sfiHSkGhUB2cQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">演示组件在100毫秒后重新呈现，以显示更新后的剩余时间。</figcaption></figure><figure class="lw lx ly lz fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/ec61b20729e5ed3536a240115557474d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sVwAVL4_jKZVUfAN0mfY_Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">useForceUpdate自定义挂钩，强制组件重新呈现</figcaption></figure><h2 id="82be" class="kv iw hi bd ix kw kx ky jb kz la lb jf ke lc ld jj ki le lf jn km lg lh jr li bi translated">实施/沙盒的现场演示</h2><figure class="lw lx ly lz fd ij"><div class="bz dy l di"><div class="mc md l"/></div></figure><h2 id="9043" class="kv iw hi bd ix kw kx ky jb kz la lb jf ke lc ld jj ki le lf jn km lg lh jr li bi translated">文章背后的动机/想法</h2><p id="86c7" class="pw-post-body-paragraph jt ju hi jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq hb bi translated">我和高级开发人员以及我的导师<a class="ae iu" href="https://github.com/taqimustafa" rel="noopener ugc nofollow" target="_blank">塔齐·穆斯塔法</a>正在讨论管理容器/表示模式中倒计时的最佳方式，他提出了我在这里实现的想法。</p></div></div>    
</body>
</html>