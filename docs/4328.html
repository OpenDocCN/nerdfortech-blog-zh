<html>
<head>
<title>Building high-quality software</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建高质量的软件</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/building-high-quality-software-1efa45c719bc?source=collection_archive---------3-----------------------#2021-07-16">https://medium.com/nerd-for-tech/building-high-quality-software-1efa45c719bc?source=collection_archive---------3-----------------------#2021-07-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="308d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我最近采访了许多人(包括工程师和经理)，我问的一个标准问题是如何构建高质量的软件。当然，我提供了更多的背景和解释，但主旨是相同的。</p><p id="2685" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">听到了各种各样的回答。然而，我感到困惑的是，几乎没有一个是系统化的，人们马上就陷入了一种特定的烦恼之中。</p><p id="c4e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为这个练习的一部分，我觉得我必须把我对这个问题的答案具体化并写下来。</p><p id="f79d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我先说高层次的思想(具体是为了系统化)。首先，我想专注于软件代码质量(相对于更大的主题，包括问题定义、文档、UX、设计等。).</p><p id="3831" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">高质量的软件是bug较少的软件(修复遗留问题的时间也较短)。还有一大堆其他的东西，比如代码可读性、可维护性、可调试性等等，都可以很容易地归入质量范畴。让我们专注于产品按预期运行的核心。</p><p id="4946" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我把软件开发过程想象成从想法到客户使用的产品的管道。还有其他的想象方式。然而，底线是它要经过多个步骤才能得到可用的/交付的产品。</p><p id="80e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">获得高质量的方法相当简单。我们需要在经历这些步骤的过程中发现问题。(是的，明显队长报到)。</p><p id="d0ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我不相信有一种神奇的方法可以解决所有问题。因此，我们需要深度防御。我们需要通过这个管道的多个门，应该逐渐过滤掉所有的问题。你拥有的门越多，最终你遇到的问题就越少。</p><p id="97a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在流程的早期发现问题的门更好，因为更早修复它们的成本更低。自动门比手动的好。阻挡阻止你进入下一阶段的门比坐在旁边的门更有效。捕捉更高比例问题的门也更好。</p><p id="c36d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的。对于一本关于质量的理论书籍来说，以上所有的描述都是非常笼统/模糊的。但是，没有具体是没有用的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/625a38e4b7f53f64a632755884d9e48c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2rn9hv46fUEnZGLk"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">米卡·鲍梅斯特在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="0909" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我认真对待适用于大多数面包和黄油软件公司建立的真正的东西。</p><h1 id="1ec0" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">必有清单</strong></h1><ul class=""><li id="de55" class="kz la hi ih b ii lb im lc iq ld iu le iy lf jc lg lh li lj bi translated">尽早开始</li></ul><p id="40ab" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最好尽早添加这些门。围绕质量检查来构建您的过程比将这些检查改造到现有的过程中要好得多。NIST做了一项经典研究,表明在开发过程的开始阶段捕捉bug比将bug投入生产要便宜十倍以上。如果你尽早开始捕捉错误，将会节省你大量的时间来修复它们。</p><ul class=""><li id="96a3" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">设计评论</li></ul><p id="39f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果使用得当，这是一个非常强大的工具。在编写代码之前，它位于流程的最开始，可以节省大量的时间(有些人花费大量的时间只是为了进入死胡同)。它真的有助于讨论问题、解决方案、替代想法、关键案例等等。我很喜欢和我一起工作的一个最聪明的人说的话:“一个好的设计是你能看到代码的设计”。这就像不用编写代码就可以工作一样。</p><p id="530c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不幸的是，我认识许多非常资深的工程师，他们非常喜欢“开火、瞄准、准备好”的方法。让我们拼凑一个原型(甚至在考虑不同的替代方案之前)，让我们称这个原型为alpha版本，并在未来几年修复其中的bug和限制。节省几个小时来准备和进行设计评审将会花费数百(如果不是数千)个小时来解决问题。</p><ul class=""><li id="95d1" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">单元测试</li></ul><p id="60b2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我不相信我要说的2021年，但是我从来没有见过没有单元测试的优质产品。句号。好处太多了。它有助于证明你的代码做了它应该做的事情，单元测试消除了所有简单的问题。它们有助于消除许多古怪的行为，这个列表不仅仅是捕捉错误。是啊。这不是一个银弹，但它可以很容易地捕捉到你所有的错误非常高的百分比。</p><ul class=""><li id="a670" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">代码审查</li></ul><p id="cd81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">同样，这里没有什么新的东西。有人看着你的代码说“搞什么鬼？”是一个很好的方法来查看你的代码哪里过于复杂/脆弱/不能处理某些场景。重要提示。和任何非自动支票一样，你从它那里得到的和你投入的一样多(橡皮图章PR不会增加任何价值)。</p><ul class=""><li id="ba84" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">监视</li></ul><p id="080c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们(人类)很不擅长用亿万种可能的状态来想象系统的所有可能的排列。我们所有的测试(单元测试和集成测试覆盖了所有状态的一小部分)。不幸的是，你能看到所有可能发生的事情的唯一地方就是生产。</p><p id="f15b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">令人难以置信的是，有多少人完全忽视了它。你可能认为你知道这个系统是如何运作的。在最好的情况下，你只知道系统是如何工作的。许多更复杂和微妙的问题只在生产中出现，可以通过监控/警报/分析来发现。</p><p id="951f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这可能是我名单上的最新成员。就像这个列表上的其他东西一样，我不得不艰难地学习它。在几次本可以通过琐碎的监控/警报/分析来避免的停机之后，您开始将您的监控视为一等公民。</p><ul class=""><li id="ae51" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">人工测试</li></ul><p id="df04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是的。我说了。我们生活在一个每个人都被手工测试所困扰的时代。我倾向于同意你不想花费大量的时间只做手工测试。然而，它是大多数产品正常工作的必备条件。自动化测试捕捉到了预测的问题，但对于无法预测的问题几乎毫无用处。</p><p id="d9c1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有很多次，和我一起工作的一个最好的QA人员来找我说:“我不知道。它可以工作，但是里面有些古怪。这个句子不是测试的二进制结果，如果它是由一些自动化工具报告的，人们很容易忽略它作为一个假阳性。但是，我一听这个QA的人这么说，就举起了一面巨大的红旗。</p><ul class=""><li id="349f" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">根本原因</li></ul><p id="bded" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你不需要分析每一个微小的错误。然而，一旦你有一些严重的错误逃脱，你需要弄清楚你是否需要加强一个游戏(它应该已经捕捉到了)，或者你是否需要引入额外的门来检测这种类型的错误。</p><h1 id="7364" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">很高兴有</strong></h1><ul class=""><li id="978b" class="kz la hi ih b ii lb im lc iq ld iu le iy lf jc lg lh li lj bi translated">静态代码分析工具(以及类似的工具)</li></ul><p id="a18b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">他们的效率在很大程度上取决于语言和工具。它的美妙之处在于它是完全自动的，因此非常便宜。有些语言(比如C++)应该把它放在必备列表中。其他语言可能更难用这样的工具来处理。</p><ul class=""><li id="4cde" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">端到端(集成)测试</li></ul><p id="4345" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">某种程度的集成测试有助于了解您的系统作为一个整体是如何工作的。然而，它可以作为单元测试的调味品，而不是主菜。</p><p id="da74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对一些主要特性进行一到两次端到端测试是非常好的。然而，这不是一个单元测试。你不可能面面俱到，更重要的是，支持它会让你付出代价，所以你甚至不想尝试面面俱到。</p><h1 id="31e0" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated"><strong class="ak">反模式</strong></h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/1152aa9fc89eebe3c629292e64e2f337.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*27dQOeVohvUod5Zp"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">照片由<a class="ae jt" href="https://unsplash.com/@dmey503?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹·迈耶斯</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><ul class=""><li id="476f" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">过多的人工回归测试</li></ul><p id="a536" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一方面，我明白它从何而来。随着公司客户群的增长，bug的影响变得更加显著。因此，人们希望捕捉所有的回归错误。然而，通常过度的回归测试显示出缺少捕捉问题的其他门。因此，过分强调最后的回归验证。</p><ul class=""><li id="27b0" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">作为单元测试替代的端到端测试</li></ul><p id="9db7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为对花费越来越多时间的手工回归测试的反作用，公司将试图用过度自动化的端到端测试来代替它。不幸的是，对于质量差、单元测试覆盖率低的代码来说，这种情况尤其常见。它几乎总是以昂贵的努力而告终(甚至比回归测试更昂贵)，导致许多非常脆弱的测试失败。</p><p id="084e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我看到一家公司试图像那样改进质量，并创建了一套8000个复制/粘贴端到端测试。据我所知，每次大约有80%的人通过，20%的人失败。这20%多少被忽略了，因为试图分析1600个失败的测试几乎是不可能的。它们被重新运行(在最好的情况下),从而在花费大量的时间/金钱/精力在这上面的同时，破坏了这个练习的整个目的。</p><ul class=""><li id="5f5b" class="kz la hi ih b ii ij im in iq lk iu ll iy lm jc lg lh li lj bi translated">纯粹通过指标管理质量</li></ul><p id="dc7d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">制造高质量的产品需要对细节的大量关注(了解问题在哪里，抓住问题的最佳方式，优势在哪里等等)。度量将你从所有细节中抽象出来。你可以快速衡量指标，但你不能(阅读不应该)纯粹基于它们做出决定。</p><p id="2103" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">老实说，这种对度量标准的专注让我感到困惑。我看到一家公司花费大量时间收集所有这些统计数据，要求人们不断填写大量的JIRA字段、谷歌电子表格等等，只是在最后说，“这个组件状况良好，这个组件状况不佳。”有趣的是，任何在一家公司工作超过一年的SRE都可以在10分钟内提供这些信息，而不会浪费一半的工程时间。</p><p id="d5c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">顺便说一句。旁注。一旦某个过程(比如收集度量标准)成为一个目标(相对于成为一个工具)，你将会看到更多的这种浪费时间的活动，而几乎没有或者根本没有产出。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="60dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总结一下。如你所见，没有什么是神奇的，也很少是非传统的。然而，正如我最初提到的，我发现在这些讨论中缺少的是这种系统分析:纵深防御、选择合适的入口、回顾性和面向细节。更令人清醒的是，许多公司很少有人对构建高质量软件有清晰的心智模型。</p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="2039" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注:上面的列表显然不是详尽的，它更多的是高层次的项目，可以很容易地插入到开发过程中，并且可以很容易地应用到整个团队。有许许多多不同的实践可以在个人层面上提高质量(例如，TDD、考虑边缘案例、代码简洁等等)。</p><p id="4580" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这篇文章，请在媒体上关注我或通过电子邮件订阅。</p></div></div>    
</body>
</html>