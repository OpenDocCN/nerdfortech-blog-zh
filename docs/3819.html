<html>
<head>
<title>Implementing space shooter game features - Final boss</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现太空射击游戏功能-最终boss</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-final-boss-a03390c9b327?source=collection_archive---------11-----------------------#2021-06-25">https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-final-boss-a03390c9b327?source=collection_archive---------11-----------------------#2021-06-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="6f66" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="4c94" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">Unity空间射击游戏新增功能快速回顾</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/4a6485bc1423caa3b108568cf8502a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VIXiLKeI7YUC2ewOzxuUdA.gif"/></div></div></figure><p id="c7c1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:用Unity实现一款太空射击游戏中的最终boss。</p><p id="eb41" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在之前的帖子中，我在Unity的太空射击游戏中<a class="ae ko" rel="noopener" href="/nerd-for-tech/implementing-space-shooter-game-features-homing-shot-7820726f5538">实现了一个追踪操场上最近的敌人</a>的新镜头。现在是时候实施游戏的最终boss了。</p><h1 id="4957" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">新资产</h1><p id="5ae6" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">就像我在以前的帖子中说过的，我们需要加入新的精灵来创建最终的boss，它的动画和它的特定镜头。如果你不知道在哪里创建或获得新的精灵，那么我推荐你使用一个免费的在线程序(像我一样):</p><div class="lm ln ez fb lo lp"><a href="https://pixlr.com/e/" rel="noopener  ugc nofollow" target="_blank"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">图片编辑:Pixlr.com——免费在线图片编辑</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">登录/注册欢迎使用Pixlr的免费高级照片编辑器。点击打开照片按钮开始编辑…</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">pixlr.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md jq lp"/></div></div></a></div><p id="2711" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">此外，如果你不知道如何在Unity中添加精灵或动画，你可以查看这些旧帖子:</p><div class="lm ln ez fb lo lp"><a href="https://fas444.medium.com/upgrading-from-a-prototype-to-a-work-of-art-in-unity-4f3c0435501d" rel="noopener follow" target="_blank"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">在Unity中从原型升级为艺术品</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">关于从原型升级到Unity艺术作品的详细指南</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">fas444.medium.com</p></div></div><div class="ly l"><div class="me l ma mb mc ly md jq lp"/></div></div></a></div><div class="lm ln ez fb lo lp"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/animating-sprites-in-unity-9d02762bde96"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">在Unity中制作精灵动画</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">关于如何在Unity中制作精灵动画的快速指南</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">medium.com</p></div></div><div class="ly l"><div class="mf l ma mb mc ly md jq lp"/></div></div></a></div><div class="lm ln ez fb lo lp"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/creating-explosions-for-your-game-in-unity-889e9c373d14"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">在Unity中为你的游戏制造爆炸</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">关于如何在Unity中使用动画精灵创建爆炸的快速指南</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">medium.com</p></div></div><div class="ly l"><div class="mg l ma mb mc ly md jq lp"/></div></div></a></div><h2 id="afcc" class="mh kq hi bd kr mi mj mk kv ml mm mn kz kb mo mp lb kf mq mr ld kj ms mt lf ho bi translated">老板精灵</h2><p id="63e6" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">为了创建和动画制作最终的boss，我决定创建100多个精灵。这些精灵由3个动画片段组成，最终的boss可以移动、射击和传送。</p><div class="jh ji jj jk fd ab cb"><figure class="mu jl mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/1e52ede5c972e3b282e5b02accf58cad.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/1*htnTSb5R2sn-d6GztZhQcw.gif"/></div></figure><figure class="mu jl na mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/760f523b020636b4885a95525c9eef80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1448/format:webp/1*MZ5Jehk7dOIK-WPeRg33Dw.png"/></div></figure></div><p id="bc87" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">使用动画视图，我们可以修改每一帧中最终boss的精灵，以应用动画剪辑:</p><div class="jh ji jj jk fd ab cb"><figure class="mu jl nb mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/d885d361e4e9b7b764cecca5789fad79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*oFo-cO-J8u512Ilz4HFh_g.png"/></div></figure><figure class="mu jl nc mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/705b98ec8fe66c8db2ee650987f5837f.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/1*QkwIOL41f_STIbLmRoom7g.gif"/></div></figure></div><p id="6f4a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">此外，在Animator视图中，我们可以使用参数来控制动画的状态或最终boss的行为。正如你在下一张图中看到的，最终的boss将能够从最初的空闲状态攻击、瞬移或被摧毁:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nd"><img src="../Images/c747e2cc422df9de276f7a47b61dc51f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3sfzp501Z6efz8_iMI4gWw.png"/></div></div></figure><p id="d829" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，像其他敌人一样，我们需要添加各自的组件(刚体，碰撞器，动画，音频源和脚本)来处理游戏机制:</p><div class="jh ji jj jk fd ab cb"><figure class="mu jl ne mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/357f496414f94fc6aafa3e7d3612b6c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1514/format:webp/1*V5Vkuvv6auIT-rsiFduYyw.png"/></div></figure><figure class="mu jl nf mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/ce35c6d30d9797efab18c248eb441d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*T8-HGW0jW_FvDUKio-D6mg.png"/></div></figure></div><h2 id="ebc3" class="mh kq hi bd kr mi mj mk kv ml mm mn kz kb mo mp lb kf mq mr ld kj ms mt lf ho bi translated">新镜头</h2><p id="2610" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了创建最终老板的特定镜头，我创建了一个单独的精灵来匹配老板侧面的小点:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ng"><img src="../Images/90a94aab23787078f0d9ea9d65c30d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_4BjRSy0kBtvNBc65OtZPQ.png"/></div></div></figure><p id="0a63" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了实现它，我调整了游戏对象的大小，并添加了相应的组件来处理游戏机制。该镜头将向其旋转所指向的方向移动。此外，为了让照片看起来像流星，我决定添加一个<strong class="ju hs">轨迹渲染器</strong>:</p><div class="jh ji jj jk fd ab cb"><figure class="mu jl nh mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/dab7bd812be670f493349c4c819de8a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*jvETAdAPK4PJTQrFTKA3Yg.png"/></div></figure><figure class="mu jl nh mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/8eda8d64636f1c4e667af601aa7f5655.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*sGDbdNj1ekCZEVUY-DXYBA.png"/></div></figure></div><p id="011b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您想了解更多关于轨迹渲染器组件的信息，您可以访问Unity文档:</p><div class="lm ln ez fb lo lp"><a href="https://docs.unity3d.com/Manual/class-TrailRenderer.html" rel="noopener  ugc nofollow" target="_blank"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">轨迹渲染器</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">你如何在整个工作流程中使用文档？请参加本次调查，与我们分享您的体验。切换到…</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">docs.unity3d.com</p></div></div><div class="ly l"><div class="ni l ma mb mc ly md jq lp"/></div></div></a></div><p id="1cfc" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后为了让这个镜头更危险，我创建了一个新的预置，有更多的单元指向不同的方向移动:</p><div class="jh ji jj jk fd ab cb"><figure class="mu jl nj mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/3a77d25be8e0f2a9d4273e81d4b43dd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*ZVgTcWIS0GeSd3j81dCsRg.png"/></div></figure><figure class="mu jl nk mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/4b40cc0cf2539f75557c5edc5c0dda6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*sTkAPIWr4dVvn66xPnQ4KA.png"/></div></figure></div><h2 id="aad2" class="mh kq hi bd kr mi mj mk kv ml mm mn kz kb mo mp lb kf mq mr ld kj ms mt lf ho bi translated">传送入口</h2><p id="64bb" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">最后，为了让瞬移看起来更详细，我决定使用另一个精灵，它会在boss瞬移时出现:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nd"><img src="../Images/a4a05f03f7a8d8f2c625daa714edd421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mZZqyFPKsCvpWH1F3Nsl-g.png"/></div></div></figure><p id="af71" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了让它看起来更好，我决定通过动画视图改变帧的旋转和缩放值来制作动画:</p><div class="jh ji jj jk fd ab cb"><figure class="mu jl nl mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/8261e3998e6a17fb59753dbdbb8e8742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*-ZaNUDikny8XqBWTna8LOw.png"/></div></figure><figure class="mu jl nm mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/86c7174b135cbb8ffc030e11a3816d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/1*1acG_q_bBcdcaXfx3DHFHA.gif"/></div></figure></div><h1 id="eae8" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">实现boss</h1><p id="6e5a" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">为了实现最终boss，让我们创建一个从<strong class="ju hs">敌人</strong>类继承而来的<strong class="ju hs">最终Boss </strong>类:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nn"><img src="../Images/6ae967a87d8df69f7b84dd16fc132063.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*u4n_5pAEn_c4p5qg-eIEdg.png"/></div></figure><p id="808f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，为了处理当老板在类外受到损害时会发生什么，让我们创建一个公共静态<strong class="ju hs">动作</strong>委托，它接收一个浮点值<strong class="ju hs"> </strong>来指示老板拥有的生命的<em class="no"> % </em>:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es np"><img src="../Images/7a0fc12b52525ae6d267f4bcdb311918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*BuhWAXNijyu5tqsxFyfqAg.png"/></div></figure><p id="7abe" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">不要忘记在脚本的顶部包含<strong class="ju hs">系统</strong>名称空间，以便能够处理<strong class="ju hs">动作</strong>委托:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nq"><img src="../Images/4067c3257746b1ea92cbcade412e8367.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*EqnHOBtO4qdxGT1shE3_Mg.png"/></div></figure><p id="937d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">我们将向<strong class="ju hs"> UI管理器</strong>类中的<strong class="ju hs">动作</strong>委托添加一个方法，该方法接收生命的百分比，并将使用该值更新表示生命的UI元素:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nr"><img src="../Images/047d09e8bd4d0f59d8bd1ca17396ca6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*KA_xoLHBrfv0v_gPxGwdzg.png"/></div></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ns"><img src="../Images/56e99b7fd522f7f351550e731c0b3b0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iTMTly9i7b8D-F0bkvn2ZA.png"/></div></div></figure><p id="ff70" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您想了解有关动作代表的更多信息，可以访问Microsoft文档:</p><div class="lm ln ez fb lo lp"><a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1?view=net-5.0" rel="noopener  ugc nofollow" target="_blank"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">动作委托(系统)</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">封装具有单个参数且不返回值的方法。通用公共委托无效操作(T…</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">docs.microsoft.com</p></div></div><div class="ly l"><div class="nt l ma mb mc ly md jq lp"/></div></div></a></div><p id="668d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，我们需要创建下一个变量来存储boss属性:</p><ul class=""><li id="3261" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">行为延迟</li></ul><p id="a1ca" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量会存储boss等待选择另一个行为(瞬移或者攻击)的时间。</p><ul class=""><li id="df1a" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">拍摄延迟</li></ul><p id="5971" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量会存储射击前后boss等待保持移动的时间。</p><ul class=""><li id="8454" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">难度系数</li></ul><p id="0685" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">此变量将存储应用于boss行为难度的%值。比如值0.1，boss瞬移，旋转，射个10%快。</p><ul class=""><li id="0386" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">每秒度数</li></ul><p id="55a9" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将存储凸台每秒旋转的度数。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es od"><img src="../Images/11352191416e5cf0afd8733b3fe758ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*xKlmzNrxU35lPm0nmTeZOg.png"/></div></div></figure><p id="fb08" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们创建这些变量来处理boss机制:</p><ul class=""><li id="06d6" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">门户|结束门户</li></ul><p id="80ee" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将存储一个引用，当boss传送时，我们将产生这个引用。</p><ul class=""><li id="ee86" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">行为之间的延迟|镜头</li></ul><p id="a2de" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这些变量将帮助处理选择boss行为的协程。一个会返回等待另一个行为，一个会在boss出手前后返回等待。</p><ul class=""><li id="2ab9" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">马克斯活着</li></ul><p id="3c77" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">该变量将存储最终boss的初始寿命值，以便能够计算剩余寿命的<em class="no"> % </em>。</p><ul class=""><li id="aafa" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">门户位置</li></ul><p id="2d6f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将存储被选择来传送boss的位置。在这个位置，我们将实例化终端入口，在老板传送到那里之前警告玩家。</p><ul class=""><li id="9bfb" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">射击</li></ul><p id="70e9" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将指示老板此刻是否正在拍摄。</p><div class="jh ji jj jk fd ab cb"><figure class="mu jl oe mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/d950e0da7a17aaef8e88b8e11d124440.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*tE9uit4sH3Ale3wdOeM7pQ.png"/></div></figure><figure class="mu jl of mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/da1d010cb9b8a45e3d92a0c62694f8e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*YlVCcCMtcXGJE8vArQi_Rg.png"/></div></figure></div><p id="9be0" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，在<strong class="ju hs"> Start </strong>方法中(它是父类的覆盖)，让我们初始化变量来处理boss机制。同样，让我们设置boss的初始位置，然后启动一个协程将它移向一个新位置，使它看起来像是它进入操场的入口:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es og"><img src="../Images/a0ba5a424cff3cd314c7cd8d5c2328b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u5XlxuKTkrXCqryaYJpJLg.png"/></div></div></figure><p id="0ab3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">处理boss进入运动场的入口的协程接收移动的位置，并通过使用<strong class="ju hs">向量3。move origing</strong>方法，将凸台向那个位置移动。最后，我们启动协程来选择老板的行为，直到它被破坏:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es oh"><img src="../Images/21ee54806669e3508e7e79119868612f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2XpJb9PxM6eleaVTJ9pTlA.png"/></div></div></figure><p id="b5c4" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在<strong class="ju hs">更新</strong>方法(它是父类的一个覆盖)中，我们确保boss在不拍摄时旋转:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es oi"><img src="../Images/2e7865f6317ef3e07924dea3bb2425af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kLKJN5VkSb2A7s4xTYkMdA.png"/></div></div></figure><p id="0c01" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在为boss选择新行为的协程中，我们使用一个<strong class="ju hs"> while </strong>循环每隔一定时间选择一个新行为，直到boss被销毁。因为我们只有两种可能的行为(攻击或传送),我们可以使用<strong class="ju hs"> Random来随机选择。范围</strong>方法。</p><p id="44b5" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">当我们选择了一个行为时，我们使用一个switch语句来设置animator组件中相应的触发器。我们有3个触发器来处理动画剪辑流:</p><div class="jh ji jj jk fd ab cb"><figure class="mu jl oj mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/eb0a7998705528a05ff4f5e6b25cef48.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*7eG4RMi7w4PWamyJl9w8Pg.png"/></div></figure><figure class="mu jl ok mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/da650783bdcb59d9be40029e095070ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*3sfzp501Z6efz8_iMI4gWw.png"/></div></figure></div><p id="da73" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在每个动画中，我们使用<strong class="ju hs">动画事件</strong>来调用某一帧中的方法。</p><p id="b2d1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">当老板播放射击动画时，我们调用下一个方法。在这个方法中，我们确保通过给它们相应的旋转，在凸台的两侧实例化新的镜头:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ol"><img src="../Images/617d5f79275e5f07bdba4b017ce6d2fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e7--XHmyUlrSFFa2ChqS6g.png"/></div></div></figure><p id="923d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">另一方面，如果老板正在播放传送动画，我们在不同的帧中调用两种不同的方法:</p><ul class=""><li id="49a1" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">在第一帧中，我们调用<strong class="ju hs"> DisplayPortals </strong>方法，用操场中的新位置实例化初始和结束门户。</li><li id="7cd6" class="nu nv hi ju b jv om jy on kb oo kf op kj oq kn nz oa ob oc bi translated">然后，在动画剪辑的一半，我们调用<strong class="ju hs"> MoveEnemy </strong>方法，用结束入口的位置来改变boss的位置。</li></ul><div class="jh ji jj jk fd ab cb"><figure class="mu jl or mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/4a5f18f0c0f26704d3f7f9ae25bbdea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*TXbsAkzdHeHcBdRSJrxVxA.png"/></div></figure><figure class="mu jl os mw mx my mz paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/617d5e399ff724e8e70cccf5661c8c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*D_r8mN6-bPQdLEoHdiEOkg.png"/></div></figure></div><p id="0f88" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，为了处理boss损坏，我们使用<strong class="ju hs"> OnTriggerEnter2D </strong>方法(它是父类的一个覆盖)来检查boss是否与玩家或玩家的镜头发生碰撞。</p><blockquote class="ot ou ov"><p id="1135" class="js jt no ju b jv jw is jx jy jz iv ka ow kc kd ke ox kg kh ki oy kk kl km kn hb bi translated">注意到我们称之为<strong class="ju hs">基地是很重要的。来自父类的OnTriggerEnter2D </strong>方法，该方法处理最后的生命减法。</p></blockquote><p id="342b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">首先，我们检查静态的<strong class="ju hs">动作</strong>委托是否不为空来执行它，并发送剩余的生命的<em class="no"> % </em>作为参数。然后，如果剩余的寿命是10的倍数，我们就调用一个给boss增加难度的方法。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es oz"><img src="../Images/cbf1def65ce970f8ebdd78e01cea7d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PgH1tbrzKZD4vW6UdBeoZg.png"/></div></div></figure><p id="856c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">给老板增加难度的方法确保:</p><ul class=""><li id="e4f7" class="nu nv hi ju b jv jw jy jz kb nw kf nx kj ny kn nz oa ob oc bi translated">增加每秒的度数来旋转凸台</li><li id="176e" class="nu nv hi ju b jv om jy on kb oo kf op kj oq kn nz oa ob oc bi translated">减少选择另一种行为之前的等待时间</li><li id="d391" class="nu nv hi ju b jv om jy on kb oo kf op kj oq kn nz oa ob oc bi translated">减少拍摄前后的等待时间</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es pa"><img src="../Images/a55b6798a3947d4a9593c00ce92af372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Cwln2noE6EPMQDcippXfw.png"/></div></div></figure><p id="751a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，如果我们在Unity中运行脚本，我们将能够在最后一波中与老板作战:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nd"><img src="../Images/b62cab5cb2a336d7475afc6746561225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*2qgHBUiha1XsWlVs7wlX2g.gif"/></div></div></figure><p id="49a4" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了展示老板的生活，我决定使用一个简单的图像，带有一个决定水平显示多少的遮罩。如果你想知道它是如何工作的，你可以访问这个旧帖子:</p><div class="lm ln ez fb lo lp"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/implementing-space-shooter-game-features-thrusters-67aa02b314b6"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">实现太空射击游戏功能-推进器</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">Unity空间射击游戏新增功能快速回顾</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">medium.com</p></div></div><div class="ly l"><div class="pb l ma mb mc ly md jq lp"/></div></div></a></div><p id="4650" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们实现了游戏的最终boss！:d .我将在下一篇文章中看到你，在那里我将展示如何用Unity构建你的游戏。</p></div><div class="ab cl pc pd gp pe" role="separator"><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph pi"/><span class="pf bw bk pg ph"/></div><div class="hb hc hd he hf"><blockquote class="ot ou ov"><p id="17b4" class="js jt no ju b jv jw is jx jy jz iv ka ow kc kd ke ox kg kh ki oy kk kl km kn hb bi translated"><em class="hi">如果你想更多地了解我，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>