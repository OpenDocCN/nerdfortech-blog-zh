# Python 中“==”和“是”的区别

> 原文：<https://medium.com/nerd-for-tech/the-difference-between-and-is-in-python-52f447756c10?source=collection_archive---------6----------------------->

![](img/03d833280c05daa2addab3851b4d0933.png)

保罗·斯科鲁普斯卡斯在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

Python 的' == '和' is '通常被认为是相等运算符。虽然这看起来可能是正确的，但并不完全正确。“是”实际上是一个身份关键字。当确定两个变量是否存储相同的值时，使用“==”运算符，而“is”关键字确定两个变量是否在计算机内存中存储相同的值。

在我之前关于 python 变量的文章中，我将变量描述为一个盒子，其中存储了一个值。这并不能真正解释发生了什么😶。原来 python 已经给计算机内存中的特定位置分配了不同的值。简单地说，如果我将数字 5 放入一个名为“alpha”的变量中，并将数字 5 放入另一个变量中并命名为“bravo”，python 会简单地将这两个变量名分配给内存中名为“5”的空间。

```
>>> alpha = 5
>>> bravo = 5 
```

现在，如果我们用' == '运算符比较两个变量的相等性，我们将得到 **True** 作为输出，因为这两个值当然是相同的。

```
>>> alpha == bravo
True
```

如果我们使用“is”关键字会怎么样？我们仍然会得到**真值**作为输出。记得我之前说过“is”关键字决定了两个变量在计算机内存中是否存储相同的值。因为这两个变量指向内存中的同一个空间，所以输出为 **True。**

```
>>> alpha is bravo
True
```

那么我们如何知道这两个对象存储相同的值呢？python 有一个“id”函数，它告诉我们一个值在内存中的确切位置。它就像一个地址。因此，如果我们对这两个变量调用 **id** 函数:

```
>>> id(alpha)
140709619484448
>>> id(bravo)
140709619484448
```

它们返回相同的 id。这实际上意味着这两个变量存储同一个对象😂。

那么这是否意味着 python 在内存中给世界上所有的数字都分配了一个空间呢？当然不是。Python 只在内存中保存从-5 到 256 的数字。这意味着，如果你要在两个不同的变量中存储一个大于 256 或小于-5 的数，python 会在内存中复制它们。

```
>>> charlie = 729
>>> delta = 729
>>> id(charlie)
1957526993008
>>> id(delta)
1957526992944
```

那么这对我们的运营商意味着什么呢？比较时，两个操作符是否都返回**真值**作为输出？让我们看看:

```
>>> charlie == delta
True
>>> charlie is delta
False
```

“is”关键字返回 **False** ，因为存储在这两个变量中的数字存储在计算机内存的不同位置。看出区别了吗？😉

同样的类比不能应用于列表、元组等其他数据类型。在这种情况下，以列表为例，将同一个列表存储在两个不同的变量中并不意味着当您对这两个变量运行“id”函数时，它们将具有相同的“地址”。

```
>>> echo = [1, 2]
>>> foxtrot = [1, 2]
>>> id(echo)
1957526901568
>>> id(foxtrot)
1957533751616
```

您可以看到两个列表包含相同的值，但是它们存储在计算机内存的不同位置。如果我们运行' == '和' is ':

```
>>> echo == foxtrot
True
>>> echo is foxtrot
False
```

产量并不令人惊讶，对吗？但是，如果我们创建另一个变量，并在其中存储一个以前命名的变量，会怎么样呢:

```
>>> golf = echo
>>> id(echo)
1957526901568
>>> id(golf)
1957526901568
>>> golf == echo
True
>>> golf is echo
True
```

两者都返回**真值**作为输出。这是因为当“echo”被放入“golf”变量时，python 只是让变量“golf”指向“echo”最初指向的内存空间。因为两个变量指向内存中的同一个空间，所以它们会有相同的“id”。

据我所知，字符串数据类型似乎没有任何问题。无论字符串有多长，对于两个操作符，它总是返回 **True** 🤔

```
>>> hotel = 'aa' * 2000
>>> india = 'a' * 4000
>>> juliet = 'aa' * 2000
>>> id(hotel)
2527098241152
>>> id(india)
2527098241152
>>> id(juliet)
2527098241152
>>> hotel == india
True
>>> hotel == juliet
True
>>> india == juliet
True
>>> hotel is india
True
>>> hotel is juliet
True
>>> india is juliet
True
```

也许我错过了什么？😐下面评论！

## 结论

当确定身份关键字“is”将返回 True 还是 False 作为输出时，它实际上与“id”函数有关。“id”甚至可以表示身份😏。当值相同时，“==”运算符返回 True。

感谢阅读:)。