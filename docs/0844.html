<html>
<head>
<title>All About Javascript Event Listeners, Propagation, and Bubbling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于 Javascript 事件侦听器、传播和冒泡的所有内容</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/all-about-javascript-event-listeners-propagation-and-bubbling-19801c8558a1?source=collection_archive---------5-----------------------#2021-02-18">https://medium.com/nerd-for-tech/all-about-javascript-event-listeners-propagation-and-bubbling-19801c8558a1?source=collection_archive---------5-----------------------#2021-02-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9eee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">留在圈子里。听事件。</strong></p><p id="9f57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用 Javascript 编写的 Web 应用程序具有惊人的交互性。用户动作、鼠标点击、悬停、表单提交、滚动都有可能触发一些代码来执行一些工作，然后操纵 DOM 作为响应。</p><p id="7972" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，前端 Javascript 代码不知道何时或者如何执行，直到 DOM 上发生的特定事件告诉它这样做。我们告诉 Javascript 代码运行并在用户屏幕上发生什么的方式是通过事件监听器。</p><p id="1d22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以把这个过程想象成听收音机的过程。你调到一个特定的电台，听到一首你想听的歌曲或一个脱口秀节目，然后你利用这些信息做些事情，跟着唱，和朋友讨论，等等。事件侦听器遵循相同的步骤。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h1 id="25c8" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">有效倾听的步骤</h1><h2 id="c247" class="ki jl hi bd jm kj kk kl jq km kn ko ju iq kp kq jy iu kr ks kc iy kt ku kg kv bi translated"><strong class="ak">调到</strong></h2><p id="e63b" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">首先，找到您想要监听的 HTML 元素。元素应该分配给全局变量，并可以放在 Javascript 代码文件的顶部，以便组织。元素选择语句包含要搜索的 HTML 文档部分、一个选择器方法和一个 CSS 选择器或指定属性作为其参数。以下是一些可能的例子:</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lb"><img src="../Images/2b110824d49b080fc06bce6db86e6063.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*6Rm0bhNQWBjEZ2Muy-V-qA.png"/></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">Javascript 选择代码</figcaption></figure><h2 id="53b0" class="ki jl hi bd jm kj kk kl jq km kn ko ju iq kp kq jy iu kr ks kc iy kt ku kg kv bi translated"><strong class="ak">听一首歌</strong></h2><p id="bef8" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">接下来，确定您想要监听的事件类型。Javascript 知道要听大量不同的<a class="ae ln" href="https://developer.mozilla.org/en-US/docs/Web/Events" rel="noopener ugc nofollow" target="_blank">事件</a>，诀窍是知道你想听哪首歌。常见的事件类别包括:资源事件(load)、表单事件(submit、reset)、鼠标事件(click、hover)、键盘事件(keydown、keyup)。一旦选择了合适的元素，并确定了事件，<code class="du lo lp lq lr b">addEventListener</code>就是我们在元素上调用的 Javascript 方法。该方法有两个主要的参数部分:</p><p id="2e52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)事件名称<br/> 2)回调函数</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es ls"><img src="../Images/8b484e15a7003aecab4a75f5339dd1e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*tUqB1ij2QZSBtHkxWbuchg.png"/></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">添加事件侦听器</figcaption></figure><h2 id="849f" class="ki jl hi bd jm kj kk kl jq km kn ko ju iq kp kq jy iu kr ks kc iy kt ku kg kv bi translated"><strong class="ak">尽情跳舞</strong></h2><p id="0272" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated">最后一步，回调函数，可以编写为事件侦听器中的嵌套匿名函数，也可以是在单独的函数中完全定义的指定函数。回调处理您希望在事件发生后发生的结果工作。回调还可以访问事件对象，该对象包含各种有价值的数据，这些数据随后可以用于有条件地执行不同的工作，或者保存到变量中并发送到数据库。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h1 id="44ba" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated"><strong class="ak">冒泡</strong></h1><p id="f083" class="pw-post-body-paragraph if ig hi ih b ii kw ik il im kx io ip iq ky is it iu kz iw ix iy la ja jb jc hb bi translated"><strong class="ih hj">仔细倾听与泛泛而谈</strong></p><p id="4b38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更恰当的说法是事件传播，冒泡指的是所有 HTML 子元素都可以被它们的父元素“听到”,这意味着发生在元素上的任何事件都可以被它们的任何一个祖先节点访问。事件从起点向上遍历 DOM，直到到达事件侦听器所在的节点。</p><p id="e779" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑下面一组嵌套的 HTML 元素。</p><figure class="lc ld le lf fd lg er es paragraph-image"><div class="er es lt"><img src="../Images/4569740ec3b8c205793115cf5357005f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*WOm_kcFf3-xC1xB-zw4UFw.png"/></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">HTML 示例</figcaption></figure><p id="94f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可能会假设，为了响应对元素<br/> <code class="du lo lp lq lr b">&lt;button id=”hello”&gt;Say Hi!&lt;/button&gt;</code>的点击，事件监听器需要连接到那个特定的按钮。然而，使用冒泡，在<code class="du lo lp lq lr b">&lt;div id="div1"&gt;</code>上设置一个事件监听器会达到同样的效果，并且能够监听位于 div 或其子元素上任何其他位置的点击事件。</p><p id="c7a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当选择一个元素作为事件侦听器的目标时，记住周围环境中可能正在发生的事件是有帮助的，因为我们可能希望同时侦听多个事件并触发对多个事件的响应。在这种情况下，我们可以将事件侦听器放在它们最近的共同祖先上，而不是放在每个单独的元素上。这被称为事件委托。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="f7e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有许多方法可以完成事件侦听和处理中涉及的步骤。因此，对于一个事件如何从发生到在网页上反映出来，这主要取决于个人偏好(当然，只要达到了预期的结果)。</p><p id="8df4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一定要记住</p><figure class="lc ld le lf fd lg"><div class="bz dy l di"><div class="lu lv l"/></div><figcaption class="lj lk et er es ll lm bd b be z dx translated">气泡</figcaption></figure></div></div>    
</body>
</html>