<html>
<head>
<title>Migrating off of Auth0? Here’s what you need to know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">正在从 Auth0 迁移？以下是你需要知道的</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/migrating-off-of-auth0-heres-what-you-need-to-know-642624d2fb19?source=collection_archive---------23-----------------------#2021-07-23">https://medium.com/nerd-for-tech/migrating-off-of-auth0-heres-what-you-need-to-know-642624d2fb19?source=collection_archive---------23-----------------------#2021-07-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/8c25afd90f51b7c360d9cbd8653367da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-yfG1dnF_vSDbgG1.png"/></div></div></figure><p id="2dd2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">嘘。你可能听说过<a class="ae jo" href="https://www.okta.com/press-room/press-releases/okta-signs-agreement-to-acquire-auth0/" rel="noopener ugc nofollow" target="_blank"> Auth0 最近被 Okta </a>收购了。如果这让你考虑迁移选项，请继续阅读。这篇文章将提供一个决定迁移是否有意义的策略，并讨论如果有意义，你需要考虑什么。</p><p id="fee9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我将使用 FusionAuth 作为示例迁移目的地，但是我讨论的调查和特性映射可以用于准备迁移到任何 Auth0 竞争对手。也就是说，自声明发布以来，我们的网站流量显著增加，有数十人前来了解 FusionAuth 的更多信息。</p><h1 id="fa74" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">FusionAuth vs Auth0</h1><p id="73b1" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">FusionAuth 和 Auth0 有很多相似之处。两者都能让你快速上手。它们都在一个完整的、易于使用的包中抽象了现代身份验证的复杂性，无论是社交登录、SAML 还是 OIDC。每一种都可以轻松地将数据迁移到他们的系统中。但相似之处远不止于此。Auth0 和 FusionAuth 都是为开发人员设计的。这意味着优秀的 API 和文档以及对开源项目的支持。两家公司都有良好的客户服务，有活跃的论坛和响应迅速的客户支持团队。</p><p id="9ac4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，Auth0 和 FusionAuth 也有不同之处。以下是 FusionAuth 提供而 Auth0 没有的一些东西:</p><ul class=""><li id="283c" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">完全可定制的用户界面</li><li id="19e8" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">一个健壮的同意数据模型</li><li id="b406" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">授权系统中对父/子关系的支持</li><li id="21bc" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">灵活的密码散列/自带算法</li><li id="6a47" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">更好的传统后端支持</li><li id="bffe" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">高级注册表单</li><li id="0f58" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">无限制的 SAML/OIDC 连接</li><li id="6c57" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">自我掌控的能力</li><li id="0ddb" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">无限租户</li><li id="0280" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">一个真正的免费选项，当你自己托管社区版时，没有用户数量的限制</li></ul><p id="4652" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不管 FusionAuth 有什么优势，迁移都是评估您当前系统和替代方案的好时机。全面深入地审视你当前的 Auth0 系统和替代系统是有益的。</p><h1 id="735f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">广泛评价</h1><p id="099f" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">身份认证系统是基础设施的重要组成部分。就像数据库一样，您希望确保您可以信任该软件。如果背后有一个商业供应商，你需要确保你也能信任那个公司。</p><p id="78f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们听说的另一种方法是编写代码并运行自己的认证系统，这种方法需要更多地信任你的团队，减少对外部软件系统的依赖。这肯定是一个选择，但是它的好处应该与机会成本相权衡。再次考虑数据库类比。你应该建立自己的关系数据库吗？我确信在某些情况下这是有意义的，但是 99%的时候使用现有的解决方案是更好的选择。</p><p id="8673" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">乔·斯特奇，在<a class="ae jo" href="https://fusionauth.io/blog/2021/01/20/why-outsource-auth/" rel="noopener ugc nofollow" target="_blank">“为什么外包你的认证系统？”</a>，写道:</p><blockquote class="lg lh li"><p id="16eb" class="iq ir lj is b it iu iv iw ix iy iz ja lk jc jd je ll jg jh ji lm jk jl jm jn hb bi translated">认证是你一直要处理的事情之一。Auth 是任何软件产品的必要组成部分，但是如何实现 auth 并不总是相同的。需要仔细考虑，因为您的外包决定不仅会影响开发速度，还会影响长期的产品维护——您不希望因为不必要地重新实现了整个身份验证系统而拖慢上市时间，但您也不希望使用一个将来会导致问题的身份验证系统。</p></blockquote><p id="3594" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">切换您的身份验证提供者在许多方面类似于从任何其他供应商迁移。但是，有一些具体的考虑因素值得思考。下面是一些关于这些主题的与供应商无关的文章。</p><p id="cdc9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以从多个不同的方面来评估提供身份验证、授权和用户管理的系统:</p><ul class=""><li id="da2d" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">自助或 SaaS</li><li id="f920" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">独立应用程序或库/框架</li><li id="2bda" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">开源与否</li><li id="7e91" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">标准支持</li><li id="0cf0" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">核心功能:认证、授权、用户管理还是三者都有？</li><li id="2cad" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">单一登录(SSO)支持</li><li id="629e" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">与 LDAP 等其他身份认证技术的集成</li><li id="785d" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">支持哪些 OAuth 授权</li><li id="a9a2" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">成本，包括初始支出和预测的未来支出</li><li id="8e3e" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">操作复杂性</li><li id="ad05" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">支持您的部署环境</li><li id="f491" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">特定功能和可定制性</li><li id="a4e8" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">文档和开发人员经验</li></ul><p id="906e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我不知道你的使用案例，所以我不能给你具体的建议，但<a class="ae jo" href="https://solutionsreview.com/identity-management/the-30-best-identity-management-companies/" rel="noopener ugc nofollow" target="_blank">这里有一个认证系统提供商的列表</a>来启动你的评估。</p><p id="a494" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在评估的这一点上，我是特性矩阵的忠实粉丝，在这里你可以根据使用和知识来决定你的需求和“最好拥有”。与你的团队和研究一起完善它们。您希望完成对可用解决方案的广泛调查，而不是深入研究几个解决方案。不要忘记在矩阵中包含您当前的解决方案 Auth0。进行这样的调查有几个可能的结果:</p><ul class=""><li id="e00c" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">Auth0 充分满足你的需求，所以你会坚持住。也许收购会很顺利。去参加下一次会议！</li><li id="de98" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">您决定在下次您的 Auth0 合同到期续订时重新讨论该问题。在您的日历中做一个记录，留出几个月的时间来评估和可能的迁移。</li><li id="7dc5" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">您确定有几个备选方案值得仔细研究。原型时间到了。</li></ul><h1 id="e8ed" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">为什么你应该在决定之前建立原型</h1><p id="f8f9" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">评估一个认证系统并不简单。授权系统，甚至那些支持 OAuth、OIDC 和 SAML 等标准的系统，都深深地陷入了其他系统中。因此，迁移类似于转换内容管理系统。由于复杂性，您希望花一些时间来考虑各种选择，以做出最佳选择。在认真考虑的情况下，您应该至少与任何身份验证提供者建立一个小的集成。</p><p id="fa2b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，正如上面提到的，有许多不同的方式来使用授权系统。适用于社交登录至关重要的多租户基于 web 的消费者 SaaS 应用程序的解决方案，在企业客户环境中部署到 Kubernetes 的本地应用程序中可能会有所欠缺。</p><p id="2165" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">出于这两个原因，最好进行概念验证。比方说，当将 Auth0 留给 FusionAuth 时，需要将 Auth0 的功能映射到新的提供者。你可以<a class="ae jo" href="https://fusionauth.io/download/" rel="noopener ugc nofollow" target="_blank">下载 FusionAuth </a>并且不需要和销售人员交谈就可以体验。</p><p id="1364" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其他提供商可能需要对话来获得访问权限，但是如果您认真考虑他们，请花时间这样做。不要在没有进行概念验证的情况下继续前进。你以后会感谢我的。</p><p id="409b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我的经验是构建风险最高的集成原型。这样做可以确保应用程序有更大的机会与新的提供商顺利合作；嘿，没有什么是 100%有保证的。它还可以让您了解客户支持的响应能力以及文档的质量。</p><h1 id="624c" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">评估 Auth0 功能</h1><p id="7384" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">您的应用程序所使用的 Auth0 系统的每个部分都应该进行编目，并与新系统的功能进行比较。例如，权限、角色和连接在 Auth0 和任何其他 auth provider 之间不会相同。另一方面，用户数据通常非常容易携带。只要您可以迁移登录名(用户名或电子邮件)和密码哈希，就可以成功移动用户。</p><p id="9ada" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为使您的一个或多个应用程序正常工作，可能需要从 Auth0 迁移的部分列表:</p><ul class=""><li id="54d0" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">用户是可以登录的实体。这个概念在认证系统中非常普遍。</li><li id="defa" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">在 Auth0 中，<a class="ae jo" href="https://auth0.com/docs/identityproviders" rel="noopener ugc nofollow" target="_blank">连接</a>是用户的数据源。FusionAuth 称这些<a class="ae jo" href="https://fusionauth.io/docs/v1/tech/identity-providers/" rel="noopener ugc nofollow" target="_blank">为身份提供者</a>。</li><li id="b225" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated"><a class="ae jo" href="https://auth0.com/docs/rules" rel="noopener ugc nofollow" target="_blank">规则</a>、<a class="ae jo" href="https://auth0.com/docs/hooks" rel="noopener ugc nofollow" target="_blank">挂钩</a>和<a class="ae jo" href="https://auth0.com/docs/actions" rel="noopener ugc nofollow" target="_blank">动作</a>是您定制认证或授权工作流的方式。FusionAuth 有一个类似的概念叫做<a class="ae jo" href="https://fusionauth.io/docs/v1/tech/lambdas/" rel="noopener ugc nofollow" target="_blank"> Lambdas </a>。</li><li id="3116" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">使用 Auth0，<a class="ae jo" href="https://auth0.com/docs/applications/set-up-an-application" rel="noopener ugc nofollow" target="_blank">API、应用程序和 SSO 集成</a>是您的用户可以登录的内容。在 Auth0 文档中，它们也被称为客户端。FusionAuth 将这些称为<a class="ae jo" href="https://fusionauth.io/docs/v1/tech/core-concepts/applications/" rel="noopener ugc nofollow" target="_blank">应用</a>。</li><li id="9903" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated"><a class="ae jo" href="https://auth0.com/docs/get-started/learn-the-basics" rel="noopener ugc nofollow" target="_blank">租户</a>是一个高层次的构造，它将用户和应用程序等其他实体组织在一起。FusionAuth 也将这些<a class="ae jo" href="https://fusionauth.io/docs/v1/tech/core-concepts/tenants/" rel="noopener ugc nofollow" target="_blank">租户称为</a>。</li><li id="ffcd" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">对于 Auth0，<a class="ae jo" href="https://auth0.com/docs/authorization/rbac/roles" rel="noopener ugc nofollow" target="_blank">角色和权限</a>提供了关于您的用户可以在您的定制或现成的应用程序中做什么的信息。FusionAuth 也有<a class="ae jo" href="https://fusionauth.io/docs/v1/tech/core-concepts/roles/" rel="noopener ugc nofollow" target="_blank">角色</a>；它们是在应用程序的基础上定义的。</li></ul><p id="3e4d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一个可能会让你犯错误的细节差异的例子说明了原型的重要性，在 FusionAuth 中，用户被显式地映射到注册了<a class="ae jo" href="https://fusionauth.io/docs/v1/tech/core-concepts/registrations/" rel="noopener ugc nofollow" target="_blank">的应用程序</a>。另一方面，Auth0 默认允许用户访问租户内的所有 Auth0 应用程序。这些细节就是为什么没有什么可以替代你正在认真考虑的概念验证试验方案。</p><p id="c863" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，确保你有一个清晰的目标，当一个原型“足够好”的时候。您没有执行完全成熟的迁移；你没有向这个特定的供应商承诺。你想知道足够多的信息来做出明智的决定。但不幸的是，总会有意想不到的打嗝。承认这种紧张并允许未知是任何迁移的一部分。</p><h1 id="a064" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">非标准功能</h1><p id="50ba" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">还有其他的 Auth0 特性，你需要为它们寻找替代品。换句话说，通常您不能只迁移上面讨论的配置，还需要找到等效的功能。</p><p id="e41c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">比如 Auth0 提供<a class="ae jo" href="https://auth0.com/docs/universal-login" rel="noopener ugc nofollow" target="_blank">通用登录</a>。这是一个复杂的、可配置的登录组件，可与 spa、本地应用程序和 web 应用程序配合使用。相比之下，FusionAuth 的登录体验就没那么复杂了。你可以选择<a class="ae jo" href="https://fusionauth.io/docs/v1/tech/core-concepts/integration-points/#login-options" rel="noopener ugc nofollow" target="_blank">构建自己的登录页面或者使用 FusionAuth 托管的登录页面</a>。</p><p id="c670" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Auth0 marketplace 中使用的任何扩展也应进行分类和评估。必须找到或建立等效的功能。</p><h1 id="31a7" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">后续步骤</h1><p id="a8e2" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">在深入评估结束时，您应该已经选择了一个新的解决方案。现在，迁移的真正工作开始了。但是不要忘记你的数据！您还应该计划将其从 Auth0 中迁移出来。</p><p id="f5ff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最重要的数据通常是前面提到的用户数据，尽管您的应用程序只能使用连接，并且在 Auth0 管理的数据库中没有一个用户。如果您的应用程序使用联合，也要计划迁移那个配置。</p><p id="1c5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">关于移动用户数据和其他迁移主题的更多信息，<a class="ae jo" href="https://fusionauth.io/docs/v1/tech/guides/auth0-migration/" rel="noopener ugc nofollow" target="_blank">请查看 Auth0 迁移指南</a>。</p></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><p id="f1dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="lj">最初发布于</em><a class="ae jo" href="https://fusionauth.io/blog/2021/03/18/migrate-from-auth0/" rel="noopener ugc nofollow" target="_blank"><em class="lj">https://fusion auth . io</em></a><em class="lj">。</em></p></div></div>    
</body>
</html>