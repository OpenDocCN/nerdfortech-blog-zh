<html>
<head>
<title>Using OpenCV with Python to perform basic operations on images</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OpenCV和Python对图像执行基本操作</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-opencv-with-python-to-perform-basic-operations-on-images-bb396153ae2a?source=collection_archive---------8-----------------------#2021-06-09">https://medium.com/nerd-for-tech/using-opencv-with-python-to-perform-basic-operations-on-images-bb396153ae2a?source=collection_archive---------8-----------------------#2021-06-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es im"><img src="../Images/83312b13e85e700466fa50fb549edca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*abwi3z9Alo8kQAwHCjTTOw.jpeg"/></div></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h1 id="44bc" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated"><strong class="ak">目标:</strong></h1><p id="0ec0" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">执行以下任务-</p><p id="5e8e" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">📌使用Python代码自己创建图像</p><p id="7820" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">📌拍摄两张图像，裁剪图像的一部分并交换。</p><p id="3c46" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">📌拍摄两张图像，并将其组合成一张图像。</p><h1 id="e5b0" class="iu iv hi bd iw ix kv iz ja jb kw jd je jf kx jh ji jj ky jl jm jn kz jp jq jr bi translated">方法:</h1><p id="f790" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">为了执行以下任务，我们将使用OpenCV和Python，ide是Jupyter notebook。</p><h2 id="a54a" class="la iv hi bd iw lb lc ld ja le lf lg je kd lh li ji kh lj lk jm kl ll lm jq ln bi translated">我们来看看Python中的OpenCV是什么？</h2><p id="09de" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">因此，OpenCV-Python是一个Python绑定库，旨在解决计算机视觉问题。它使用了<strong class="ju hj"> Numpy </strong>，这是一个具有MATLAB风格语法的高度优化的数值运算库。所有OpenCV数组结构都与Numpy数组相互转换。这也使得与使用Numpy的其他库(如SciPy和Matplotlib)的集成更加容易。</p><blockquote class="lo"><p id="3cbb" class="lp lq hi bd lr ls lt lu lv lw lx kp dx translated">所以让我们开始吧！</p></blockquote><h2 id="3251" class="la iv hi bd iw lb ly ld ja le lz lg je kd ma li ji kh mb lk jm kl mc lm jq ln bi translated">📌使用Python代码自己创建图像:</h2><p id="957d" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">为此，我们可以参考OpenCV中的图形绘制功能。</p><ul class=""><li id="4217" class="md me hi ju b jv kq jz kr kd mf kh mg kl mh kp mi mj mk ml bi translated"><strong class="ju hj">画线:</strong>要画线，需要传递线的起点和终点坐标。</li></ul><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/828a97dae26bf87693f96525e3ce1d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NwHCUM9cyxRtWj7X.jpg"/></div></div></figure><ul class=""><li id="c0a3" class="md me hi ju b jv kq jz kr kd mf kh mg kl mh kp mi mj mk ml bi translated"><strong class="ju hj">画矩形:</strong>画矩形，需要矩形的左上角和右下角。</li></ul><p id="72bf" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">画矩形的函数是<code class="du mr ms mt mu b">cv2.rectangle()</code>。矩形由两个对角上的两个点定义。第一个在左上角，第二个在右下角。请记住，厚度参数的负值会给我们一个填充的形状作为输出。</p><ul class=""><li id="21c9" class="md me hi ju b jv kq jz kr kd mf kh mg kl mh kp mi mj mk ml bi translated"><strong class="ju hj">画圆:</strong>要画圆，需要它的圆心坐标和半径。</li></ul><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mm"><img src="../Images/3c1c4598cdc1961d2ec582272658a412.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*08packfs3KPUU4b6.jpg"/></div></div></figure><p id="8cf0" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">下面是我如何使用上述函数创建自定义图像的一个片段:</p><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es mv"><img src="../Images/fc86a6c8734579d6c92f785e2cffc053.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l6hCtLMJIIyL9pgYVBQPJg.png"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx translated">代码片段</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es na"><img src="../Images/5a84cc2685fb0521effca0f07b52431d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Z_ezxbY7Cp4nPVkoPxwkQ.png"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx translated">输出</figcaption></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h2 id="866b" class="la iv hi bd iw lb lc ld ja le lf lg je kd lh li ji kh lj lk jm kl ll lm jq ln bi translated">📌拍摄两张图像，裁剪图像的一部分并交换。</h2><p id="8c75" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">这里要注意的重要一点是切片函数，因为图像只是2D/3D阵列，我们可以对它们执行切片函数来提取图像的特定部分。</p><p id="34e3" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated"><code class="du mr ms mt mu b">&lt;cropped_image_variable&gt;=image[starty:endy, startx:endx]</code></p><p id="8f2c" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">starty:endy切片提供图像中的<em class="nb">行</em>(因为<em class="nb">y</em>-轴是行数)，而startx:endx提供<em class="nb">列</em>(因为<em class="nb">x</em>-轴是列数)。</p><p id="8de0" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">以下是用于执行任务的图像。</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es nc"><img src="../Images/64db0d2eb4f1514babf28cc8e3f183f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*ZkPt2I-kTgCOSn1JzF8yjQ.jpeg"/></div><figcaption class="mw mx et er es my mz bd b be z dx translated">球</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es nd"><img src="../Images/58f602b4591f7e87e52e134d155c56d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*-D60pbJaRhwLlS4ZvWFVWw.jpeg"/></div><figcaption class="mw mx et er es my mz bd b be z dx translated">一个人</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es ne"><img src="../Images/8ac668fae94d50e0f8365c178d663379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9LOPhCDfSNROolKxbibUsg.png"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx translated">代码片段</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es nf"><img src="../Images/2a64e517d95e68d9878af19b304eb6d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*DAsi41vF73uiQdnvefOfTg.png"/></div><figcaption class="mw mx et er es my mz bd b be z dx translated">输出</figcaption></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><h2 id="a6b3" class="la iv hi bd iw lb lc ld ja le lf lg je kd lh li ji kh lj lk jm kl ll lm jq ln bi translated">📌拍摄两张图像，并将其组合成一张图像</h2><p id="1a47" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated">在OpenCV中，使用Numpy数组合并到图像有不同的方法，其中一种方法是:</p><h2 id="00a0" class="la iv hi bd iw lb lc ld ja le lf lg je kd lh li ji kh lj lk jm kl ll lm jq ln bi translated">hstack():</h2><p id="612b" class="pw-post-body-paragraph js jt hi ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp hb bi translated"><code class="du mr ms mt mu b">numpy.<strong class="ju hj">hstack</strong></code> ( <em class="nb">图普</em>)</p><ul class=""><li id="8cc3" class="md me hi ju b jv kq jz kr kd mf kh mg kl mh kp mi mj mk ml bi translated">按顺序水平堆叠数组(按列)。</li><li id="0de0" class="md me hi ju b jv ng jz nh kd ni kh nj kl nk kp mi mj mk ml bi translated">这相当于沿第二个轴串联，只是一维数组沿第一个轴串联。重建除以<code class="du mr ms mt mu b"><strong class="ju hj">hsplit</strong></code>的数组。</li><li id="4d02" class="md me hi ju b jv ng jz nh kd ni kh nj kl nk kp mi mj mk ml bi translated">这个函数对于多达3维的数组最有意义。例如，对于具有高度(第一轴)、宽度(第二轴)和r/g/b通道(第三轴)的像素数据。函数<code class="du mr ms mt mu b"><a class="ae nl" href="https://numpy.org/doc/stable/reference/generated/numpy.concatenate.html#numpy.concatenate" rel="noopener ugc nofollow" target="_blank"><strong class="ju hj">concatenate</strong></a></code>、<code class="du mr ms mt mu b"><a class="ae nl" href="https://numpy.org/doc/stable/reference/generated/numpy.stack.html#numpy.stack" rel="noopener ugc nofollow" target="_blank"><strong class="ju hj">stack</strong></a></code>和<code class="du mr ms mt mu b"><a class="ae nl" href="https://numpy.org/doc/stable/reference/generated/numpy.block.html#numpy.block" rel="noopener ugc nofollow" target="_blank"><strong class="ju hj">block</strong></a></code>提供了更一般的堆叠和连接操作。</li></ul><blockquote class="nm nn no"><p id="e0e5" class="js jt nb ju b jv kq jx jy jz kr kb kc np ks kf kg nq kt kj kk nr ku kn ko kp hb bi translated"><strong class="ju hj">参数:</strong><strong class="ju hj">tup:</strong><em class="hi">n数组序列</em></p><p id="a567" class="js jt nb ju b jv kq jx jy jz kr kb kc np ks kf kg nq kt kj kk nr ku kn ko kp hb bi translated">除了第二个轴之外，数组必须具有相同的形状，一维数组除外，一维数组可以是任意长度。</p><p id="829a" class="js jt nb ju b jv kq jx jy jz kr kb kc np ks kf kg nq kt kj kk nr ku kn ko kp hb bi translated"><strong class="ju hj">返回</strong> : <strong class="ju hj">堆栈:</strong><em class="hi">n数组</em></p><p id="79f4" class="js jt nb ju b jv kq jx jy jz kr kb kc np ks kf kg nq kt kj kk nr ku kn ko kp hb bi translated">由给定数组堆叠而成的数组。</p></blockquote><p id="a5bf" class="pw-post-body-paragraph js jt hi ju b jv kq jx jy jz kr kb kc kd ks kf kg kh kt kj kk kl ku kn ko kp hb bi translated">以下是用于执行任务的图像:</p><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es ns"><img src="../Images/7c7f1173c1dc4c3fd2abb24f19b385fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:326/format:webp/1*cLAEr0-zQ4RPbPnJ7oiV9A.jpeg"/></div><figcaption class="mw mx et er es my mz bd b be z dx translated">img1</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es nt"><img src="../Images/9d96b1a38fbcd574cbf768fedd534b27.png" data-original-src="https://miro.medium.com/v2/resize:fit:316/format:webp/1*bwReX8tzcDGVYvyAw2UrkA.jpeg"/></div><figcaption class="mw mx et er es my mz bd b be z dx translated">img2</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="er es nu"><img src="../Images/cfdb6892989c630df510a6c7f2818abd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VVdRscDn44FyuNgGdkiJhA.png"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx translated">代码片段</figcaption></figure><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es nv"><img src="../Images/47002c8fca1e720d041cd4f13096cd50.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*ztb6JbBwatuu-tsKp56J5A.jpeg"/></div><figcaption class="mw mx et er es my mz bd b be z dx translated">输出</figcaption></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><blockquote class="nm nn no"><p id="2e2a" class="js jt nb ju b jv kq jx jy jz kr kb kc np ks kf kg nq kt kj kk nr ku kn ko kp hb bi translated">用于上述任务的GitHub资源库:<a class="ae nl" href="https://github.com/AmimaShifa/Working-with-OpenCV-with-Python" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/AmimaShifa/Working-with-OpenCV-with-Python</a></p></blockquote></div></div>    
</body>
</html>