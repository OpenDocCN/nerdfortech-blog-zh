<html>
<head>
<title>What is the Difference Between Scope vs Context?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">范围和上下文的区别是什么？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-the-difference-between-scope-vs-context-704e6466db20?source=collection_archive---------7-----------------------#2021-05-31">https://medium.com/nerd-for-tech/what-is-the-difference-between-scope-vs-context-704e6466db20?source=collection_archive---------7-----------------------#2021-05-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/d43e17018a6ecf4295256a34d29212b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SjFS7lRcdMbESCnP"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">Starks Don Pablo 在<a class="ae hv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class=""/><p id="1542" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">JavaScript 是一种奇怪的语言，但我仍然喜欢它，并且喜欢使用它，不管它是核心 JavaScript、Angular、React 还是 NodeJS。我通过库 jQuery 与 JavaScript 进行交互。最流行的库之一，用于 DOM 操作和在网页上添加动画。</p><p id="eab2" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在 2014 年的一段时间后，我开始了解 Angular，然后 React，然后 Vue，然后 React Native，然后 NodeJS，这些库和框架每年都会出现。今天，我们有许多完全基于 JavaScript 的框架和库。我们可以只用 JavaScript 创建一个完整的企业级应用程序，这就是为什么最近我们听到很多对 MEAN 和 MERN 堆栈开发人员的需求。</p><p id="edc2" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在回到正题。随着 JavaScript 越来越流行，要求也越来越高。我们需要非常清楚它的一些核心概念。所以，让我们从范围 vs 上下文开始。大多数开发人员非常清楚什么是范围，但是不太清楚什么是上下文。最有趣的是，如果你问已经在 React 项目中工作的人什么是上下文，他/她会开始谈论<a class="ae hv" href="https://reactjs.org/docs/hooks-reference.html#usecontext" rel="noopener ugc nofollow" target="_blank"> React useContext() </a> hook。</p><p id="1904" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们一个一个来看范围和上下文，看看两者有什么区别。</p><h2 id="e0db" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated"><strong class="ak">什么是范围？</strong></h2><p id="aaf1" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">范围只不过是变量的可访问性(可见性)。JavaScript 有以下类型的作用域。</p><ol class=""><li id="d2e8" class="kt ku hy ix b iy iz jc jd jg kv jk kw jo kx js ky kz la lb bi translated">全球范围</li><li id="d14b" class="kt ku hy ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated">局部范围</li><li id="0aa1" class="kt ku hy ix b iy lc jc ld jg le jk lf jo lg js ky kz la lb bi translated">块范围</li></ol><p id="c26f" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">全局范围:</strong>当我们在函数或块语句(if、switch、for 循环、while 循环)之外声明任何变量时，它被称为全局范围变量，因为它可以被模块/文件中的任何人访问。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="3406" class="jt ju hy lm b fi lq lr l ls lt">// Global scoped variable<br/>var scopeName = "Global";</span><span id="ac37" class="jt ju hy lm b fi lu lr l ls lt">function getScopeName() {<br/>    console.log(scopeName); // Global<br/>};</span><span id="d588" class="jt ju hy lm b fi lu lr l ls lt">if(true) {<br/>  console.log(scopeName); // Global<br/>};</span><span id="fd80" class="jt ju hy lm b fi lu lr l ls lt">console.log(scopeName); // Global</span></pre><p id="11e4" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">局部作用域:</strong>当我们在一个函数中声明一个变量时，这个变量只能在这个函数中被访问，这个变量就是这个函数的局部作用域。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="f12f" class="jt ju hy lm b fi lq lr l ls lt">var scopeName = "Global";</span><span id="a8e7" class="jt ju hy lm b fi lu lr l ls lt">function getScopeName () {<br/>    var year = 2021;<br/>    console.log(scopeName); // Global<br/>    console.log(year); // 2021<br/>};</span><span id="0597" class="jt ju hy lm b fi lu lr l ls lt">getScopeName();</span><span id="22eb" class="jt ju hy lm b fi lu lr l ls lt">console.log(year); // "ReferenceError: year is not defined"</span></pre><p id="37c2" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们在任何函数中没有使用 var/let/const 关键字来定义任何变量，那么这个变量就变成了全局变量。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="0d04" class="jt ju hy lm b fi lq lr l ls lt">function whichYear() {<br/>  year = 2021;<br/>}</span><span id="adeb" class="jt ju hy lm b fi lu lr l ls lt">whichYear ();</span><span id="12a8" class="jt ju hy lm b fi lu lr l ls lt">console.log(year);</span></pre><p id="7792" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">块作用域:</strong>如果我们在任何块语句(If、switch、for 循环、while 循环)内使用 let/const(ECMAScript 6 中新引入的)定义变量，那么这些语句就不能在外部访问。因为 let 和 const 有块作用域，var 有函数作用域。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="2ec6" class="jt ju hy lm b fi lq lr l ls lt">if(true) {<br/>  const greeting = "Hello";<br/>  let year = 2021;<br/>  <br/>  console.log(greeting); // Hello<br/>  console.log(year); // 2021<br/>}</span><span id="200a" class="jt ju hy lm b fi lu lr l ls lt">console.log(greeting); // "ReferenceError: greeting is not defined"</span><span id="3966" class="jt ju hy lm b fi lu lr l ls lt">console.log(year); // "ReferenceError: year is not defined"</span></pre><h2 id="52e4" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated"><strong class="ak">什么是语境？</strong></h2><p id="272c" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">范围和上下文之间有很多混淆。我们已经看到了什么是作用域。希望你能明白。那么，什么是背景呢？</p><p id="f062" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">上下文与对象有关系。换句话说，我们可以用与函数所属对象相关的关键字<strong class="ix hz">来引用上下文。</strong></p><p id="0503" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们用一个例子来理解这一点:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="eb1e" class="jt ju hy lm b fi lq lr l ls lt">function currentContext() {<br/>  console.log(this);<br/>};</span><span id="9178" class="jt ju hy lm b fi lu lr l ls lt">currentContext(); // Window {window: Window, self: Window, document: document, name: "JS Bin Output ", location: Location, …}</span></pre><p id="4fce" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上面的例子中，函数被直接定义并执行。在这种情况下，定义和执行都发生在全局对象中，在这种情况下是窗口。</p><p id="426c" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">请看另一个有趣的例子:</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="5ce4" class="jt ju hy lm b fi lq lr l ls lt">function setName() {<br/>  this.myName = "Rakesh";<br/>}</span><span id="9555" class="jt ju hy lm b fi lu lr l ls lt">setName();</span><span id="4ddc" class="jt ju hy lm b fi lu lr l ls lt">console.log(myName); // Rakesh</span></pre><p id="02dc" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好吧。现在你可能会想，<strong class="ix hz"> myName </strong>的值是如何在函数外部打印出来的？正如我们在最后一个例子<strong class="ix hz">中看到的，这个</strong>指的是窗口，我们将<strong class="ix hz"> myName </strong>属性附加到窗口对象上。所以，我们可以做<strong class="ix hz"> window.myName </strong>或者<strong class="ix hz"> myName </strong>两者相等。希望会清楚。</p><p id="a610" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们再举一个 person 对象的例子，该对象中定义了函数。</p><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="5671" class="jt ju hy lm b fi lq lr l ls lt">const person = {<br/>  name: "Rakesh",<br/>  getName: function() {<br/>    console.log(this.name); // "Rakesh"<br/>  }<br/>}</span><span id="7562" class="jt ju hy lm b fi lu lr l ls lt">person. getName();</span></pre><p id="26d3" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在在上面的例子中，<strong class="ix hz"> getName </strong>函数被定义在一个<strong class="ix hz"> person </strong>对象下，在这种情况下，<strong class="ix hz">这个</strong>关键字将引用<strong class="ix hz"> person </strong>对象，因为<strong class="ix hz"> getName </strong>函数属于<strong class="ix hz"> person </strong>对象。</p><p id="1fab" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，在 ECMAScript 6 引入后，箭头函数也出现了。箭头函数没有自己的执行上下文。所以，在哪里执行箭头函数并不重要。这个内部箭头函数的值将总是指向外部对象。换句话说，arrow 函数在词汇上解析了<strong class="ix hz"> this </strong>。</p></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><blockquote class="mc"><p id="d16c" class="md me hy bd mf mg mh mi mj mk ml js dx translated"><em class="mm">词法作用域</em>意味着在一组嵌套的函数中，<strong class="ak">内部函数可以访问其父作用域</strong>的变量和其他资源。</p></blockquote></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><pre class="lh li lj lk fd ll lm ln lo aw lp bi"><span id="6c2b" class="jt ju hy lm b fi lq lr l ls lt">var name = "I am global name";</span><span id="598f" class="jt ju hy lm b fi lu lr l ls lt">const person = {<br/>  name: "Rakesh",<br/>  getName: () =&gt; {<br/>    console.log(this.name);<br/>    console.log(this); // Window {window: Window, self: Window, document: document, name: "JS Bin Output ", location: Location, …}<br/>  }<br/>}</span><span id="e281" class="jt ju hy lm b fi lu lr l ls lt">person.getName (); // "I am global name"</span></pre><p id="9989" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正如我们在这里看到的，我们已经使用了 arrow 函数，现在它正在打印全局变量的值。</p><p id="764b" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">唷！现在我希望你能更清楚范围和上下文的概念，以及这些概念在 ECMAScript 6 中是如何改变的。</p><p id="dd0f" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">快乐学习！</p></div></div>    
</body>
</html>