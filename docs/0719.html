<html>
<head>
<title>Understanding Micro Frontends With a Hands-On Example Using React, Webpack 5, and Module Federation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过一个使用React、Webpack 5和模块联合的实际例子来理解微前端</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/micro-front-ends-hands-on-project-63bd3327e162?source=collection_archive---------0-----------------------#2021-02-08">https://medium.com/nerd-for-tech/micro-front-ends-hands-on-project-63bd3327e162?source=collection_archive---------0-----------------------#2021-02-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/92fdb3047182f0e25765d944667be956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ttFOv5QNZNTOCOB-ICkWCg.gif"/></div></div></figure><p id="7f3b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最近，微前端一直在增长，因为需要打破前端整体结构，并且在微服务架构中取得了成功。然而，很少有人理解这个概念或知道它的存在。阅读理论概念使事情变得比实际困难。因此，我决定用一个动手项目来解释这些概念。我喜欢看到事物工作，以理解挑战和事物如何工作。我将使用<strong class="is hj"> <em class="jo"> Webpack 5 </em> </strong>和<strong class="is hj"> <em class="jo">模块联盟插件</em> </strong>。希望这对你有用。像往常一样，请将您的反馈发送给我。</p><p id="4f5e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">”<em class="jo">好的前端开发很难。扩展前端开发，让许多团队可以同时开发一个大型复杂的产品就更难了。”马丁·福勒</em></p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><h1 id="d654" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">设置开发环境</h1><p id="f0c2" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">准备好您的机器并安装nodejs，如果需要，请按照下面的文章/视频操作:</p><div class="ky kz ez fb la lb"><a href="https://ranyel.medium.com/preparing-your-mac-for-react-and-node-development-install-nodejs-npm-vs-code-and-configure-vs-e4f0cf1e99a4" rel="noopener follow" target="_blank"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hj fi z dy lg ea eb lh ed ef hh bi translated">为React和节点开发准备您的Mac，安装NodeJS、npm、VS代码，并配置VS…</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">按照以下步骤/视频安装Nodejs</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">ranyel.medium.com</p></div></div><div class="lk l"><div class="ll l lm ln lo lk lp io lb"/></div></div></a></div><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="fe54" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">[可选]你可以创建一个Github项目并克隆它(我使用的是https://github.com/ranyelhousieny/micro-front-ends的<a class="ae lq" href="https://github.com/ranyelhousieny/micro-front-ends" rel="noopener ugc nofollow" target="_blank"/></p><p id="26a2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">git克隆<a class="ae lq" href="https://github.com/ranyelhousieny/micro-front-ends.git" rel="noopener ugc nofollow" target="_blank">https://github.com/ranyelhousieny/micro-front-ends.git</a></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/07cf4f38cec35351c56c7c9aec5d4415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*hONCHpcwyDa5uaRRQRgziA.gif"/></div></div></figure><p id="9a4f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将创建以下3个前端容器，微前端1和微前端2</p><p id="0f4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将使用create-react-app创建3个基础项目，如下面的视频中所解释的，但我们将把它们称为容器、微前端1和微前端2。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="d1da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">容器将在多个微前端之间协调</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/92fdb3047182f0e25765d944667be956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ttFOv5QNZNTOCOB-ICkWCg.gif"/></div></div></figure><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="aaf8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npx创建-反应-应用容器</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/588215c8b823e5bf4d285dea06c1efb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0ETToMK7DfJY8Tqzcqzndg.gif"/></div></div></figure><p id="a86f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npx创建-反应-应用微前端-1</p><p id="441d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npx创建-反应-应用微前端-2</p><h1 id="f29d" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">安装微前端1的依赖项</h1><p id="7442" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">cd微前端-1</p><p id="d5c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npm安装web pack web pack-CLI web pack-服务器html-web pack-插件</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lt"><img src="../Images/a1a987372b556aef7b5d455caaf54c6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*orVat_GohBVr1fK-ARc4tg.gif"/></div></div></figure><p id="27d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npm安装web pack web pack-CLI web pack-server html-web pack-plugin web pack-dev-server</p><h1 id="815a" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">实施微前端-1</h1><p id="1fe6" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">进入micro-front-end-1目录，使用(代码。)</p><p id="b3d2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在src/index.js中导航</p><p id="d3fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">删除index.js中的所有代码，替换为</p><p id="da60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">console.log("微前端-1 ")；</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/56acc41ab065ec0943faba97739b69ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YcxntSWyLKyz7bqDRLzYCg.gif"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/13cd1c75e71b6a2c979d011b1d0bdc63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x8D3a6qRMO9As27Amx9Chw.png"/></div></div></figure><h1 id="6883" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">使用Webpack捆绑代码</h1><p id="08ea" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">Webpack配置的详细解释可以在下面的文章中找到</p><div class="ky kz ez fb la lb"><a href="https://www.linkedin.com/pulse/understanding-micro-frontends-webpack5-configurations-rany/" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hj fi z dy lg ea eb lh ed ef hh bi translated">逐步了解微前端Webpack5配置</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">在前两篇文章中，我演示了如何构建微前端并将它们部署到AWS。在这个过程中，我…</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">www.linkedin.com</p></div></div><div class="lk l"><div class="lw l lm ln lo lk lp io lb"/></div></div></a></div><p id="16b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们使用Webpack创建一个包</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/9d69ce62e7e8bf96035dae15543ae4b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/1*ASeymlMEqfYjWCmUnuEmbw.gif"/></div></figure><p id="58d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在微前端-1的根目录下创建webpack.config.js</p><p id="437d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">触摸webpack.config.js</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ly"><img src="../Images/484c4b0a93c485bfa0366c1d328af2d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/0*hQOtlhr18O7ApON4"/></div></figure><p id="0919" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们试着构建一下，看看会发生什么。运行以下命令:</p><pre class="jp jq jr js fd lz ma mb mc aw md bi"><span id="d6cc" class="me jw hi ma b fi mf mg l mh mi">npm webpack</span></pre><p id="3bed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你会得到很少的错误。我们一个一个来。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mj"><img src="../Images/1b01eb2b0e80ea5f059031c507e39909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cAkNCQTHIokAzFQ_"/></div></div></figure><p id="9180" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一个错误是询问模式。Webpack需要知道使用哪种模式来运行，以便能够相应地捆绑依赖项。让我们使用开发模式。在webpack.config.js中添加以下内容</p><pre class="jp jq jr js fd lz ma mb mc aw md bi"><span id="938b" class="me jw hi ma b fi mf mg l mh mi">module.exports = {<br/>  mode: 'development',<br/>};</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mk"><img src="../Images/246eaa72664ac3b8ad603b6d065a1501.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/0*Hkyewz50Cqk7VItR"/></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ml"><img src="../Images/2a84fbaa5ef8a16fa21dc49ed4672c6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/0*_vYtpELGPT9lsdj2"/></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mm"><img src="../Images/790d014b725f35f0cec636f697f72549.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/1*TVHEcLsCtAeRCA-KsNuU7Q.gif"/></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/a2476fc90b200c44c32e6c2c39e90393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w602R_mllq3Pee_9i9VzHw.png"/></div></div></figure><p id="694e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将处理第一个错误，并告诉Weboack在开发模式下构建。现在，再次构建并观察左侧的文件夹。您会注意到一个名为“dist”的目标文件夹将被创建。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/549d763d01b373c78a6d1cf86f75bfcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/0*EED_kB0kLibiLPX0"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mp"><img src="../Images/8b35db63aa565fdcef7e8b72d5bf1a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/0*HQE3t8mySMbMv6DH"/></div></figure><p id="d8db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是将由Webpack的构建和捆绑流程生成的文件夹，也是我们将部署到S3存储区的文件夹。这里发生的事情是，Webpack将我们拥有的所有代码index.js、bootstrap.js、App.js …以及它们的依赖项打包在main.js中，如您所见。</p><p id="0fa8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们看不到模式错误，但是我们仍然对加载器错误做出反应。这些错误是因为Webpack需要加载器来理解React。如你所知，浏览器只理解CSS、HTML、ES5和JavaScript(目前)。JSX和ES6+需要一个编译器。我们用巴别塔来做这个。我将向您展示如何将这些加载器添加到配置中，但首先让我们创建一个本地服务器来查看我们的演示网站(这将是S3在最后配置为网站)</p><p id="c024" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">向package.json添加脚本</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/e504063528ccf6c8e165ec95d7dba870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hc_gNqxpdcnSjG4MsJM0xw.png"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mr"><img src="../Images/4eba4f52e7d139bbd62e40cfa91f9c90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PSZUFUfLJKKMgR2Lu6MIvQ.png"/></div></div></figure><p id="5160" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将创建一个新文件dist/main.js</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ms"><img src="../Images/25a47313696f8f26283824d0c1205df5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8YqMkgU96ubQ6ZrgCt7alQ.png"/></div></div></figure><h1 id="4a41" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">添加Webpack服务器</h1><p id="f077" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">要在某个端口(这里，我使用8001)上添加本地服务器，请在webpack.config.js中添加以下几行</p><pre class="jp jq jr js fd lz ma mb mc aw md bi"><span id="6e19" class="me jw hi ma b fi mf mg l mh mi">devServer: {<br/>    port: 8081,<br/>    },</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mt"><img src="../Images/99ef965e21052f7919a7ad8261772f87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CKyiMzT0oep8IRDqva6hDQ.png"/></div></div></figure><p id="234e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，运行以下命令</p><pre class="jp jq jr js fd lz ma mb mc aw md bi"><span id="044a" class="me jw hi ma b fi mf mg l mh mi">yarn webpack serve</span></pre><p id="2fdc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将在端口8081上启动一个本地web服务器。但是，如果您导航到<a class="ae lq" href="https://localhost:8001," rel="noopener ugc nofollow" target="_blank"> https://localhost:8081，</a>您将只能找到文件列表。这是因为我们还没有配置index.html。我们将在下一步中这样做。但是，尝试浏览main.js，您将能够看到其内容如下:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mu"><img src="../Images/b4ed005d67c0fd3e140ba1a40b4d3bc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JjwxESA6GLhA-QhLTfYLRw.png"/></div></div></figure><p id="0f31" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到目前为止，Webpack按照我们在Webpack.config.js中的配置，在端口8081上创建了一个本地web服务器。但是，它仍然缺少浏览器的一个最小组件:index.html</p><h1 id="88ec" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">HTML Webpack插件</h1><p id="1958" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">我们需要为webpack导入html-webpack-plugin来生成index.html，并将捆绑的js文件添加到其中。</p><pre class="jp jq jr js fd lz ma mb mc aw md bi"><span id="ad88" class="me jw hi ma b fi mf mg l mh mi">const HtmlWebpackPlugin = require('html-webpack-plugin');</span></pre><p id="c65d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另外，添加html-webpack-plugin来填充index.html，如下所示</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mv"><img src="../Images/d7d7e0e626305eca87db041a17dbd490.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hwWnVZP3OFOtxYZLxBNQcg.png"/></div></div></figure><p id="5858" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">webpack.config.js到这一步可以在<a class="ae lq" href="https://github.com/ranyelhousieny/micro-front-ends/blob/503e162181fb66882c6dbe5bb64480a3e84f0753/micro-front-end-1/webpack.config.js" rel="noopener ugc nofollow" target="_blank">这里找到</a></p><p id="fab7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将serve添加到package.json中的脚本</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mw"><img src="../Images/a1554b07f6c6e6fb5e4cb01f6465ccfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xigmJpcc9ZRAjKwF4hnmZg.png"/></div></div></figure><p id="0114" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">删除public/index.html中的所有内容，并编写以下代码</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mx"><img src="../Images/799feb08df3c2aa72a8650c062e578c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvOFWOu_b5wHIKi73Mcxog.png"/></div></div></figure><p id="5cf6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从终端的微前端-1目录下，启动脚本</p><p id="7fd4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npm运行webpack</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es my"><img src="../Images/526f466fca8fa8f825f7dc8d1cf9446a.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/1*CbtU4BAT0FtqixsxP5QZcg.gif"/></div></figure><p id="01f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">进入浏览器，浏览<a class="ae lq" href="http://HTTP://localhost:8081" rel="noopener ugc nofollow" target="_blank"> HTTP://localhost:8081 </a></p><p id="4257" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">右键单击并检查以查看console.log的输出</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mz"><img src="../Images/617be424694a2e38c756ed37f052f792.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ltqyzM7UfSlvwtFmSOnX4A.png"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es na"><img src="../Images/1985d668bbf65d59b7c70078fa7eac29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8r4KOul9nyXzFw530T2fEg.png"/></div></div></figure><p id="6fae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是主要概念。</p><p id="3a5b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们显示在页面上，而不是控制台上</p><p id="b9bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将以下内容添加到index.html</p><p id="b138" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><div id="”root”"> </div></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nb"><img src="../Images/17c21dd61746d904a58138296fd46941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CGQdWGMb3-ONErpy7AbxEQ.png"/></div></div></figure><p id="fb19" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">添加以下querySelector</p><p id="73f1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">document.querySelector('#root ')。innerHTML = ` <h1>微前端-1 </h1></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/cfed23a3ab97738029836e906dc5a232.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DPdwnySRsTE73haAdCg0Bg.png"/></div></div></figure><p id="2241" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">刷新浏览器</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nd"><img src="../Images/7f9a0e29a2a956c6b5a43f9c21cb25a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*biTDVFBHwKrCPPp9_XXq0g.png"/></div></div></figure><p id="d088" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到目前为止，我们有一个组件，它没有连接到任何东西</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ne"><img src="../Images/10fc57f49c8714e50cf5bd0c8466f28f.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*4aUSqCZXUhN9fnH7nnCWvQ.png"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es my"><img src="../Images/c53aaccddc60280cefe5e1b6f104c780.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/1*J0DYiHkf6ZOfMRk52iw06g.gif"/></div></figure><p id="7ad4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">=====================================</p><h1 id="dbe6" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">现在，让我们构建容器</h1><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es my"><img src="../Images/3a402a636e99a8f646ca226992067761.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/1*wnaCPt3zAKW5uKVAReJ7FQ.gif"/></div></figure><p id="2340" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">打开另一个终端，导航到我们有三个应用程序的根目录</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/f4bab819d275e049cc7ef77ec73972bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h693TS8_K3BmG3VckaBqnA.png"/></div></div></figure><p id="5fc6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，在容器目录中导航</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nf"><img src="../Images/fb1f46276b4aab90eb0827d58c8e8c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:828/format:webp/1*cqy18j6kI2heCKIxKXBlhA.png"/></div></div></figure><p id="74b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">像以前一样安装依赖项。</p><p id="3372" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安装web pack web pack-CLI web pack-server html-web pack-插件</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ng"><img src="../Images/08a1357a0f0c0dbbff7824b77ef36631.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tSMVKLfJHsCs5JgsfQRbmw.png"/></div></div></figure><p id="181f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们回到这三个服务的根，打开带有这三个组件的VS代码，同时对它们进行操作</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/9cdc028e0d4ce2e7ca4d79ef52b33b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uK3pZs3Sx4QiedWGk7l4NQ.png"/></div></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es ni"><img src="../Images/e9cf2b3a758ddc162115376aa4a56fae.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*SceYHmSW_qHAskHnt0EjRA.png"/></div></figure><p id="f385" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将webpack.config.js从micro-front-end-1复制到容器，并将端口更改为8080，如下所示</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/a7caa65f4e037ef2ffc1b7d3478ebe43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YYLuqiHd1wXOQuEm7xjLcw.png"/></div></div></figure><p id="195d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按照我们之前的方式修改package.json脚本(您可以从micro-front-end-1复制它</p><p id="fd66" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“网络包”:“网络包服务”，</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nj"><img src="../Images/32a9f65dda8192a61aef8c630c0ac8ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KwKMHfr74E2fz8C_i0NPpA.png"/></div></div></figure><p id="389e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">像以前一样更改index.js和index.html，但是写入控制台“容器”</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es nk"><img src="../Images/1a01b9c5a6dd02fc4d1ae4d4431e77e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*3E1RbyJ1HrU35hKSPzUYcg.png"/></div></figure><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nl"><img src="../Images/e6db6ea15df7879dd52f5a7ab59d241a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uOgxreI-VUxXjKmDtyqsKQ.png"/></div></div></figure><p id="6a92" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">运行脚本(npm run webpack)并检查浏览器<a class="ae lq" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080/ </a></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nm"><img src="../Images/8515173d78b2ef7bc64c590c1d8b11df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W3erw2ghiuFCBBZHI9xXNQ.png"/></div></div></figure><p id="dbb7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">========================</p><h1 id="a2d0" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">将两者连接在一起</h1><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es nn"><img src="../Images/9c0bcde922ba51fc0d5ea74b9aea75c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/1*zihwOwX7imRHK2z8hL-Rrg.gif"/></div></figure><h1 id="216f" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">1-添加模块联合插件</h1><p id="2bc8" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">在micro-front-end-1/web pack . config . js中添加以下内容</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es no"><img src="../Images/001101752c79dcbdeb24f64426b999fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z6OszD8B7EcboZL0beT9_g.png"/></div></div></figure><p id="16e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这样会从微前端-1暴露index.js。(注意，我们使用了camelCase)</p><h2 id="84ad" class="me jw hi bd jx np nq nr kb ns nt nu kf jb nv nw kj jf nx ny kn jj nz oa kr ob bi translated">现在，让我们把它从容器中取出来</h2><p id="c369" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">转到<a class="ae lq" href="https://github.com/ranyelhousieny/micro-front-ends/blob/ad48c75fd13b04a43614d8bb650d0978b801bccc/container/webpack.config.js" rel="noopener ugc nofollow" target="_blank">container/web pack . config . js</a>并添加以下内容</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oc"><img src="../Images/3a09d621b833fecdaa39aba3c1655cfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qVOjOiGED5gqN1RY7zKivA.png"/></div></div></figure><p id="e047" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae lq" href="https://github.com/ranyelhousieny/micro-front-ends/blob/ad48c75fd13b04a43614d8bb650d0978b801bccc/container/webpack.config.js" rel="noopener ugc nofollow" target="_blank">container/webpck . config . js</a>至此可以在<a class="ae lq" href="https://github.com/ranyelhousieny/micro-front-ends/blob/ad48c75fd13b04a43614d8bb650d0978b801bccc/container/webpack.config.js" rel="noopener ugc nofollow" target="_blank">这里找到</a></p><p id="722b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，将<strong class="is hj"><em class="jo">container/src/index . js</em></strong>重命名为<strong class="is hj"><em class="jo">container/src/bootstrap . js</em></strong>并导入micro frontend 1/micro frontend 1 index(这是为了异步运行文件，直到它从micro-front-end-1获取数据到容器)</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es od"><img src="../Images/22906bde17c125a8fa32c8fd3c37cd73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zmiunco_pc6ktXYt-qlPVA.png"/></div></div></figure><p id="67e6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">新建一个<strong class="is hj"> <em class="jo">容器/src/index.js和</em> </strong>导入('。/bootstrap’)；</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oe"><img src="../Images/658259117f73c1af56fa5201403c3841.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fSMFAarhtnHwrmvsAbYExQ.png"/></div></div></figure><p id="16dd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在重新启动npm，为两个服务运行webpack</p><h2 id="49f5" class="me jw hi bd jx np nq nr kb ns nt nu kf jb nv nw kj jf nx ny kn jj nz oa kr ob bi translated">首先，运行微前端-1</h2><p id="de7d" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">ctrl + c</p><p id="bb35" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npm运行webpack</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/99e3a85138f947f822b48870fcaefe22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4AYX7wbAW_amEAjIn0DvvA.png"/></div></div></figure><h2 id="468f" class="me jw hi bd jx np nq nr kb ns nt nu kf jb nv nw kj jf nx ny kn jj nz oa kr ob bi translated">其次，运行容器</h2><p id="dd04" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">ctrl + c</p><p id="90af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npm运行webpack</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es of"><img src="../Images/2764f9ad2b28eac07e6a27177fca6be7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JKY1jnAl9JRUEg1XcQHzcA.png"/></div></div></figure><h2 id="8f30" class="me jw hi bd jx np nq nr kb ns nt nu kf jb nv nw kj jf nx ny kn jj nz oa kr ob bi translated">将id添加到container/public/index.html</h2><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es og"><img src="../Images/8017d35b9fc2cea03120dce05e76364a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BgsDWlLg-CghZJPHe6dr0Q.png"/></div></div></figure><p id="e181" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">浏览容器端口8080<a class="ae lq" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/</a>，您会发现来自micro-front-end-1的文本出现在那里</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oh"><img src="../Images/c4aa5b4036128a72bf47e511359aecda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HXsJWSmdSMlvfh49Uo8JWw.png"/></div></div></figure><p id="4ecb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们明白我们做了什么。</p><p id="11a2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在页面上，选择网络、禁用缓存和Java，如下所示:</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oi"><img src="../Images/80745ad08343e8f1772d147c4bc5f3a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wmjTCYgIo1bZJV_AE6bEuQ.png"/></div></div></figure><p id="4377" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">刷新页面以向服务器发送呼叫，并注意输出</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es oj"><img src="../Images/a041c9a2731b814c38236b533aa0745f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5CWAQ7Hefo7rsU9La_1SSQ.png"/></div></div></figure><p id="1eed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">右键单击名称旁边的标题，并从菜单中选择URL以显示已调用的Url。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ok"><img src="../Images/0c6a4cd6185491fc0413bd26c88640a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fvu4-8AxtePzqozmZzLCvA.png"/></div></div></figure><p id="d3ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你会看到以下网址被调用</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ol"><img src="../Images/7df341e02d7f61f07099d8ab89dc3063.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rwT4wBYe8HIBMKEs-72HIQ.png"/></div></div></figure><ol class=""><li id="5a16" class="om on hi is b it iu ix iy jb oo jf op jj oq jn or os ot ou bi translated">它首先在<a class="ae lq" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/</a>main.js上调用main . js。这是集装箱</li><li id="3bbf" class="om on hi is b it ov ix ow jb ox jf oy jj oz jn or os ot ou bi translated">调用了<a class="ae lq" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank">http://localhost:808</a>1/remoteEntry.js上的remote entry . js。这是微前端-1</li><li id="674f" class="om on hi is b it ov ix ow jb ox jf oy jj oz jn or os ot ou bi translated">再次返回到调用引导的容器</li><li id="1e91" class="om on hi is b it ov ix ow jb ox jf oy jj oz jn or os ot ou bi translated">最后从micro-front-end-1 (index.js)调用src_index_js.js将其输出呈现在屏幕上</li></ol><p id="836f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有这些都来自ModuleFederationPlugin</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mr"><img src="../Images/133f2f1fea039e6c69b841dbf4608408.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6BTmTwGyRQ5eC8rXdU4caw.png"/></div></div></figure><p id="7fc2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">webpack使用了来自micro-front-end-1/web pack . config . js的这个配置创建了<a class="ae lq" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">http://localhost:808</em></strong></a><strong class="is hj"><em class="jo">1/remote entry . js</em></strong>和<a class="ae lq" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">http://localhost:808</em></strong><strong class="is hj"><em class="jo">1/src _ index _ js . js</em></strong></a></p><p id="42a3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后container/webpack.config.js上的配置告诉服务器如何获取<a class="ae lq" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">http://localhost:808</em></strong></a><strong class="is hj"><em class="jo">1/remote entry . js</em></strong></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pa"><img src="../Images/f8b61ec01b1b505e2b50593f10ff7375.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQkhRhJAaHDvK1X2SWcfDQ.png"/></div></div></figure><p id="390c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<a class="ae lq" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jo">http://localhost:808</em></strong></a><strong class="is hj"><em class="jo">1/remote entry . js</em></strong>获取src_index_js.js所需的信息</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es pb"><img src="../Images/edd890ff2b7545891b58520ce790f2b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*im9-_KAGsxRcapuL3AdonA.png"/></div></figure><p id="860e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">模块联合插件允许JavaScript在运行时将代码从micro-front-end-1动态导入容器。</p><p id="c673" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">==============</p><h1 id="ffc5" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">添加第二个微前端</h1><p id="1473" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">在添加第二个微前端之前，我们先给第一个添加更多的段落。我喜欢使用一个叫做Lorem ipsum的工具</p><div class="ky kz ez fb la lb"><a href="https://marketplace.visualstudio.com/items?itemName=Tyriar.lorem-ipsum" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hj fi z dy lg ea eb lh ed ef hh bi translated">Lorem ipsum - Visual Studio市场</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">生成lorem ipsum文本并将其插入Visual Studio代码中。打开VS代码按F1键输入“安装”选择…</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">marketplace.visualstudio.com</p></div></div><div class="lk l"><div class="pc l lm ln lo lk lp io lb"/></div></div></a></div><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pd"><img src="../Images/8868e6d9a09f069601405e6fdaf17485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ardaWPtAUECyQiIEDa6W5w.png"/></div></div></figure><p id="4816" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你只需按F1，写出Lorem ipsum，然后选择有多少段落</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es pe"><img src="../Images/1c55267368949b7c7c2d15c88e83acd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*M-vJcH6Esl2llDWkAeSf7w.png"/></div></figure><p id="8ba6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这一步的新index.js可以在<a class="ae lq" href="https://github.com/ranyelhousieny/micro-front-ends/blob/bda1a820fb54d230e3fc1244c44dae8acddf6601/micro-front-end-1/src/index.js" rel="noopener ugc nofollow" target="_blank">这里</a>找到</p><p id="a2d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，在微前端-2中重复相同的过程</p><ol class=""><li id="f371" class="om on hi is b it iu ix iy jb oo jf op jj oq jn or os ot ou bi translated">将webpack.config.js从微前端-1复制到微前端-2</li><li id="dc20" class="om on hi is b it ov ix ow jb ox jf oy jj oz jn or os ot ou bi translated">更新其中的名称，如下所示:</li></ol><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pf"><img src="../Images/5d761636100f56db43c02d81ab0027e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jhw0JwGInD4zQe5ki54-sg.png"/></div></div></figure><h2 id="b9d2" class="me jw hi bd jx np nq nr kb ns nt nu kf jb nv nw kj jf nx ny kn jj nz oa kr ob bi translated">安装微前端2的依赖项</h2><p id="fbd6" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">cd微前端-2</p><p id="ceab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">npm安装web pack web pack-CLI web pack-服务器html-web pack-插件</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pg"><img src="../Images/2faed20cbd9949a4d88c3e06ffbb239e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B65XiYGTAhjLI7nA9WO9Ew.png"/></div></div></figure><p id="1dda" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">将webpack脚本添加到package.json</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ph"><img src="../Images/a34ec5ee6edc84b2272d1044fdf7f21f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QKzwVMqS8npOXqhX4E3H2Q.png"/></div></div></figure><p id="a8b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从micro-front-end-2文件夹中运行npm安装</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pi"><img src="../Images/daaaf0127826555818eb56070f5a1bc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSNLSm0ZcleTYxXC_6yR_Q.png"/></div></div></figure><p id="e1e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">擦除微前端- <strong class="is hj"> 2 </strong> /public/index.html的内容，复制到其中微前端- <strong class="is hj"> 1 </strong> /public/index.html内容。用新id替换该id，如下所示</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pj"><img src="../Images/4de7f7925b31b70adb80b3bc73313ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DcNU3tuNcDvXj1ZPkLufmw.png"/></div></div></figure><p id="1638" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">擦除微前端- <strong class="is hj"> 2 </strong> /src/index.js的内容，复制到其中微前端- <strong class="is hj"> 1 </strong> /public/index.html内容。用上面的id替换id，并在&lt; h1 &gt;标签中替换服务名，如下所示</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pk"><img src="../Images/0d2ea23f5f9b7dc4f4eec9ef267e17ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*173O9DI60SMV-TR-SQ1rKQ.png"/></div></div></figure><p id="408c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，运行npm运行webpack</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pl"><img src="../Images/76958a4821f1d96685a898b9848c3a0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wmFzK9vjchc-O5tbSUHzGw.png"/></div></div></figure><p id="46c1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在导航到<a class="ae lq" href="http://localhost:8082/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8082/ </a></p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es mp"><img src="../Images/192f7c2db24c82b75972985cf49bfe9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*0YMVIwjpZyRsLLFeI3dogw.png"/></div></figure><h2 id="9a30" class="me jw hi bd jx np nq nr kb ns nt nu kf jb nv nw kj jf nx ny kn jj nz oa kr ob bi translated">现在，把它连接到容器上</h2><p id="11d5" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">在container/webpack.config.js中添加另一个遥控器，如下所示</p><p id="33a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">微前端2:'微前端2 @ http://localhost:8081/remote entry . js '，</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pm"><img src="../Images/0199364c95a46b7d83465285e57feed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pN8xGwqoxj8M_Aiy1YKfCw.png"/></div></div></figure><p id="3cf8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在container/src/bootstrab.js中添加以下导入</p><p id="f73c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">导入“micro frontend 2/micro frontend 2 index”；</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pn"><img src="../Images/e766901e8d2b46bb3387b79b0b61545d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hhh7iyk9OkyTxIuW8o5tmw.png"/></div></div></figure><p id="bc0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在container/public/index.html中，在您想要的空间中添加微前端-2的id。我补充如下</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es po"><img src="../Images/6ab8931dfd0d5548d7c018755ad8105a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SJkt8RF1So34sxI73y7L1A.png"/></div></div></figure><p id="8696" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">重启容器的webpack并导航到<a class="ae lq" href="http://localhost:8080/" rel="noopener ugc nofollow" target="_blank"> http://localhost:8080/ </a></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pp"><img src="../Images/d34ee4159b6da592a863eaf5c6878308.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9B24XNI44b7S90TC1YDhOw.png"/></div></div></figure><p id="c969" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">不，如果您检查网络流量，您会发现对两台服务器的呼叫</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es pq"><img src="../Images/a5d5b6a7c7d8107351f502d343c0ab37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*onxWrx2WWGq0YaQvSlsNHw.png"/></div></div></figure><p id="3d40" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">=================================</p><p id="11ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到目前为止，我们还没有使用React。在下面的文章中，我们将添加第三个微前端react-microfrontend-3</p><div class="ky kz ez fb la lb"><a href="https://ranyel.medium.com/micro-frontends-hands-on-example-using-react-webpack-5-and-module-federation-adding-a-third-2fe8c61a73f" rel="noopener follow" target="_blank"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hj fi z dy lg ea eb lh ed ef hh bi translated">使用React、Webpack 5和模块联合的微前端实践示例:添加第三个…</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">这篇文章是上一篇文章的延续</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">ranyel.medium.com</p></div></div><div class="lk l"><div class="pr l lm ln lo lk lp io lb"/></div></div></a></div><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ps"><img src="../Images/a441dcdf8a4259b0e5e16e10aa44ba1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FDRdVe-JjES0B5vXIsn5sQ.gif"/></div></div></figure><h1 id="de9a" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">了解更多信息</h1><div class="ky kz ez fb la lb"><a href="https://www.linkedin.com/pulse/micro-frontends-what-why-how-rany-elhousieny-phd%E1%B4%AC%E1%B4%AE%E1%B4%B0" rel="noopener  ugc nofollow" target="_blank"><div class="lc ab dw"><div class="ld ab le cl cj lf"><h2 class="bd hj fi z dy lg ea eb lh ed ef hh bi translated">微前端:什么、为什么和如何</h2><div class="li l"><h3 class="bd b fi z dy lg ea eb lh ed ef dx translated">在我以前的文章(本文末尾和这里的链接)中，我亲自展示了什么是微前端以及如何…</h3></div><div class="lj l"><p class="bd b fp z dy lg ea eb lh ed ef dx translated">www.linkedin.com</p></div></div><div class="lk l"><div class="pt l lm ln lo lk lp io lb"/></div></div></a></div></div></div>    
</body>
</html>