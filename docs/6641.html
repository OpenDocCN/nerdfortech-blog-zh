<html>
<head>
<title>How I Copied About 3968 Records From A Website using JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何使用 JavaScript 从一个网站上复制了大约 3968 条记录</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-i-copied-about-3968-records-from-a-website-using-javascript-b8e44514253e?source=collection_archive---------3-----------------------#2022-04-09">https://medium.com/nerd-for-tech/how-i-copied-about-3968-records-from-a-website-using-javascript-b8e44514253e?source=collection_archive---------3-----------------------#2022-04-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/045f917acf359684e5d5688d661e0aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*zjNsZujKzS4HLgOFUV6-Zg.jpeg"/></div><figcaption class="im in et er es io ip bd b be z dx translated">Amy Shamblen 在<a class="ae iq" href="https://unsplash.com/s/photos/fun-background?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="bf8c" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">因此，我在寻找一种方法来调出数以千计的商业类别，以节省我必须逐一键入它们的时间，我发现这个伟大的网站<a class="ae iq" href="https://daltonluka.com/blog/google-my-business-categories" rel="noopener ugc nofollow" target="_blank">道尔顿卢卡</a>列出了近 4000 个类别。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/3b14117a117bf5782118b4bb43820252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/0*iD9sEBfAE0D8ZyJ4.png"/></div><figcaption class="im in et er es io ip bd b be z dx translated">接近 4000 个业务类别来源— Dalton Luka</figcaption></figure><p id="1f17" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">然后我让自己找到一种简单的方法，用 JavaScript 复制所有这些类别，并在我的项目中使用它们。</p><h1 id="bb87" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">我是如何开始的</h1><p id="8199" class="pw-post-body-paragraph ir is hi it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hb bi translated">我使用 inspect 元素来查看这些数据是如何组织的，我看到这些数据是以表格的形式组织的，这使得这个过程对我来说简单多了。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/d5849552a22493c560e583e9a51e6ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/0*sYQw9U5H4EA8KpTX.png"/></div></figure><p id="3745" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">此时，我需要做的就是找到一种方法来获取带有类别的所有表格单元格元素，遍历它们，并将它们的内部 HTML 存储在一个数组中。</p><p id="7955" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这是我用的代码。</p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ky kz l"/></div></figure><p id="7e66" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">所以当你把<strong class="it hj">类别</strong>登录到控制台，你会看到大概有<strong class="it hj"> 3968 </strong>条记录！那就接近<strong class="it hj"> 4000 了！</strong></p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es la"><img src="../Images/672ce0a2be584c489d655e99cc3f1632.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/0*A-MT7ukuwxbYpnni.png"/></div></figure><h2 id="de69" class="lb jv hi bd jw lc ld le ka lf lg lh ke jc li lj ki jg lk ll km jk lm ln kq lo bi translated">那么，我如何复制类别呢？</h2><p id="4f88" class="pw-post-body-paragraph ir is hi it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hb bi translated">为了将类别复制到剪贴板，我们将使用<strong class="it hj">navigator . clipboard . write text()</strong>。但是有一个问题。</p><p id="1786" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果您试图直接从控制台复制代码，您将遇到下面的错误。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es lp"><img src="../Images/24537ace63c9b531a1da1e7a61529f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/0*Gff73YyLhiQGqq_Q.png"/></div></figure><p id="cf26" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">为了处理这个错误，我们需要设置一个超时，在 5 秒钟、<strong class="it hj">后，它会将类别复制到剪贴板<strong class="it hj">，在此期间，我们将点击 web 页面上的任意位置，以获得要关注的文档</strong>。</strong></p><p id="cb91" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">由于我们将类别数组复制到剪贴板，我们需要使用<strong class="it hj"> JSON.stringify()将其转换为字符串。</strong></p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ky kz l"/></div></figure><p id="422c" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">这是完整的代码</p><figure class="jq jr js jt fd ij"><div class="bz dy l di"><div class="ky kz l"/></div></figure><p id="4a96" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">如果您没有收到错误，那么它一定是复制成功了。</p><p id="955d" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">要确认，使用<strong class="it hj">命令+ V. </strong>你应该看到下面的数据</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es lq"><img src="../Images/25d3a22032bb837271102b9f7d29aaf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/0*6CeNAdqk5Oj9JlpQ.png"/></div></figure><blockquote class="lr ls lt"><p id="4a9f" class="ir is lu it b iu iv iw ix iy iz ja jb lv jd je jf lw jh ji jj lx jl jm jn jo hb bi translated">一个好的 web 开发人员的能力在于他能够利用自己的知识找到解决问题的代码。</p></blockquote><p id="5686" class="pw-post-body-paragraph ir is hi it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hb bi translated">你有它！这就是我如何使用 JavaScript 从网站上轻松复制 3968 条记录的方法。</p></div></div>    
</body>
</html>