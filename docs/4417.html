<html>
<head>
<title>Topological Sorting for Interviews</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面试的拓扑排序</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/topological-sorting-for-interviews-f8213ef1c3bb?source=collection_archive---------7-----------------------#2021-07-20">https://medium.com/nerd-for-tech/topological-sorting-for-interviews-f8213ef1c3bb?source=collection_archive---------7-----------------------#2021-07-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="54f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">拓扑排序是图中顶点的排序，使得对于有向边(u，v)(从顶点“u”到顶点“v”)，u 的排序低于 v 的排序。</p><blockquote class="jd je jf"><p id="ea34" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">它是图‘G’的顶点的标号，使得如果 F(v)是图中顶点的排序，那么对于 G 中的(u，v)，F(u) &lt; F(v)</p></blockquote><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es jk"><img src="../Images/81c4b40d2a577abd4867e0a743f112b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*4EDJpwxko3gu6-QenwVXhA.jpeg"/></div><figcaption class="js jt et er es ju jv bd b be z dx translated">有向图的一个例子</figcaption></figure><p id="56a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于上图，拓扑排序将是:“A B D C E F G H”</p><h2 id="d3cb" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">注意:</h2><ol class=""><li id="06dc" class="kr ks hi ih b ii kt im ku iq kv iu kw iy kx jc ky kz la lb bi translated">可能有多种排序方式。</li><li id="0989" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">拓扑排序只适用于有向无环图。如果有循环，那么我们不能决定哪个顶点可以先排序。</li></ol><p id="1fa2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么我们如何得到订单呢？对我们来说，只看小图就能想出顺序是很容易的。但是我们如何将它转换成有效的代码呢？</p><h2 id="5fa8" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">简单的方法</h2><ol class=""><li id="4312" class="kr ks hi ih b ii kt im ku iq kv iu kw iy kx jc ky kz la lb bi translated">从没有传入边的节点开始，即那些度数为零的节点。这些节点在拓扑排序中排在第一位。</li><li id="7b8c" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">然后从图中移除那些度数为 0 的节点，因此我们进一步得到一些没有传入边的节点。重复此操作，直到图形中不再有节点。</li><li id="b890" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">重复 1 和 2，直到不再有节点。</li></ol><blockquote class="jd je jf"><p id="0fbf" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">如果还有一些节点，但如果它们都有输入边，那么这意味着有一个循环。</p></blockquote><p id="eb6f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">示例:</p><p id="b4b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑下图:</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lh"><img src="../Images/49cdae8a2e8c0827b1704b72d194cdb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*vi76_T_k9cnw8--OMkEMnQ.jpeg"/></div></figure><ul class=""><li id="fa10" class="kr ks hi ih b ii ij im in iq li iu lj iy lk jc ll kz la lb bi translated">B 的度数:0</li><li id="c302" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">E 的度数:1</li><li id="e6b8" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">C 的度数:3</li><li id="68c8" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">A 的度数:1</li><li id="8a44" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">D 的度数:1</li><li id="5ced" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">拓扑顺序:[ ]</li></ul><p id="c2e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于 B 的度数为 0，因此将其移除并添加到拓扑排序中，并将 B 中带有边的顶点的度数减 1。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lm"><img src="../Images/3d5c7a172a8f28b9df298cc69922e387.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*mM29qCic6SSslLi2559GgQ.jpeg"/></div></figure><ul class=""><li id="8b20" class="kr ks hi ih b ii ij im in iq li iu lj iy lk jc ll kz la lb bi translated">E 的度数:0</li><li id="76ce" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">C 的程度:2</li><li id="d8a5" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">A 的度数:1</li><li id="ce6a" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">D 的度数:1</li><li id="e927" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">拓扑顺序:[ B ]</li></ul><p id="ec90" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">E 的度数为 0，将 E 从图中移除，并将其添加到拓扑排序中，并将带有 E 边的顶点的度数减少 1。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ln"><img src="../Images/20e34f6b9fdcb05655e4701bbac554e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*_ulbcIB4Bfj4R_WRXhOZsQ.jpeg"/></div></figure><ul class=""><li id="895a" class="kr ks hi ih b ii ij im in iq li iu lj iy lk jc ll kz la lb bi translated">C 的度数:1</li><li id="fd98" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">A 的度数:0</li><li id="3e65" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">D 的度数:1</li><li id="e8be" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">拓扑顺序</li></ul><p id="a777" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">A 的度数是 0，从图中删除 A，并将其添加到拓扑排序中，并将 A 中带边的顶点的度数减 1。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lo"><img src="../Images/ac4f6788c6f4c07072cb1f31f61058e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*nsLPqK1BflCmqX_pBecIGw.jpeg"/></div></figure><ul class=""><li id="5dbe" class="kr ks hi ih b ii ij im in iq li iu lj iy lk jc ll kz la lb bi translated">C 的度数:0</li><li id="01c7" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">D 的度数:0</li><li id="17dc" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">拓扑排序</li></ul><p id="26a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于 C、D 都没有任何引入的边，所以它们可以被添加到拓扑排序中。C，D 的顺序不重要。</p><p id="e201" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最终的拓扑排序是[ B E A C D]</p><p id="ac3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">编写代码的步骤:</p><ol class=""><li id="7e5d" class="kr ks hi ih b ii ij im in iq li iu lj iy lk jc ky kz la lb bi translated">计算所有顶点的度数。</li><li id="d2a6" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">将索引为 0 的节点追加到拓扑排序中，并将索引为 0 的节点的所有边的索引减少 1。</li><li id="b36e" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ky kz la lb bi translated">重复步骤 2，直到不再有节点。如果还有一些节点，但如果它们都有输入边，那么这意味着有一个循环。</li></ol><h2 id="d35f" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">时间复杂度:O(M+N)其中 M 是边的数量，N 是节点/顶点的数量。</h2><h2 id="808d" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">拓扑排序的应用:</h2><p id="e905" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">拓扑排序在调度有依赖关系的任务时非常有用。一个例子可以是在你的计算机上安装一个特定的程序。该程序可能需要在您的计算机上安装其他程序，拓扑排序通过检查是否安装了所有依赖项来帮助处理这种情况。</p><p id="c241" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">涉及拓扑排序的问题也是面试中非常常被问到的。一个这样的问题是“外星人字典”。</p><h2 id="88ee" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">问题陈述:</h2><p id="c7a6" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">给定一个外国语言的排序字典(单词数组)，找出该语言中字符的顺序。</p><p id="8ba4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">E.x: words=["wrt "，" wrf "，" er "，" ett "，" rftt" ]</p><p id="d207" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输出:[西、英、法、俄、西]</p><h2 id="49e0" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">解决方案:</h2><p id="279d" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq lp is it iu lq iw ix iy lr ja jb jc hb bi translated">考虑“wrt”、“wrf”这些词。因为它们在外星人字典中出现的顺序，我们可以推断出“r”在“f”之前，即<strong class="ih hj"> (r- &gt; f </strong></p><p id="c55e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑一下“wrf”，“er”。我们可以推断出在外星人字典中 w 在 e 之前。因此<strong class="ih hj"> w- &gt; e </strong></p><p id="589e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑“er”、“ett”，我们得到<strong class="ih hj"> r- &gt; t </strong></p><p id="bb2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">考虑“ett”，“rftt”，我们得到<strong class="ih hj"> e- &gt; r </strong></p><p id="98ce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我们有:</p><ul class=""><li id="f888" class="kr ks hi ih b ii ij im in iq li iu lj iy lk jc ll kz la lb bi translated">右-&gt;右</li><li id="f265" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">西-&gt;东</li><li id="833e" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">r-&gt;t</li><li id="7b92" class="kr ks hi ih b ii lc im ld iq le iu lf iy lg jc ll kz la lb bi translated">e-&gt;r</li></ul><p id="fdec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们有依赖关系，现在使用拓扑排序，我们可以很容易地得到排序。</p><p id="def1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个问题在 leetcode 上被标记为“难”。但是如果我们知道拓扑排序的概念，那么这个问题就是小菜一碟了。</p></div></div>    
</body>
</html>