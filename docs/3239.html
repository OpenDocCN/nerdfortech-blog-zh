<html>
<head>
<title>Microservice Architecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务架构</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/microservice-architecture-622e4148f1?source=collection_archive---------0-----------------------#2021-06-03">https://medium.com/nerd-for-tech/microservice-architecture-622e4148f1?source=collection_archive---------0-----------------------#2021-06-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="46a4" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">让微服务在云中工作</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/8eeb031f85afd934046af8d1b8352260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3WmPwaAUfIhpP-cutL05DA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jn" href="https://drive.google.com/file/d/10KLDVswfBmWy9nfgtFtRqx7SsJmRKKRU/view?usp=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="bd jo">点击查看详情</strong> </a></figcaption></figure><blockquote class="jp jq jr"><p id="da03" class="js jt ju jv b jw jx ij jy jz ka im kb kc kd ke kf kg kh ki kj kk kl km kn ko hb bi translated"><em class="hi">“术语</em> <a class="ae jn" href="https://martinfowler.com/articles/microservices.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jv hj">微服务架构</strong> </a> <em class="hi">在过去几年中涌现出来，用来描述将软件应用程序设计为可独立部署的服务套件的特定方式。虽然这种架构风格没有精确的定义，但在组织、业务能力、自动化部署、端点智能以及语言和数据的分散控制方面有一些共同的特征。”</em> — <strong class="jv hj">詹姆斯·刘易斯</strong>和<strong class="jv hj">马丁·福勒</strong></p></blockquote><h2 id="96cc" class="kp kq hi bd jo kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">微服务</h2><p id="7f98" class="pw-post-body-paragraph js jt hi jv b jw lm ij jy jz ln im kb kz lo ke kf ld lp ki kj lh lq km kn ko hb bi translated">多年来，在构建 Web 应用程序时，服务一直是一种受欢迎的技术。Web 应用程序通常由运行在 Web 浏览器上的 HTML、CSS 和 JavaScript GUI 前端构建，这些前端与 Web 服务器交互以查询、插入、更新和删除业务数据。这种架构模式被奉为<a class="ae jn" href="https://en.wikipedia.org/wiki/Service-oriented_architecture" rel="noopener ugc nofollow" target="_blank"> <strong class="jv hj"> <em class="ju">面向服务架构</em> </strong> </a> (SOA)。<a class="ae jn" href="https://spring.io/projects/spring-framework" rel="noopener ugc nofollow" target="_blank"> <strong class="jv hj"> <em class="ju"> Spring 框架</em> </strong> </a>和<a class="ae jn" href="https://en.wikipedia.org/wiki/Jakarta_RESTful_Web_Services" rel="noopener ugc nofollow" target="_blank"><strong class="jv hj"><em class="ju">Jakarta RESTful Web Services</em></strong></a>(JAX-RS)是用 Java 实现 SOA 的首选框架。</p><p id="8bcc" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated">尽管微服务是 SOA 的一种，但并不是所有的 SOA 实现都是微服务，理解这一点很重要。事实上，使用流行的 SOA 框架很难——如果不是不可能的话——实现微服务的全部承诺。</p><p id="c7fe" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated">术语<em class="ju">微服务</em>的主要问题之一是缺乏精确的定义。由于缺乏经验、无知或纯粹的营销厚颜无耻，这个术语经常被误用，指的是不可能满足微服务架构模式的公开目标的技术。那么，是什么让 SOA 服务变成了微服务呢？</p><p id="5287" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated">微服务:</p><ul class=""><li id="27fe" class="lr ls hi jv b jw jx jz ka kz lt ld lu lh lv ko lw lx ly lz bi translated">在<strong class="jv hj">有界上下文</strong>中实现<strong class="jv hj">单个任务</strong>(或一组密切相关的任务)。这是微服务的基本特征。单个微服务尝试做的事情越多，或者跨越的所有权边界越多，就越不可能满足微服务的其他目标。</li><li id="a050" class="lr ls hi jv b jw ma jz mb kz mc ld md lh me ko lw lx ly lz bi translated">是松耦合的，并且很少或者根本不了解其他微服务的定义。理想情况下，当与其他服务通信时，它使用标准格式的消息，比如 JSON。</li><li id="f161" class="lr ls hi jv b jw ma jz mb kz mc ld md lh me ko lw lx ly lz bi translated">是<strong class="jv hj">自主的</strong>，不需要和其他开发团队协调就可以修改。这是促进微服务开发敏捷性的一个关键属性。</li><li id="4112" class="lr ls hi jv b jw ma jz mb kz mc ld md lh me ko lw lx ly lz bi translated"><strong class="jv hj">可独立部署</strong>，并且可以单独测试、部署和回滚，而不会影响其他微服务。这是提升微服务部署敏捷性和可扩展性的关键属性。</li></ul><p id="828f" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated">如果一个应用组件不满足这四个目标，它可能是一个服务，但肯定不是微服务——并且它不能提供微服务架构风格的所有好处。</p><h2 id="d276" class="kp kq hi bd jo kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">单一有界任务</h2><p id="584f" class="pw-post-body-paragraph js jt hi jv b jw lm ij jy jz ln im kb kz lo ke kf ld lp ki kj lh lq km kn ko hb bi translated">这就是为什么我们称它们为<strong class="jv hj"> <em class="ju">微</em> </strong> <em class="ju">服务</em>而不是简单的<em class="ju">服务</em>的原因。为了自治和可独立部署，每个微服务都应该专注于实现一个任务，该任务由问题域中明确定义的上下文紧密绑定。这促进了高层次的<em class="ju">粒度</em>和<em class="ju">关注点分离</em>，保持了微服务<em class="ju">自治</em>和<em class="ju">独立可部署性</em>。</p><h2 id="fdcf" class="kp kq hi bd jo kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">松散耦合</h2><p id="2d7f" class="pw-post-body-paragraph js jt hi jv b jw lm ij jy jz ln im kb kz lo ke kf ld lp ki kj lh lq km kn ko hb bi translated">松散耦合的微服务不太可能受到其他微服务更改的影响，也不太可能在更改时对另一个微服务产生影响。</p><p id="5daa" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated">微服务应该通过消息传递进行通信，而不是通过函数调用、方法调用或远程过程调用(RPC)——它们是紧密耦合的，通常是特定于计算机语言的，并且除了 RPC 之外，要求服务在物理上部署在同一个可执行文件中。真正支持云的微服务架构是消息驱动的，使用同步请求消息和异步排队事件消息。消息传递<a class="ae jn" rel="noopener" href="/nerd-for-tech/building-cloud-native-apps-part-1-393d250cf107"> <strong class="jv hj"> <em class="ju">演员模型</em> </strong> </a>是微服务的一个优秀模型。</p><p id="a9e5" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated">与 Web 客户端和初始 Web 服务之间的消息传递不同，当使用 Spring Boot 或 JAX-RS 时，独立服务之间的通信通常使用 Java 方法调用，并需要将协作服务部署在一起——很难称得上是松散耦合或云友好的解决方案。T3】</p><h2 id="f38a" class="kp kq hi bd jo kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">自治的</h2><p id="bb57" class="pw-post-body-paragraph js jt hi jv b jw lm ij jy jz ln im kb kz lo ke kf ld lp ki kj lh lq km kn ko hb bi translated">自治的微服务可以被修改和测试，而不需要与其他开发团队协调。这个属性极大地减少了软件开发的开销，并使敏捷开发策略更有效、更容易管理。</p><p id="8255" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated"><strong class="jv hj"> <em class="ju">要做到真正的自主，一个微服务还必须在与其他微服务隔离的情况下可测试。当使用 Spring Boot 或 JAX-RS 时，服务资源不容易被访问或执行，除非通过框架。</em> </strong></p><h2 id="87e6" class="kp kq hi bd jo kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll bi translated">可独立部署</h2><p id="4f86" class="pw-post-body-paragraph js jt hi jv b jw lm ij jy jz ln im kb kz lo ke kf ld lp ki kj lh lq km kn ko hb bi translated">服务的粒度及其在不影响其他服务的情况下单独测试、推出和回滚的能力是开发自主性的部署方面。它是服务敏捷性和持续交付的重要组成部分。</p><p id="5220" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated">可独立部署对于利用云容器和容器编排提供的自动化部署、伸缩、可靠性和故障转移功能也是至关重要的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mf"><img src="../Images/4c72f65bb3bc21a8f8a2c062f8866cdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vYmoF31vNgXywzaTl6qWbg.png"/></div></div></figure><p id="11e0" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated"><strong class="jv hj"> <em class="ju">使用 Spring Boot 或 JAX-RS 时，一个“微服务”实际上是部署在一组 Java 内。jar 文件作为更大的已部署可执行文件的一部分。它不能独立部署，通常依赖于要执行的支持框架代码。这些框架是 SOA 模式的强大、可靠和可管理的实现，但是它们不能充分利用云或微服务的潜力。</em>T11】</strong></p><p id="9780" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated">如果您有兴趣阅读更多关于如何利用微服务和云的真正功能的信息，我们建议您阅读<a class="ae jn" rel="noopener" href="/nerd-for-tech/software-architecture-for-the-cloud-c9226150c1f3"> <strong class="jv hj"> <em class="ju">面向云的软件架构</em> </strong> </a>。</p><p id="60e5" class="pw-post-body-paragraph js jt hi jv b jw jx ij jy jz ka im kb kz kd ke kf ld kh ki kj lh kl km kn ko hb bi translated">谢谢你。</p></div></div>    
</body>
</html>