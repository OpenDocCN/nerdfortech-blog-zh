<html>
<head>
<title>Custom Painter In Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">飘动中的定制画家</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/custom-painter-in-flutter-7d36af4dcabb?source=collection_archive---------0-----------------------#2022-10-05">https://medium.com/nerd-for-tech/custom-painter-in-flutter-7d36af4dcabb?source=collection_archive---------0-----------------------#2022-10-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="456b" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated"><strong class="ak">在绘画阶段提供画布的小工具</strong></h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/6b99b2a1b86794c4c08ff0766f2645de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PHVmB2BbYmU9-YLmRZjMMw.png"/></div></div></figure><p id="36a5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">今天我们将讨论自定义画师，首先我们将了解何时雇佣自定义画师，自定义画师如何工作，最后但同样重要的是，我们将了解一些 flutter 自定义画师的项目。</p><p id="9a6e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">什么是自定义画师，一般应该在什么时候使用？自定义画师能够直接在 flutter 的画布上绘画，几乎所有的小部件都使用绘画层，如果你还记得 flutter 的架构，在小部件下面有一个绘画层。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kf"><img src="../Images/52eaf02577447963415a9f76a097c742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gsJWkyGRYpV1aLNq3JbCpg.png"/></div></div></figure><p id="54ca" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这意味着你不一定需要一个小部件来在画布上绘制一些东西，允许你直接在画布上创建点、路径和弧等东西，并在其上绘制。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kg"><img src="../Images/58e00e34a74dcf220ff598d0c4452f41.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/1*eUfFkFMufl3Wd9Z5IZAEQg.gif"/></div></div></figure><p id="99d8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">所以想象一些小部件或一些想法，一个标志或你想动画自定义画家的一个完美的选择，好了，现在我们已经涵盖了你现在知道什么时候使用自定义画家。</p><p id="f791" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">什么是定制漆？</strong></p><p id="789b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">Flutter SDK 中的自定义 Paint 小部件允许您在画布上绘制不同的形状。它包含以下属性:</p><ul class=""><li id="74b8" class="kh ki hi jl b jm jn jp jq js kj jw kk ka kl ke km kn ko kp bi translated"><code class="du kq kr ks kt b">painter</code>:孩子画之前，画家先画。在这种情况下，有必要扩展 Custom Painter。</li><li id="f5e6" class="kh ki hi jl b jm ku jp kv js kw jw kx ka ky ke km kn ko kp bi translated"><code class="du kq kr ks kt b">size</code>:这个自定义画师的大小最初等于 Size.zero，也就是说如果没有定义子体或者大小，就不会出现。</li><li id="2207" class="kh ki hi jl b jm ku jp kv js kw jw kx ka ky ke km kn ko kp bi translated"><code class="du kq kr ks kt b">Foreground Painter: The painter who paints after the children.</code>它还需要一个扩展类<code class="du kq kr ks kt b">Custom Painter</code>的类。</li><li id="ae6b" class="kh ki hi jl b jm ku jp kv js kw jw kx ka ky ke km kn ko kp bi translated"><code class="du kq kr ks kt b">child</code>:该小部件树下的小部件。</li></ul><p id="36b8" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">使用自定义绘制时，您有两种选择:要么指定不带子级的 size 属性，要么使用子级属性为其提供一个小部件。</p><p id="ee81" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">自定义画师实际上是如何工作的？这是一个可以用自定义 painter 类扩展的类，可以像使用任何其他小部件一样使用它，但重要的是周围小部件的大小和高度将作为画布大小传递给自定义 painter。</p><p id="150e" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们马上会看到这意味着定制画师由两个方法组成，即<strong class="jl hj"> paint </strong>方法和它们应该<strong class="jl hj"> repaint </strong>方法。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="76cc" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj"> paint </strong>方法获取画布和其中父小部件的大小，您现在可以用它来绘制画布，这是一个图形表示，您可以用它来直接执行命令，如绘制圆绘制线绘制路径。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="8029" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">虽然 size 给出了包含它的小部件的高度和大小，但这并不意味着您不能在这个小部件之外进行绘制，而是给了您实际的 converse 应该有多大的指示。</p><p id="8403" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你从零点零零开始，你就在画布的左上方，从那里你可以开始画任何你想画的地方，所以现在就画这个方法。</p><p id="fe30" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们对 shouldRepaint 的讨论将在稍后进行，因为我们将绘制一些东西，但是现在让我们快速地看一下 shouldRepaint 方法。ShouldRepaint 方法是一个每次类被重新初始化时都会被调用的方法。因此，每当你滚动窗口小部件或窗口小部件树，处理那个类，然后返回到它，它检查我是否应该重画这个窗口小部件，给你一些控制你是否想一直重画它。</p><p id="0fac" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">有可能随机的事情发生在它身上，或者你在我告诉你的时候渲染它，甚至永远不再渲染它，所以如果它一旦被绘制和重用，你就可以大大提高性能。</p><p id="c80a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">好的，但是再一次回到这里的绘画方法，我们现在要在画布上绘画。</p><pre class="iy iz ja jb fd lb kt lc ld aw le bi"><span id="cf4d" class="lf lg hi kt b fi lh li l lj lk">canvas.drawPoints(PointMode.points, points, paint1);</span></pre><p id="d8c6" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">因此，我们使用<strong class="jl hj"> canvas.draw </strong> path，例如，我们有两个类，第一个是我们必须初始化的路径，在路径中，我们给出关于我们想要如何绘制线的信息。</p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="1788" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">所以从 a 点到 b 点，然后我们要画一条弧线，之后我们要从 c 点到 d 点，这是我们要画线的路径信息。</p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="77cb" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">另一方面，我们有<strong class="jl hj"> paint </strong>类，paint 类给出关于颜色样式和大小的信息，例如你想要的笔画，如果我们说画布点绘制路径，那么我们必须首先传入路径，然后再传入 paint 来绘制这条线，正如你可以立即在应用程序中看到的，这些线显示正确，然后有可能绘制文本，这样就有意义了。</p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="cd17" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">有一个<strong class="jl hj">文本画师</strong>类，你也可以使用它来直接绘制文本，所以如果你不想写每一行，你想为你的文本做每一行，你可以使用文本画师，它已经为你做了同样的事情，并有一些预定义的类。</p><p id="2e5a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我已经提到过<strong class="jl hj">弧</strong>什么是弧，艺术就是你想要画的圆，所以弧是你可以画的半圆，如果你有两个点，</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ls"><img src="../Images/a52aba874efb3d47859043cb62155025.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*EGMOIUv9fLIN3SOfFaADoA.png"/></div></figure><p id="67ed" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">点 a 和点 b，一条弧线是从那里到那里的一个半圆，你可以输入，比如半径和深度之类的信息，来很容易地画出这条弧线，这样你就画出了你的弧线。</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="kz la l"/></div></figure><p id="6352" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">你可以从那里画出你想画的任何地方。你可以做的另一件事是贝塞尔曲线，如果你从未听说过它，我发现它实际上非常有趣，因为我通常在 Photoshop 中使用它，每当你使用钢笔工具时，你可以从一个点移动到另一个点，如果你用钢笔工具持续点击它并拖动它，那么你可以看到曲线出现，这就是贝塞尔曲线 它出现了一个新的点，a 和 b 的第三个点，你得到了一个公平点，它给出了你想要如何使曲线发生的信息，你可以很好地沿着它移动。</p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><p id="7cba" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">因此，我们可以看到自定义画师是如何工作的。我们都知道，当你重新渲染很多东西时，如果你不这样做，你需要正确地重新绘制，如果你使用很多，那可能会影响你的性能。不要那样做。总的来说，理解并更深入地理解它会带来很多乐趣，所以我强烈建议你正确地做好这一切。这就是我想简单描述的自定义画师的所有信息。如果你发现任何错误的信息或误导，请在下面指出或评论。</p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><p id="3700" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你做错了什么？请在评论中提及。我很想进步。我是<strong class="jl hj">希尔什·舒克拉</strong>。创意开发人员和技术爱好者。你可以在上找到我</p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><p id="965a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">YouTube:</strong>T5】https://3c5.com/3gbzm</p><p id="97a2" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">推特:</strong>T9】https://mobile.twitter.com/shirsh94?s=09</p><p id="f9cd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">领英:</strong><a class="ae lt" href="https://www.linkedin.com/in/shirsh-shukla-95b85786" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/shirsh-shukla-95b85786</a></p><p id="356a" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">stack overflow:</strong><a class="ae lt" href="https://stackoverflow.com/users/13098417/shirsh-shukla" rel="noopener ugc nofollow" target="_blank">https://stackoverflow.com/users/13098417/shirsh-shukla</a></p><p id="d4c2" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">组合:</strong>【https://shirsh94.github.io/shirsh-portfolio.github.io/】T21</p><p id="6117" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">了解更多详情。</p><p id="bad4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">祝您愉快！🙂</p></div></div>    
</body>
</html>