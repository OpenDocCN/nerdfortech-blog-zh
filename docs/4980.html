<html>
<head>
<title>Animating player | Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">动画播放器| Unity</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/animating-player-unity-5e04ba44fb19?source=collection_archive---------4-----------------------#2021-08-18">https://medium.com/nerd-for-tech/animating-player-unity-5e04ba44fb19?source=collection_archive---------4-----------------------#2021-08-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="f117" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="e124" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于如何在Unity中制作3D播放器动画的快速指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/2c1ed5b600353f048a01494a953b23e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Xq3Kw9CRclcEQhLdpwoqxA.gif"/></div></div></figure><p id="c78e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:用Unity制作我们玩家的3D模型动画。</p><p id="a59b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在上一篇文章中，我介绍了<a class="ae ko" href="https://fas444.medium.com/game-assets-via-filebase-unity-95cc7fdc05c8" rel="noopener">如何通过Unity从<a class="ae ko" href="https://filebase.gamedevhq.com/" rel="noopener ugc nofollow" target="_blank">的Filebase插件</a>中获得高质量的游戏资产</a>。现在，是时候为我们项目中的玩家实现一个跳跃动画了。</p><h1 id="a835" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">当前场景</h1><p id="6ef9" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">在当前场景中，我们让玩家站在一个平台上，如果我们检查它的模型，我们会看到它已经包含了一个<strong class="ju hs"> Animator组件</strong>来处理它的动画剪辑:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl ln lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/86671be0b70787db8908e4d24dfc769f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*9jNumtCBXE2zy6bCK1aqAA.png"/></div></figure><figure class="lm jl ls lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/1265c6ea164cd6dbc74fa353da6626ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*j7ycbNu3tbbxMXBBV_d1QQ.png"/></div></figure><figure class="lm jl lt lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/ed855fa1cf03ab393651de7c7994321d.png" data-original-src="https://miro.medium.com/v2/resize:fit:430/format:webp/1*EQ01BarCIsCK3NUuDtuv8w.png"/></div></figure></div><p id="ed01" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果你不知道，我从Filebase得到了这个模型，我在这篇文章中解释了我是如何做到的:</p><div class="lu lv ez fb lw lx"><a href="https://fas444.medium.com/game-assets-via-filebase-unity-95cc7fdc05c8" rel="noopener follow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hs fi z dy mc ea eb md ed ef hr bi translated">通过Filebase | Unity获得游戏资产</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">关于如何在Unity中从Filebase引入游戏资源的快速指南</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">fas444.medium.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml jq lx"/></div></div></a></div><p id="ff5e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们在Unity中打开一个动画窗口，我们将能够根据控制器的状态看到当前正在执行的动画剪辑。如果你看下面的gif，你会注意到玩家可以使用一个空闲、行走和奔跑的动画:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/a96a17be2b2806d5233c2b6136bedb79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*v-eCnG1GVGYLzLMwkIL0cw.gif"/></div></div></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/4d0b70b29fc4b38713873ee5da4d9fc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Kxs-UaJdQHR2khWClMhBoQ.gif"/></div></div></figure><p id="5444" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">所以，为了不断改进我们的游戏，让我们引入一个新的动画来显示玩家在奔跑和跳跃的时候。</p><h1 id="e335" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">获取动画</h1><p id="a788" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">如果我们需要为你的游戏获得动画或角色，那么一个好的选择是使用Mixamo资产。Mixamo 允许我们为个人、商业和非营利项目免费使用角色和动画。</p><p id="471c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">你可以在这里查看Mixamo的常见问题:</p><div class="lu lv ez fb lw lx"><a href="https://helpx.adobe.com/creative-cloud/faq/mixamo-faq.html" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hs fi z dy mc ea eb md ed ef hr bi translated">Mixamo常见问题</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">Mixamo自动索具系统仅适用于人形角色，并有一些其他特定要求。检查…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">helpx.adobe.com</p></div></div><div class="mg l"><div class="mm l mi mj mk mg ml jq lx"/></div></div></a></div><p id="e2fd" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">因此，为了获得跳跃动画，让我们创建一个帐户来使用<a class="ae ko" href="https://www.mixamo.com/#/" rel="noopener ugc nofollow" target="_blank"> Mixamo </a>并登录:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mn"><img src="../Images/3468bef652a4f65cf42a71344a3f2a8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-cnBQsh-E7oOezCi4n-Hog.gif"/></div></div></figure><p id="2411" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们在搜索栏上写下并选择我们要寻找的动画:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mo"><img src="../Images/83fc49135edf83c2edadf674ccb1581f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*nXwhjtQBbL_z2R6JhvN8OQ.gif"/></div></div></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mp"><img src="../Images/fb77f52626382b312fccbe60c29cd9f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rOcny6oefYILynONM_L4yQ.gif"/></div></div></figure><p id="3686" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦选中，我们将能够看到动画在右边的粉红色模型上运行。此外，我们提供了不同的值来定制我们想要的动画。一旦我们对它满意了，让我们点击下载按钮:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl mq lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/afdfddf679f89f0ab0750df8f09e6c90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/1*KMCeMLMozSMZOI7ov-p_8Q.gif"/></div></figure><figure class="lm jl mr lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/6dac4ba83398fc88cb11eda9ca7ec0c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/1*f-XvS_cyLuxGqfT_6N6Zmw.gif"/></div></figure></div><p id="4a30" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">将出现一个窗口，提示选择动画的格式、FPS、皮肤和关键帧减少。因此，当我们使用Unity时，让我们选择Unity的FBX选项并继续下载:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ms"><img src="../Images/97380ef67e43a1c9b233d3c849a42c72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*I-TLamVDxOJVFX6wep1-oQ.gif"/></div></div></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mt"><img src="../Images/c4f54c38c1d4ee8d00dec45cd25374f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*YgQlLZA4ysyHIcaL_AXFFQ.png"/></div></figure><h1 id="f040" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">实现动画</h1><p id="a1b9" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了将来自<a class="ae ko" href="https://www.mixamo.com/#/" rel="noopener ugc nofollow" target="_blank"> Mixamo </a>的动画实现到我们的项目中，让我们将文件导入到我们的项目文件夹中:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl mu lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/24026538799843db8fe51119b9f9b89a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*AFrCxwVKZVhGuHWXM9NU-w.gif"/></div></figure><figure class="lm jl mu lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/67d0a354ed5e26bb7c4bffa89323effa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*HNXhrFseaAOWVEeJlU75sg.png"/></div></figure></div><p id="ac67" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在Unity中，我们将能够看到文件包含我们需要在播放器中使用的动画剪辑。在使用它之前，让我们选择下载的文件并:</p><ul class=""><li id="d71b" class="mv mw hi ju b jv jw jy jz kb mx kf my kj mz kn na nb nc nd bi translated">通过检查器选择<strong class="ju hs">装备</strong>选项卡。</li><li id="c08b" class="mv mw hi ju b jv ne jy nf kb ng kf nh kj ni kn na nb nc nd bi translated">改变动画类型为<strong class="ju hs">人形</strong>而不是普通。</li><li id="89d3" class="mv mw hi ju b jv ne jy nf kb ng kf nh kj ni kn na nb nc nd bi translated">点击<strong class="ju hs">应用</strong>应用更改。</li><li id="dc7d" class="mv mw hi ju b jv ne jy nf kb ng kf nh kj ni kn na nb nc nd bi translated">在下载的文件中选择<strong class="ju hs">动画剪辑</strong>。</li><li id="82a0" class="mv mw hi ju b jv ne jy nf kb ng kf nh kj ni kn na nb nc nd bi translated">通过按键盘上的Ctrl + D复制动画剪辑，这样我们就可以通过检查器修改它的属性。</li></ul><div class="jh ji jj jk fd ab cb"><figure class="lm jl nj lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/777115f2476acf2cd3af3a61ef514d2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/1*qC9wZMTzRpXRBaSMqFnXFA.gif"/></div></figure><figure class="lm jl nk lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/1213a2ffde6132afd57913ca5c0d0321.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/1*CVjIO3hk4hWoj-p4g7r6ig.gif"/></div></figure><figure class="lm jl nj lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a1ee764cb9e4c83d02d2f4b92e25e0f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/1*sYzfkeWQ2PAK65tCgPxn7A.gif"/></div></figure></div><p id="51cf" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们将复制的动画剪辑拖动到Animator窗口中，该窗口显示我们的播放器的动画控制器。添加完毕后，让我们创建相应的过渡来指示允许动画被触发和完成的状态:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/443a4d4d5e0f977897abd54453fb5ffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Z3KXGh0D0gm06jR1P3QHzA.gif"/></div></div></figure><p id="aa33" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了执行动画，我们可以创建一个Trigger类型的参数。创建完成后，让我们选择相应的过渡，然后:</p><ul class=""><li id="771f" class="mv mw hi ju b jv jw jy jz kb mx kf my kj mz kn na nb nc nd bi translated">禁用<strong class="ju hs"> <em class="nl">有退出时间</em> </strong>属性，避免在执行跳转动画之前等待其他状态的动画结束。</li><li id="dae7" class="mv mw hi ju b jv ne jy nf kb ng kf nh kj ni kn na nb nc nd bi translated">添加<strong class="ju hs">跳转</strong>触发器作为进入动画控制器跳转状态并执行动画的条件。</li></ul><div class="jh ji jj jk fd ab cb"><figure class="lm jl nm lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/5d15e8c7bc8a0be8429bc95a13efcadb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1538/1*r53hkC-f0iIh88NvMsSBEg.gif"/></div></figure><figure class="lm jl nn lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/6c0bcd85e00d8a13502656311e864901.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/1*zuvqaChkDU5t6V9pJ3KQoA.gif"/></div></figure></div><p id="a607" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，为了触发动画，让我们打开<strong class="ju hs">播放器</strong>脚本并创建一对新变量:</p><ul class=""><li id="cb01" class="mv mw hi ju b jv jw jy jz kb mx kf my kj mz kn na nb nc nd bi translated">动漫</li></ul><p id="6d60" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将在我们玩家的模型中存储一个对<strong class="ju hs">动画师组件</strong>的引用。</p><ul class=""><li id="955e" class="mv mw hi ju b jv jw jy jz kb mx kf my kj mz kn na nb nc nd bi translated">运转</li></ul><p id="d817" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将指示播放器当前是否正在运行。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es no"><img src="../Images/d2411c4ba9ba4d009d7058d88e0d57c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*DU_uQtNO9p3dhuYn-8Dlrg.png"/></div></figure><p id="40dc" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在<strong class="ju hs"> Start </strong>方法中，让我们初始化第一个变量，以获取我们的玩家(模型)的子游戏对象中的animator组件:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es np"><img src="../Images/c6ebda29cdd922192102c855eddd5ea3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fK0Jpp0ZknKzu5NZvdvPUA.png"/></div></div></figure><p id="b79e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，让我们检查玩家何时按下空格键来施加相应的力以使我们的玩家跳跃，然后通过使用我们模型的Animator组件中的<strong class="ju hs"> SetTrigger </strong>方法来触发动画:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nq"><img src="../Images/398ee0f1e1f927a0f5358d37fabb0074.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*IwoPFxH3NolHoGnAMVEeZg.png"/></div></figure><p id="0b51" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们用Unity运行游戏，我们将能够看到玩家跳跃时动画如我们预期的那样运行:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/9fc9131fb46e37f2554683ea75fd3a4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0LcWlDQrl13Aht7DcUETug.gif"/></div></div></figure><p id="d782" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们在我们的项目中制作了玩家的动画！:d .我会在下一篇文章中看到你，在那里我将展示如何用Unity创建一个壁架抓取机制。</p></div><div class="ab cl nr ns gp nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="hb hc hd he hf"><blockquote class="ny nz oa"><p id="4311" class="js jt nl ju b jv jw is jx jy jz iv ka ob kc kd ke oc kg kh ki od kk kl km kn hb bi translated"><em class="hi">如果你想更多地了解我，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>