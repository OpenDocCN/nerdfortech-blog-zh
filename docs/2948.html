<html>
<head>
<title>How I used VSCode Snippets to type less and code faster</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何使用VSCode片段来减少输入并提高编码速度</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-i-used-vscode-snippets-to-type-less-and-code-faster-58af67e4029e?source=collection_archive---------24-----------------------#2021-05-24">https://medium.com/nerd-for-tech/how-i-used-vscode-snippets-to-type-less-and-code-faster-58af67e4029e?source=collection_archive---------24-----------------------#2021-05-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/04ecc48ca5b8fe3c1e07a968fdd28357.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIasEICh7QUxBmaPWx1bbQ.jpeg"/></div></div></figure><p id="2379" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我相对短暂的编程生涯中，我有幸与一些资深和有经验的开发人员一起进行编程，我一直关注的是他们在IDE中运行和编写代码的效率。</p><p id="7eb9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一段时间以来，我一直致力于提高我的打字速度，学习快捷方式和工具来提高我的编码效率。我还有很多东西要学，但是我最近发现了一种方法，它帮助我完成了一个特别繁琐的涉及OpenAPI规范的编程。</p><h1 id="dac0" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">OpenAPI生成器和规范文件</h1><p id="277b" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">我刚刚在Xero的开发者福音团队呆了3个月，我在团队期间做的事情之一是为Xero SDKs(软件开发工具包)编写<a class="ae kr" href="https://xeroapi.github.io/Xero-NetStandard/accounting/index.html" rel="noopener ugc nofollow" target="_blank">新文档</a>，开发者使用这些SDK来集成Xero API并创建<a class="ae kr" href="https://apps.xero.com/au?utm_source=xero_blog&amp;utm_medium=link&amp;utm_campaign=1000apps_announcement" rel="noopener ugc nofollow" target="_blank">市场应用</a>。(Xero刚刚达到了生态系统中超过1000个连接应用程序的令人敬畏的里程碑。)</p><p id="1819" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Xero SDKs是从一个名为OpenAPI规范的YAML文件生成的，它是RESTful Xero公共API的人类和计算机可读的描述，使用<a class="ae kr" href="https://swagger.io/tools/swagger-codegen/" rel="noopener ugc nofollow" target="_blank"> Swagger Codegen </a>。</p><p id="266e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用与生成SDK相同的生成器(做了一点额外的工作来创建一个额外的。mustache文件)，我们还可以为每个特定的API集生成一个HTML文件，其中包含SDK中所有可用方法的可运行代码示例。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/e753f1c414e05fe40133a222fda7a0cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jB_vvIIh7iNns3CGu3PjNw.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">新Xero-NetStandard SDK文档截图</figcaption></figure><p id="d4d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是对旧文档的巨大改进，旧文档只是为一些API方法手动创建的示例代码。</p><p id="5481" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">生成器非常智能，它出色地接受了OpenAPI规范和mustache模板，并为SDK的大多数GET方法提供了工作示例。但是，因为我们支持的每种语言(Java、php、Node、Ruby、NetStandard、Python)中的SDK都有不同的语法和命名约定，所以有必要在YAML文件中添加一些称为x-examples的额外元数据，以便处理更复杂的任务，如更新和创建方法所需的对象创建。这包括添加不同大小写(<em class="lb"> PascalCase </em>、<em class="lb"> snake_case </em>和<em class="lb"> camelCase </em>)的“密钥”(对象或变量名)，枚举在不同语言、不同日期时间格式等中具有不同的约定。</p><p id="8d1b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我加入团队时，Xero的会计API规范已经有了x-examples，但是我很快发现自己在剩余的SDK中为每个创建和更新方法添加了x-examples。(其中有很多。)有些只有很少的方法(文件API规范只有6个创建或更新方法),所以虽然输入很乏味，但还可以忍受，但我很快就转向了更大的工资API，并发现自己对输入相同内容的次数感到沮丧。(每个工资单API规范都增加了1000多行代码。)</p><p id="cbc0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我尝试了一些不同的方法来加快速度——主要是复制、粘贴和手动键入的各种组合，或者复制几次键并修改不同的大小写和值。但是不管怎样，这都是非常乏味的工作，而且容易出错。这是我认为我肯定有一个更简单的方法来做到这一点。</p><h1 id="b267" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">vs代码片段</h1><p id="755f" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">代码片段是帮助开发人员快速编写重复代码模式的模板。我早年学到的第一个片段。NET career(感谢小哥哥Artur教我这个)是Visual Studio中的foreach + tab + tab片段。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/eabbc2b25209d2659311159d95b02efc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6TZtNi7ZM0otts9qv-MwVw.gif"/></div></div></figure><p id="0835" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些代码片段可以加快开发速度，并在键入循环等常见模式时使事情变得更容易。但是没有任何可用的片段可以给我OpenAPI规范x-examples所需要的独特结构。幸运的是，VSCode为我们提供了创建自定义代码片段的选项，所以我仔细阅读了<a class="ae kr" href="https://code.visualstudio.com/docs/editor/userdefinedsnippets" rel="noopener ugc nofollow" target="_blank">文档</a>，在短短几分钟内，我就能够创建一个非常简单的代码片段，它复制了我需要的基本键结构，然后将光标导航到每个下一个<em class="lb"> Tabstop </em>，这样我就可以输入正确的值。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/2d2be769da5ca28bd40d866c777eca66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WFUuRt_QYVP1jCazoPfeMg.gif"/></div></div></figure><p id="b611" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然这个代码片段很有用，对我有一点帮助，但我只使用过几次，然后就想知道是否有一种方法可以自动化大小写转换，因为这是这个过程中最乏味的部分之一，也是我在第一个代码片段中没有克服的部分。幸运的是，我发现snippets允许在snippets中进行变量转换，将字符串的一部分匹配到组中，然后我们可以使用格式字符串来格式化这些组，并进行简单的修改，比如改变大小写。已经有了从<em class="lb"> snake_case </em>到<em class="lb"> PascalCase </em>的开箱即用选项，对于<em class="lb"> camelCase </em>我能够编写一些简单的正则表达式来匹配和转换外壳。所以现在我已经可以按下一个关键字符来使用我的代码片段并键入一次键，而不是一遍又一遍地键入整个结构并在各种情况下写4次相同的键。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/ba3d5b9df8e38b0e5c69a6479d391a5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Rrd72cloj3pzqGrWslZmQw.gif"/></div></div></figure><p id="3725" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到了这个阶段，我开始变得有点疯狂，开始为我们在x-examples中使用的大多数其他属性编写小代码片段，比如GUIDs和Lists。列表片段可能是最大的时间节省，因为没有它，输入的量有点疯狂，我总是不得不回到以前的例子，并确保我遵循相同的模式，并确保我没有错过什么。</p><p id="c3ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">仅仅用了这一小段，我就把原本需要350次按键变成了9次。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/6ea55ea711bb085fb12b0a056e673d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1acdghEWHhLXMVNXc3QSaQ.gif"/></div></div></figure><p id="60d1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我完成所有的片段时，我感觉自己就像一个魔术师，曾经单调乏味的重复工作变得很有趣，也很快。它不仅节省了我大量的时间和精力，还减少了打字错误和语法错误，使整个过程更加简单。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es le"><img src="../Images/4686cc00f09ce95bcc97b836800e491e.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/1*oWHEsS7-30J-p665mCoZ5g.gif"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">我创造了我所有的片段后的我！</figcaption></figure><h1 id="64a6" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="2d41" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">我希望这篇文章鼓励你下次发现自己过于频繁地输入重复代码时，去编写自己的自定义代码片段。</p><p id="afad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你想知道更多关于如何编写你自己的代码片段的细节，请查看关于<a class="ae kr" href="https://code.visualstudio.com/docs/editor/userdefinedsnippets" rel="noopener ugc nofollow" target="_blank">vs code snippet</a>的文档，你可以在这里查看我创建的代码片段<a class="ae kr" href="https://gist.github.com/AlbertGromek/8183581a7108e40bcdfa2acc6a95597e" rel="noopener ugc nofollow" target="_blank"/>。如果你对Xero SDKs感兴趣(它们都是开源的)，请查看<a class="ae kr" href="https://github.com/XeroAPI" rel="noopener ugc nofollow" target="_blank"> Xero API GitHub </a>。</p><p id="0a83" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，如果您有兴趣与Xero合作并加入市场上的1000多个应用程序，请访问Xero开发者门户网站！</p></div></div>    
</body>
</html>