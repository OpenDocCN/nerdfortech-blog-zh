<html>
<head>
<title>How to Manipulate Web Requests</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何操作 Web 请求</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-manipulate-web-requests-ea5cf1c80a90?source=collection_archive---------1-----------------------#2021-12-27">https://medium.com/nerd-for-tech/how-to-manipulate-web-requests-ea5cf1c80a90?source=collection_archive---------1-----------------------#2021-12-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="1d29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">无论你是软件开发人员还是网络爱好者，这都是一款可以添加到你的软件库中的工具。</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/c7b56c1b5b917b89a215cd4a57200b3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lYaY8RDJuoa2LOKO9Rffgg.jpeg"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">中间人攻击的基本原理</figcaption></figure><h2 id="65b4" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">本文的目的:</h2><ul class=""><li id="de45" class="kp kq hi ih b ii kr im ks iq kt iu ku iy kv jc kw kx ky kz bi translated">展示在浏览器和与之通信的服务器之间传输 HTTP 数据时捕获数据的能力。</li><li id="a308" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">演示在将捕获的流量发送到目标 web 服务器之前对其进行修改的能力。</li></ul><p id="f344" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为什么？一个人想要操纵 web 请求有多种原因:满足计算机爱好者的好奇心，帮助开发人员测试网站输入，或者让网络专业人员了解网站的安全性。如果你能想到更多的原因，请留下评论，让我们开始吧！</p><p id="0c08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你想看这些技术的应用，也可以观看下面的视频。 </p><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lf lg l"/></div><figcaption class="jq jr et er es js jt bd b be z dx translated">用一个 Sub 来支持这个频道，让它了解我最新的网络安全和软件开发视频！</figcaption></figure><h2 id="f242" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">从哪里开始</h2><p id="df50" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">一位老朋友曾经告诉我，这种技术就像是在‘围攻’一个网站。虽然这实际上不会是一场长达 6 个月的战斗，但当我们在 CTF(夺旗)活动中或在同事面前执行这种任务时，这句话总是让我兴奋。</p><p id="cd15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将通过在您选择的浏览器上打开一个随机网站来开始这次冒险。(希望您的网页上有一个表格，以便更好地演示以下步骤)。</p><ul class=""><li id="60b1" class="kp kq hi ih b ii ij im in iq lk iu ll iy lm jc kw kx ky kz bi translated">然后，您将使用某种“中间人”代理软件在本地机器上启动代理。(我将使用<code class="du ln lo lp lq b">BurpeSuite</code>，但其他软件也存在，如<code class="du ln lo lp lq b">Mitmproxy</code>等)。</li><li id="dc07" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated">配置您的浏览器设置，将流量临时路由到此代理。</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es lr"><img src="../Images/02fe0c8582f0a5414f71c2bd3f0e804a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_xwquFjPtTfZKTbQxcrNw.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">设置浏览器代理设置，如果需要，使用手动代理配置。</figcaption></figure><p id="1d11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦这些步骤完成，我们的“围攻”设备就设置好了，随时可以使用！</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es ls"><img src="../Images/2ee9514319e7b1f6c56cf069235d7100.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NtsXfTBXavAexCSE6_AlrQ.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">web 请求生命周期概述。</figcaption></figure><h1 id="4b4e" class="lt jv hi bd jw lu lv lw ka lx ly lz ke ma mb mc kh md me mf kk mg mh mi kn mj bi translated">查看捕获的请求</h1><p id="927c" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">当您的网络流量开始挂起时，您将知道您的代理何时配置成功。这是因为……所有的网络流量都被路由到代理，并存储在代理拦截队列中。我们可以转发排队的不相关请求，直到找到重要的请求(如下所示):</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mk"><img src="../Images/9d8ba708b50292f4ef77451fc34dad08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OljVloLfDAuKLnVzhCMndw.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">我们希望操作的已捕获 POST 请求。</figcaption></figure><p id="6b0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们所看到的，这个数据包在底部有元数据头和信息有效载荷，有效载荷是:</p><pre class="jf jg jh ji fd ml lq mm mn aw mo bi"><span id="bc9d" class="ju jv hi lq b fi mp mq l mr ms">username=santa&amp;password=password&amp;submit=Login</span></pre><h1 id="3b3c" class="lt jv hi bd jw lu lv lw ka lx ly lz ke ma mb mc kh md me mf kk mg mh mi kn mj bi translated">操纵请求</h1><p id="99d9" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">在 BurpeSuite 中，我们可以在之前显示的窗口中编辑请求:</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mt"><img src="../Images/caeac2810c5bbfb680be8e06eb35c3c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2f9SbainSpuLqwomTHQPDg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">快速编辑，然后转发</figcaption></figure><p id="49a2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就这么简单，甜蜜，请求操纵！然而，BurpeSuite 还附带了一些额外的特性，当涉及到包操作时，我想详细介绍一下:</p><ul class=""><li id="8125" class="kp kq hi ih b ii ij im in iq lk iu ll iy lm jc kw kx ky kz bi translated"><strong class="ih hj">入侵者:</strong>用于对 web 应用程序进行自动定制攻击。它的工作原理是接受一个基本的 HTTP 请求，并以系统的方式修改数据。这种系统化的方法包括定义由<strong class="ih hj">字符</strong>表示的“有效载荷标记”，然后在它的位置插入一个“有效载荷”。</li></ul><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mu"><img src="../Images/69cdb91ee5cb033c8f0351a2a43e3e23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HRPumuYmRyQHnsEb-e5sGQ.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">使用入侵者“暴力破解”密码表单变量的示例。(注意人物)</figcaption></figure><ul class=""><li id="1cf0" class="kp kq hi ih b ii ij im in iq lk iu ll iy lm jc kw kx ky kz bi translated"><strong class="ih hj"> Repeater: </strong>用于发送一个“重复”次数的 web 请求，并分析应用程序的响应。</li><li id="1a4c" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">序列器:</strong>用于分析数据项样本中随机性的质量。您可以使用它来测试应用程序的会话令牌或其他不可预测的重要数据项，如反 CSRF 令牌、密码重置令牌等。</li><li id="7554" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">解码器:</strong>用于将编码数据转换为其规范形式，或将原始数据转换为各种编码和哈希形式。它能够使用启发式技术智能地识别几种编码格式。</li></ul><h1 id="79e5" class="lt jv hi bd jw lu lv lw ka lx ly lz ke ma mb mc kh md me mf kk mg mh mi kn mj bi translated"><strong class="ak">结论</strong></h1><p id="52af" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">无论你是技术发烧友、软件开发人员还是网络安全专家，我希望你在“网络代理”软件中发现了一个新工具。通过使用这种“中间人”方法，我们可以手动调节我们的网络流量，以分析我们的机器之间的通信。根据不同的用例，我们还可以修改和尝试发送不同的请求数据。希望你喜欢快速浏览。</p><p id="a1ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">附:完成本练习后，不要忘记将您的浏览器代理设置重新配置为“无代理”！</em>T15】</strong></p></div></div>    
</body>
</html>