<html>
<head>
<title>Image Gallery with React and Tailwind CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有 React 和 Tailwind CSS 的图库</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/image-gallery-with-react-and-tailwind-css-177b32adcc55?source=collection_archive---------4-----------------------#2021-05-23">https://medium.com/nerd-for-tech/image-gallery-with-react-and-tailwind-css-177b32adcc55?source=collection_archive---------4-----------------------#2021-05-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/11d619ac435cd959c0c997f972afcb1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-eWNNIucwl_KSA-KXU2_iQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">重复</figcaption></figure><p id="c658" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在本帖中，我们将使用 ReactJS 应用程序和 Tailwind CSS 构建一个图库。我们还将使用 Pixabay API 来获取图像。</p><p id="5f4d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">因此，打开您的终端，使用下面的命令创建一个新的 ReactJS 应用程序。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="125c" class="kb kc hi jx b fi kd ke l kf kg">npx create-react-app tailwindcss-gallery</span></pre><p id="3503" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，按照说明，切换到新创建的文件夹。我也用 VS 代码打开了这个项目。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/8017d4c111c3d594d0a7d5c25199c56c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LVYdSHw-hV3RLHWrp-_xbg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">初始设置</figcaption></figure><p id="e1c8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">React 项目中的顺风设置是从我之前的<a class="ae ki" href="https://nabendu82.medium.com/build-a-simple-react-website-with-tailwind-css-281f3114a932" rel="noopener">博客</a>开始的。我还删除了不必要的文件，它带有一个 React 设置。</p><p id="5808" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">之后用<strong class="iw hj"> npm start </strong>启动应用，并更新<strong class="iw hj"> App.js </strong>的内容，用一个顺风 CSS 类检查它是否工作。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kj"><img src="../Images/6abae9c95a8329fec0ee8d803dbccb43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1UCofGuPE5HM0xwdzBndvA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">App.js</figcaption></figure><p id="c075" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在<a class="ae ki" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>我们可以看到这个大 h1，这意味着 tailwind css 设置正确。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kk"><img src="../Images/2478c8e6bede799571230de02f3437b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e9kzIleqPyj0IdhSziCq3g.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">顺风</figcaption></figure><p id="9f04" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们现在将在<strong class="iw hj"> App.js </strong>中展示一个基本的随机图像，带有顺风 css 类。它还将包含视图，下载，喜欢和一些标签。稍后，我们将从 API 获取所有这些信息。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kl"><img src="../Images/07c17a8596c28865d41f1605bf75bded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d5hTIlJVC7CifAWqrCM5lg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">App.js</figcaption></figure><p id="84c8" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们的应用程序如下图所示。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/c173e2702adf0cb9b6b32b22c69bc986.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SH4kGGf_I0x7b1-_odImgQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">应用</figcaption></figure><p id="f054" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们将在应用程序中使用 pixabay 服务来获取图像。我们需要在 pixabay.com 创建和帐户，我们将获得一个 API 键，以获取图像。</p><p id="c73e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">之后去<a class="ae ki" href="https://pixabay.com/api/docs/" rel="noopener ugc nofollow" target="_blank">https://pixabay.com/api/docs/</a>向下滚动，你会找到你的 API 密匙。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/379445d2591c171f65237b186fa7bfb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5TUuMQvuuAL_0FuibBg4Cg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">API 键</figcaption></figure><p id="1b21" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">之后创建一个<strong class="iw hj">。env </strong>文件，并在其中添加一个变量<strong class="iw hj"> REACT_APP_PIXABAY_API </strong>。现在把你的 API 键加进去。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/57e6fa4dbea02334d378ea56739a2581.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7n92KOcpSlIh5eJEbVKUMQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">。包封/包围（动词 envelop 的简写）</figcaption></figure><p id="cf6f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">接下来，在<strong class="iw hj"> App.js </strong>文件中，我们将使用三个状态变量，还将使用 useEffect 进行 API 调用。</p><p id="a09c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们通过循环将数据传递给另一个组件<strong class="iw hj"> ImageCard </strong>。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kp"><img src="../Images/ac8acfa426c871d062dea5cd373d811c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IZcsqtBqUmtc7WPPc_jZ9Q.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">App.js</figcaption></figure><p id="fe75" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在<strong class="iw hj"> src </strong>文件夹内创建一个<strong class="iw hj">组件</strong>文件夹。在其中创建一个文件<strong class="iw hj"> ImageCard.js </strong>。</p><p id="2120" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，它将包含我们来自 App.js 的早期数据，但我们正在将硬编码的东西更新为我们从 API 获得的数据。</p><p id="dd5e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们从 API 中以逗号分隔值的形式获取标签，因此我们使用 split 将其更改为数组。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/a603972016a31a95db4e140b0ada6d76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eWoNzO9Fhk9Eg4tbSftrzA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">ImageCard.js</figcaption></figure><p id="9bd9" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们的图像很好地显示了来自 pixabay API 的数据。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/4090eb64598b21766f5c43c54cf4b436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fv4tLqcRulcVuH611fH_-w.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">Pixabay API</figcaption></figure><p id="fa4b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们想显示一个加载…文本，当图像是从 pixabay api 获取的。所以，在<strong class="iw hj"> App.js </strong>文件中我们使用三元运算符来做同样的事情。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/98b9607f9308f0acfe0175c6c77dd3cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nud9cIAmz1pGjI_gK2zEEw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">App.js</figcaption></figure><p id="79ad" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们将在应用程序中添加搜索逻辑。所以在<strong class="iw hj">组件</strong>文件夹中创建一个文件<strong class="iw hj"> ImageSearch.js </strong>。</p><p id="ae01" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，它是一个简单的搜索组件，有一个输入框和按钮。<strong class="iw hj"> onSubmit </strong>通过回调方法，将文本由 prop <strong class="iw hj"> searchText </strong>发回。</p><pre class="js jt ju jv fd jw jx jy jz aw ka bi"><span id="bb10" class="kb kc hi jx b fi kd ke l kf kg">import React, { useState } from 'react';</span><span id="c400" class="kb kc hi jx b fi ks ke l kf kg">const ImageSearch = ({ searchText }) =&gt; {<br/>    const [text, setText] = useState('');</span><span id="44b6" class="kb kc hi jx b fi ks ke l kf kg">const onSubmit = (e) =&gt; {<br/>        e.preventDefault();<br/>        searchText(text);<br/>    }</span><span id="4528" class="kb kc hi jx b fi ks ke l kf kg">return (<br/>        &lt;div className='max-w-sm rounded overflow-hidden my-10 mx-auto'&gt;<br/>            &lt;form onSubmit={onSubmit} className="w-full max-w-sm"&gt;<br/>                &lt;div className="flex items-center border-b-2 border-purple-500 py-2"&gt;<br/>                    &lt;input onChange={e =&gt; setText(e.target.value)} className="appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none" type="text" placeholder="Search Image..." /&gt;<br/>                    &lt;button className="flex-shrink-0 bg-purple-500 hover:bg-purple-700 border-purple-500 hover:border-purple-700 text-sm border-4 text-white py-1 px-2 rounded" type="submit"&gt;<br/>                        Search<br/>                    &lt;/button&gt;<br/>                &lt;/div&gt;<br/>            &lt;/form&gt;<br/>        &lt;/div&gt;<br/>    )<br/>}</span><span id="9d3f" class="kb kc hi jx b fi ks ke l kf kg">export default ImageSearch;</span></pre><p id="4a36" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，回到<strong class="iw hj"> App.js </strong>，我们将添加<strong class="iw hj"> ImageSearch </strong>组件和道具<strong class="iw hj"> searchText </strong>，将更新术语状态变量。当术语状态变量被更新时，<strong class="iw hj"> useEffect </strong>将再次运行并调用 API，以获取术语的新数据。</p><p id="d8e6" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">另外，请注意，如果没有找到搜索词，我们将显示<strong class="iw hj">没有找到图像</strong>文本。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kt"><img src="../Images/fb6fc0c01e0a350919b32cd3537fe23c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aWYcy0z8bVkEF6BXjSRjaA.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">App.js</figcaption></figure><p id="5ea2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这就完成了我们简单的带有 ReactJS 和 Tailwind CSS 的图库。你可以在<a class="ae ki" href="https://github.com/nabendu82/react-tailwind-gallery" rel="noopener ugc nofollow" target="_blank">这个</a> github repo 中找到相同的代码。</p><figure class="js jt ju jv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ku"><img src="../Images/e6028d6342b109010631d6cd34f869c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ewtuFfFE2d8Evu0PutE92Q.gif"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">完整应用程序</figcaption></figure></div></div>    
</body>
</html>