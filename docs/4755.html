<html>
<head>
<title>Natural Language Processing | Text Preprocessing | Spacy vs NLTK</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自然语言处理|文本预处理| Spacy vs NLTK</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/natural-language-processing-text-preprocessing-spacy-vs-nltk-b70b734f5560?source=collection_archive---------4-----------------------#2021-08-06">https://medium.com/nerd-for-tech/natural-language-processing-text-preprocessing-spacy-vs-nltk-b70b734f5560?source=collection_archive---------4-----------------------#2021-08-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/257d7e3948d5974d5e67fce29ab79604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GuHkPK8xR4XQuGjJ"/></div></div></figure><p id="a6fe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">自然语言处理是计算机科学和人工智能的一个领域，涉及计算机和人类(自然)语言之间的交互，特别是如何编写计算机程序来处理和分析大量自然语言数据。文本数据有一些基本的预处理步骤。</p><ol class=""><li id="050e" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">标记化</li><li id="7195" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">堵塞物</li><li id="ffb9" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">词汇化</li><li id="3e03" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">停止言语</li></ol><p id="0a2a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Spacy是什么？</p><p id="b1fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2015年推出的开源自然语言处理库。旨在通过最有效地实现常用算法来有效地处理NLP任务。对于许多NLP任务，Spacy只有一个实现的方法，选择当前可用的最有效的算法。这意味着你经常没有选择其他算法的选项。</p><p id="9330" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">什么是NLTK？</p><p id="8086" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">NLTK——自然语言工具包是2001年推出的一个非常流行的开源库。它也提供了许多功能，但包括效率较低的实现。</p><p id="3af0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">空间VS NLTK</p><p id="fbf6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于非常常见的NLP任务，Spacy比NLTK更快更有效，代价是用户不能选择算法实现。然而，Spacy并不包括一些应用程序的预创建模型，比如情感分析，这通常更容易使用NLTK来执行。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kc"><img src="../Images/7a421e7e5b281f81f3860a16728df4ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JjeNDiPvpRoqWXOxPb-UmA.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">NLTK与Spacy处理步骤</figcaption></figure><p id="dfe5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于各种操作，如标记化、标记、解析，Spacy比NLTK消耗更少的时间。</p><p id="4137" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">导入空间并创建一个如下所述的nlp对象。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kl"><img src="../Images/f18c1e811218c95b70e1cde323ba779b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I9UitZ33AOUhZ9L48IJnQQ.png"/></div></div></figure><p id="68c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当我们运行nlp时，我们的文本进入一个处理管道，该管道首先分解文本，然后执行一系列操作来标记、解析和描述数据。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es km"><img src="../Images/330fcb4f4bf178e5e8a3ff950c894d51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w4qkY84JfG5h2ChhR8SKnA.png"/></div></div></figure><p id="f55b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">标记化</strong>:</p><p id="3978" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">标记化是自然语言处理中的一项常见任务。标记是自然语言的组成部分。标记化是一种将一段文本分成称为标记的更小单元的方法。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/9896d0e9de833e360e082d0559b82bdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sibm12vBIZTjTDBp3I7yeQ.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">空间标记化步骤。</figcaption></figure><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ko"><img src="../Images/138c491265492ea6002804463e46d206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1JoerwfT-ytiqMSkjYRGXg.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">空间标记化</figcaption></figure><p id="0fa1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Spacy足够智能，当我们在nlp对象内部传递文本时，文本在管道中被处理，如上所述。第一个for循环表示文本标记化，列表理解解释句子标记化。</p><p id="b192" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">NLTK有各种各样的标记化算法。</p><p id="0fc3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Sent tokenizer返回句子标记。看看令牌的长度，它是一个表明只有一个句子令牌。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kp"><img src="../Images/fd7dddd0ac99fa7f63f0c2cd6268d6b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Do9Ug7CGc2TP3qNEHGFAgg.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">发送标记符</figcaption></figure><p id="35dc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">单词标记器返回单词标记。记号的数量是27，这表明句子中有27个单词记号。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kq"><img src="../Images/8bfba33da6304078355f724739d0a108.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SwAC5ZA5KHQaYOE4lvyyzw.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">单词分词器</figcaption></figure><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/fd18ce3390b279d30b02a788b4fbf5d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K5WdQ04kn8H_eVNGXukegA.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">Tok Tok记号赋予器</figcaption></figure><h2 id="d8d4" class="ks kt hi bd ku kv kw kx ky kz la lb lc jb ld le lf jf lg lh li jj lj lk ll lm bi translated"><strong class="ak">词干:</strong></h2><p id="4a3b" class="pw-post-body-paragraph iq ir hi is b it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn hb bi translated">词干法是对相关单词进行编目的一种有些粗糙的方法；它基本上是从字母的末端开始，直到到达词干。这在大多数情况下工作得相当好，但不幸的是，英语有许多需要更复杂过程的例外。事实上，spaCy没有包含词干分析器，而是选择完全依赖于词汇化。所以词干方法只在NLTK库中可用</p><p id="ef72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">搬运工斯特梅尔:</p><p id="c109" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最常见和最有效的词干工具之一是马丁·波特在1980年开发的波特算法。该算法采用了五个阶段的单词缩减，每个阶段都有自己的一组映射规则。</p><p id="4657" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在第一阶段，定义简单的后缀匹配规则，例如:</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/ca428f0d331f36630e8bf58cf11eb205.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*EzaepeAsQpa8SyEc1h9lSA.png"/></div></figure><p id="2230" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从一组给定的词干规则中，基于最长后缀S1，只应用一个规则。因此，“爱抚”就变成了“爱抚”，而不是“关心”。</p><p id="fd9a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更复杂的阶段在应用规则之前考虑单词的长度/复杂性。例如:</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/436558b4636e20c8facbf1f728c535c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*2cUR76NeWoPMiFsur0hQtw.png"/></div></figure><p id="91c2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里m&gt;0描述了词干的“度量”，因此该规则适用于除了最基本的词干之外的所有词干。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lu"><img src="../Images/92d50dc58d7f057b3f8c4fd8622e87ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XvyJgCXe-yygC-ImD3CqeA.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">波特·斯特梅尔</figcaption></figure><p id="1d01" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">雪球斯特梅尔:</strong></p><p id="337b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这有点用词不当，因为Snowball是由Martin Porter开发的词干语言的名字。这里使用的算法更准确地称为“英国斯特梅尔”或“斯特梅尔”。它在逻辑和速度上都比最初的Porter stemmer稍有改进。由于nltk使用名称SnowballStemmer，我们将在这里使用它。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/cd511ebbc8f455b6edf143c3a3d36eb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3v9kYviLlVMAsNHDR_mHOQ.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">雪球斯特梅尔</figcaption></figure><p id="5081" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">兰卡斯特斯特梅尔:<br/> </strong>兰卡斯特词干算法是你可以使用的另一种算法。这是最积极的词干算法。但是，如果您在NLTK中使用词干分析器，您可以非常容易地将您自己的定制规则添加到这个算法中</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/b043d975bc0222c57dd26904951d46bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ss9ko6DzO3L6RVJxhoSADw.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">兰卡斯特斯特梅尔</figcaption></figure><h2 id="692c" class="ks kt hi bd ku kv kw kx ky kz la lb lc jb ld le lf jf lg lh li jj lj lk ll lm bi translated">词汇化:</h2><p id="fc4a" class="pw-post-body-paragraph iq ir hi is b it ln iv iw ix lo iz ja jb lp jd je jf lq jh ji jj lr jl jm jn hb bi translated">与词干化相反，词汇化看起来不仅仅是减少单词，而是考虑一种语言的全部词汇来对单词进行词法分析。“was”的引理是“be”，“mice”的引理是“mouse”。此外,“meeting”的引理可能是“meet”或“meeting ”,这取决于它在句子中的用法。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/addd18977b3e395c78e751d09766e55d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gGq1jq5z6ChdextaYDu7RA.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">空间引理化</figcaption></figure><p id="58c6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">NLTK的lemmatizer需要一个位置参数，如果不给出位置标签，它会把这个单词当作名词，不执行lemmatizer。您可以在下面的代码片段中看到，在给出正确的位置标记后，词汇化的性能会更好。</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/2d59300f16380cf68e5e57e41760145f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mzVon1QDQz-ha35AzsCzKA.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">NLTK引理器</figcaption></figure><p id="3026" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">停字:</strong></p><p id="d244" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">像“a”和“the”这样的词出现得如此频繁，以至于它们不像名词、动词和修饰语那样需要彻底标记。我们称这些为停用词，它们可以从要处理的文本中筛选出来。spaCy拥有一个大约326个英语停用词的内置列表。</p><p id="082d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在空间中装入和添加停用词</p><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lx"><img src="../Images/377c0956d51dff8ab1c5df622521cd9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SMXswLmkLNCSimP1LajvhA.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">在空格中添加停用词</figcaption></figure><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/b52f9e0ae9969d23bf2cdd6080ba7e10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kJe9yZLRzAe30ivAgzy0qg.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">删除空格中的停用词</figcaption></figure><figure class="kd ke kf kg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/71c3a512b9ce459835141021cca2561e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B4CZfMMszz_jzWwQoDxqnA.png"/></div></div><figcaption class="kh ki et er es kj kk bd b be z dx translated">NLTK停止字</figcaption></figure><p id="0504" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这些是借助spaCy和NLTK库完成的基本文本处理的不同方式。Spacy以一种有效的方式执行大型任务。希望您对NLP任务的基本文本预处理步骤有所了解。</p><p id="52c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">点击这个github <a class="ae ma" href="https://github.com/Rishikumar04/Natural-Language-Processing/blob/main/03-Preprocessing%20Steps%20-%20spacy%20vs%20nltk.ipynb" rel="noopener ugc nofollow" target="_blank">链接</a>引用笔记本文件。</p></div></div>    
</body>
</html>