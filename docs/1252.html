<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/hi-guys-in-this-blog-we-are-going-to-learn-how-to-run-gui-like-running-gedit-editor-firefox-1607396b4e60?source=collection_archive---------7-----------------------#2021-03-11">https://medium.com/nerd-for-tech/hi-guys-in-this-blog-we-are-going-to-learn-how-to-run-gui-like-running-gedit-editor-firefox-1607396b4e60?source=collection_archive---------7-----------------------#2021-03-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/d073992e6b54a79bb438ed43fadb7513.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yM4S0nFfSFmFMJEOlnLybg.jpeg"/></div></div></figure><p id="31ba" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">嗨，在这个博客中，我们将学习如何在Docker容器上运行<strong class="hu iq"> GUI </strong>，就像<strong class="hu iq">运行GEDIT(编辑器)、Firefox、Jupyter </strong>一样。在这里，我们创建自己的形象，运行<strong class="hu iq"> GEDIT(编辑器)、Firefox、Jupyter。</strong></p><h1 id="086b" class="ir is ht bd it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo bi translated"><strong class="ak">DOCKER上的GUI容器</strong></h1><blockquote class="jp"><p id="43f3" class="jq jr ht bd js jt ju jv jw jx jy ip dx translated">如果您想开发一个可以在任何环境、笔记本电脑或公共云实例中统一运行和工作的应用程序，Docker是您可以使用的最佳工具。</p></blockquote><h2 id="e44b" class="jz is ht bd it ka kb kc ix kd ke kf jb id kg kh jf ih ki kj jj il kk kl jn km bi translated">码头工人的好处</h2><ul class=""><li id="801a" class="kn ko ht hu b hv kp hz kq id kr ih ks il kt ip ku kv kw kx bi translated">测试、回滚和部署。</li><li id="ba90" class="kn ko ht hu b hv ky hz kz id la ih lb il lc ip ku kv kw kx bi translated">灵活性。</li><li id="db7a" class="kn ko ht hu b hv ky hz kz id la ih lb il lc ip ku kv kw kx bi translated">协作、模块化和扩展。还有更多</li></ul><p id="41b2" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">在研究了Docker GUI之后，我得出的结论是<strong class="hu iq">很少使用Docker容器来实现GUI目的。</strong></p><p id="d50e" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">但是如果我们需要在docker上运行GUI，那么我们需要理解一些基本的东西。</p><p id="7bc1" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">如果我们想在容器上运行UI应用程序。然后，我们需要将我们的容器连接到baseOS的<strong class="hu iq">显示，</strong>因为容器是最小的，可以更有效地删除和管理。</p><p id="b3cf" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">我们必须明白有两种类型的应用程序</p><ol class=""><li id="af5d" class="kn ko ht hu b hv hw hz ia id ld ih le il lf ip lg kv kw kx bi translated">设计为在<strong class="hu iq">后台运行的应用程序。(例如:网络服务器)</strong></li><li id="b138" class="kn ko ht hu b hv ky hz kz id la ih lb il lc ip lg kv kw kx bi translated">该应用程序设计为在<strong class="hu iq">前台运行。(用于ex: Chrome) </strong></li></ol><p id="f19f" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">前台应用总是运行在前台总是需要<strong class="hu iq"> XServer。</strong></p><p id="46e5" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">在此之前，让我们先了解一些事情</p><h2 id="4ac9" class="jz is ht bd it ka lh kc ix kd li kf jb id lj kh jf ih lk kj jj il ll kl jn km bi translated"><strong class="ak">x server是什么？</strong></h2><p id="3930" class="pw-post-body-paragraph hr hs ht hu b hv kp hx hy hz kq ib ic id lm if ig ih ln ij ik il lo in io ip hb bi translated">X服务器很可能指的是X11窗口系统，这是大多数Unix风格(包括Linux)使用的GUI。这是一个客户端/服务器设置</p><p id="1e12" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">x是Unix/Linux的GUI协议。X服务器接受连接并显示它们的窗口。客户实际上是程序本身。这些客户端可以是本地的，也可以是远程的，这对X来说并不重要。X只是根据请求在本地屏幕上或通过TCP连接显示它们。这是比终端服务器更低级的东西，允许图形程序在一台机器上运行，在另一台机器上显示。</p><p id="abed" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">我们将用于Docker容器的同一个XServer。</p><p id="7a67" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">为此，我们需要在启动带有选项的容器时运行命令，以便与容器共享我们的<strong class="hu iq">主机的XServer，我们需要创建一个<strong class="hu iq">卷</strong>，然后<strong class="hu iq">共享，</strong>给出一个环境(env)变量<strong class="hu iq">显示</strong>需要提到我们在这里连接的位置，我们使用的是<strong class="hu iq">主机。</strong></strong></p><p id="7497" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">为了与容器共享我们的<strong class="hu iq">主机的XServer，我们需要创建一个<strong class="hu iq">卷</strong>，然后<strong class="hu iq">共享</strong></strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="64db" class="jz is ht lu b fi ly lz l ma mb">--volume=”$HOME/.Xauthority:/root/.Xauthority:rw”</span></pre><p id="57fa" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">环境变量</p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="25d1" class="jz is ht lu b fi ly lz l ma mb">--env=”DISPLAY”</span></pre><p id="6e32" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">从基本操作系统共享，所以我<strong class="hu iq">需要一个网络，即主机</strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="29e6" class="jz is ht lu b fi ly lz l ma mb">--net="host"</span></pre><p id="8a93" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">在这里，我们将在容器上运行gedit、firefox和jupyter。</p><p id="3801" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">创造一个形象总是好的做法。但在此之前，让我一步一步地向您展示手动配置，然后稍后我们可以创建一个<strong class="hu iq"> DOCKERFILE </strong></p><h2 id="a6a5" class="jz is ht bd it ka lh kc ix kd li kf jb id lj kh jf ih lk kj jj il ll kl jn km bi translated">带有centos图像的发射容器</h2><p id="c654" class="pw-post-body-paragraph hr hs ht hu b hv kp hx hy hz kq ib ic id lm if ig ih ln ij ik il lo in io ip hb bi translated">我已经创建了一个Docker镜像，这个镜像就是我用来启动容器的镜像，你可以参考它来创建你自己的<a class="ae mc" href="https://vinodhakumara2681997.medium.com/create-our-own-docker-image-b1c3b0164d6d" rel="noopener"> docker镜像</a>在这个镜像中，我已经配置了一些东西，并且安装了GEDIT、FIREFOX和JUPYTER。</p><p id="1fb0" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">使用任何Linux centos镜像版本从下面的命令启动Docker容器</strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="1c15" class="jz is ht lu b fi ly lz l ma mb">docker run --rm -it --net=host --env=DISPLAY --volume=$HOME/.Xauthority:/root/.Xauthority centos:latest</span></pre><p id="eca1" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">安装包Gedit、Firefox和Jupyter </strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="879c" class="jz is ht lu b fi ly lz l ma mb">yum install gedit firefox -y</span></pre><p id="a4c0" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">要安装Jupyter，需要安装依赖Python36，它安装Python和pip3，然后使用PIP3安装Jupyter</strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="980f" class="jz is ht lu b fi ly lz l ma mb">yum install python36 -y<br/>pip3 install jupyter</span></pre><p id="13d9" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">现在让我们运行GUI应用程序</strong></p><p id="64b5" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">通过运行以下命令，我们可以看到GUI窗口</p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="f321" class="jz is ht lu b fi ly lz l ma mb">&gt;&gt; gedit<br/>&gt;&gt; firefox<br/>&gt;&gt; jupyter notebook --allow-root</span></pre><p id="b8af" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">我通过使用启动centos容器开始了我的实践，并一步一步地解释，正如我们在开始时讨论的，使用docker file<strong class="hu iq">创建图像是非常好的实践。</strong></p><blockquote class="jp"><p id="0e5b" class="jq jr ht bd js jt ju jv jw jx jy ip dx translated">在这里，我们将编写docker文件和构建映像(<strong class="ak"> BUILD </strong>)，然后推送到<strong class="ak"> docker hub(SHIP) </strong>然后使用该映像启动容器<strong class="ak"> (RUN) </strong></p></blockquote><p id="cf6e" class="pw-post-body-paragraph hr hs ht hu b hv md hx hy hz me ib ic id mf if ig ih mg ij ik il mh in io ip hb bi translated"><strong class="hu iq">创建工作区(目录)</strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="407a" class="jz is ht lu b fi ly lz l ma mb">&gt;&gt; mkdir workspace </span></pre><p id="4a8a" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">在工作区内创建一个Dockerfile文件</strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="374e" class="jz is ht lu b fi ly lz l ma mb">&gt;&gt; vim Dockerfile</span></pre><p id="b653" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">在<strong class="hu iq"> Dockerfile里面写这个代码</strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="c6af" class="jz is ht lu b fi ly lz l ma mb"><em class="mi">&gt;&gt;vim Dockerfile</em></span><span id="52c3" class="jz is ht lu b fi mj lz l ma mb"><em class="mi">FROM centos:lates<br/>RUN yum install firefox gedit python36 -y</em>RUN <br/>pip3 -q install pip --upgrade<br/><em class="mi">pip3 install jupyter<br/>CMD ["/usr/bin/gedit"]<br/>CMD [“/usr/bin/firefox”]</em></span></pre><p id="7a13" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">现在让我们使用<em class="mi"> build </em>命令构建一个镜像，确保你在当前目录下</strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="6280" class="jz is ht lu b fi ly lz l ma mb">&gt;&gt;docker build -t vinod2681997/container-gui:v1 .</span></pre><p id="0d0f" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">显示图像</strong></p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mk"><img src="../Images/afe433af6e7ff0ec97dbb6893fd58132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cIfcdiMBwPEK0yaRc21ZtA.png"/></div></div></figure><p id="a6ca" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">通过</strong> <a class="ae mc" href="https://hub.docker.com/repository/docker/vinod2681997/container-gui" rel="noopener ugc nofollow" target="_blank"> <strong class="hu iq">镜像</strong> </a>启动新的具有GUI名称的容器</p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es ml"><img src="../Images/d61bcc9aac8ff20d3aee493c98752b7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*20OeSWJWQMp2NYVf5spAWg.png"/></div></div></figure><p id="f0f9" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">将图像推送到Docker Hub </strong></p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="38c5" class="jz is ht lu b fi ly lz l ma mb">&gt;&gt; docker build -t userName/imageName:version containerName</span></pre><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mm"><img src="../Images/ded4c868954b8d74183cbb8b050c0252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BnfX5m3yK_qjB9rab2xMqw.png"/></div></div></figure><p id="9a67" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated"><strong class="hu iq">你可以看到我的图片被成功推送到dockerHub </strong></p><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mn"><img src="../Images/c1f5a3d7371f624f389029416e8de41a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zaQwa1Je3WeEJMM9jXGVrw.png"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">Dockerhub</figcaption></figure><blockquote class="jp"><p id="b4b9" class="jq jr ht bd js jt ms mt mu mv mw ip dx translated">从<a class="ae mc" href="https://hub.docker.com/repository/docker/vinod2681997/container-gui" rel="noopener ugc nofollow" target="_blank"> dockerHub </a>获取我的图像</p><p id="47b7" class="jq jr ht bd js jt ju jv jw jx jy ip dx translated">点击<a class="ae mc" href="https://hub.docker.com/repository/docker/vinod2681997/container-gui" rel="noopener ugc nofollow" target="_blank">此处</a>获取图像</p></blockquote><p id="a97e" class="pw-post-body-paragraph hr hs ht hu b hv md hx hy hz me ib ic id mf if ig ih mg ij ik il mh in io ip hb bi translated"><strong class="hu iq">运行Gedit、firefox和jupyter命令</strong></p><p id="dc29" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">运行火狐浏览器</p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="76c0" class="jz is ht lu b fi ly lz l ma mb">&gt;&gt;firefox</span></pre><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mn"><img src="../Images/66f6822bc4f2c2c6a3efde035d9f132b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wDdjR-1IiOmxxLkgaUjIKw.png"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">容器上的firefox</figcaption></figure><p id="5001" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">运行Gedit</p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="49a6" class="jz is ht lu b fi ly lz l ma mb">&gt;&gt; gedit</span></pre><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mn"><img src="../Images/a73cff8e914e4d3abc5479be954dcd91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h1a0lgTPKGMZavKHsSo7-Q.png"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">容器上的gedit</figcaption></figure><p id="d21a" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">跑步笔记本</p><pre class="lp lq lr ls fd lt lu lv lw aw lx bi"><span id="29d5" class="jz is ht lu b fi ly lz l ma mb">&gt;&gt; jupyter notebook --allow-root</span></pre><figure class="lp lq lr ls fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mn"><img src="../Images/9436022703608e5cee4cd4295196a3f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9mXVr5I7eEWouNWvjksfwg.png"/></div></div><figcaption class="mo mp et er es mq mr bd b be z dx translated">集装箱上的Jupyter</figcaption></figure><p id="73fe" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">如果有人需要图片，你可以从<a class="ae mc" href="https://hub.docker.com/repository/docker/vinod2681997/container-gui" rel="noopener ugc nofollow" target="_blank">这里</a>获取</p><p id="7151" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">感谢阅读！！</p><blockquote class="mx my mz"><p id="3a0d" class="hr hs mi hu b hv hw hx hy hz ia ib ic na ie if ig nb ii ij ik nc im in io ip hb bi translated"><em class="ht">如果你觉得这篇文章很有帮助，请</em> <strong class="hu iq"> <em class="ht">别忘了</em> </strong> <em class="ht">点击</em> <strong class="hu iq"> <em class="ht">跟随</em> </strong> <em class="ht">和</em> <strong class="hu iq"> <em class="ht">拍拍</em> </strong> <em class="ht">按钮，帮我写更多这样的文章。<br/> </em> <strong class="hu iq"> <em class="ht">谢谢🖤 </em> </strong></p></blockquote><p id="b436" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">继续学习！！继续分享！！</p><p id="b82c" class="pw-post-body-paragraph hr hs ht hu b hv hw hx hy hz ia ib ic id ie if ig ih ii ij ik il im in io ip hb bi translated">你可以通过以下方式联系我😅:<a class="ae mc" href="https://www.linkedin.com/in/vinodha-kumara-8a00bb1a8/" rel="noopener ugc nofollow" target="_blank"><em class="mi">LinkedIn</em></a><em class="mi"/><a class="ae mc" href="mailto:vinodhakumara2681997@gmail.com" rel="noopener ugc nofollow" target="_blank">emailme</a></p></div></div>    
</body>
</html>