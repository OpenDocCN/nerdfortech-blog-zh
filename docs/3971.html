<html>
<head>
<title>Using React.cloneElement() to Assess Validity of an Input Field.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 React.cloneElement()评估输入字段的有效性。</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-react-cloneelement-to-assess-validity-of-an-input-field-da11bf6c10a2?source=collection_archive---------12-----------------------#2021-07-01">https://medium.com/nerd-for-tech/using-react-cloneelement-to-assess-validity-of-an-input-field-da11bf6c10a2?source=collection_archive---------12-----------------------#2021-07-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d9f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">React 有一组顶级 API，可以用来在某些场景下编写更干净的代码。</p><blockquote class="jd je jf"><p id="209d" class="if ig jg ih b ii ij ik il im in io ip jh ir is it ji iv iw ix jj iz ja jb jc hb bi translated">但是在你使用它们之前，你需要让所有和你一起工作的人达成共识。写一个干净的代码意味着它能被其他人容易地阅读和理解。</p></blockquote><h2 id="00ad" class="jk jl hi bd jm jn jo jp jq jr js jt ju iq jv jw jx iu jy jz ka iy kb kc kd ke bi translated">解释实施:</h2><p id="acf3" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">您可以从<code class="du kl km kn ko b">React.cloneElement</code>上的<a class="ae kk" href="https://reactjs.org/docs/react-api.html#cloneelement" rel="noopener ugc nofollow" target="_blank">文档</a>中了解更多信息。在本文中，我使用了<code class="du kl km kn ko b">React.cloneElement</code>来访问子元素的<code class="du kl km kn ko b">pattern</code>和<code class="du kl km kn ko b">onChange</code> <code class="du kl km kn ko b">prop</code>来评估值是否有效。如果该值无效，则输入字段旁边会显示一个错误。</p><h1 id="1f11" class="kp jl hi bd jm kq kr ks jq kt ku kv ju kw kx ky jx kz la lb ka lc ld le kd lf bi translated">履行</h1><p id="2b0b" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">我们使用传递给子组件的 props，并将功能附加到它的回调中，以检查值是否有效，即传递传递给子/输入组件的 regex 模式。</p><h2 id="d15d" class="jk jl hi bd jm jn jo jp jq jr js jt ju iq jv jw jx iu jy jz ka iy kb kc kd ke bi translated">沙盒:</h2><p id="7709" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">以下是沙盒的链接:<a class="ae kk" href="https://codesandbox.io/s/github/arbaz52/react-clone-element-assess-field-validity" rel="noopener ugc nofollow" target="_blank">https://code sandbox . io/s/github/arbaz 52/react-clone-element-assesse-field-validity</a></p><figure class="lh li lj lk fd ll er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es lg"><img src="../Images/6c8a8dab938efdf0bfaa25f924c7ba21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVAUIkzBuXMmxEYXnyeikw.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated"><a class="ae kk" href="https://codesandbox.io/s/github/arbaz52/react-clone-element-assess-field-validity?file=/src/App.tsx" rel="noopener ugc nofollow" target="_blank"> App </a>组件</figcaption></figure><figure class="lh li lj lk fd ll er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es lw"><img src="../Images/2644d49c65f0d54a505bc8b43bd91bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bEIkgqFWFKHse2d-_JJmQA.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">效用<a class="ae kk" href="https://codesandbox.io/s/github/arbaz52/react-clone-element-assess-field-validity?file=/src/utility.ts" rel="noopener ugc nofollow" target="_blank">功能</a></figcaption></figure><figure class="lh li lj lk fd ll er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es lx"><img src="../Images/558a1ee15465897776406fc5882ceaf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6FQzSrlriiSwqYqro6sopA.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated"><a class="ae kk" href="https://codesandbox.io/s/github/arbaz52/react-clone-element-assess-field-validity?file=/src/types.ts" rel="noopener ugc nofollow" target="_blank"> Props </a>需要<a class="ae kk" href="https://codesandbox.io/s/github/arbaz52/react-clone-element-assess-field-validity?file=/src/ValidityInformer.tsx" rel="noopener ugc nofollow" target="_blank"> ValidityInformer </a>组件</figcaption></figure><h2 id="c6ea" class="jk jl hi bd jm jn jo jp jq jr js jt ju iq jv jw jx iu jy jz ka iy kb kc kd ke bi translated">有效性通知组件</h2><p id="bc66" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">实现要求组件是一个<code class="du kl km kn ko b">HTMLInputElement</code>，但是你可以随意选择。</p><figure class="lh li lj lk fd ll er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es ly"><img src="../Images/ce50f05d387c4cbe95e6d4fb638f2e27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JDd19-Aa0-nwytAYX_bE1g.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated"><a class="ae kk" href="https://codesandbox.io/s/github/arbaz52/react-clone-element-assess-field-validity?file=/src/ValidityInformer.tsx" rel="noopener ugc nofollow" target="_blank"> ValidityInformer </a>组件</figcaption></figure><figure class="lh li lj lk fd ll er es paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="er es lz"><img src="../Images/cfbc7a6dc4d3db17e0a901029e8497b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uXLIi3l6-9vE6JuK6WHO5Q.png"/></div></div><figcaption class="ls lt et er es lu lv bd b be z dx translated"><a class="ae kk" href="https://codesandbox.io/s/github/arbaz52/react-clone-element-assess-field-validity?file=/src/styles.css" rel="noopener ugc nofollow" target="_blank">款式</a></figcaption></figure><h2 id="00b3" class="jk jl hi bd jm jn jo jp jq jr js jt ju iq jv jw jx iu jy jz ka iy kb kc kd ke bi translated">现场演示:</h2><figure class="lh li lj lk fd ll"><div class="bz dy l di"><div class="ma mb l"/></div></figure></div></div>    
</body>
</html>