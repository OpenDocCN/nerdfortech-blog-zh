<html>
<head>
<title>Android Material TabLayout using Fragments | Badges in TabLayout | Android Studio | Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用片段的Android材料tablayut | tablayut中的徽章| Android Studio | Java</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/android-material-tablayout-using-fragments-badges-in-tablayout-android-studio-java-c98cccc4f19a?source=collection_archive---------1-----------------------#2021-03-08">https://medium.com/nerd-for-tech/android-material-tablayout-using-fragments-badges-in-tablayout-android-studio-java-c98cccc4f19a?source=collection_archive---------1-----------------------#2021-03-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/9e17ff50374c8eaafa10287862ff9f2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VdO7cufMpLOCBo-Z.jpg"/></div></div></figure><p id="4168" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">Android Material tablayut使用片段| tablayut中的徽章| Android Studio | Java </strong></p><p id="3c57" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本教程中，我们将使用片段创建一个材质选项卡布局。在这里，我们将看到如何将<strong class="is hj">徽章</strong>添加到选项卡布局中。</p><p id="0114" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你也可以访问之前的教程，学习如何在android中创建简单的标签页布局。<a class="ae jo" href="https://www.gbandroidblogs.com/2021/03/how-to-create-tab-layout-using-fragments-in-android.html" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">点击这里</strong> </a>。</p><h1 id="1749" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">现在，让我们看看您将在本教程中看到的内容:</h1><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="kr ks l"/></div></figure><h1 id="ce29" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">让我们创造它</h1><h1 id="7449" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">步骤1:添加依赖项</h1><p id="1833" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">在<strong class="is hj"> build.gradle </strong> app文件中添加google material依赖项。</p><pre class="kn ko kp kq fd ky kz la lb aw lc bi"><span id="3c2f" class="ld jq hi kz b fi le lf l lg lh">implementation 'com.google.android.material:material:1.3.0'</span></pre><h1 id="951f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">步骤2:设计主布局</h1><pre class="kn ko kp kq fd ky kz la lb aw lc bi"><span id="d013" class="ld jq hi kz b fi le lf l lg lh">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"<br/>    xmlns:app="http://schemas.android.com/apk/res-auto"<br/>    xmlns:tools="http://schemas.android.com/tools"<br/>    android:layout_width="match_parent"<br/>    android:layout_height="match_parent"<br/>    tools:context=".RippleTabLayout"&gt;<br/></span><span id="bf63" class="ld jq hi kz b fi li lf l lg lh">    &lt;com.google.android.material.appbar.AppBarLayout<br/>        android:layout_width="match_parent"<br/>        android:layout_height="wrap_content"<br/>        android:layout_marginTop="28dp"&gt;</span><span id="df46" class="ld jq hi kz b fi li lf l lg lh">        &lt;androidx.appcompat.widget.Toolbar<br/>            android:id="@+id/toolbar"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"<br/>            android:background="@color/white"<br/>            android:minHeight="?attr/actionBarSize"/&gt;</span><span id="49e1" class="ld jq hi kz b fi li lf l lg lh">        &lt;com.google.android.material.tabs.TabLayout<br/>            android:id="@+id/tab_layout"<br/>            android:layout_width="match_parent"<br/>            android:layout_height="wrap_content"/&gt;<br/>    &lt;/com.google.android.material.appbar.AppBarLayout&gt;</span><span id="ce40" class="ld jq hi kz b fi li lf l lg lh">    &lt;androidx.viewpager.widget.ViewPager<br/>        android:id="@+id/view_pager"<br/>        android:layout_width="match_parent"<br/>        android:layout_height="wrap_content"<br/>        app:layout_behavior="com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior" /&gt;<br/>&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;</span></pre><h1 id="6a72" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">步骤3:添加片段</h1><p id="0d95" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">这里我用了三个片段，正如你在上面的视频中看到的。因此，转到包并创建三个空白片段。(包/新/空白片段)。</p><p id="d552" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第一个片段:</strong>安卓</p><p id="2075" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第二个片段:</strong> Google Play</p><p id="eae7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">第三个片段:</strong>最爱</p><h1 id="e2ed" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">步骤4:添加功能</h1><pre class="kn ko kp kq fd ky kz la lb aw lc bi"><span id="da27" class="ld jq hi kz b fi le lf l lg lh">package com.codewithgolap.tablayout;</span><span id="0468" class="ld jq hi kz b fi li lf l lg lh">import androidx.annotation.NonNull;<br/>import androidx.annotation.Nullable;<br/>import androidx.appcompat.app.AppCompatActivity;<br/>import androidx.appcompat.widget.Toolbar;<br/>import androidx.fragment.app.Fragment;<br/>import androidx.fragment.app.FragmentManager;<br/>import androidx.fragment.app.FragmentPagerAdapter;<br/>import androidx.viewpager.widget.ViewPager;</span><span id="6ba8" class="ld jq hi kz b fi li lf l lg lh">import android.os.Bundle;</span><span id="66c1" class="ld jq hi kz b fi li lf l lg lh">import com.codewithgolap.tablayout.Fragments.ChatsFragment;<br/>import com.codewithgolap.tablayout.Fragments.HomeFragment;<br/>import com.codewithgolap.tablayout.Fragments.SettingsFragment;<br/>import com.google.android.material.badge.BadgeDrawable;<br/>import com.google.android.material.tabs.TabLayout;</span><span id="7f56" class="ld jq hi kz b fi li lf l lg lh">import java.util.ArrayList;<br/>import java.util.List;</span><span id="c264" class="ld jq hi kz b fi li lf l lg lh">public class RippleTabLayout extends AppCompatActivity {</span><span id="253b" class="ld jq hi kz b fi li lf l lg lh">    private Toolbar toolbar;<br/>    private ViewPager viewPager;<br/>    private TabLayout tabLayout;</span><span id="f09a" class="ld jq hi kz b fi li lf l lg lh">    private HomeFragment homeFragment;<br/>    private SettingsFragment settingsFragment;<br/>    private ChatsFragment chatsFragment;</span><span id="733a" class="ld jq hi kz b fi li lf l lg lh">    @Override<br/>    protected void onCreate(Bundle savedInstanceState) {<br/>        super.onCreate(savedInstanceState);<br/>        setContentView(R.layout.<em class="lj">activity_ripple_tab_layout</em>);</span><span id="f82e" class="ld jq hi kz b fi li lf l lg lh">        toolbar = findViewById(R.id.<em class="lj">toolbar</em>);<br/>        setSupportActionBar(toolbar);</span><span id="ccb6" class="ld jq hi kz b fi li lf l lg lh">        viewPager = findViewById(R.id.<em class="lj">view_pager</em>);<br/>        tabLayout = findViewById(R.id.<em class="lj">tab_layout</em>);</span><span id="cd49" class="ld jq hi kz b fi li lf l lg lh">        homeFragment = new HomeFragment();<br/>        settingsFragment = new SettingsFragment();<br/>        chatsFragment = new ChatsFragment();</span><span id="3a35" class="ld jq hi kz b fi li lf l lg lh">        tabLayout.setupWithViewPager(viewPager);<br/></span><span id="ce07" class="ld jq hi kz b fi li lf l lg lh">        //create viewpager adapter<br/>        //here we will create inner class for adapter<br/>        ViewPagerAdapter viewPagerAdapter = new ViewPagerAdapter(getSupportFragmentManager(), 0);</span><span id="1419" class="ld jq hi kz b fi li lf l lg lh">        //add fragments and set the adapter<br/>        viewPagerAdapter.addFragment(homeFragment,"");<br/>        viewPagerAdapter.addFragment(settingsFragment,"");<br/>        viewPagerAdapter.addFragment(chatsFragment,"");<br/>        viewPager.setAdapter(viewPagerAdapter);</span><span id="eddf" class="ld jq hi kz b fi li lf l lg lh">        //set the icons<br/>        tabLayout.getTabAt(0).setIcon(R.drawable.<em class="lj">android</em>);<br/>        tabLayout.getTabAt(1).setIcon(R.drawable.<em class="lj">google_play</em>);<br/>        tabLayout.getTabAt(2).setIcon(R.drawable.<em class="lj">heart</em>);</span><span id="021a" class="ld jq hi kz b fi li lf l lg lh">        //set the badge<br/>        BadgeDrawable badgeDrawable = tabLayout.getTabAt(0).getOrCreateBadge();<br/>        badgeDrawable.setVisible(true);<br/>        badgeDrawable.setNumber(5);<br/>    }</span><span id="ba5c" class="ld jq hi kz b fi li lf l lg lh">    private class ViewPagerAdapter extends FragmentPagerAdapter {</span><span id="a32f" class="ld jq hi kz b fi li lf l lg lh">        private List&lt;Fragment&gt; fragments = new ArrayList&lt;&gt;();<br/>        private List&lt;String&gt; fragmentTitles = new ArrayList&lt;&gt;();<br/></span><span id="0c37" class="ld jq hi kz b fi li lf l lg lh">        public ViewPagerAdapter(@NonNull FragmentManager fm, int behavior) {<br/>            super(fm, behavior);<br/>        }</span><span id="fd38" class="ld jq hi kz b fi li lf l lg lh">        //add fragment to the viewpager<br/>        public void addFragment(Fragment fragment, String title){<br/>            fragments.add(fragment);<br/>            fragmentTitles.add(title);<br/>        }</span><span id="7c0a" class="ld jq hi kz b fi li lf l lg lh">        @NonNull<br/>        @Override<br/>        public Fragment getItem(int position) {<br/>            return fragments.get(position);<br/>        }</span><span id="fc2e" class="ld jq hi kz b fi li lf l lg lh">        @Override<br/>        public int getCount() {<br/>            return fragments.size();<br/>        }</span><span id="614a" class="ld jq hi kz b fi li lf l lg lh">        //to setup title of the tab layout<br/>        @Nullable<br/>        @Override<br/>        public CharSequence getPageTitle(int position) {<br/>            return fragmentTitles.get(position);<br/>        }<br/>    }<br/>}</span></pre><p id="816e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，我们不是创建一个额外的适配器java类，而是为适配器创建一个内部类。</p><h1 id="af09" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">输出:</h1><figure class="kn ko kp kq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lk"><img src="../Images/bb3584a70cd7238ab58648829194cfd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fw25EQxhPnUWnySz.gif"/></div></div></figure><h1 id="d1f0" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">你可以在YouTube上关注我:</h1><p id="81a3" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated"><a class="ae jo" href="https://www.youtube.com/channel/UCqHYLy2nzO0pONL5BueoT6Q" rel="noopener ugc nofollow" target="_blank"> Golap酒保</a></p><h1 id="a777" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">另外，请访问我的网站/博客:</h1><p id="8ab8" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated"><a class="ae jo" href="https://www.gbandroidblogs.com/" rel="noopener ugc nofollow" target="_blank">www.gbandroidblogs.com</a></p><h1 id="6ed4" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">在Instagram上关注我</h1><p id="8f0e" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">安卓应用开发者</p><h1 id="f2ff" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">跟着我去脸书</h1><p id="579c" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">GBAndroidBlogs </p></div></div>    
</body>
</html>