# 关于加密哈希函数的一切

> 原文：<https://medium.com/nerd-for-tech/everything-about-cryptographic-hash-functions-e2cd892e2a87?source=collection_archive---------14----------------------->

加密哈希函数接受任意(任意长度)的输入，并生成固定大小的输出，称为哈希或摘要。几个例子是 MD4(128 位输出)、MD5(128 位)、SHA-1(160 位)、SHA-256(256 位)和 SHA-512(512 位)。

每个加密哈希函数都有一些特征，并且应该遵守一些属性

1.  **确定性**:给定的输入必须总是生成相同的散列。
2.  **雪崩效应**:输入的任何变化都会导致输出的巨大变化。
3.  **看起来随机**:这意味着输出应该“看起来随机”，而不是输入不可预测。真正的随机性很难实现，因此它是伪随机的，换句话说，应该看起来是随机的。
4.  **抗冲突**:冲突会降低哈希函数的安全性。因此，理想情况下不应该有任何冲突。但是在现实中，由于输入的范围是无限的，而输出的范围是固定的，冲突是必然会发生的。所以，散列函数应该是这样的，找到冲突的机会非常非常小。
5.  **前像阻力**:应该不可能有人从哈希值中找到原始输入。
6.  c:散列函数是公共的。但是，有人几乎不可能通过反转从散列中找到输入，因为该算法使用非线性和线性运算的组合，输出的每一位都依赖于输入的每一位。这会导致大量的组合，并且不可能正确地确定正确的值。

## 抗碰撞和散列碰撞攻击

理论上，没有一个哈希函数是抗冲突的。例如，SHA-256 产生一个 256 位的散列。因此，对于无限数量的输入，有 2 个⁵⁶可能的输出。所以，根据鸽子洞原理，一些不同的输入肯定会散列到相同的值。

根据生日悖论，如果散列函数产生“n”位输出，那么对随机输入进行 2^(n/2 运算的攻击者将可能发现冲突。MDA-4(128)和 MDA-5(128)尝试用于 2⁶⁴安全。但是它们被打碎了。SHA-1(160)试图为 2⁸⁰安全，但被证明并不比 2⁶安全。

由于哈希冲突攻击，冲突是一种威胁。它试图找到产生相同散列的两个输入字符串。例如，如果服务器列出了一个文件及其哈希。如果攻击者能够设法找到一个冲突，该冲突使用不同的输入给出相同的散列，那么攻击者将欺骗用户相信他们拥有原始文件，因为散列值匹配，但是他可以用恶意文件替换原始文件。这样，安全性会受到损害，因此很难发现哈希函数的冲突。

## 哈希 v/s 加密

哈希和加密是不一样的。加密是用一个密钥将一条消息转换成无法破译的东西，然后用相同或不同的密钥解密成原始消息。在哈希中，一旦对输入进行哈希处理，就不可能将其恢复到原始值。

## 密码散列函数的应用

1.  密码存储
2.  数字签名
3.  代码签名证书
4.  电子邮件签名证书
5.  SSL/TLS 证书

## 示例:

假设一个人正在向 Raj 发送他的银行账户信息，要求他支付一定的金额。Anand 将他的数字签名应用到文档中，并对其进行哈希处理，然后将其发送给 Raj。在此期间，攻击者修改银行帐户的详细信息，意图实施欺诈。现在，当 Raj 收到文档并验证哈希值时，他发现哈希值不匹配，并推断文档已被修改。因此，通过使用散列函数，避免了潜在的金融欺诈。

## 安全存储密码的问题:

密码不直接存储在数据库中，而是存储它们的散列值，这样即使在受到攻击的情况下，黑客也无法知道原始密码。但是密码散列法有它自己的问题。大多数密码都在一定的长度范围内，所以如果一个人使用一个小长度的密码，黑客就可以用暴力破解。因此，建议确保密码很长。

对于短密码的情况，在散列之前，随机字符串被添加到密码中，因此长度增加。这就是所谓的“盐渍”。还有一个问题是，许多用户可能有相同的密码，知道其中一个用户的散列值就会知道所有用户的密码。Salting 也解决了这个问题，因为它将随机文本添加到密码中，因此它们不再有共同的密码。

## 参考

1.  [https://OCW . MIT . edu/courses/electrical-engineering-and-computer-science/6-046j-design-and-analysis-of-algorithms-spring-2015/LEC 21 . pdf](https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-design-and-analysis-of-algorithms-spring-2015/lecture-notes/MIT6_046JS15_lec21.pdf)
2.  [https://www . thesslsstore . com/blog/what-is-a-hash-function-in-cryptography-a-初学者指南/](https://www.thesslstore.com/blog/what-is-a-hash-function-in-cryptography-a-beginners-guide/)
3.  [https://sectigo store . com/blog/hash-function-in-cryptography-how-it-work/](https://sectigostore.com/blog/hash-function-in-cryptography-how-does-it-work/)