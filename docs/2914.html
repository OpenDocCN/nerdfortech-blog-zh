<html>
<head>
<title>LeetCode Sqrt(x)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LeetCode Sqrt(x)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/leetcode-sqrt-x-9ee925c44969?source=collection_archive---------24-----------------------#2021-05-23">https://medium.com/nerd-for-tech/leetcode-sqrt-x-9ee925c44969?source=collection_archive---------24-----------------------#2021-05-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/0d8c71ae025af2a577056bb975f253ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/0*KocAtYz3deHVBCcv.png"/></div></figure><h1 id="5979" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">问题陈述</h1><p id="5f85" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">给定一个非负整数<strong class="jm hj"> x </strong>，计算并返回<strong class="jm hj"> x </strong>的平方根。</p><p id="d572" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">由于返回类型是整数，所以小数位数被<strong class="jm hj">截断</strong>，只返回结果的整数部分<strong class="jm hj">。</strong></p><p id="af93" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">注意</strong>:不允许使用任何内置的指数函数或运算符，如<code class="du kn ko kp kq b">pow(x, 0.5)</code>或<code class="du kn ko kp kq b">x ** 0.5</code>。</p><p id="81ca" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">问题陈述摘自:<a class="ae kr" href="https://leetcode.com/problems/sqrtx" rel="noopener ugc nofollow" target="_blank">https://leetcode.com/problems/sqrtx</a></p><p id="1eca" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">例 1: </strong></p><pre class="ks kt ku kv fd kw kq kx ky aw kz bi"><span id="a63a" class="la in hi kq b fi lb lc l ld le">Input: x = 4<br/>Output: 2</span></pre><p id="fd98" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">例 2: </strong></p><pre class="ks kt ku kv fd kw kq kx ky aw kz bi"><span id="aeea" class="la in hi kq b fi lb lc l ld le">Input: x = 8 <br/>Output: 2 <br/>Explanation: The square root of 8 is 2.82842..., and since the decimal part is truncated, 2 is returned.</span></pre><p id="d391" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj">约束:</strong></p><pre class="ks kt ku kv fd kw kq kx ky aw kz bi"><span id="c735" class="la in hi kq b fi lb lc l ld le">0 &lt;= x &lt;= 2^31 - 1</span></pre><h1 id="bcf8" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">说明</h1><h2 id="2a37" class="la in hi bd io lf lg lh is li lj lk iw jv ll lm ja jz ln lo je kd lp lq ji lr bi translated">强力</h2><p id="06f3" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">解决这个问题的简单方法是尝试从 1 开始的全自然数。我们继续增加数字，直到数字的平方大于<strong class="jm hj"> x </strong>。</p><p id="543b" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">上述方法的 C++代码片段如下所示:</p><pre class="ks kt ku kv fd kw kq kx ky aw kz bi"><span id="0f2e" class="la in hi kq b fi lb lc l ld le">int i = 1, result = 1;<br/><br/>while (result &lt;= x)<br/>{<br/>    i++;<br/>    result = i * i;<br/>}<br/><br/>return i - 1;</span></pre><p id="c045" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">上述方法的时间复杂度是<strong class="jm hj"> O(√ n) </strong>，因为我们正在运行一个从 1 到那个数的平方根的循环。</p><p id="0900" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">该算法仍然可以通过在这里使用二分搜索法概念来改进。</p><h2 id="4427" class="la in hi bd io lf lg lh is li lj lk iw jv ll lm ja jz ln lo je kd lp lq ji lr bi translated">二进位检索</h2><p id="7f05" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">由于<strong class="jm hj"> i*i </strong>的值，即数字的平方单调增加，我们可以使用这个概念通过二分搜索法找到数字的平方根。</p><p id="3f9c" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">让我们检查下面的算法:</p><pre class="ks kt ku kv fd kw kq kx ky aw kz bi"><span id="3dc0" class="la in hi kq b fi lb lc l ld le">- return x if x &lt;= 1<br/>- initialize start = 2, end = x, middle = 0<br/><br/>- Loop while start &lt;= end<br/>  - middle = start + ( end - start )/ 2<br/>  - if middle == x / middle<br/>    - return middle<br/><br/>  - if middle &lt; x / middle<br/>    - set start = middle + 1<br/>  - else<br/>    - set end = middle - 1<br/><br/>- if start &gt; x /start<br/>  - return start - 1<br/><br/>- return start</span></pre><p id="abe5" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">上述方法的时间复杂度为<strong class="jm hj"> O(log(n))。</strong></p><p id="6054" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj"> C++解决方案</strong></p><pre class="ks kt ku kv fd kw kq kx ky aw kz bi"><span id="adbc" class="la in hi kq b fi lb lc l ld le">class Solution {<br/>public:<br/>    int mySqrt(int x) {<br/>        if(x &lt;= 1){<br/>            return x;<br/>        }<br/><br/>        int start = 2, end = x, middle;<br/><br/>        while(start &lt;= end){<br/>            middle = start + (end - start)/2;<br/><br/>            if(middle == x/middle){<br/>                return middle;<br/>            }<br/><br/>            if(middle &lt; x/middle){<br/>                start = middle + 1;<br/>            } else {<br/>                end = middle - 1;<br/>            }<br/>        }<br/><br/>        if(start &gt; x/start){<br/>            return start - 1;<br/>        }<br/><br/>        return start;<br/>    }<br/>};</span></pre><p id="7b01" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj"> Golang 解决方案</strong></p><pre class="ks kt ku kv fd kw kq kx ky aw kz bi"><span id="0c7b" class="la in hi kq b fi lb lc l ld le">func mySqrt(x int) int {<br/>    start := 0<br/>    end := x<br/><br/>    for start &lt;= end {<br/>		middle := start + ( end - start )/2<br/>		if middle * middle &gt; x {<br/>			end = middle - 1<br/>		} else if (middle + 1)*( middle + 1) &gt; x {<br/>			return middle<br/>		} else {<br/>			start = middle + 1<br/>		}<br/>	}<br/><br/>    return start<br/>}</span></pre><p id="3959" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><strong class="jm hj"> Javascript 解决方案</strong></p><pre class="ks kt ku kv fd kw kq kx ky aw kz bi"><span id="61af" class="la in hi kq b fi lb lc l ld le">var mySqrt = function(x) {<br/>    let start = 0, end = x, middle = 0;<br/><br/>    while (start &lt; end) {<br/>        middle = parseInt((start + end)/2);<br/>        if (middle * middle === x) {<br/>            return middle;<br/>        }<br/>        if (x &lt; middle * middle) {<br/>            end = middle - 1;<br/>        } else {<br/>            start = middle + 1;<br/>        }<br/>    }<br/><br/>    return x &lt; end * end ? end - 1 : end;<br/>};</span></pre><p id="4b36" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">让我们试运行一下我们的算法，看看解决方案是如何工作的。</p><pre class="ks kt ku kv fd kw kq kx ky aw kz bi"><span id="61fe" class="la in hi kq b fi lb lc l ld le">x = 8<br/><br/>Step 1: x &lt;= 1<br/>        8 &lt;= 1<br/>        false<br/><br/>Step 2: start = 2<br/>        end = 8<br/><br/>Step 3: Loop while 2 &lt;= 8<br/>        true<br/><br/>        middle = 2 + (8 - 2) / 2<br/>               = 2 + 6 / 2<br/>               = 2 + 3<br/>               = 5<br/><br/>        middle == x / middle<br/>        5 == 8 / 5<br/>        5 == 1<br/>        false<br/><br/>        middle &lt; x/middle<br/>        5 &lt; 8 / 5<br/>        5 &lt; 1<br/>        false<br/><br/>        end = middle - 1<br/>        end = 5 - 1<br/>        end = 4<br/><br/>Step 4: Loop while 2 &lt;= 4<br/>        true<br/><br/>        middle = 2 + (4 - 2) / 2<br/>               = 2 + 2 / 2<br/>               = 2 + 1<br/>               = 3<br/><br/>        middle == x / middle<br/>        3 == 8 / 3<br/>        3 == 2<br/>        false<br/><br/>        middle &lt; x/middle<br/>        3 &lt; 8 / 3<br/>        3 &lt; 2<br/>        false<br/><br/>        end = middle - 1<br/>        end = 3 - 1<br/>        end = 2<br/><br/>Step 4: Loop while 2 &lt;= 2<br/>        true<br/><br/>        middle = 2 + (2 - 2) / 2<br/>               = 2 + 0 / 2<br/>               = 2 + 0<br/>               = 2<br/><br/>        middle == x / middle<br/>        2 == 8 / 2<br/>        2 == 4<br/>        false<br/><br/>        middle &lt; x/middle<br/>        2 &lt; 8 / 2<br/>        2 &lt; 4<br/>        true<br/><br/>        start = middle + 1<br/>        start = 2 + 1<br/>        start = 3<br/><br/>Step 5: Loop while 3 &lt;= 2<br/>        false<br/><br/>Step 6: if start &gt; x/start<br/>        3 &gt; 8 / 3<br/>        3 &gt; 2<br/><br/>        return start - 1<br/><br/>So the answer is 2.</span></pre></div><div class="ab cl ls lt gp lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hb hc hd he hf"><p id="b931" class="pw-post-body-paragraph jk jl hi jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><em class="lz">原载于</em><a class="ae kr" href="https://alkeshghorpade.me/post/leetcode-sqrt-x" rel="noopener ugc nofollow" target="_blank"><em class="lz">https://alkeshghorpade . me</em></a><em class="lz">。</em></p></div></div>    
</body>
</html>