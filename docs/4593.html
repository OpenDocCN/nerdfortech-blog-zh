<html>
<head>
<title>Simple Script For Checking Whether an URL Active Or Not Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python检查URL是否活动的简单脚本</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/simple-script-for-checking-whether-an-url-active-or-not-using-python-88fe4d3bd63c?source=collection_archive---------4-----------------------#2021-07-28">https://medium.com/nerd-for-tech/simple-script-for-checking-whether-an-url-active-or-not-using-python-88fe4d3bd63c?source=collection_archive---------4-----------------------#2021-07-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6dbbb94c4efb65db97fac39e795759bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jsEOAK_XnPwgN2leO5XOmg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">照片由<a class="ae iu" href="https://unsplash.com/@patrickian4?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">帕特里克·福尔</a>在<a class="ae iu" href="https://unsplash.com/s/photos/typewriter?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><p id="120a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">URL(统一资源定位器)是一个地址，它指向我们正在寻找东西。通常我们称之为链接。当从网上下载东西时，我们通常使用链接。因为链接可以把我们带到任何我们想要的地方。有时候可以是音乐，电影，游戏，种子，等等。</p><h1 id="bb4a" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">问题</h1><p id="8fcc" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">从网上下载东西已经成为人类不可或缺的一部分。今天，我们只需要在浏览器中点击链接，它就会带我们进入我们想要的东西。但是当涉及到大文件时，有时我们不希望下载这么破的东西。如果你曾经下载过游戏，而且游戏的大小很大(超过10GB)。在一些地方，他们把尺寸分成许多部分。这真的是在帮助网络连接不好的人。</p><p id="0d8f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">把链接分成许多部分的好处是很棒的主意。但是，它就像硬币的两面。另一方面，它也有许多缺点。真正令人失望的是，并不是所有的网站上传文件后都承担责任。他们不再担心断开的链接。</p><p id="5d80" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果断开的链接是在数据的第一部分开始，这没问题，但是如果断开的链接是在10的第9部分。这真的很烦人对吗？。作为用户，我们应该聪明对待这个东西。因为这样可以节省我们的时间和网络数据。在这个故事中，我想分享如何检查链接是否活跃。</p><h1 id="d053" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">例子</h1><p id="f3f2" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">下面的图片包含模拟人生4游戏安装的链接，这里有太多的文件。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es kw"><img src="../Images/63e13baf541757c3b7b5d7c64bd4745d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1328/format:webp/1*z3r0sE2cRxFXU3WNphOFdw.png"/></div></figure><p id="cd20" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">作为普通人，我们会从第一部分开始一步一步下载，直到最后。但是你有没有遇到过这样的情况，你在部分中间出错了。相信我，我曾经得到它，它真的很烦人。</p><p id="6a4b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">那么，使用在线解决方案是最好的和快速的方法来测试你是否将访问断开的链接。但是在这个故事中，我不会那样做，因为记住一个原则，开发者不仅仅是用户。开发者用他/她的代码方便他人。所以让我们开始吧。</p><h1 id="cbaa" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">解决办法</h1><h2 id="6238" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">收集所有链接</h2><p id="6d85" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">首先，我们需要得到所有的活动链接，这里是收集链接的脚本。你可以在这里获得更多关于剧本<a class="ae iu" href="https://pythonprogramminglanguage.com/get-links-from-webpage/" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="3124" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">运行脚本后，您将从URL获得所有链接元素。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/67cefff26ded29504fb844c2d2bf3607.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vr_asCQooU4xHY4D-Z9lGA.png"/></div></div></figure><p id="bb6b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">嗯，太多了吧？。因此，让我们进入下一步，只减少我们需要的链接。</p><h2 id="a8f8" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">过滤链接</h2><p id="d3f2" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">这一步，为了简单一点，我会手动完成，所以在抓取完所有链接后，我只想下载有9个部分的<code class="du ls lt lu lv b">Size 42.7 GB | The Sims 4 Eco Lifestyle | CODEX </code>。因为我想使用手动技术，我可以像这样使用inspect元素来检查特定元素以获得链接。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lw"><img src="../Images/2769dfd4ca3120a21a33efd8aacab87c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7-A35L5VCXZ6QcJ45ZB_8A.png"/></div></div></figure><p id="91b5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有趣的是所有文件都是指谷歌驱动平台。所以让我们像这样从输出中复制所有的google drive链接。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div class="er es lx"><img src="../Images/4d7ffe8dc450318c31456e028ba181bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*tl1JY1LxFQQfjuVU3HPQDA.png"/></div></figure><p id="1919" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从上面的图片中，我得到了17个指向google drive链接的链接。因为我的目的是检查链接是否活动，所以让我们全部检查。</p><h2 id="05a4" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">检查链接是否处于活动状态</h2><p id="6a62" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">接下来，我们使用这个语法编写一个简单的脚本来检查链接是否活动。</p><figure class="kx ky kz la fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="5bfe" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">把所有你想查看的网址放入<code class="du ls lt lu lv b">all_links</code>。在我的情况下，我试图把所有的谷歌驱动链接。但是当我运行脚本时，我得到了这样的回答。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/42f9bdd59c1506cf6b59564fa14973d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YdXbuXVdJrnF_KQ8tkNDnA.png"/></div></div></figure><p id="9898" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">嗯，所有的链接似乎是错误的，之后我检查了链接，得到了这样的东西。</p><figure class="kx ky kz la fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lz"><img src="../Images/f19e83e78a5766b37ba5d970bb7d633d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H_zDZrIZEaF9kBdPWakMmw.png"/></div></div></figure><p id="6686" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">幸运的是，我们从可下载部分的第一个URL得到了一个错误。所以，我们可以搜索另一个网站来获得正确的链接。</p><h2 id="6563" class="lb ju hi bd jv lc ld le jz lf lg lh kd jg li lj kh jk lk ll kl jo lm ln kp lo bi translated">打破剧本</h2><p id="fcf3" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">从检查脚本我只需要<code class="du ls lt lu lv b">urllib.request</code>模块。它用于获取URL并检查脚本是否处于活动状态。在最后一行，我还使用了try except语法。我之所以用这个东西是因为每当<code class="du ls lt lu lv b">urlopen</code>一个<code class="du ls lt lu lv b">urllib</code>函数运行出错，程序就会崩溃。因此，为了防止任何崩溃，我使用了语法。</p><h1 id="b293" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="cb62" class="pw-post-body-paragraph iv iw hi ix b iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo kv jq jr js hb bi translated">好了，我们完成了所有的脚本运行，从我的角度来看，它真的可以节省我的时间和数据，你的呢？实际上，你可以把这些脚本合并成一个，你可以在我的GitHub仓库里找到上面所有的脚本。</p><div class="ma mb ez fb mc md"><a href="https://github.com/theDreamer911/dailyChallenges/tree/master/urlChecker" rel="noopener  ugc nofollow" target="_blank"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hj fi z dy mi ea eb mj ed ef hh bi translated">主theDreamer911上的每日挑战/URL checker/每日挑战</h2><div class="mk l"><h3 class="bd b fi z dy mi ea eb mj ed ef dx translated">在GitHub上创建一个帐户，为梦想911/每日挑战的发展做出贡献。</h3></div><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">github.com</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr io md"/></div></div></a></div><h1 id="c217" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">注意</h1><ul class=""><li id="091b" class="ms mt hi ix b iy kr jc ks jg mu jk mv jo mw js mx my mz na bi translated">这个故事仅用于教育目的，没有盗版的意思</li></ul><p id="d929" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">感谢阅读<br/>祝✌代码愉快</p></div></div>    
</body>
</html>