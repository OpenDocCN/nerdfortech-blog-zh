<html>
<head>
<title>Kivy: Use .get_screen() to Access Objects from Other Screens</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基维:用。get_screen()从其他屏幕访问对象</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/kivy-use-get-screen-to-access-objects-from-other-screens-8d4d6f288f3?source=collection_archive---------0-----------------------#2021-07-20">https://medium.com/nerd-for-tech/kivy-use-get-screen-to-access-objects-from-other-screens-8d4d6f288f3?source=collection_archive---------0-----------------------#2021-07-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="dee7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要访问不同屏幕中的对象，您只需要。get_screen()方法、屏幕名称、对象id和对象属性。例如，假设我想从不同的屏幕上引用主屏幕上的TextInput。</p><p id="5d2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从另一个屏幕快速参考主屏幕，主屏幕名称为home_screen，主屏幕文本输入id为text_input:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="58b8" class="jm jn hi ji b fi jo jp l jq jr">#.py file:</span><span id="4833" class="jm jn hi ji b fi js jp l jq jr"># ---- One option ---- #</span><span id="2578" class="jm jn hi ji b fi js jp l jq jr">self.manager.get_screen("home_screen").ids.text_input.text = "new text"</span><span id="d15b" class="jm jn hi ji b fi js jp l jq jr"># ---- Another option: ---- #</span><span id="0774" class="jm jn hi ji b fi js jp l jq jr">reference_to_next_screen = self.manager.get_screen("home_screen")<br/>reference_to_next_screen.ids.text_input.text = "new text"</span><span id="34a4" class="jm jn hi ji b fi js jp l jq jr"># .kv file:</span><span id="a40c" class="jm jn hi ji b fi js jp l jq jr"># replace self with root:</span><span id="9c7c" class="jm jn hi ji b fi js jp l jq jr">root.manager.get_screen("home_screen).ids.text_input.text = "new"</span></pre><p id="e11d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对OtherScreen的引用在。kv文件下面。py文件:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="919f" class="jm jn hi ji b fi jo jp l jq jr">from kivy.app import App<br/>from kivy.lang import Builder<br/>from kivy.uix.screenmanager import ScreenManager, Screen<br/>from kivy.core.window import Window<br/><br/>Builder.load_file("medium.kv")<br/><br/>Window.clearcolor = (0, 0.6, 0.1, 1.0)<br/>Window.size = (400, 600)<br/><br/><br/>class HomeScreen(Screen):<br/>    pass<br/><br/><br/>class OtherScreen(Screen):<br/>    pass<br/><br/><br/>class RootWidget(ScreenManager):<br/>    pass<br/><br/><br/>class MainApp(App):<br/><br/>    def build(self):<br/>        self.title = "My Gardens App"<br/><br/>        return RootWidget()<br/><br/>if __name__ == "__main__":<br/>    MainApp().run()</span></pre><p id="e582" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">。kv文件:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="c42e" class="jm jn hi ji b fi jo jp l jq jr">&lt;HomeScreen&gt;:<br/>    name: "home_screen"<br/>    GridLayout:<br/>        cols: 1<br/>        Label:<br/>            id: home_title<br/>            text: "Home Screen"<br/>            font_size: 30<br/>        TextInput:<br/>            id: your_message<br/>            hint_text: "Type your message here."<br/>            font_size: 25<br/>        Button:<br/>            text: "Go to OtherScreen"<br/>            font_size: 25<br/>            on_press: root.manager.current = "other_screen"<br/><br/>&lt;OtherScreen&gt;<br/>    name: "other_screen"<br/>    GridLayout:<br/>        cols: 1<br/>        Label:<br/>            id: search_title<br/>            text: "Title"<br/>            font_size: 25<br/>        Button:<br/>            text: "Click Here to Change Above 'Title'\nto your_message from HomeScreen"<br/>            font_size: 20</span><span id="a0a2" class="jm jn hi ji b fi js jp l jq jr">            # ---- This is the reference --- #<br/>            on_press: root.ids.search_title.text = root.manager.get_screen("home_screen").ids.your_message.text</span><span id="fc86" class="jm jn hi ji b fi js jp l jq jr">        Button:<br/>            text: "Go Home"<br/>            on_press: root.manager.current = "home_screen"<br/><br/>&lt;RootWidget&gt;:<br/>    HomeScreen:<br/>        name: "home_screen"<br/>    OtherScreen:<br/>        name: "other_screen"</span></pre><p id="da2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这和上面做的是一样的，但是从。py文件:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="2289" class="jm jn hi ji b fi jo jp l jq jr">from kivy.app import App<br/>from kivy.lang import Builder<br/>from kivy.uix.screenmanager import ScreenManager, Screen<br/>from kivy.core.window import Window<br/><br/>Builder.load_file("medium.kv")<br/><br/>Window.clearcolor = (0, 0.6, 0.1, 1.0)<br/>Window.size = (400, 600)<br/><br/><br/>class HomeScreen(Screen):<br/>    pass<br/><br/><br/>class OtherScreen(Screen):<br/><br/>    def get_home_screen_text_input(self):<br/>        ref_to_other_screen = self.manager.get_screen("home_screen")<br/>        self.ids.other_title.text = ref_to_other_screen.ids.your_message.text<br/><br/>class RootWidget(ScreenManager):<br/>    pass<br/><br/><br/>class MainApp(App):<br/><br/>    def build(self):<br/>        self.title = "My Gardens App"<br/><br/>        return RootWidget()<br/><br/>if __name__ == "__main__":<br/>    MainApp().run()</span></pre><p id="8b37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">。kv文件。和第一个相比只有一个变化。kv文件—将其他屏幕上的on_press替换为中的功能。py代码。更改标记为:</p><pre class="jd je jf jg fd jh ji jj jk aw jl bi"><span id="a03c" class="jm jn hi ji b fi jo jp l jq jr">&lt;HomeScreen&gt;:<br/>    name: "home_screen"<br/>    GridLayout:<br/>        cols: 1<br/>        Label:<br/>            id: home_title<br/>            text: "Home Screen"<br/>            font_size: 30<br/>        TextInput:<br/>            id: your_message<br/>            hint_text: "Type your message here."<br/>            font_size: 25<br/>        Button:<br/>            text: "Go to OtherScreen"<br/>            font_size: 25<br/>            on_press: root.manager.current = "other_screen"<br/><br/>&lt;OtherScreen&gt;<br/>    name: "other_screen"<br/>    GridLayout:<br/>        cols: 1<br/>        Label:<br/>            id: other_title<br/>            text: "Title"<br/>            font_size: 25<br/>        Button:<br/>            text: "Click Here to Change Above 'Title'\into your_message from HomeScreen"<br/>            font_size: 20</span><span id="815e" class="jm jn hi ji b fi js jp l jq jr">     # -------- only change from the first .kv file -------- #<br/>            on_press: root.get_home_screen_text_input()</span><span id="39ad" class="jm jn hi ji b fi js jp l jq jr">        Button:<br/>            text: "Go Home"<br/>            on_press: root.manager.current = "home_screen"<br/><br/><br/>&lt;RootWidget&gt;:<br/>    HomeScreen:<br/>        name: "home_screen"<br/>    OtherScreen:<br/>        name: "other_screen"</span></pre></div></div>    
</body>
</html>