<html>
<head>
<title>Flutter: SharedPreferences Using shared_preferences: ^2.0.7</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">颤振:使用 shared_preferences 的 shared preferences:^2.0.7</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/flutter-sharedpreferences-using-shared-preferences-2-0-7-73d318cc74a1?source=collection_archive---------5-----------------------#2021-09-10">https://medium.com/nerd-for-tech/flutter-sharedpreferences-using-shared-preferences-2-0-7-73d318cc74a1?source=collection_archive---------5-----------------------#2021-09-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="12b8" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">从 Api 获取数据并将其存储在共享偏好设置中</p></blockquote><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jh"><img src="../Images/5d0c3df993d77e53f781e2adc5324c0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pITNDirH-Siyn6uq.png"/></div></div></figure><p id="0423" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">这是一个非常常见的话题，用于在应用程序内存中存储一些单个值。它常用于保存登录凭证的详细信息。</p><p id="4587" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">在 ShardPreferences 中，数据异步保存到磁盘。NSUserDefaults(在 iOS 上)和 SharedPreferences(在 Android 上)，为简单数据提供持久存储。</p><p id="f98f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">让我们看看如何实现这一点</p><p id="a74d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">背景:</strong>基本上，我的场景是使用 Get 方法从 API 获取数据(这是一个单独的主题),但是的，我想从 API 获取数据，然后将其保存到共享首选项中，然后在闪屏上，我想检查数据是否存在，这样它将出现在主屏幕上，否则它将进入开始屏幕，用户将再次从 Api 获取数据。</p><p id="0dfe" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">实施</strong>:</p><p id="6d48" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">第一步:</strong>添加依赖关系</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es jw"><img src="../Images/4eafc1135c7e6fc05a9711bead25ee18.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*rZPXDXPpzbJp7u3gSO7Yhw.png"/></div><figcaption class="jx jy et er es jz ka bd b be z dx translated">在 Yaml 文件中，您将把依赖项添加为“shared_preferences”</figcaption></figure><p id="93c6" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">注意:</strong>您可以在<a class="ae kb" href="https://pub.dev/packages/shared_preferences#-installing-tab-" rel="noopener ugc nofollow" target="_blank"> <em class="ik">链接</em> </a>中找到最新的依赖关系</p><p id="0c18" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">第二步</strong> : <strong class="il hj">导入共享偏好</strong></p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es kc"><img src="../Images/7ad682227b8da29077f9043e62246f4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*lnB3ZXD1sxe8MgXbvogYWg.png"/></div></figure><p id="ccd2" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">第三步:存储数据</strong></p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es kd"><img src="../Images/76790e1b8346a03f29843f8249e5c761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*Wcy_EVTtwE5ZUnvFJgMfgw.png"/></div></figure><p id="ec28" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">之后，当我点击 API 并获取数据时，我将该数据放入我的首选项中，这样每当用户点击 API 并获取时，它都会被填充，因此它会根据它运行，并且每次它都会将数据放入首选项中</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es ke"><img src="../Images/73344d8f4205969ba58cc3960664e71e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*Fujm-Wg1PIqbu3V2VblXjA.png"/></div></figure><p id="8baf" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">像 setString()一样，我们有其他方法来存储不同的数据类型值</p><p id="1107" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">例如:setInt()、setDouble() &amp; setBool()，</p><p id="0caa" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">第四步:检索值</strong></p><p id="b77a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">因此，根据我的场景，在启动画面中，我希望通过放入一些检入启动画面来检查数据是否存在</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es kf"><img src="../Images/477d44be955e8310bb88954969ace7d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MEF7iZ5kFZ63Uk46gCcGjA.png"/></div></div></figure><p id="6793" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">然后我像这样调用这个方法，</p><figure class="ji jj jk jl fd jm er es paragraph-image"><div class="er es kg"><img src="../Images/f56d194cf233d6ed351a8fdc5f173a83.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*HuvAPFhrwMDAT8wfhELf9g.png"/></div></figure><p id="dff9" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">所以每次当总管的时候。dart 将会打开，因此它会检查每次出现闪屏的时间。</p><p id="14dc" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">检索值的其他方法，如 getBool()、getInt() &amp; getDouble()</p><p id="c62d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">第五步:使用价值</strong></p><pre class="ji jj jk jl fd kh ki kj kk aw kl bi"><span id="2103" class="km kn hi ki b fi ko kp l kq kr">String value = await getValue() ?? "";</span></pre><p id="7dc1" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">？？用于确保如果 getValue()返回 null，那么它应该使用空字符串作为值，而不是 null。</p><p id="0b7e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">请欣赏它，这样我就可以在未来写更多！</p><blockquote class="if ig ih"><p id="7c72" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">快乐编码。</p></blockquote><p id="897e" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">如果我做错了什么？请在评论中告诉我。我很想进步。</p><p id="3a31" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">拍手声👏如果这篇文章对你有帮助。</p><p id="33f9" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated"><strong class="il hj">Github</strong>:<a class="ae kb" href="https://github.com/SaaifKhan" rel="noopener ugc nofollow" target="_blank">https://github.com/SaaifKhan</a></p><p id="334a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jt iv iw ix ju iz ja jb jv jd je jf jg hb bi translated">电子邮件:Saif_khan09@hotmail.com(如有任何疑问)</p></div></div>    
</body>
</html>