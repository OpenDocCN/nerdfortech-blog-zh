<html>
<head>
<title>A Custom Flower Generator Using Dynamic Meshes In Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中使用动态网格的自定义花生成器</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/a-custom-flower-generator-using-dynamic-meshes-in-unity-9f89c932b733?source=collection_archive---------8-----------------------#2021-09-09">https://medium.com/nerd-for-tech/a-custom-flower-generator-using-dynamic-meshes-in-unity-9f89c932b733?source=collection_archive---------8-----------------------#2021-09-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="a05d" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">最近我有一些空闲时间，有了做这个的想法。这是我第一次用代码动态创建网格。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/3f12ed241cf1815d1420f625947d4e43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Kuza2kYjook13kB1i7DLMQ.gif"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">我的定制花发生器有两层花瓣</figcaption></figure><h1 id="5b00" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated">设计和灵感:</h1><p id="f4d8" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">我不知道是什么让我想到做这个，但我只是突然有了这个想法。</p><p id="f84d" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">在看了Brackeys和Code Monkey的几个YT视频后，我对如何创建网格有了一个大致的想法。</p><p id="289d" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">从那时起，我就试错了创建花瓣的方法，然后使用最近项目中的一些子弹地狱代码在360度内动态复制它。</p><p id="5c77" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">之后，重复第二层花瓣的所有动作。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lg"><img src="../Images/887148b2c3269db083c26f1b94df8987.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*EPX0sfsvooj0GLqSXyXeiw.png"/></div></figure><p id="2788" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">生成器使用Unity中的3条动画曲线来控制每个花瓣的宽度、高度和深度/长度。花瓣中每个顶点的宽度和高度是根据顶点从起点到终点的深度计算的。</p><h1 id="34a8" class="jn jo hi bd jp jq jr js jt ju jv jw jx io jy ip jz ir ka is kb iu kc iv kd ke bi translated">代码:</h1><p id="56ef" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">注意:这是我第一次用代码制作自定义网格，所以可能有很多方法可以改进这段代码。</p><h2 id="cda0" class="lh jo hi bd jp li lj lk jt ll lm ln jx ko lo lp jz ks lq lr kb kw ls lt kd lu bi translated">CreateShape():</h2><p id="c4d4" class="pw-post-body-paragraph kf kg hi kh b ki kj ij kk kl km im kn ko kp kq kr ks kt ku kv kw kx ky kz la hb bi translated">每个花瓣有17个顶点，由"<strong class="kh hj"> <em class="lv"> _detail </em> </strong> " int变量指定，该变量等于沿长度的<strong class="kh hj">顶点数减1 </strong>。</p><p id="5133" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">不要问我为什么那样做。\_( ͡• ͜ʖ ͡•)_/</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lw"><img src="../Images/f84cf88cb3c3e6b77577e6750e376c12.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*m3utVNRzUsXCvOCfCqrItw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">重点是，我可以相对容易地改变细节层次。</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lx"><img src="../Images/99941d4fdc3d70fd4c0022a11f5cf50f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fd_95dth01YJkldyYm-WXg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">这将动态创建并定位花瓣中的顶点。第一个点，然后是所有的中点，然后是终点。</figcaption></figure><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ly"><img src="../Images/e9a1f8605370a5e789ddc9ae99c0f742.png" data-original-src="https://miro.medium.com/v2/resize:fit:430/format:webp/1*xtUh7qG6Ci40TYNgqNappw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">我想不出一种方法来自动创建用于渲染形状的三角形，所以我只是用手写出它们。</figcaption></figure><h2 id="d168" class="lh jo hi bd jp li lj lk jt ll lm ln jx ko lo lp jz ks lq lr kb kw ls lt kd lu bi translated">UpdateMesh():</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es lz"><img src="../Images/01c0a3f40d558a1faed753a7027ac7de.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*Lsjc92LkjfTIqhp7bjE8Hg.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">这将清除和更新每一帧的网格，以允许运行时修改。</figcaption></figure><h2 id="2917" class="lh jo hi bd jp li lj lk jt ll lm ln jx ko lo lp jz ks lq lr kb kw ls lt kd lu bi translated">Start():</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ma"><img src="../Images/11fe2bd5793de3c4e36873c8751a8fd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*gzFYe7ScEAd20UzGm0hZOw.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">初始化两层花瓣，根据每层要产卵的数量复制和旋转每一层。</figcaption></figure><h2 id="0c34" class="lh jo hi bd jp li lj lk jt ll lm ln jx ko lo lp jz ks lq lr kb kw ls lt kd lu bi translated">更新():</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mb"><img src="../Images/623ee6ceed477e1ac031759843b6372d.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*3_lF5756GJ2h9dpk2cGK1Q.png"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">每一帧，重新创建网格和更新网格渲染器。</figcaption></figure></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><p id="0cef" class="pw-post-body-paragraph kf kg hi kh b ki lb ij kk kl lc im kn ko ld kq kr ks le ku kv kw lf ky kz la hb bi translated">结果是一个非常好看的程序花生成器；几乎可以根据任何要求轻松定制。</p></div></div>    
</body>
</html>