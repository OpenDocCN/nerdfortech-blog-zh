<html>
<head>
<title>Having (More) Fun Creating Components with the Lightning Design System for React</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Lightning Design System for React创建组件的乐趣(更多)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/having-more-fun-creating-components-with-the-lightning-design-system-for-react-d49933428d82?source=collection_archive---------1-----------------------#2022-01-05">https://medium.com/nerd-for-tech/having-more-fun-creating-components-with-the-lightning-design-system-for-react-d49933428d82?source=collection_archive---------1-----------------------#2022-01-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0fb564e11a86b4c63ee61d9ac227eb95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nrtik7w04Wmcp5dh6uZgOw.jpeg"/></div></div></figure><p id="832e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在“<a class="ae jo" rel="noopener" href="/nerd-for-tech/having-fun-with-the-lightning-design-system-for-react-d62f2f45c973">享受React </a>的Lightning设计系统”中，我使用React 的<a class="ae jo" href="https://react.lightningdesignsystem.com/" rel="noopener ugc nofollow" target="_blank"> Lightning设计框架创建了一个React应用程序，快速添加了几个组件，以便提供令人印象深刻的用户体验。</a></p><p id="6b67" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下图展示了在一个下雨的周日下午，我在不到一个小时的时间里创作的作品:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/98db3e88362f1f5a9cd539c6364b220f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*SNqs0KIxb8rR7dLr4kAfZQ.gif"/></div></figure><p id="6353" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我将改进我在等待从我的虚构服务中检索数据时使用的方法。</p><h1 id="99d9" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">旋转棒极了，但是…</h1><p id="73a4" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">React的Lightning设计框架提供了几种方式来告知用户某些操作仍在处理中。我一直很喜欢spinner的外观和感觉，并且很高兴看到Salesforce工程团队提供了它。</p><p id="7b2a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我的例子中，我喜欢向用户提供额外的信息来传达“为什么”微调器是活动的。我的意思是，因为系统仍在检索数据，所以旋转器是活动的吗？还是发生了意想不到的事情，现在事情处于卡住状态？</p><p id="4a1a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">没有在旋转器旁边提供上下文，客户很难知道旋转器应该旋转多长时间……嗯，你知道……旋转。</p><p id="34eb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上图中，您可以看到微调器下方的“正在获取数据，请稍候…”文本。在我的例子中，我们期望spinner只旋转足够长的时间来检索数据。</p><p id="7465" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因为开箱即用的微调器不包括显示文本的选项，所以我最终使用了以下原始设计的代码:</p><pre class="jq jr js jt fd kx ky kz la aw lb bi"><span id="81e5" class="lc jv hi ky b fi ld le l lf lg">{this.state.showSpinner &amp;&amp;<br/>&lt;div style={{marginTop: 10, position: 'relative', height: '5rem'}}&gt;<br/>  &lt;Spinner<br/>    size="small"<br/>    variant="base"<br/>    assistiveText={{label: 'Getting Data, Please Wait ...'}}<br/>  /&gt;<br/>&lt;/div&gt;<br/>}</span><span id="7b12" class="lc jv hi ky b fi lh le l lf lg">{this.state.showSpinner &amp;&amp;<br/>&lt;div style={{marginTop: 10}}&gt;Getting Data, Please Wait ... &lt;/div&gt;<br/>}</span></pre><p id="7725" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的结果代码包括当this.state.showSpinner属性为真时显示spinner，但还需要显示另一个<div>来包含我想要传达给用户的文本消息。</div></p><p id="23c8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是可行的，但是每次微调器需要包含文本时，需要使用两个单独的元素。</p><p id="bcb9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我知道一定有更好的方法。</p><h1 id="4953" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">钻研蓝图</h1><p id="ea5b" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">Salesforce工程团队不仅为React提供了Lightning设计框架，还公开了驱动这些组件设计的<a class="ae jo" href="https://www.lightningdesignsystem.com/components/overview/" rel="noopener ugc nofollow" target="_blank">组件蓝图</a>。组件蓝图是框架无关的、可访问的HTML和CSS——用于结合实现指南创建组件。</p><p id="fcba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，使用spinner组件，<a class="ae jo" href="https://www.lightningdesignsystem.com/components/spinners/" rel="noopener ugc nofollow" target="_blank">蓝图</a>提供了使用基本HTML和CSS创建spinner所需的一切:</p><pre class="jq jr js jt fd kx ky kz la aw lb bi"><span id="f848" class="lc jv hi ky b fi ld le l lf lg">&lt;div class="demo-only demo-only_viewport" style="height:6rem;position:relative"&gt;<br/>  &lt;div role="status" class="slds-spinner slds-spinner_medium"&gt;<br/>    &lt;span class="slds-assistive-text"&gt;Loading&lt;/span&gt;<br/>    &lt;div class="slds-spinner__dot-a"&gt;&lt;/div&gt;<br/>    &lt;div class="slds-spinner__dot-b"&gt;&lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="cbdd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我可以使用这些信息从核心蓝图文档中创建一个定制组件。</p><h1 id="a297" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">创建自定义组件</h1><p id="ae06" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">对于我的用例，我想在激活时在微调器下面包含一条文本消息，以便交流与微调器相关的信息。</p><p id="22a0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上一节中，我找到了我打算使用的spinner blueprint代码，并决定创建一个React组件来将对象分组在一起。</p><p id="c7d6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在IntelliJ中，我创建了一个名为<code class="du li lj lk ky b">SpinnerWithDescription.js</code>的新文件，其中包含以下信息:</p><pre class="jq jr js jt fd kx ky kz la aw lb bi"><span id="0a6e" class="lc jv hi ky b fi ld le l lf lg">function SpinnerWithDescription(props) {<br/>    return (<br/>        &lt;div className="slds-m-top_medium"&gt;<br/>            &lt;div className="slds-align_absolute-center slds-p-top_medium"&gt;<br/>                &lt;Spinner size="small"<br/>                         variant="base"<br/>                         assistiveText={{ label: props.description }}<br/>                         isInline={true}<br/>                         hasContainer={false} /&gt;<br/>            &lt;/div&gt;<br/>            &lt;div&gt;<br/>                &lt;p className="slds-text-font_monospace"&gt;{props.description}&lt;/p&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    );<br/>}</span><span id="3abf" class="lc jv hi ky b fi lh le l lf lg">export default SpinnerWithDescription;</span></pre><p id="43a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用我的方法，来自原始微调器组件的代码成为React组件的一部分，还有一段简单的文本——提供我希望显示在微调器下面的信息。现在，要在React应用程序中的任何地方使用这个新组件，我只需要包含一行代码:</p><pre class="jq jr js jt fd kx ky kz la aw lb bi"><span id="4f1f" class="lc jv hi ky b fi ld le l lf lg">&lt;SpinnerWithDescription description=”some message goes here”/&gt;</span></pre><p id="f6c6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我还可以从存储在当前状态中的另一个值传递描述:</p><pre class="jq jr js jt fd kx ky kz la aw lb bi"><span id="3538" class="lc jv hi ky b fi ld le l lf lg">&lt;SpinnerWithDescription description={this.state.loadingMessage}/&gt;</span></pre><p id="3459" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用这种方法，任何对<code class="du li lj lk ky b">SpinnerWithDescription</code>组件的更新都可以一次完成，而不会影响使用共享逻辑的组件。</p><h1 id="e063" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">一路上，我发现了风格</h1><p id="97fe" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">在查看蓝图时，我注意到了关注样式的类的存在，其中包括“slds”前缀。就像20世纪80年代的零售商<a class="ae jo" href="https://en.wikipedia.org/wiki/Chess_King" rel="noopener ugc nofollow" target="_blank">棋王</a>如何帮助我将个人风格从牛仔裤和t恤转变为花哨的裤子和紧身领带一样，“slds”风格课程迅速将我的用户体验转变为更有品位的东西。</p><p id="3253" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">而不是使用像…</p><pre class="jq jr js jt fd kx ky kz la aw lb bi"><span id="060f" class="lc jv hi ky b fi ld le l lf lg">style={{marginTop: 10}}</span></pre><p id="e1cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">…我使用了<a class="ae jo" href="https://www.lightningdesignsystem.com/utilities/margin/" rel="noopener ugc nofollow" target="_blank">边距样式文档</a>来使用现成可用的Salesforce样式类:</p><pre class="jq jr js jt fd kx ky kz la aw lb bi"><span id="d0fd" class="lc jv hi ky b fi ld le l lf lg">slds-m-top_small</span></pre><p id="d47c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，我可以避免为我的边距找到正确的像素数量的繁琐工作，并在我的应用程序中获得一致的用户体验，但利用带有“slds-m”前缀的类，这些类专注于设置边距。</p><h2 id="bbb4" class="lc jv hi bd jw ll lm ln ka lo lp lq ke jb lr ls ki jf lt lu km jj lv lw kq lx bi translated">停止隐藏应用程序标题</h2><p id="5c0d" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">在我最初的设计中，警告组件会出现在应用程序标题的上方，这不是一个理想的用户体验。使用“slds”样式类，title被重构，如下所示:</p><pre class="jq jr js jt fd kx ky kz la aw lb bi"><span id="6c97" class="lc jv hi ky b fi ld le l lf lg">&lt;div className="slds-text-heading_large slds-p-top_xx-large"&gt;<br/>    Some Music Service<br/>&lt;/div&gt;</span></pre><p id="c951" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">“slds-p”前缀侧重于填充，而“top_xx-large”后缀提供了理想的间距，以便在显示警报组件时不再隐藏应用程序标题的任何部分。</p><h2 id="79a6" class="lc jv hi bd jw ll lm ln ka lo lp lq ke jb lr ls ki jf lt lu km jj lv lw kq lx bi translated">更改微调器字体</h2><p id="ed4d" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">我还决定通过包含以下类，对微调器文本使用单倍行距字体，这也是框架的一部分:</p><pre class="jq jr js jt fd kx ky kz la aw lb bi"><span id="fdcf" class="lc jv hi ky b fi ld le l lf lg">slds-text-font_monospace</span></pre><h1 id="e46f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">我的新设计</h1><p id="31d9" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">有了新的组件和样式，这就是我更新后的React应用程序的实际效果:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/fce3aacd84b9b84330d5c85b12df9e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*vUjCi3PTQYPKvboZZtJZxw.gif"/></div></figure><p id="793b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">虽然变化是细微的，但在使用微调器时不再有任何特殊的交流规则。</p><p id="a453" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这种新的定制组件甚至可以成为React的Lightning设计系统中的正式组件，只需遵循此处概述的<a class="ae jo" href="https://github.com/salesforce/design-system-react/blob/master/CONTRIBUTING.md" rel="noopener ugc nofollow" target="_blank">步骤。</a></p><h1 id="33e1" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">结论</h1><p id="8b7b" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">从2021年开始，我一直努力按照以下使命宣言生活，我觉得这可以适用于任何IT专业人士:</p><blockquote class="ly lz ma"><p id="cda7" class="iq ir mb is b it iu iv iw ix iy iz ja mc jc jd je md jg jh ji me jk jl jm jn hb bi translated"><em class="hi">“将您的时间集中在提供能够扩展您知识产权价值的特性/功能上。将框架、产品和服务用于其他一切。”</em></p><p id="fae1" class="iq ir mb is b it iu iv iw ix iy iz ja mc jc jd je md jg jh ji me jk jl jm jn hb bi translated"><em class="hi">——j·维斯特</em></p></blockquote><p id="8481" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我不仅利用了React现有的Lightning设计系统，还引入了简单的HTML代码来创建一个新的组件，该组件避免了维护始终包含微调器文本的知识。当然，当一个特性开发人员忘记了这条规则或者是一个项目的新开发人员时，这将减少修改代码的工作量。</p><p id="fc6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Salesforce工程团队不仅提供了开箱即用的优秀组件，而且该团队还包括蓝图文档，该文档允许功能开发人员扩展，甚至有可能为<a class="ae jo" href="https://github.com/salesforce/design-system-react" rel="noopener ugc nofollow" target="_blank">设计-系统-反应</a>存储库做出贡献。</p><p id="2bff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所有这些努力都符合我个人的使命宣言。</p><p id="f0ad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您对本文的源代码感兴趣，只需导航到GitLab上的以下资源库:</p><p id="6cab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://gitlab.com/johnjvester/lightning-design-system" rel="noopener ugc nofollow" target="_blank">https://git lab . com/johnj vester/having-fun-with-the-lightning-design-system</a></p><p id="987a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">祝你今天过得愉快！</p></div></div>    
</body>
</html>