<html>
<head>
<title>Moving Platforms in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中移动平台</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/moving-platforms-in-unity-14930769bd50?source=collection_archive---------22-----------------------#2021-06-22">https://medium.com/nerd-for-tech/moving-platforms-in-unity-14930769bd50?source=collection_archive---------22-----------------------#2021-06-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/d262d37aa96568e9282086e3d81a128a.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/1*GQWC_Vdy3CApktyj2H09WQ.gif"/></div></figure><p id="43e5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">啊，好老的移动平台！这是我们游戏记忆中如此美好的一部分，现在轮到我们来制作一些了，让我们开始吧！</p><p id="5f5d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，让我们抓取一个当前的平台，并将其重命名为Moving_Platform，复制几次，并将副本命名为Point_A和Point_B，并将Point_B移动到您希望平台移动的位置。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/6ecfaa91073e9227eeaaf3940abe0ba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fUe_3sTC-ClBcaPc04_HLg.gif"/></div></div></figure><p id="132c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">因为我们实际上只需要点A和点B的变换位置，所以继续删除除变换以外的所有内容。不幸的是，选项框被切断了记录屏幕，但只是'删除组件'在每个项目。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/91c46d9d22baff30efc7b81ceb0083aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*p4Vw6kuuy-idhsH5NJfAJg.gif"/></div></div></figure><p id="5a7a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">太好了！我们准备好让事情动起来了！创建一个名为MovingPlatform的脚本，并将其拖动到移动平台游戏对象上。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/d4f78f4428f012387dc904e2e07810bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*OJCyKjKX3BgwZesmZYTetQ.gif"/></div></div></figure><p id="2075" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们要做的第一件事是为PointA和PointB创建容器。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jt"><img src="../Images/07bb602f6e77cf6f109fb3fdff3b57f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lysoUJKQIwe0na_dxV1Ogw.png"/></div></div></figure><p id="7a56" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，将Point_A拖动到targetA，将PointB拖动到_targetB。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/2fd5f801d196cc0ac131ecf8bbbd086a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RvRnzmk6592bSBSDSGTggQ.gif"/></div></div></figure><p id="9108" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们有很多方法可以解决这个挑战，但对于这一个，我们将使用名为MoveTowards的Vector3方法</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/a7c67756b5e9d4b4c7303c619cd933d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*BfjjFXzySLUlUllsd-23rQ.png"/></div></figure><p id="117e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这很简单，你有当前位置、目标位置和maxDistanceDelta，这是一个很好的词，表示“我们想走多大的一步”或…速度。</p><p id="45d6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以我们先做一个速度变量。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jv"><img src="../Images/3ef54f395b01c2611369f24bb028c7f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QnMSo0CDgYJkeTk_jtkONA.png"/></div></div></figure><p id="aafc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">太好了！让我们将target_b作为我们的目标，并将这个命令放在update方法中。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jw"><img src="../Images/f88b566fa2a70d6e3e8666ff3775005d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nPbBG1Fm5ZRgg9Ik0j6_Gg.png"/></div></div></figure><p id="6400" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所以我们取当前的transform.position，然后指定Vector3。使我们从当前位置移动到now _targetB乘以_speed * Time.deltaTime的位置的move origing方法。</p><p id="0bab" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们去看看吧！</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/97e80beeac455d2ae230a7b5905495c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*j6mVlJRPhcD6MXgBFbpawQ.gif"/></div></div></figure><p id="0435" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">它还活着！嗯，它在动…现在我们需要一些乒乓球动作。</p><p id="24f7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">经过一番思考，我发现让平台从一个点切换到另一个点的最直接的方法是使用_currentTarget变量，我们不断地用它切换targetA和targetB，并不断地向_currentTarget移动。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jx"><img src="../Images/b210720d7d85b4966d624cd203129d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s5euz24KgQZPL31EYn2aeQ.png"/></div></div></figure><p id="ad6b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们在Start()中将它设置为PointB。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jy"><img src="../Images/167a835e0ef576107a1b660f0d0eb888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nFASU483Nn3fN-hVlFrPtA.png"/></div></div></figure><p id="9c31" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们将Update中的当前代码移到一个名为MoveTowardsCurrentTarget()的新函数中。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jz"><img src="../Images/49113185369f4270c4e2c575906ce44d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1wIxkwag7J6XoaKNpvmyJw.png"/></div></div></figure><p id="5d71" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们将把_targetB.position改为_currentTarget.position。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jz"><img src="../Images/d7a71545cd255b62f64b700b9587d6cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rEKCvXu8v80dxTPDXBE3Gg.png"/></div></div></figure><p id="4bd5" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们在Update()中调用MoveTowardsCurrentTarget，这样它就会一直发生。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es ka"><img src="../Images/179f45f3351133cdd421a32d7c5c8491.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ch73eJJJrseYRsv0kTCS4w.png"/></div></div></figure><p id="45cf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果我们现在运行它，它将完全按照以前的方式运行，只是我们已经为切换打下了基础。让我们创建一个名为CheckIfTargetReached()的新函数</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es kb"><img src="../Images/530b81f8965d46f4b46b0e8c4d5f2765.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O-kCbBSb6CdNw4AsHfIhxg.png"/></div></div></figure><p id="4817" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是我们编程中最难的部分。你准备好了吗？先用伪代码吧！</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es kc"><img src="../Images/6a9bf04b9c1af2693e143c94b5d0112d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ArICJUf2h4Uk4xOYpCC2w.png"/></div></div></figure><p id="3bff" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">相当简单！让我们一行一行地做:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jt"><img src="../Images/9b1619eb2a9667bbf78fe130f6673f44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U76CEgbcye3HXxOopRdC_w.png"/></div></div></figure><p id="718d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们需要改变当前位置，我们有一个名为_currentTarget的变量…</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jt"><img src="../Images/3190d34d2643a68ee34c5ae505c107bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i9-g1QtSgrkhRs1gov4iiA.png"/></div></div></figure><p id="0a6f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">就是这样！由于Update总是在运行，所以代码会自行处理，一旦它到达targetB的位置，当前的目标将会改变，平台将自动开始移动到targetA！但现在我们需要对目标A进行检查？你说得对！</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es kd"><img src="../Images/e175b8d422b0f317bdee56c6205fecb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*drl8LG-__3R1b6y7ihUdxg.png"/></div></div></figure><p id="20f4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你现在运行游戏，它不会工作，因为我们需要这个功能在更新，所以它也在每一帧运行！</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es ke"><img src="../Images/012dd70472c1d052ca2fc8f26f2206d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DChys_4Qu3AlYJUC4V98UQ.png"/></div></div></figure><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es kf"><img src="../Images/ea7483bfd812a7543edc53bfa8652df0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BbHa3rc1wzSh9ZGDJyL6ow.jpeg"/></div></div></figure><p id="4098" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">相当干净和可读的更新，不是吗？总是努力让你的代码易于理解。你这样做不仅是为了别人，也是为了你自己。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/7586015071e895b4391664290612eb82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zZf87ciOhBngrCV-l2P_Ug.gif"/></div></div></figure><p id="f3ae" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们跑到月台上车吧！玩家死了，因为他只是呆在一个地方，没有“骑”上平台。这是我们明天要解决的问题！到时候见！</p></div></div>    
</body>
</html>