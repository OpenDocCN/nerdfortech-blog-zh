<html>
<head>
<title>Justifill — Exploring Purescript Modules #1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">justill——探索 Purescript 模块#1</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/justifill-exploring-purescript-modules-1-c565e73eec1?source=collection_archive---------3-----------------------#2022-09-09">https://medium.com/nerd-for-tech/justifill-exploring-purescript-modules-1-c565e73eec1?source=collection_archive---------3-----------------------#2022-09-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c025" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经决定开始写我觉得有趣的 Purescript 模块，这是系列<strong class="ih hj"><em class="jd"># exploring-PS-modules</em></strong>的第一篇文章。</p><p id="7dbb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们的前端团队在 Purescript 上广泛工作，我们的应用程序做了许多 api 调用，请求负载中的大多数字段都是可选的，你可以在任何地方找到<code class="du je jf jg jh b">Maybe</code>字段。也许字段是好的，它们通过传递<code class="du je jf jg jh b">Nothing</code>让我们忽略非强制字段，但是假设你有 10 个字段，其中 8 个是<code class="du je jf jg jh b">Maybe</code>字段，有时你想传递<code class="du je jf jg jh b">Nothing</code>给所有的 8 个字段。*叹气！！*</p><p id="d9a1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这让我们想到，我们能不能只传递那些必要的字段，而所有没有被传递的可能字段都被默认设置为<code class="du je jf jg jh b">Nothing</code>，以一种类型安全的方式，不给编译器抱怨的机会。</p><figure class="jj jk jl jm fd jn er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es ji"><img src="../Images/dfc1669ec24998f2080c08ed0811dcb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LOrkwh35A5vxwe4NhrsfnA.jpeg"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx translated">圣地亚哥·拉卡尔塔在<a class="ae jy" href="https://unsplash.com/s/photos/fill?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="c5cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就在那时，我们发现了名为<code class="du je jf jg jh b"><a class="ae jy" href="https://pursuit.purescript.org/packages/purescript-justifill/0.5.0/docs/Justifill#v:justifill" rel="noopener ugc nofollow" target="_blank">JustiFill</a></code>的软件包，它可以让我们做我们想做的事情。</p><p id="af8e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jd">快速举例</em>，</p><pre class="jj jk jl jm fd jz jh ka kb aw kc bi"><span id="5c71" class="kd ke hi jh b fi kf kg l kh ki">type Person = { name :: String<br/>              , age :: Int<br/>              , salary :: Maybe Int<br/>              , children :: Maybe Int<br/>              }</span><span id="17df" class="kd ke hi jh b fi kj kg l kh ki">student :: Person<br/>student = justifill {name : "Mike", age : 14}</span><span id="0e41" class="kd ke hi jh b fi kj kg l kh ki">--- &gt; student <br/>--- &gt; { age: 14, name: "Mike", salary: Nothing, children: Nothing }</span></pre><p id="8524" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可以从上面的例子中看到，我们只将强制字段传递给函数<code class="du je jf jg jh b">justifill</code>，它用<code class="du je jf jg jh b">Nothing</code>填充可能字段。看，这有多有用！！</p><p id="fe04" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有时候，我们希望将一些可能字段 与强制字段一起传递，我们可以用这个库来实现吗？绝对是的。</p><pre class="jj jk jl jm fd jz jh ka kb aw kc bi"><span id="ec4e" class="kd ke hi jh b fi kf kg l kh ki">freshGrad :: Person<br/>freshGrad = justifill { name : "Steve"<br/>                      , age : 21<br/>                      , salary: Just 200<br/>                      --  see i'm skipping the `children` field<br/>                      }</span></pre><p id="09cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它还允许我们在不使用<code class="du je jf jg jh b">Just</code>构造函数的情况下填充字段。</p><pre class="jj jk jl jm fd jz jh ka kb aw kc bi"><span id="bafb" class="kd ke hi jh b fi kf kg l kh ki">familyMan :: Person<br/>familyMan = justifill { name : "Jim"<br/>                      , age : 21<br/>                      , salary: Just 2000<br/>                      , children : 1 -- we skipped Just <br/>                      }</span></pre><p id="5a6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个库通过减少大量的 boiler plate 代码使你的代码更加整洁。</p></div><div class="ab cl kk kl gp km" role="separator"><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp kq"/><span class="kn bw bk ko kp"/></div><div class="hb hc hd he hf"><p id="73f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">希望你也将开始在你的项目中使用它，如果你也觉得这个库有趣的话，和你的同事一起 share🗣这篇文章。</p></div></div>    
</body>
</html>