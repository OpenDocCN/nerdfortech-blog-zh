<html>
<head>
<title>Make swift ‘contains()’ and ‘filter()’ ready for iOS Development</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让 swift 的“contains()”和“filter()”为 iOS 开发做好准备</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/make-swift-contains-and-filter-ready-for-ios-development-e60a6570f5a2?source=collection_archive---------8-----------------------#2021-05-23">https://medium.com/nerd-for-tech/make-swift-contains-and-filter-ready-for-ios-development-e60a6570f5a2?source=collection_archive---------8-----------------------#2021-05-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/4c43b9321fdb7efe66bd62701ec85ff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5ca9pjcvk4G-ft0g"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx translated">丹尼斯·布雷克在<a class="ae jc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="d467" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">Swift 拥有大量功能，可随时用于 iOS 开发。swift 中的 contains()和 filter()在我们需要根据条件分别搜索列表和过滤器列表中是否存在某个编号时非常有用。</p><p id="1a43" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">在某些情况下，这些功能不能这样使用。一个这样的场景是搜索字符串(在联系人中搜索的功能)。在联系人中搜索获取一个或多个关键字，并在每个联系人的名字或姓氏中搜索它们，即搜索顺序无关紧要的位置。</p><p id="e1bd" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">我们将扩展 Array 来使用 contains 和 filter 来搜索和过滤一个数组，其中关键字的顺序无关紧要，并且关键字部分存在于列表的成员中。</p><h1 id="827c" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">partiallyContains()/partiallyContains filter()</h1><p id="c5b3" class="pw-post-body-paragraph jd je hi jf b jg kz ji jj jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka hb bi translated">当我们在数组上直接应用 contains 时，只有当关键字完全匹配时，它才返回 true。当我们在['array']上应用带有' arr '的 contains 时，它返回 false。如果我们想让它更灵活，那么就使用下面的扩展。</p><pre class="in io ip iq fd le lf lg lh aw li bi"><span id="e303" class="lj kc hi lf b fi lk ll l lm ln"><strong class="lf hj">extension</strong> Array {</span><span id="0559" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">   func</strong> partiallyContains(check: Element) -&gt; Bool <strong class="lf hj">where</strong> Element ==   <br/>   String {</span><span id="cd7e" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">     for</strong> str <strong class="lf hj">in</strong> <strong class="lf hj">self</strong> {</span><span id="18a8" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">       if</strong> str.contains(check) {</span><span id="02fa" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">         return</strong> <strong class="lf hj">true</strong></span><span id="8a35" class="lj kc hi lf b fi lo ll l lm ln">       }</span><span id="12c9" class="lj kc hi lf b fi lo ll l lm ln">     }</span><span id="42f9" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">     return</strong> <strong class="lf hj">false</strong></span><span id="d8d0" class="lj kc hi lf b fi lo ll l lm ln">   }</span><span id="2153" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">   func</strong> partiallyContainsFilter(word: Element) -&gt; [Element] <strong class="lf hj">where</strong>   <br/>   Element == String {</span><span id="5ca9" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">     self</strong>.filter({$0.contains(word)})</span><span id="0844" class="lj kc hi lf b fi lo ll l lm ln">  }<br/>}</span><span id="da47" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">var</strong> array = ["hello","world","hello world"]</span><span id="0f26" class="lj kc hi lf b fi lo ll l lm ln">array.contains("he") // false</span><span id="b909" class="lj kc hi lf b fi lo ll l lm ln">array.partiallyContains(check: "he") // true</span><span id="5c1b" class="lj kc hi lf b fi lo ll l lm ln">array.partiallyContainsFilter(word: "he") // ["hello", "hello world"]</span></pre><h1 id="79ef" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">relaxedOrderContains()/relaxedOrderFilter()</h1><p id="f98a" class="pw-post-body-paragraph jd je hi jf b jg kz ji jj jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka hb bi translated">当我们在["hello world"]上应用带有' world hello '的 contains 时，它返回 false。但是，如果你想有宽松的订单功能，然后使用以下扩展。</p><pre class="in io ip iq fd le lf lg lh aw li bi"><span id="89dc" class="lj kc hi lf b fi lk ll l lm ln">extension Array {</span><span id="0e8c" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">  func</strong> relaxedOrderElementsEqual(with array: [Element]) -&gt; Bool <br/>  <strong class="lf hj">where</strong> Element == String {</span><span id="db6d" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    var</strong> result = <strong class="lf hj">true </strong></span><span id="b117" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    for</strong> i <strong class="lf hj">in</strong> array {</span><span id="7a33" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">       if</strong> !<strong class="lf hj">self</strong>.contains(i) {</span><span id="db14" class="lj kc hi lf b fi lo ll l lm ln">         result = <strong class="lf hj">false</strong></span><span id="21df" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">         return</strong> result</span><span id="8396" class="lj kc hi lf b fi lo ll l lm ln">      }</span><span id="ebb1" class="lj kc hi lf b fi lo ll l lm ln">    }</span><span id="b44d" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    return</strong> result</span><span id="6997" class="lj kc hi lf b fi lo ll l lm ln">  }<br/>  <strong class="lf hj">func</strong> relaxedOrderContains(word: Element) -&gt; Bool <strong class="lf hj">where</strong> Element == <br/>  String {</span><span id="bb9f" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    let</strong> arrayToBeChecked = word.components(separatedBy: " ")</span><span id="f877" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    var</strong> res = <strong class="lf hj">false</strong></span><span id="2497" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    for</strong> i <strong class="lf hj">in</strong> <strong class="lf hj">self</strong> {</span><span id="98b7" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">      let</strong> currentArrayToBeChecked = i.components(separatedBy: " ")</span><span id="eaaa" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">      if</strong> arrayToBeChecked.relaxedOrderElementsEqual(with:    <br/>       currentArrayToBeChecked) {</span><span id="7bef" class="lj kc hi lf b fi lo ll l lm ln">        res = <strong class="lf hj">true</strong></span><span id="a6de" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">        return</strong> res</span><span id="ef11" class="lj kc hi lf b fi lo ll l lm ln">      }</span><span id="f2ca" class="lj kc hi lf b fi lo ll l lm ln">    }</span><span id="bf50" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    return</strong> res</span><span id="8917" class="lj kc hi lf b fi lo ll l lm ln">  }</span><span id="effc" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">  func</strong> relaxedOrderFilter(word: Element) -&gt; [Element] <strong class="lf hj">where</strong> Element <br/>  == String {</span><span id="a591" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    let</strong> arrayToBeChecked = word.components(separatedBy: " ")</span><span id="b79d" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    return</strong> <strong class="lf hj">self</strong>.filter { i <strong class="lf hj">in</strong></span><span id="0a27" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">        let</strong> wordtobechecked = i.components(separatedBy: " ")</span><span id="a552" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">        return</strong> wordtobechecked.relaxedOrderElementsEqual(with:   <br/>               arrayToBeChecked)</span><span id="4ee4" class="lj kc hi lf b fi lo ll l lm ln">        }</span><span id="89c7" class="lj kc hi lf b fi lo ll l lm ln">   }<br/>}</span><span id="58db" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">var</strong> array = ["hello","world","hello world"]</span><span id="6e71" class="lj kc hi lf b fi lo ll l lm ln">array.contains("world hello") // false</span><span id="ca07" class="lj kc hi lf b fi lo ll l lm ln">array.relaxedOrderContains(word: "world hello") //true</span><span id="db9f" class="lj kc hi lf b fi lo ll l lm ln">array.relaxedOrderFilter(word: "world hello") // ["hello world"]</span></pre><h1 id="b200" class="kb kc hi bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">柔性过滤器()</h1><p id="c765" class="pw-post-body-paragraph jd je hi jf b jg kz ji jj jk la jm jn jo lb jq jr js lc ju jv jw ld jy jz ka hb bi translated">但最后，因为我们的目标是文章的开始，我们需要为数组增加更多的灵活性，以便在“搜索联系人”的情况下使用。</p><pre class="in io ip iq fd le lf lg lh aw li bi"><span id="7e84" class="lj kc hi lf b fi lk ll l lm ln">extension Array {</span><span id="e1e1" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">   func</strong> flexibleElementsEqual(with array: [Element]) -&gt; Bool <strong class="lf hj">where</strong> <br/>   Element == String {</span><span id="48d4" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">     var</strong> result = <strong class="lf hj">true</strong></span><span id="3f00" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">     for</strong> i <strong class="lf hj">in</strong> array {</span><span id="e640" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">       if</strong> !<strong class="lf hj">self</strong>.partiallyContains(check: i) {</span><span id="cd75" class="lj kc hi lf b fi lo ll l lm ln">         result = <strong class="lf hj">false</strong></span><span id="be98" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">         return</strong> result</span><span id="04f1" class="lj kc hi lf b fi lo ll l lm ln">      }</span><span id="18a4" class="lj kc hi lf b fi lo ll l lm ln">    }</span><span id="cdf0" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    return</strong> result<br/>  }<br/>  <strong class="lf hj">func</strong> flexibleFilter(word: Element) -&gt; [Element] <strong class="lf hj">where</strong> Element == <br/>   String {</span><span id="39a7" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    let</strong> arrayToBeChecked = word.components(separatedBy: " ")</span><span id="6bd7" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">    return</strong> <strong class="lf hj">self</strong>.filter { i <strong class="lf hj">in</strong></span><span id="f459" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">        let</strong> wordtobechecked = i.components(separatedBy: " ")</span><span id="d7ea" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">        return</strong> wordtobechecked.flexibleElementsEqual(with: <br/>               arrayToBeChecked)</span><span id="1955" class="lj kc hi lf b fi lo ll l lm ln">        }</span><span id="6d10" class="lj kc hi lf b fi lo ll l lm ln">  }</span><span id="9ca3" class="lj kc hi lf b fi lo ll l lm ln">}</span><span id="5aa4" class="lj kc hi lf b fi lo ll l lm ln"><strong class="lf hj">var</strong> array = ["hello","world","hello world"]</span><span id="ae25" class="lj kc hi lf b fi lo ll l lm ln">array.flexibleFilter(word: "wo") // ["world", "hello world"]</span><span id="8c1d" class="lj kc hi lf b fi lo ll l lm ln">array.flexibleFilter(word: "rld") // ["world", "hello world"]</span></pre><p id="5021" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">就是这样！！</p><p id="0155" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">当您需要灵活性时，可以使用这些扩展。</p><p id="228c" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">快乐发展…</p></div></div>    
</body>
</html>