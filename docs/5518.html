<html>
<head>
<title>The better Maven Central</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更好的梅文中心</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-better-maven-central-90d7e529d606?source=collection_archive---------2-----------------------#2021-10-12">https://medium.com/nerd-for-tech/the-better-maven-central-90d7e529d606?source=collection_archive---------2-----------------------#2021-10-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b84076fc58994e2179e94ed3f27f9b1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*kzaP1bFKNniDi5bJ.png"/></div></div></figure><p id="9a83" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Maven Central 是使用最多的 Java 工件存储库。几乎每个 Gradle 文件都以:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="e258" class="jx jy hi jt b fi jz ka l kb kc">buildscript <strong class="jt hj">{<br/>    </strong><em class="kd">repositories </em><strong class="jt hj">{<br/>       </strong> mavenCentral()<br/>        // maybe other repos here        </span></pre><p id="5597" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，使用 Sontatype、OSSHR 和 Nexus 进行发布(<a class="ae ke" href="https://proandroiddev.com/publishing-a-maven-artifact-1-3-glossary-bc0068a440e0" rel="noopener ugc nofollow" target="_blank">这篇文章</a>很好地解释了这些术语)是一个非常缓慢而痛苦的过程:</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kf"><img src="../Images/ca547bfb5c34340384b27aebc6623a6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XQTKggXHC14lfuhb"/></div></div></figure><p id="d5cc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">来源:<a class="ae ke" href="https://jfrog.com/blog/bintray-as-pain-free-gateway-to-maven-central/" rel="noopener ugc nofollow" target="_blank">https://jfrog . com/blog/bin tray-as-pain-free-gateway-to-maven-central/</a>。</p><p id="41c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可能会说 Jfrog 有偏见，但我完全同意上面所有的陈述。既然 Jfrog 替代方案<a class="ae ke" href="https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/" rel="noopener ugc nofollow" target="_blank"> JCenter 已经不复存在</a>，那么对于开源项目来说，imo 只剩下一个解决方案，而且这个解决方案是惊人的:<a class="ae ke" href="https://jitpack.io" rel="noopener ugc nofollow" target="_blank"> jitpack.io </a>。</p><p id="dc0c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">令人惊讶的是，一旦<code class="du kg kh ki jt b">maven</code>或<code class="du kg kh ki jt b">maven-publish</code>插件被配置好(这在任何情况下都需要完成)，就不需要发布工件了——&gt;见我的另一篇文章<a class="ae ke" rel="noopener" href="/nerd-for-tech/oh-no-another-publishing-android-artifacts-to-maven-central-guide-9d7f300ebd74">这里</a>。</p><p id="9eda" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你有一个 GitHub 帐户，几乎不需要做什么就可以让 Jitpack.io 运行起来。只需授予 Jitpack.io 访问您的公共回购的权限，就大功告成了。我说的完成是指字面上的完成。</p><p id="6c2e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Jitpack.io 是如此简单，以至于我甚至没有注意到我的工件，例如这个 repo:<a class="ae ke" href="https://github.com/1gravity/Android-RTEditor" rel="noopener ugc nofollow" target="_blank">https://github.com/1gravity/Android-RTEditor</a>是自动发布的(当我在 Maven Central publication 上工作时)。Jitpack 自动构建并发布了我的库:</p><ul class=""><li id="a596" class="kj kk hi is b it iu ix iy jb kl jf km jj kn jn ko kp kq kr bi translated">因为它可以访问我的回购协议</li><li id="8358" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">因为我用版本号标记了我的提交，例如<code class="du kg kh ki jt b">v1.7.3</code></li><li id="8225" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">因为已经配置了<code class="du kg kh ki jt b">maven-publish</code>任务</li><li id="7aec" class="kj kk hi is b it ks ix kt jb ku jf kv jj kw jn ko kp kq kr bi translated">因为 jitpack.io 是个牛逼的工具；-)</li></ul><p id="827f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要使用发布的工件，您需要添加 jitpack.io 作为 Maven repo，但这是与 Maven Central 中发布的工件相比唯一的小缺点:</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="f59e" class="jx jy hi jt b fi jz ka l kb kc">allprojects {<br/>    repositories {<br/>	...<br/>	maven { url 'https://jitpack.io' }<br/>    }<br/>}</span></pre><p id="e01c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我不需要经历 Sonatype 痛苦的注册过程，也不需要在我选择的开源库中建立构建管道。</p><p id="b091" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我对 Android 项目(比如这里的<a class="ae ke" href="https://github.com/1gravity/Android-RTEditor" rel="noopener ugc nofollow" target="_blank"/>和这里的<a class="ae ke" href="https://github.com/1gravity/Android-ColorPicker" rel="noopener ugc nofollow" target="_blank"/>)和后端 Java 项目(比如这里的<a class="ae ke" href="https://github.com/1gravity/Ktor-OpenAPI-Generator" rel="noopener ugc nofollow" target="_blank"/>)都是这么做的，同样简单。</p><figure class="jo jp jq jr fd ij er es paragraph-image"><div class="er es kx"><img src="../Images/aaf43f8fc1ee86b4f0bbb7cbd69b9884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/0*hzqNyOjLi9DOfgWq.jpg"/></div></figure></div></div>    
</body>
</html>