<html>
<head>
<title>LeetCode — Evaluate Reverse Polish Notation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">LeetCode —评估反向波兰符号</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/leetcode-evaluate-reverse-polish-notation-21f8c1301b22?source=collection_archive---------6-----------------------#2022-10-01">https://medium.com/nerd-for-tech/leetcode-evaluate-reverse-polish-notation-21f8c1301b22?source=collection_archive---------6-----------------------#2022-10-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="4ad7" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">问题陈述</h1><p id="9273" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">评估<em class="kb">反向波兰符号</em>中算术表达式的值。</p><p id="de48" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">有效的运算符有<em class="kb"> + </em>、<em class="kb"> - </em>、*、<em class="kb"> / </em>。每个操作数可以是整数或其他表达式。</p><p id="8723" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">注意</strong>两个整数之间的除法应该向零截断。</p><p id="74e2" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">保证给定的 RPN 表达式总是有效的。这意味着表达式将始终计算结果，并且不会有任何被零除的操作。</p><p id="e009" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">问题陈述摘自:<a class="ae kh" href="https://leetcode.com/problems/evaluate-reverse-polish-notation" rel="noopener ugc nofollow" target="_blank">https://leet code . com/problems/evaluate-reverse-polish-notation</a></p><p id="f214" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">例 1: </strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="cd9a" class="kr ig hi kn b fi ks kt l ku kv">Input: tokens = ["2", "1", "+", "3", "*"]<br/>Output: 9<br/>Explanation: ((2 + 1) * 3) = 9</span></pre><p id="5793" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">例 2: </strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="6d5d" class="kr ig hi kn b fi ks kt l ku kv">Input: tokens = ["4", "13", "5", "/", "+"]<br/>Output: 6<br/>Explanation: (4 + (13 / 5)) = 6</span></pre><p id="6853" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">例 3: </strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="272c" class="kr ig hi kn b fi ks kt l ku kv">Input: tokens = ["10", "6", "9", "3", "+", "-11", "*", "/", "*", "17", "+", "5", "+"]<br/>Output: 22<br/>Explanation: ((10 * (6 / ((9 + 3) * -11))) + 17) + 5<br/>= ((10 * (6 / (12 * -11))) + 17) + 5<br/>= ((10 * (6 / -132)) + 17) + 5<br/>= ((10 * 0) + 17) + 5<br/>= (0 + 17) + 5<br/>= 17 + 5<br/>= 22</span></pre><p id="6b20" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><strong class="jf hj">约束:</strong></p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="afa6" class="kr ig hi kn b fi ks kt l ku kv">- 1 &lt;= tokens.length &lt;= 10^4<br/>- tokens[i] is either an operator: "+", "-", "*", or "/", or an integer in the range [-200, 200]</span></pre><h2 id="0d75" class="kr ig hi bd ih kw kx ky il kz la lb ip jo lc ld it js le lf ix jw lg lh jb li bi translated">说明</h2><p id="544b" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><a class="ae kh" href="https://en.wikipedia.org/wiki/Reverse_Polish_notation" rel="noopener ugc nofollow" target="_blank">逆波兰符号</a>是一种数学符号，其中运算符跟随其操作数。</p><p id="9251" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">基本方法是使用堆栈。让我们直接检查算法:</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="4d00" class="kr ig hi kn b fi ks kt l ku kv">- create stack st<br/>  initialize int op1, op2</span><span id="1efe" class="kr ig hi kn b fi lj kt l ku kv">- loop for i = 0; i &lt; tokens.size; i++<br/>  - if tokens[i] != "+" &amp;&amp; tokens[i] != "-" &amp;&amp; tokens[i] != "*" &amp;&amp; tokens[i] != "/"<br/>    - push to stack st.push(tokens[i])<br/>  - else<br/>    - set op2 = st.pop()<br/>      set op1 = st.pop()</span><span id="c93a" class="kr ig hi kn b fi lj kt l ku kv">    - if tokens[i] == "+"<br/>      - st.push(op1 + op2)<br/>    - else if tokens[i] == "-"<br/>      - st.push(op1 - op2)<br/>    - else if tokens[i] == "*"<br/>      - st.push(op1 * op2)<br/>    - else<br/>      - st.push(op1 / op2)<br/>- for end</span><span id="6577" class="kr ig hi kn b fi lj kt l ku kv">- return st.top()</span></pre><p id="e1cb" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">这个函数的时间复杂度为<strong class="jf hj"> O(N) </strong>，空间复杂度为<strong class="jf hj"> O(N) </strong>。</p><p id="f9e7" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们检查一下我们在<strong class="jf hj"> C++ </strong>、<strong class="jf hj"> Golang </strong>和<strong class="jf hj"> Javascript </strong>中的解决方案。</p><h2 id="f6ae" class="kr ig hi bd ih kw kx ky il kz la lb ip jo lc ld it js le lf ix jw lg lh jb li bi translated">C++解决方案</h2><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="e4ce" class="kr ig hi kn b fi ks kt l ku kv">typedef long long ll;</span><span id="b70e" class="kr ig hi kn b fi lj kt l ku kv">class Solution {<br/>public:<br/>    int evalRPN(vector&lt;string&gt;&amp; tokens) {<br/>        stack&lt;ll&gt; st;<br/>        ll op1, op2;</span><span id="a6d0" class="kr ig hi kn b fi lj kt l ku kv">        for(int i = 0; i &lt; tokens.size(); i++) {<br/>            if(tokens[i] != "+" &amp;&amp; tokens[i] != "-" &amp;&amp; tokens[i] != "*" &amp;&amp; tokens[i] != "/") {<br/>                st.push(stol(tokens[i]));<br/>            } else {<br/>                op2 = st.top();<br/>                st.pop();<br/>                op1 = st.top();<br/>                st.pop();</span><span id="d3d8" class="kr ig hi kn b fi lj kt l ku kv">                if(tokens[i] == "+")<br/>                    st.push(op1 + op2);<br/>                else if(tokens[i] == "-")<br/>                    st.push(op1 - op2);<br/>                else if(tokens[i] == "*")<br/>                    st.push(op1 * op2);<br/>                else<br/>                    st.push(op1 / op2);<br/>            }<br/>        }</span><span id="0ce4" class="kr ig hi kn b fi lj kt l ku kv">        return (int) st.top();<br/>    }<br/>};</span></pre><h2 id="3477" class="kr ig hi bd ih kw kx ky il kz la lb ip jo lc ld it js le lf ix jw lg lh jb li bi translated">戈朗溶液</h2><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="d9e9" class="kr ig hi kn b fi ks kt l ku kv">func evalRPN(tokens []string) int {<br/>    st := []int{}</span><span id="728b" class="kr ig hi kn b fi lj kt l ku kv">    for _, token := range tokens {<br/>        if token == "+" {<br/>            st[len(st) - 2] += st[len(st) - 1]<br/>            st = st[:len(st) - 1]<br/>        } else if token == "-" {<br/>            st[len(st) - 2] -= st[len(st) - 1]<br/>            st = st[:len(st) - 1]<br/>        } else if token == "*" {<br/>            st[len(st) - 2] *= st[len(st) - 1]<br/>            st = st[:len(st) - 1]<br/>        } else if token == "/" {<br/>            st[len(st) - 2] /= st[len(st) - 1]<br/>            st = st[:len(st) - 1]<br/>        } else {<br/>            num, _ := strconv.Atoi(token)<br/>            st = append(st, num)<br/>        }<br/>    }</span><span id="640d" class="kr ig hi kn b fi lj kt l ku kv">    return st[0]<br/>}</span></pre><h2 id="aaa8" class="kr ig hi bd ih kw kx ky il kz la lb ip jo lc ld it js le lf ix jw lg lh jb li bi translated">Javascript 解决方案</h2><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="0af7" class="kr ig hi kn b fi ks kt l ku kv">var evalRPN = function(tokens) {<br/>    let st = [];<br/>    let op1, op2;</span><span id="2b7a" class="kr ig hi kn b fi lj kt l ku kv">    for(let i = 0; i &lt; tokens.length; i++) {<br/>        if(tokens[i] != "+" &amp;&amp; tokens[i] != "-" &amp;&amp; tokens[i] != "*" &amp;&amp; tokens[i] != "/") {<br/>                st.push(parseInt(tokens[i]));<br/>        } else {<br/>            op2 = st.pop();<br/>            op1 = st.pop();</span><span id="92c3" class="kr ig hi kn b fi lj kt l ku kv">            if(tokens[i] === "+")<br/>                st.push(op1 + op2);<br/>            else if(tokens[i] === "-")<br/>                st.push(op1 - op2);<br/>            else if(tokens[i] === "*")<br/>                st.push(op1 * op2);<br/>            else<br/>                st.push(op1 / op2 | 0);<br/>        }<br/>    }</span><span id="549a" class="kr ig hi kn b fi lj kt l ku kv">    return st[0];<br/>};</span></pre><p id="de5a" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated">让我们试运行一下我们的算法，看看解决方案是如何工作的。</p><pre class="ki kj kk kl fd km kn ko kp aw kq bi"><span id="98cc" class="kr ig hi kn b fi ks kt l ku kv">Input: tokens = ["2", "1", "+", "3", "*"]</span><span id="069d" class="kr ig hi kn b fi lj kt l ku kv">Step 1: stack&lt;ll&gt; st<br/>        int op1, op2</span><span id="cc6f" class="kr ig hi kn b fi lj kt l ku kv">Step 2: loop for int i = 0; i &lt; tokens.size()<br/>          i &lt; tokens.size()<br/>          0 &lt; 5<br/>          true</span><span id="217b" class="kr ig hi kn b fi lj kt l ku kv">          if tokens[i] != "+" &amp;&amp; tokens[i] != "-" &amp;&amp; tokens[i] != "*" &amp;&amp; tokens[i] != "/"<br/>             tokens[0] is "2"<br/>             true</span><span id="816c" class="kr ig hi kn b fi lj kt l ku kv">             st.push(stoi(tokens[i]))<br/>             st.push(stoi(tokens[0]))<br/>             st.push(2)</span><span id="b184" class="kr ig hi kn b fi lj kt l ku kv">             st = [2]</span><span id="069b" class="kr ig hi kn b fi lj kt l ku kv">          i++<br/>          i = 1</span><span id="084d" class="kr ig hi kn b fi lj kt l ku kv">Step 3: loop for i &lt; tokens.size()<br/>          1 &lt; 5<br/>          true</span><span id="be30" class="kr ig hi kn b fi lj kt l ku kv">          if tokens[i] != "+" &amp;&amp; tokens[i] != "-" &amp;&amp; tokens[i] != "*" &amp;&amp; tokens[i] != "/"<br/>             tokens[1] is "1"<br/>             true</span><span id="1457" class="kr ig hi kn b fi lj kt l ku kv">             st.push(stoi(tokens[i]))<br/>             st.push(stoi(tokens[1]))<br/>             st.push(1)</span><span id="a1e8" class="kr ig hi kn b fi lj kt l ku kv">             st = [2, 1]</span><span id="f019" class="kr ig hi kn b fi lj kt l ku kv">          i++<br/>          i = 2</span><span id="958c" class="kr ig hi kn b fi lj kt l ku kv">Step 4: loop for i &lt; tokens.size()<br/>          2 &lt; 5<br/>          true</span><span id="8d17" class="kr ig hi kn b fi lj kt l ku kv">          if tokens[i] != "+" &amp;&amp; tokens[i] != "-" &amp;&amp; tokens[i] != "*" &amp;&amp; tokens[i] != "/"<br/>             tokens[1] is "+"<br/>             false</span><span id="5086" class="kr ig hi kn b fi lj kt l ku kv">          else<br/>            op2 = st.top()<br/>                = 1</span><span id="3822" class="kr ig hi kn b fi lj kt l ku kv">            st.pop()<br/>            st = [2]</span><span id="60e2" class="kr ig hi kn b fi lj kt l ku kv">            op1 = st.top()<br/>                = 2</span><span id="a991" class="kr ig hi kn b fi lj kt l ku kv">            st.pop()<br/>            st = []</span><span id="4191" class="kr ig hi kn b fi lj kt l ku kv">            if tokens[i] == "+"<br/>               true</span><span id="ae0d" class="kr ig hi kn b fi lj kt l ku kv">               st.push(op1 + op2)<br/>               st.push(2 + 1)<br/>               st.push(3)</span><span id="93ce" class="kr ig hi kn b fi lj kt l ku kv">               st = [3]</span><span id="6a16" class="kr ig hi kn b fi lj kt l ku kv">          i++<br/>          i = 3</span><span id="1d82" class="kr ig hi kn b fi lj kt l ku kv">Step 5: loop for i &lt; tokens.size()<br/>          3 &lt; 5<br/>          true</span><span id="a1f7" class="kr ig hi kn b fi lj kt l ku kv">          if tokens[i] != "+" &amp;&amp; tokens[i] != "-" &amp;&amp; tokens[i] != "*" &amp;&amp; tokens[i] != "/"<br/>             tokens[3] is "3"<br/>             true</span><span id="271a" class="kr ig hi kn b fi lj kt l ku kv">             st.push(stoi(tokens[i]))<br/>             st.push(stoi(tokens[3]))<br/>             st.push(3)</span><span id="3e0e" class="kr ig hi kn b fi lj kt l ku kv">             st = [3, 3]</span><span id="056b" class="kr ig hi kn b fi lj kt l ku kv">          i++<br/>          i = 4</span><span id="c54e" class="kr ig hi kn b fi lj kt l ku kv">Step 6: loop for i &lt; tokens.size()<br/>          4 &lt; 5<br/>          true</span><span id="dae9" class="kr ig hi kn b fi lj kt l ku kv">          if tokens[i] != "+" &amp;&amp; tokens[i] != "-" &amp;&amp; tokens[i] != "*" &amp;&amp; tokens[i] != "/"<br/>             tokens[4] is "*"<br/>             false</span><span id="c7ab" class="kr ig hi kn b fi lj kt l ku kv">          else<br/>            op2 = st.top()<br/>                = 3</span><span id="9a04" class="kr ig hi kn b fi lj kt l ku kv">            st.pop()<br/>            st = [3]</span><span id="2c77" class="kr ig hi kn b fi lj kt l ku kv">            op1 = st.top()<br/>                = 3</span><span id="ee1b" class="kr ig hi kn b fi lj kt l ku kv">            st.pop()<br/>            st = []</span><span id="4387" class="kr ig hi kn b fi lj kt l ku kv">            if tokens[i] == "+"<br/>              false<br/>            else if tokens[i] == "-"<br/>              false<br/>            else if tokens[i] == "*"<br/>               st.push(op1 * op2)<br/>               st.push(3 * 3)<br/>               st.push(9)</span><span id="be35" class="kr ig hi kn b fi lj kt l ku kv">               st = [9]</span><span id="46cd" class="kr ig hi kn b fi lj kt l ku kv">          i++<br/>          i = 5</span><span id="1278" class="kr ig hi kn b fi lj kt l ku kv">Step 7: loop for i &lt; tokens.size()<br/>          5 &lt; 5<br/>          false</span><span id="8b72" class="kr ig hi kn b fi lj kt l ku kv">Step 8: return st[0]</span><span id="bc33" class="kr ig hi kn b fi lj kt l ku kv">We return the answer as 9.</span></pre></div><div class="ab cl lk ll gp lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hb hc hd he hf"><p id="844b" class="pw-post-body-paragraph jd je hi jf b jg kc ji jj jk kd jm jn jo ke jq jr js kf ju jv jw kg jy jz ka hb bi translated"><em class="kb">原载于</em><a class="ae kh" href="https://alkeshghorpade.me/post/leetcode-evaluate-reverse-polish-notation" rel="noopener ugc nofollow" target="_blank"><em class="kb">https://alkeshghorpade . me</em></a><em class="kb">。</em></p></div></div>    
</body>
</html>