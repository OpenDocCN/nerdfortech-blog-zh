<html>
<head>
<title>Create an automatically expanding TextEditor with a Placeholder in SwiftUI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在SwiftUI中创建一个带有占位符的自动扩展TextEditor</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/create-an-automatically-expanding-texteditor-with-a-placeholder-in-swiftui-6f4792c1ba19?source=collection_archive---------1-----------------------#2021-11-27">https://medium.com/nerd-for-tech/create-an-automatically-expanding-texteditor-with-a-placeholder-in-swiftui-6f4792c1ba19?source=collection_archive---------1-----------------------#2021-11-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/fd7240cf819c708d4f93ff44c575184e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-TRLsqfxOQ5xljxhcoX87A.png"/></div></div></figure><p id="3176" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">关于这一点，我已经有一段时间没碰过桌子了，网上也有不少关于这方面的漏洞，但这里是我的(相对干净的)方法，在SwiftUI中有一个自动扩展的文本编辑器，甚至还有一个占位符！</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jo"><img src="../Images/0cccf4cc86daf8258fd4c3578c2671a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cX_rlpWFkrH4MrbuIRyJRA.gif"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">展开文本编辑器</figcaption></figure><p id="f887" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里的技巧是在同一个Z堆栈中有一个TextEditor和一个text view，Text view镜像TextEditor的所有文本，但是不透明度为0。这样，当您键入文本时，TextEditor会根据文本视图自行调整大小。</p><p id="1680" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在init()语句中，我们还添加了一个属性，这样TextEditor的背景就清晰了。这样，我们可以使用Z堆栈中的一个对象来改变它的外观——在本例中，是带有clipShape的Color.gray。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="c25c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们还添加了一个扩展，这样我们就可以在文本中有一个占位符，每当文本为nil时，占位符就会出现在文本视图中，当文本有一个字符串值时，占位符就会消失。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="1f45" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就是这样！下面是完整的代码:</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jx jy l"/></div></figure><p id="e235" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">感谢阅读！请在twitter上关注我，地址是@SaladZombie</p><div class="jz ka ez fb kb kc"><a href="https://twitter.com/saladzombie" rel="noopener  ugc nofollow" target="_blank"><div class="kd ab dw"><div class="ke ab kf cl cj kg"><h2 class="bd hj fi z dy kh ea eb ki ed ef hh bi translated">萨拉宗比</h2><div class="kj l"><h3 class="bd b fi z dy kh ea eb ki ed ef dx translated">跟我来。twitter.com</h3></div></div><div class="kk l"><div class="kl l km kn ko kk kp io kc"/></div></div></a></div></div></div>    
</body>
</html>