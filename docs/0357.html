<html>
<head>
<title>The Linux printer overview</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux打印机概述</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-linux-printer-overview-b1b737bafcc7?source=collection_archive---------0-----------------------#2020-10-27">https://medium.com/nerd-for-tech/the-linux-printer-overview-b1b737bafcc7?source=collection_archive---------0-----------------------#2020-10-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="191c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用Linux机器时，作为用户，您可以将打印作业发送到连接到服务器或桌面的任何打印机。当然，这不是一个典型的Linux操作系统的研究案例，但是如果你像我一样好奇，想要了解打印过程中的整个过程，那么，这篇文章就是为你准备的。</p><p id="d602" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以最简单的方式，<strong class="ih hj"> Linux </strong>用户向打印机发送打印任务。</p><p id="b31e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是通过<code class="du jd je jf jg b">lpr</code>命令实现的，它代表<strong class="ih hj">行式打印机</strong>，这个命令负责获取一个文件并将其传递给<code class="du jd je jf jg b">lpd</code>，行式打印机守护进程，一个系统进程。</p><p id="7e2b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">lpd</code>决定使用什么样的打印队列，该队列服务于任何可用的特定打印机，并且该守护程序还可以从网络上的其他计算机接受打印作业。因为这个<code class="du jd je jf jg b">lpd</code>非常不确定<code class="du jd je jf jg b">lpd</code>命令在哪里执行。</p><p id="fc3b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">综上所述，整个周期被分成更多的部分，由用户管理的Linux机器调用<code class="du jd je jf jg b">lpr</code>命令，该命令使用<code class="du jd je jf jg b">lpd</code>守护进程添加发送到打印机队列的任何文件。<code class="du jd je jf jg b">lpd</code>和<code class="du jd je jf jg b">lpr</code>都在主机上。</p><p id="def4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有几种可供选择的打印系统。老式打印机使用<strong class="ih hj"> PostScript，</strong>这是一种标准的打印语言，就像一种指定文档外观的编程语言。今天，现代打印机使用驱动程序在计算机和打印机(打印队列和打印机)之间翻译指令。</p><p id="20ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在基于RHEL的操作系统中，有两个关键的打印文件。打印队列<code class="du jd je jf jg b">/var/spool/lpd</code>和配置文件<code class="du jd je jf jg b">/etc/printcap</code></p><h2 id="5e4e" class="jh ji hi bd jj jk jl jm jn jo jp jq jr iq js jt ju iu jv jw jx iy jy jz ka kb bi translated">工具作业</h2><p id="0a15" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">RedHat有一个名为<code class="du jd je jf jg b">printtool</code>的工具，这将启动一个打印配置GUI。在这里，您可以启动新的打印队列，设置队列名称、队列类型、本地打印机和驱动程序。</p><p id="ea7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以在适当的GUI中检查队列类型，当<code class="du jd je jf jg b">lpd</code>守护程序初始化并运行时，大多数默认配置会自动加载到打印机配置文件中。配置可在<code class="du jd je jf jg b">/etc/printcap</code>中找到，但最好编辑<code class="du jd je jf jg b">/etc/printcap.local</code>。</p><p id="4df8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的例子中，是<code class="du jd je jf jg b">hp1:/</code>队列，它包含假脱机目录、定位的设备、过滤器(默认为mf_wrapper)等等。过滤器负责验证、脚本运行过程以及更多相关的事情。</p><p id="c211" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">回到<code class="du jd je jf jg b">printtool</code>，您可以通过向<code class="du jd je jf jg b">hp1://</code>队列发送一些东西来进行测试。</p><h2 id="6cfa" class="jh ji hi bd jj jk jl jm jn jo jp jq jr iq js jt ju iu jv jw jx iy jy jz ka kb bi translated">发送至打印</h2><p id="ee43" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">这是一个简单的过程。</p><p id="ee6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们首先对现有队列使用<code class="du jd je jf jg b">lpr</code>命令，选择一个文件作为参数。</p><p id="dc8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du jd je jf jg b">lpr -P hd1 file.txt</code></p><p id="2a2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">此时，文件进入计算机，然后进入内存中的<strong class="ih hj">打印队列</strong>，之后进入进程。</p><p id="6493" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您可以使用<code class="du jd je jf jg b">lpq</code>命令检查关于队列的更多信息</p><p id="d17e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在删除的情况下，<code class="du jd je jf jg b">plrm</code>命令将完成工作，可以通过如下方式完成:<code class="du jd je jf jg b">plrm [job id]</code></p><p id="590f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这最后一个命令将从队列中删除一个打印作业。这是由打印作业的所有者或根用户完成的</p><p id="6b75" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">很直白，对吧？</p><p id="d104" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐打印:)</p></div></div>    
</body>
</html>