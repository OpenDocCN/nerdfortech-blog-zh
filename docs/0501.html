<html>
<head>
<title>How To Create A Timeline To Track Your Achievements</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何创建一个时间表来跟踪你的成就</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-create-a-timeline-to-track-your-achievements-94762f93f599?source=collection_archive---------1-----------------------#2021-01-03">https://medium.com/nerd-for-tech/how-to-create-a-timeline-to-track-your-achievements-94762f93f599?source=collection_archive---------1-----------------------#2021-01-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/263eade6b72338c162af7e6260572448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cEv1oSkZD71i5Xfj"/></div></div></figure><h1 id="ce43" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">介绍</h1><p id="89ff" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">最近，我偶然看到一条由Florin Pop 发布的推文，它谈到了使用时间表来跟踪你的次要和主要成就。这是一个有趣的想法..我怎么从来没想过这个。因此，受到启发，我开始创作自己的版本。在这篇文章中，你会看到我从灵感到创作的历程。</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="kr ks l"/></div></figure><h1 id="d373" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">技术堆栈</h1><p id="c4ec" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我最后想要的非常清楚，只有我需要使用的技术需要被弄清楚。我选择Django作为后端..因为为什么不呢..它提供了易于管理的模型-视图-控制架构，开箱即用的管理面板和前端将是简单的Html和CSS，我不是一个幻想的人..简单对我来说很好。</p><h1 id="6f88" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">开始</h1><p id="2bed" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">我首先创建了一个简单的Django项目，然后创建了一个timeline应用程序。我计划添加更多的东西，所以创建一个单独的应用程序是一个好主意。此外，我添加了<em class="kt">卡片</em>模型，简单地保留<strong class="jq hj">标题</strong>、<strong class="jq hj">正文</strong>、<strong class="jq hj">日期</strong>作为字段，如果任何其他东西需要的话，比如<strong class="jq hj">标签</strong>..(我计划稍后添加)可以轻松添加。</p><pre class="kn ko kp kq fd ku kv kw kx aw ky bi"><span id="8e89" class="kz ir hi kv b fi la lb l lc ld">class Card(models.Model):<br/> “””<br/> In timeline: Each achievement is shown in card<br/> “””<br/>    heading = models.CharField(max_length=55, default=”I forgot to add heading..”, blank=False, null=False)<br/>    body = models.TextField(max_length=999, default=””, null=True, blank=True)<br/>    date = models.DateField(default=timezone.now, null=False, blank=False)<br/>    def __str__(self) -&gt; str:<br/>        return f”{self.heading}.. on {self.date}”</span></pre><p id="3d73" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">一旦模型完成..是时候创建一些视图来处理一些幕后的东西了。我想要一个时间表，其中所有的卡片(即成就)都按年份分开..因此我需要处理这件事。</p><p id="d895" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">对于视图，我使用了基于类的通用视图<code class="du lj lk ll kv b">django.views.generic.View</code>,并定义了自己的请求处理方法..因为我想我将来可能会需要定制的东西。</p><pre class="kn ko kp kq fd ku kv kw kx aw ky bi"><span id="321a" class="kz ir hi kv b fi la lb l lc ld">class CardView(View):<br/>    template_name = 'timeline/card_list_view.html'<br/>    def get(self, request):<br/>        cards = Card.objects.all().order_by('-date')<br/>        return render(request, template_name=self.template_name, context={'timeline_data':cards})</span></pre><p id="23d2" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">对于我的第一种方法，我只是尝试将所有的卡片都呈现在前面..我很快意识到这是行不通的。因为在Django我没有办法(至少我找不到)以这样一种方式查询数据库，可以给我以年份分隔的卡片。因此，我添加了自己的逻辑来处理这个问题。</p><pre class="kn ko kp kq fd ku kv kw kx aw ky bi"><span id="c578" class="kz ir hi kv b fi la lb l lc ld">class CardView(View):<br/>    template_name = 'timeline/card_list_view.html'<br/>    def get(self, request):<br/>        cards = Card.objects.all().order_by('-date').values()</span><span id="eb02" class="kz ir hi kv b fi lm lb l lc ld">        qs = defaultdict(list)<br/>        for query in cards:<br/>            card_year = query['date'].year<br/>            qs[card_year] += [query]<br/>        qs = dict(qs)</span><span id="5536" class="kz ir hi kv b fi lm lb l lc ld">        return render(request, template_name=self.template_name, context={'timeline_data':qs})</span></pre><p id="eab8" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">我用了<code class="du lj lk ll kv b">defaultdict</code>，非常有用的工具..给我省了一些<code class="du lj lk ll kv b">if-else</code>和<code class="du lj lk ll kv b">try/except</code>。如果你想知道我在这里做什么——首先我按照从最新到最老的顺序得到所有的卡片，然后<code class="du lj lk ll kv b">.values()</code>把它转换成字典列表。然后我创建了一个defaultdict对象..其中每一项都有<code class="du lj lk ll kv b">list</code>作为默认值，并在一个键-值对中添加了同年的所有卡片。好了..这就是后端代码的深度。</p><p id="a4ee" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">向前看，我有点懒得创建自己的前端，因此我四处看看，发现了一个很棒的时间线模板，正如我想要的那样——简单而强大(查看<a class="ae km" href="https://codepen.io/htmlcodex/details/KKVpdNK" rel="noopener ugc nofollow" target="_blank">这里</a>)。</p><figure class="kn ko kp kq fd ij"><div class="bz dy l di"><div class="ln ks l"/></div></figure><p id="01c5" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">有一个问题..它使用不同的css类来替换奇数卡左边的<em class="kt">和偶数卡右边的<em class="kt">。所以，我需要一种方法来使用它</em></em></p><ol class=""><li id="0ee4" class="lo lp hi jq b jr le jv lf jz lq kd lr kh ls kl lt lu lv lw bi translated">Django模板中的计数器，以及</li><li id="8809" class="lo lp hi jq b jr lx jv ly jz lz kd ma kh mb kl lt lu lv lw bi translated">找出它们是偶数还是奇数的方法..因为我们不能在那里使用简单的%2。</li></ol><p id="a435" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">因此，我环顾四周，发现了两件意想不到的事情..一起解决我的问题。首先是<code class="du lj lk ll kv b">forloop.counter</code>，顾名思义..这是django中<code class="du lj lk ll kv b">for</code>循环的计数器..第二个<code class="du lj lk ll kv b">divisibleby</code>过滤器(字面上Django拥有一切)。最后，我的前端看起来像这样..(我修剪了不相关的代码)</p><pre class="kn ko kp kq fd ku kv kw kx aw ky bi"><span id="2427" class="kz ir hi kv b fi la lb l lc ld">&lt;div class="timeline-continue"&gt;<br/>    {% for year, card_list in timeline_data.items %}<br/>        {% for card  in card_list %}<br/>            {% if forloop.counter|divisibleby:2 %}<br/>                {% include 'timeline/snippets/right_card.html' with heading=card.heading date=card.date body=card.body %}<br/>            {% else %} <br/>                {% include 'timeline/snippets/left_card.html'  with heading=card.heading date=card.date body=card.body %}<br/>            {% endif %}<br/>        {% endfor %}<br/>        {% include 'timeline/snippets/year_circle.html' with year=year %}                    <br/>    {% endfor %}<br/>&lt;/div&gt;</span></pre><p id="4d45" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">是的，我用片段来遵循干燥的原则..左右两边的卡片片段看起来像这样。左卡</p><pre class="kn ko kp kq fd ku kv kw kx aw ky bi"><span id="4ca6" class="kz ir hi kv b fi la lb l lc ld">&lt;div class="row timeline-right"&gt;<br/>    &lt;div class="col-md-6"&gt;<br/>        &lt;p class="timeline-date"&gt;<br/>            {{date|date:"F  "}}<br/>        &lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="col-md-6"&gt;<br/>        &lt;div class="timeline-box"&gt;<br/>            &lt;div class="timeline-icon"&gt;<br/>                &lt;i class="fa fa-gift"&gt;&lt;/i&gt;<br/>            &lt;/div&gt;<br/>            &lt;div class="timeline-text"&gt;<br/>                &lt;center&gt;<br/>                &lt;h3&gt;{{heading|title }}&lt;/h3&gt;<br/>                &lt;p&gt;{{body}}&lt;/p&gt;<br/>                &lt;/center&gt;<br/>            &lt;/div&gt;<br/>        &lt;/div&gt;<br/>    &lt;/div&gt;<br/>&lt;/div&gt;</span></pre><p id="44cd" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">右卡</p><pre class="kn ko kp kq fd ku kv kw kx aw ky bi"><span id="87c8" class="kz ir hi kv b fi la lb l lc ld">&lt;div class="row timeline-left"&gt;<br/>    &lt;div class="col-md-6 d-md-none d-block"&gt;<br/>      &lt;p class="timeline-date"&gt;<br/>        {{date|date:"F"}}<br/>      &lt;/p&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="col-md-6"&gt;<br/>      &lt;div class="timeline-box"&gt;<br/>        &lt;div class="timeline-icon d-md-none d-block"&gt;<br/>          &lt;i class="fa fa-business-time"&gt;&lt;/i&gt;<br/>        &lt;/div&gt;<br/>        &lt;div class="timeline-text"&gt;<br/>          &lt;center&gt;<br/>          &lt;h3&gt;{{heading|title }}&lt;/h3&gt;<br/>          &lt;p&gt;{{body}}&lt;/p&gt;<br/>          &lt;/center&gt;<br/>        &lt;/div&gt;<br/>        &lt;div class="timeline-icon d-md-block d-none"&gt;<br/>          &lt;i class="fa fa-business-time"&gt;&lt;/i&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;<br/>    &lt;div class="col-md-6 d-md-block d-none"&gt;<br/>      &lt;p class="timeline-date"&gt;<br/>        {{date|date:"F"}}<br/>      &lt;/p&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;</span></pre><p id="9a93" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">老实说，就是它。这只是在数据库中创建一些卡片来检查最终产品的问题。我相信结果很好。你可以看到这个最终产品<a class="ae km" href="https://amangoyal.ml/timeline/" rel="noopener ugc nofollow" target="_blank">在这里</a></p><p id="40c7" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">你可以在这里看完整的代码库<a class="ae km" href="https://amangoyal.ml/timeline/" rel="noopener ugc nofollow" target="_blank">。</a></p><div class="mc md ez fb me mf"><a href="https://github.com/goyal-aman/portfolio/" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab dw"><div class="mh ab mi cl cj mj"><h2 class="bd hj fi z dy mk ea eb ml ed ef hh bi translated">goyal-aman/作品集</h2><div class="mm l"><h3 class="bd b fi z dy mk ea eb ml ed ef dx translated">包含我即将推出的投资组合的源代码。创建账户，为goyal-aman/产品组合的发展做出贡献…</h3></div><div class="mn l"><p class="bd b fp z dy mk ea eb ml ed ef dx translated">github.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt io mf"/></div></div></a></div></div><div class="ab cl mu mv gp mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="hb hc hd he hf"><p id="1bb6" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated"><em class="kt">最初发布于</em><a class="ae km" href="https://amangoyal.hashnode.dev/how-to-create-a-timeline-to-track-your-achievements" rel="noopener ugc nofollow" target="_blank"><em class="kt">https://amango yal . hash node . dev</em></a><em class="kt">。</em></p><p id="efc7" class="pw-post-body-paragraph jo jp hi jq b jr le jt ju jv lf jx jy jz lg kb kc kd lh kf kg kh li kj kk kl hb bi translated">鸣谢:文章封面照片由<a class="ae km" href="https://unsplash.com/@florianklauer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">弗洛里安·克劳尔</a>在<a class="ae km" href="https://unsplash.com/s/photos/cover-photo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></div></div>    
</body>
</html>