<html>
<head>
<title>How to get financial data using Python?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python获取财务数据？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-get-financial-data-using-python-7a508f25fc39?source=collection_archive---------1-----------------------#2021-01-04">https://medium.com/nerd-for-tech/how-to-get-financial-data-using-python-7a508f25fc39?source=collection_archive---------1-----------------------#2021-01-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="20c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">理解如何获取数据以使用Python进行金融分析的指南。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/3ea7ffb7656790109cd0fd313e4d0e6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Qn4wtWfWYJwORKsgX-wJA.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">杰森·布里斯科在<a class="ae jt" href="https://unsplash.com/s/photos/finance?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="9d48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您计划将Python用于金融时，需要一种特定形式的数据。这个数据应该关注财务价值。在本文中，我将介绍两种使用Python语言获取财务数据的方法。</p><h1 id="320c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">1)方法1: Pandas — datareader</h1><p id="04ad" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">我提到的第一种方法是使用Pandas-datareader获取数据。Pandas是一个开源Python库，用于执行数据分析，并被用作操作工具。看看下面提到的这篇文章，详细了解熊猫。</p><div class="kx ky ez fb kz la"><a rel="noopener follow" target="_blank" href="/ai-in-plain-english/pandas-in-depth-for-data-science-60abbcb2206"><div class="lb ab dw"><div class="lc ab ld cl cj le"><h2 class="bd hj fi z dy lf ea eb lg ed ef hh bi translated">将熊猫用于数据科学的综合指南</h2><div class="lh l"><h3 class="bd b fi z dy lf ea eb lg ed ef dx translated">一个详细的代码指南，用于理解和实际实现处理数据时的Pandas。</h3></div><div class="li l"><p class="bd b fp z dy lf ea eb lg ed ef dx translated">medium.com</p></div></div><div class="lj l"><div class="lk l ll lm ln lj lo jn la"/></div></div></a></div><p id="916e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，子包Pandas-datareader帮助用户从可用的互联网资源创建数据帧。它允许人们连接到许多来源，如雅虎财经、世界银行、谷歌分析、圣路易斯联邦储备银行和肯尼斯·弗伦奇的数据库。连接后，您可以提取数据并将其作为dataframe读入。</p><p id="e9c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们看看如何使用它！</p><h2 id="53ae" class="lp jv hi bd jw lq lr ls ka lt lu lv ke iq lw lx ki iu ly lz km iy ma mb kq mc bi translated">安装pandas-datareader</h2><p id="4521" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">可以使用以下命令完成安装:</p><blockquote class="md"><p id="076b" class="me mf hi bd mg mh mi mj mk ml mm jc dx translated">pip安装熊猫-datareader</p></blockquote><h2 id="6f14" class="lp jv hi bd jw lq mn ls ka lt mo lv ke iq mp lx ki iu mq lz km iy mr mb kq mc bi translated">导入包</h2><p id="2f82" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">pandas_datareader包被导入以供使用。与之一起，日期时间库也被导入。这个库将帮助我们传递日期时间对象。</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="7902" class="lp jv hi mt b fi mx my l mz na"><strong class="mt hj">&gt;&gt;&gt; import</strong> pandas_datareader.data <strong class="mt hj">as</strong> web<br/><strong class="mt hj">&gt;&gt;&gt; import</strong> datetime</span></pre><h2 id="4af4" class="lp jv hi bd jw lq lr ls ka lt lu lv ke iq lw lx ki iu ly lz km iy ma mb kq mc bi translated">设置开始和结束日期</h2><p id="980a" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">现在，我们将设置开始和结束日期，以便从该间隔中提取数据。</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="b649" class="lp jv hi mt b fi mx my l mz na">&gt;&gt;&gt; start <strong class="mt hj">=</strong> datetime.datetime(2018,1,1)<br/>&gt;&gt;&gt; end <strong class="mt hj">=</strong> datetime.datetime(2020,1,1)</span></pre><h2 id="09e6" class="lp jv hi bd jw lq lr ls ka lt lu lv ke iq lw lx ki iu ly lz km iy ma mb kq mc bi translated">创建股票数据框架</h2><p id="463b" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">现在我们将声明一个我们想要作为数据帧的变量。然后我们将调用“DataReader”方法。此方法接受值name、data_source、start date和end date。</p><p id="0dd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在这里，我们将考虑微软的数据，名称将写为“MSFT”，来源将是雅虎，开始和结束日期如上所述。</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="c5f1" class="lp jv hi mt b fi mx my l mz na">&gt;&gt;&gt; data <strong class="mt hj">=</strong> web.DataReader('MSFT','yahoo',start,end)<br/>&gt;&gt;&gt; data.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nb"><img src="../Images/25565ed4ae6dd38c51557ea685484d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*C9hjZsMt-UrwBfetKNv8Aw.png"/></div></div></figure><h1 id="de73" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">2)方法二:Quandl</h1><p id="aab3" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">第二种方法是从Quandl获取数据。Quandl是一家公司，也是金融或经济数据集的来源。它提供了一个Python API，可以自由使用，非常健壮，有助于从各种来源提取数据。</p><p id="24bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Quandl规定使用付费的高级服务和免费的基本服务。要免费使用这些服务，请访问Quandl网站，点击“核心财务数据”选项。它是免费使用的，每个人都可以使用。在过滤器中，通过点击“免费”选项，您可以查看免费数据源。然后，您可以下载各种格式的数据，如JSON、CSV和XML，也可以使用Python、R、MATLAB等不同的API。我们将直接使用Python API。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nc"><img src="../Images/3e2ddacca652ab2ab6cf45cfa0532957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*knKm0DUGSAAq87_qg58Wbg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">左侧显示免费选项的图片。(来源:作者)</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nc"><img src="../Images/908e7e2948baece2a6b8ecf11525f549.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aPrIqzNM0cqUrK8ZX_D4ZA.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图中显示了导出数据和数据集代码的方法。(来源:作者)</figcaption></figure><h2 id="5bc7" class="lp jv hi bd jw lq lr ls ka lt lu lv ke iq lw lx ki iu ly lz km iy ma mb kq mc bi translated">安装Quandl</h2><blockquote class="md"><p id="d263" class="me mf hi bd mg mh mi mj mk ml mm jc dx translated"><em class="nd"> pip安装quandl </em></p></blockquote><h2 id="280d" class="lp jv hi bd jw lq mn ls ka lt mo lv ke iq mp lx ki iu mq lz km iy mr mb kq mc bi translated">导入必要的包</h2><p id="f446" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">quandl包被导入。</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="c956" class="lp jv hi mt b fi mx my l mz na"><strong class="mt hj">&gt;&gt;&gt; import</strong> quandl</span></pre><h2 id="9bb3" class="lp jv hi bd jw lq lr ls ka lt lu lv ke iq lw lx ki iu ly lz km iy ma mb kq mc bi translated">提取数据</h2><p id="28b2" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">可以使用“get”方法获得数据。此方法提取单个时间序列。还有另一个方法“get_table ”,它提取整个数据库。</p><p id="ab9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Quandl的数据库使用格式为:DATABASE_CODE/DATASET_CODE。quandl代码可以在相应数据集的网站上找到。</p><p id="78e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将试着从美国国务院获取石油价格。</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="1ce4" class="lp jv hi mt b fi mx my l mz na">&gt;&gt;&gt; data1 <strong class="mt hj">=</strong> quandl.get('EIA/PET_RWTC_D')<br/>&gt;&gt;&gt; data1.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ne"><img src="../Images/311c1ae401da81aabad253d4c5c78f13.png" data-original-src="https://miro.medium.com/v2/resize:fit:296/format:webp/1*ZaYt80NdC6XUR2sIC9A5Rg.png"/></div></figure><h2 id="d1ea" class="lp jv hi bd jw lq lr ls ka lt lu lv ke iq lw lx ki iu ly lz km iy ma mb kq mc bi translated">绘制数据</h2><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="12cb" class="lp jv hi mt b fi mx my l mz na"><strong class="mt hj">&gt;&gt;&gt; import</strong> matplotlib.pyplot <strong class="mt hj">as</strong> plt<br/><strong class="mt hj">&gt;&gt;&gt; %</strong>matplotlib inline</span><span id="de89" class="lp jv hi mt b fi nf my l mz na">&gt;&gt;&gt; data1.plot()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ng"><img src="../Images/763cf0ebd68d83d5b5d934ff86729c85.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*7Wy3uAuJza23PBr9ndY3lw.png"/></div></figure><p id="18cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看其他数据，比如脸书。</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="1bfc" class="lp jv hi mt b fi mx my l mz na">&gt;&gt;&gt; data2 <strong class="mt hj">=</strong> quandl.get('WIKI/FB')<br/>&gt;&gt;&gt; data2.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es nh"><img src="../Images/0a3bf14461c265896f4defe0535769ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YiUz2sFlouSGht08l5wVcA.png"/></div></div></figure><p id="e07c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以防您不想要所有这些列。列号可以相应提及。</p><pre class="je jf jg jh fd ms mt mu mv aw mw bi"><span id="2fd2" class="lp jv hi mt b fi mx my l mz na">&gt;&gt;&gt; data2 <strong class="mt hj">=</strong> quandl.get('WIKI/FB.1')<br/>&gt;&gt;&gt; data2.head()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ni"><img src="../Images/18a90f09d354932a0d72d1a8a05b830b.png" data-original-src="https://miro.medium.com/v2/resize:fit:306/format:webp/1*ZCqi6zOkk3qbEwvPvaSxUA.png"/></div></figure><blockquote class="nj nk nl"><p id="61fa" class="if ig nm ih b ii ij ik il im in io ip nn ir is it no iv iw ix np iz ja jb jc hb bi translated">查看熊猫的官方文档-datareader和Quandl。</p></blockquote><div class="kx ky ez fb kz la"><a href="https://pandas-datareader.readthedocs.io/en/latest/" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab dw"><div class="lc ab ld cl cj le"><h2 class="bd hj fi z dy lf ea eb lg ed ef hh bi translated">pandas-datareader-pandas-datareader 0 . 9 . 0 rc1+2 . g 427 f 658文档</h2><div class="lh l"><h3 class="bd b fi z dy lf ea eb lg ed ef dx translated">编辑描述</h3></div><div class="li l"><p class="bd b fp z dy lf ea eb lg ed ef dx translated">熊猫-datareader.readthedocs.io</p></div></div></div></a></div><div class="kx ky ez fb kz la"><a href="https://www.quandl.com/" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab dw"><div class="lc ab ld cl cj le"><h2 class="bd hj fi z dy lf ea eb lg ed ef hh bi translated">Quandl</h2><div class="lh l"><h3 class="bd b fi z dy lf ea eb lg ed ef dx translated">我们将来自非传统出版商的未被发现的数据带给寻求独特、预测性见解的投资者。我们…</h3></div><div class="li l"><p class="bd b fp z dy lf ea eb lg ed ef dx translated">www.quandl.com</p></div></div><div class="lj l"><div class="nq l ll lm ln lj lo jn la"/></div></div></a></div><blockquote class="md"><p id="4a5f" class="me mf hi bd mg mh nr ns nt nu nv jc dx translated">此处代码<a class="ae jt" href="https://github.com/jayashree8/Finance_Trading_In_Python/blob/main/Financial%20sources%20of%20data/Financial_data_sources.ipynb" rel="noopener ugc nofollow" target="_blank">参见笔记本。</a></p></blockquote><blockquote class="nj nk nl"><p id="9b45" class="if ig nm ih b ii nw ik il im nx io ip nn ny is it no nz iw ix np oa ja jb jc hb bi translated">联系我:<a class="ae jt" href="https://www.linkedin.com/in/jayashree-domala8/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a></p><p id="c2f3" class="if ig nm ih b ii ij ik il im in io ip nn ir is it no iv iw ix np iz ja jb jc hb bi translated">看看我的其他作品:<a class="ae jt" href="https://github.com/jayashree8" rel="noopener ugc nofollow" target="_blank"> GitHub </a></p></blockquote></div></div>    
</body>
</html>