<html>
<head>
<title>Implementing space shooter game features - Enemy shields</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现太空射击游戏功能-敌人盾牌</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-enemy-shields-7c4f343bb6a0?source=collection_archive---------13-----------------------#2021-06-16">https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-enemy-shields-7c4f343bb6a0?source=collection_archive---------13-----------------------#2021-06-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="64a7" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="4c94" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">Unity 空间射击游戏新增功能快速回顾</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/125cc62ed6f840a0ff2c3d41b8b839f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*d-_6jFmcqRAU4pLnbREnvQ.gif"/></div></div></figure><p id="a8fa" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:在 Unity 的太空射击游戏中为敌人实施盾牌。</p><p id="eb41" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在上一篇文章中，我在 Unity 的太空射击游戏中用激光束射击了一个新类型的敌人。现在是时候在每波产生的一些敌人身上使用护盾了。</p><h1 id="5e79" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">屏蔽预制件</h1><p id="50a8" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">为了实现敌人之盾，我们需要改变我们处理玩家之盾的方式，让它成为一个独立的对象，处理几乎所有与其他游戏对象和镜头的碰撞。</p><p id="0632" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在下一张图片中，我们可以看到玩家的盾牌，这是一个禁用的游戏对象，当玩家受到伤害时，它会再次启用和禁用:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl ln lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/22eb342b40d3d709e651e5f9ba91f1c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1456/1*IlzHA_DT69UBBiJQfYjHFg.gif"/></div></figure><figure class="lm jl ls lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/7834cc27af3bc31c9b9b9acbb6825439.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*jm4t2nxIF9c3MznIl3mLjQ.png"/></div></figure></div><p id="8529" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">因此，为了使盾牌成为一个独立的对象，让我们添加一个 2D 碰撞器来很好地适应精灵，让我们启用<strong class="ju hs"> <em class="lt">是触发</em> </strong> <em class="lt"> </em>属性:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl lu lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/07a69148e2095e6eb43d70d38b410f06.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/1*f-KBP17z4O2cSLDLIayvPQ.gif"/></div></figure><figure class="lm jl lv lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/8779d0833edaf8fc3821541d6999e4be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*v-ol_ZxERLzvGn0t92fP_w.png"/></div></figure></div><p id="b3a3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们在场景视图中修改碰撞器来覆盖盾牌精灵:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl lw lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/236a0cfdfe8444960516e69c89a467ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*N-jSknh0v7zesIoXcX6AEg.gif"/></div></figure><figure class="lm jl lw lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a181c8bf3b73924503f092882a7aa666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*zqlvXq-99x38CgRxDWWXDA.gif"/></div></figure></div><p id="be78" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">此外，为了处理碰撞，让我们添加一个 2D 刚体，并将重力比例设置为 0:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl lx lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/92a71f9e74ec94132cce2e6c87c9ed0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/1*GELFFdakXkQqHjZsbQompg.gif"/></div></figure><figure class="lm jl ly lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/12bc725bbbd5365249bf15b9a89db728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*N99ISXOkAaZmcACiZp1P9A.png"/></div></figure></div><p id="ee6d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们通过把它拖到各自的预设文件夹中来制作一个预设。因为我们已经为玩家准备了一个(而且我们只需要修改敌人盾牌中的一些值)我们可以选择制作一个新的预置变体而不是一个新的预置:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lz"><img src="../Images/7eb98c8889931b90f0e4d76980442cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/1*7PvVNKH7rfflcm79vci_jQ.gif"/></div></figure><p id="9759" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了区分盾牌预设，我们可以为每个预设使用一个标签或布尔值:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl ma lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/dda240d8a49428cae3811051c0ca3760.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*YruZ9ddfsivN3f-HnTsRNg.png"/></div></figure><figure class="lm jl mb lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a915256b453fe3e9b7dafa73471b1cae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*jat7ozsJbiBsMimt7GxaRw.png"/></div></figure></div><div class="ab cb"><figure class="lm jl mc lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/81f1bb5b54850f94cf64dbebc16db912.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*mV7CGiKJU4Dgc-pXa1eQ9w.png"/></div></figure><figure class="lm jl md lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/cdae4d241c5eab8a11bc8fb6938193a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*FgqJp8bvS52XjU05dREmSg.png"/></div><figcaption class="me mf et er es mg mh bd b be z dx mi di mj mk translated">为了避免使用像<strong class="bd kr"> GetComponent </strong>这样昂贵的方法，我们只能使用标签。</figcaption></figure></div><h1 id="da8d" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">屏蔽等级</h1><p id="7059" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了处理游戏逻辑，让我们打开盾牌脚本。在脚本中，我们需要一个新变量:</p><ul class=""><li id="1f8e" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">是敌人的盾牌</li></ul><p id="2494" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个新的变量表明盾牌预设是否会被实例化来覆盖敌人。通过使用<strong class="ju hs">【serialize field】</strong>我们可以确保通过检查器修改它的值。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mu"><img src="../Images/ba61bce06b59e7f94e53e88f16f3ccaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*qdeRfXvNa9Zxilxdz-Qb1A.png"/></div></figure><p id="1e9b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果你想知道其他变量是做什么的，你可以在这个旧帖子中查看玩家的盾牌实现:</p><div class="mv mw ez fb mx my"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/implementing-space-shooter-game-features-shield-strength-1fd3c5c18ee3"><div class="mz ab dw"><div class="na ab nb cl cj nc"><h2 class="bd hs fi z dy nd ea eb ne ed ef hr bi translated">实现空间射击游戏的功能-盾牌的力量</h2><div class="nf l"><h3 class="bd b fi z dy nd ea eb ne ed ef dx translated">Unity 空间射击游戏新增功能快速回顾</h3></div><div class="ng l"><p class="bd b fp z dy nd ea eb ne ed ef dx translated">medium.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm jq my"/></div></div></a></div><p id="57c6" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们把布尔方法(它表示盾牌受到伤害，如果盾牌需要保持活动就返回)改为无效方法，当没有抵抗时禁用盾牌:</p><div class="jh ji jj jk fd ab cb"><figure class="lm jl nn lo lp lq lr paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a6acc0061aedeee9154a6bbf9856b85f.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*s8bX9sQZW9EqgpCMIGHabQ.png"/></div></figure><figure class="lm jl no lo lp lq lr paragraph-image"><img src="../Images/fed513c7035e365ccefd97681f208306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*LfwHdAjK-Mctgr_Fl5OQlg.png"/><figcaption class="me mf et er es mg mh bd b be z dx np di nq mk translated">第一张图显示了旧方法，第二张图显示了新方法。</figcaption></figure></div><p id="f187" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，为了处理与其他游戏对象的冲突，让我们使用<strong class="ju hs"> OnTriggerEnter2D </strong>方法:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nr"><img src="../Images/1711d51b7fda981772224c4517ba0124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*bNzdUEb5H0lxOObKLcjWXg.png"/></div></figure><p id="df03" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">首先，我们要确保盾牌是玩家的，这样我们就可以处理盾牌和以下物体之间的碰撞:</p><ul class=""><li id="afcc" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">其他敌人护盾</li><li id="799c" class="ml mm hi ju b jv ns jy nt kb nu kf nv kj nw kn mq mr ms mt bi translated">敌人的射击</li><li id="e474" class="ml mm hi ju b jv ns jy nt kb nu kf nv kj nw kn mq mr ms mt bi translated">敌人</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nx"><img src="../Images/8bd8e80945d813291c5867f9d71ddb36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f7_ZzGapl5Oj0MqtylqW-Q.png"/></div></div></figure><p id="1a2b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，如果护盾来自敌人，我们需要检查护盾和以下物体之间的碰撞:</p><ul class=""><li id="c274" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">玩家的盾牌</li><li id="b11a" class="ml mm hi ju b jv ns jy nt kb nu kf nv kj nw kn mq mr ms mt bi translated">玩家的镜头</li><li id="7e44" class="ml mm hi ju b jv ns jy nt kb nu kf nv kj nw kn mq mr ms mt bi translated">玩家本身</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ny"><img src="../Images/f981074fa8807d2f6bb0de649de82287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WhOCy2NmL_EoqAlsIdynbg.png"/></div></div></figure><h1 id="047c" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">产卵护盾</h1><p id="9e16" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了用盾繁殖敌人(不需要在他们各自的预设中添加盾),我们需要在繁殖管理器脚本中创建 2 个新变量:</p><ul class=""><li id="ba77" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">敌人的盾牌</li></ul><p id="ad0d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将存储一个对盾牌预置的引用。我们可以使用<strong class="ju hs">【serialize field】</strong>将预设拖到检查器中。</p><ul class=""><li id="ee4c" class="ml mm hi ju b jv jw jy jz kb mn kf mo kj mp kn mq mr ms mt bi translated">屏蔽概率</li></ul><p id="466a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将会存储一个十进制数值，这个数值将会显示出用盾牌产生新敌人的概率。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nz"><img src="../Images/b6304d0e4ef50726b7e93a6831e6f568.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*3EhpCVWyZpLENUrP26W_DQ.png"/></div></figure><p id="f05d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，让我们在每一波产生敌人的函数中添加几行代码。我们将比较<strong class="ju hs"> Random.value </strong>的值(返回 0 和 1 之间的值，包括 0 和 1)和盾牌概率，如果它在这个范围内，我们将把盾牌预置实例化为要产生的新敌人的孩子:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es oa"><img src="../Images/9f7269b6c0b973f3c4f22afa467994ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fhbff8FpGncU5jLezW51fA.png"/></div></div></figure><p id="11e8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，如果我们在 Unity 中运行游戏，我们将能够看到一些敌人有护盾，并且护盾在他们自己的类别中工作:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/23d3567f691904711c45b9b4c84d0d08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Hnfg1rhgywgDvmkV4epw6A.gif"/></div></div></figure><p id="4b1d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们对敌人实施了屏蔽！:d .我会在下一篇文章中看到你，在那里我会展示更多添加到我的 Unity 太空射击游戏中的功能。</p></div><div class="ab cl ob oc gp od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="hb hc hd he hf"><blockquote class="oi oj ok"><p id="17b4" class="js jt lt ju b jv jw is jx jy jz iv ka ol kc kd ke om kg kh ki on kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>