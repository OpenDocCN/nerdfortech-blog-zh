<html>
<head>
<title>Lottie Animations in Jetpack Compose Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jetpack中的Lottie动画合成Android</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/lottie-animations-in-jetpack-compose-android-c471c234288e?source=collection_archive---------4-----------------------#2021-05-29">https://medium.com/nerd-for-tech/lottie-animations-in-jetpack-compose-android-c471c234288e?source=collection_archive---------4-----------------------#2021-05-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6bc37c9843c273e7c9dd91a24b967e9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1nqw5nBX6EWfWrDANvC3Ng.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片复制自<a class="ae iu" href="https://airbnb.design/lottie/" rel="noopener ugc nofollow" target="_blank">https://airbnb.design/lottie/</a></figcaption></figure><p id="5ba8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在今天的文章中，我将向您展示如何在android jetpack compose中使用Lottie动画，而不使用任何布局xml标签。要在android中使用Lottie动画，我们必须在xml标签中声明它。但是在jetpack compose中我们不创建xml标签，我们在@Composable函数中声明动画。</p><p id="d128" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">首先，你必须在应用程序级别的gradle文件中添加Lottie库</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="ac12" class="kc kd hi jy b fi ke kf l kg kh"><em class="ki">implementation </em>("com.airbnb.android:lottie-compose:1.0.0-beta07-1")</span></pre><p id="bba7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">之后，你需要在项目级梯度文件中添加以下行</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="df21" class="kc kd hi jy b fi ke kf l kg kh">maven <strong class="jy hj">{<br/>    </strong><em class="ki">url</em>=uri("https://oss.sonatype.org/content/repositories/snapshots/") <strong class="jy hj">}</strong></span></pre><p id="66d1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我想你会让。当你创建你的项目时，你将面临在gradle文件中声明上述行的错误。</p><p id="4446" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这之后，你需要在settings.gradle文件中添加下面一行，否则你将面临编译时错误</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="9593" class="kc kd hi jy b fi ke kf l kg kh">maven <strong class="jy hj">{<br/>    </strong><em class="ki">url</em>=uri("https://oss.sonatype.org/content/repositories/snapshots/") <strong class="jy hj">}</strong></span></pre><p id="092f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">已修改settings.gradle.kts文件</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="kj kk l"/></div></figure><p id="53f5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在你已经成功地集成了洛蒂库，现在你需要在res下创建一个新目录，命名为raw，并在这个目录下添加洛蒂动画文件，你可以从这里下载洛蒂动画:【https://lottiefiles.com/<a class="ae iu" href="https://lottiefiles.com/" rel="noopener ugc nofollow" target="_blank"/></p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es kl"><img src="../Images/c67c6bad29ad9282fc75bdfd3ed3a9c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*2DXnFqFmh3VOyCPterYjCA.png"/></div></figure><p id="b0d4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">现在，您需要在活动的@Composable函数中声明以下代码。</p><p id="726c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我已经创建了一个变量animationSpecs，它将负责在屏幕上创建动画</p><p id="fdb7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了让它重复和自动播放，我创建了一个名为animationState的新变量，并将这两个变量传递给LottieAnimation()函数。</p><figure class="jt ju jv jw fd ij"><div class="bz dy l di"><div class="kj kk l"/></div></figure><p id="08ec" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">最后是输出:</p><figure class="jt ju jv jw fd ij er es paragraph-image"><div class="er es km"><img src="../Images/3655d772aeb565db67e73f10399dcee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/1*sj2XrYi8VfI2zgmbt9_tuQ.gif"/></div></figure></div></div>    
</body>
</html>