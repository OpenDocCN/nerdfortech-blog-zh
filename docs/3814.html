<html>
<head>
<title>Tip of the Day: Above the Shoulder Camera System in Unity 3D</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">日积月累:Unity 3D中的肩上摄像系统</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/tip-of-the-day-above-the-shoulder-camera-system-in-unity-3d-41b28b907915?source=collection_archive---------6-----------------------#2021-06-25">https://medium.com/nerd-for-tech/tip-of-the-day-above-the-shoulder-camera-system-in-unity-3d-41b28b907915?source=collection_archive---------6-----------------------#2021-06-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0ccd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Cinemachine是一个很棒的Unity工具，可以用作相机系统，但有时你想通过代码控制相机的每个方面。在这篇文章中，我们将探讨如何做到这一点，以及如何使一个三维人以上的肩膀相机。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><blockquote class="jk jl jm"><p id="8a42" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">设置</p></blockquote><p id="a6e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我们创建一个原型玩家，并使用角色(Unity中的<a class="ae jr" rel="noopener" href="/codex/tip-of-the-day-character-controller-in-unity-4516644f695">角色控制器</a>)给他一些动作。</p><p id="8638" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下一个孩子主摄像头在播放器下面。这将允许摄像机跟随你的球员。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div class="er es js"><img src="../Images/facdef63786532ebd41631b6812c85f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/1*iPK0SEneAEP2ji8VYHRAew.jpeg"/></div><figcaption class="ka kb et er es kc kd bd b be z dx translated">主摄像机作为播放器的子设备</figcaption></figure><p id="9030" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们将摄像机的位置固定在玩家肩膀的上方。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ke"><img src="../Images/6ced60449d2fa2570eb5b5305bcc0361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7Kl1VyzwtK1-vlZHh3ySIw.gif"/></div></div><figcaption class="ka kb et er es kc kd bd b be z dx translated">将摄像机设置在肩膀上方</figcaption></figure><p id="abcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这个设置，玩家既不能旋转也不能抬头，所以让我们来解决它。</p><blockquote class="jk jl jm"><p id="7474" class="if ig jn ih b ii ij ik il im in io ip jo ir is it jp iv iw ix jq iz ja jb jc hb bi translated">球员轮换</p></blockquote><h2 id="5dd0" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated">上下打量</h2><p id="7d61" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">垂直观察将直接由相机在其轴上的局部旋转来控制。这将由鼠标位置的增量/y (y轴)控制。我们将使用新的输入系统来记录鼠标在x轴(控制播放器的水平旋转)和y轴(控制播放器的垂直外观)上的位置变化</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es lj"><img src="../Images/a5d30cd051304444ee9179cd0fbfdb54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*odc_6H55a-rDhHl985Z90w.gif"/></div></div><figcaption class="ka kb et er es kc kd bd b be z dx translated">输入动作</figcaption></figure><p id="c660" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先创建一个C#脚本，将其命名为PlayerCameraController，并将其附加到播放器上的子摄像机上。创建一个公共auto属性，并将其命名为“YLook”(public float YLook { get；设置；}).</p><p id="887b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在创建事件方法，该方法将记录Delta/y鼠标位置，并将其分配给相机脚本中的一个float变量。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es lk"><img src="../Images/6dca826dbfae92bc60b33606f78f1abf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ft3M4wJRjpxw3FVomiNPsw.png"/></div></div><figcaption class="ka kb et er es kc kd bd b be z dx translated">事件方法</figcaption></figure><p id="000c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在更新中，我们希望通过更改tranform.localEulerAngle来控制相机局部旋转的x轴。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ll"><img src="../Images/e6b5b003533d0491305a20422c9054b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zWrlAPiH3YEGUZex2XaNvQ.png"/></div></div></figure><h2 id="de1d" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated">向左和向右旋转</h2><p id="caf5" class="pw-post-body-paragraph if ig hi ih b ii le ik il im lf io ip iq lg is it iu lh iw ix iy li ja jb jc hb bi translated">为了控制玩家在Y轴上的旋转，我们要做和上面一样的事情，但是是为了玩家。在播放器脚本中创建一个变量_xRotation，并将其赋给鼠标位置的Delta/X。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es lm"><img src="../Images/01782d22467c2c5b63ef06a2754e8db2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9iRDxrl5xa2_PXC09xY5ng.png"/></div></div><figcaption class="ka kb et er es kc kd bd b be z dx translated">记录鼠标的增量/X，并将其分配给_xRotation</figcaption></figure><p id="e1c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">应用我们在摄像机中使用的相同方法来旋转播放器。(不要忘记将该方法添加到播放器脚本的更新中)。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es ln"><img src="../Images/c137aead4275eb68f6232607cd4f8ca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*trg0Ac8fOx_K-MQZclK2pQ.png"/></div></div></figure><p id="fc7b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它看起来是这样的:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="kf kg di kh bf ki"><div class="er es lj"><img src="../Images/d97f92235d83910476eb79e897b8ddd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7aM7o6y7rvKPjO6EU-4fsw.gif"/></div></div></figure></div></div>    
</body>
</html>