<html>
<head>
<title>Simple Enemy Behavior in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">团结中简单的敌人行为</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/simple-enemy-behaviour-in-unity-b38f88009635?source=collection_archive---------4-----------------------#2021-03-28">https://medium.com/nerd-for-tech/simple-enemy-behaviour-in-unity-b38f88009635?source=collection_archive---------4-----------------------#2021-03-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="4426" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你已经创建了一个<a class="ae jd" href="https://sidthakur3519.medium.com/restricting-player-movement-83f8540a792f" rel="noopener">玩家移动</a>，并且确保你的<a class="ae jd" href="https://sidthakur3519.medium.com/instantiating-and-destroying-game-objects-in-unity-c6cc7c83fc42" rel="noopener">玩家发射了一束激光</a>，但是仍然缺少了一些东西，也就是说，你没有东西可以射击，或者没有东西可以靠近或远离，所以让我们做点什么吧。</p><p id="e35e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="je">第一阶段</em> </strong></p><p id="8ba7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们从创建一个敌人预设开始(要了解更多预设<a class="ae jd" href="https://sidthakur3519.medium.com/basic-overview-of-prefabs-c938a7088792" rel="noopener">点击这里</a>)。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/40a91293f38e304786f9e4369023c936.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rraFXsYA1eYlSBKt8f2Bcg.gif"/></div></div></figure><p id="03e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成后，让我们给预设一些颜色。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/b50a6531abdb07d3e6c5667e0387b26d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Hmb0WlzeyevWN_DtFu9e-Q.gif"/></div></div></figure><p id="cb99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果愿意，可以编辑对象的比例。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jr"><img src="../Images/6b41221636a2644c55920b485ac046f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1lY1cbP62sX2OizbB4Qujw.png"/></div></div></figure><p id="5cbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="je">二期</em> </strong></p><p id="e6b5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">给敌人预设添加动作。</p><p id="8ce4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如在<a class="ae jd" href="https://sidthakur3519.medium.com/instantiating-and-destroying-game-objects-in-unity-c6cc7c83fc42" rel="noopener">激光发射文章</a>中所讨论的，每当有一个对象需要一个行为，我们就通过创建它自己的行为脚本来添加它。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/1069d7a2bace06cc44fdb1a1c0784a86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cc3p4nE_70PakLQ0hWwu_Q.gif"/></div></div></figure><p id="7b3c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们开始添加一些垂直运动。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es js"><img src="../Images/88f16d1f268671c6c8cc18c1d1fdbf7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q7OunkUSXaE71rf8vwPXsw.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">敌人倒下的速度。它是序列化的，因此设计者可以通过编辑器更改值。</figcaption></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jx"><img src="../Images/a162e556927609a0278227918740f2ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DtMAnEfMeXd0TIcKLo4KeQ.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">Vector3.down等效于new Vector3(0，-1，0)。</figcaption></figure><p id="36a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="je">务必将</em> <strong class="ih hj"> <em class="je">运动()</em> </strong> <em class="je">添加到您的</em> <strong class="ih hj"> <em class="je">更新()</em> </strong> <em class="je">。</em></p><p id="2ecb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这将为您提供以下内容。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/de9d34ede0bf4e082df431834c4fe967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WIrTegcW2NeZqZ_N39QL5Q.gif"/></div></div></figure><p id="1255" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的实现有一个小问题，我们注意到敌人一直在向下移动。解决这个问题的一个简单方法是将敌人的位置重置为向下移动之前的位置。但是在这样做的时候，另一个问题出现了，敌人总是在同一个地方循环它的运动。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/60015c902e447e0827fd9c7008d72205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fiT-uI2XHjgaEybQcaneAQ.gif"/></div></div></figure><p id="a2f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了解决这个问题，我们可以改变敌人在X轴上的变形，让它在X轴上的任意点上繁殖。</p><p id="eb15" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们可以使用的范围内选择随机值。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jy"><img src="../Images/190cb17c584d63ed600e694ce6c3b891.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aHo2ve_uvSPtOpMLUArKXQ.png"/></div></div></figure><p id="3c9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这需要两个参数，最小值和最大值(都包括在内)。</p><p id="b2df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这个，我们可以通过以下操作来改变位置。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jz"><img src="../Images/bf4d0d62367bc7276e8d91ce546e88eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DlDI3FHX3JV7f-vjtDE1wA.png"/></div></div></figure><p id="40c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中_randX是我们用来繁殖敌人的随机x轴值。if()语句检查我们是否离开了屏幕，如果是，我们将位置重置为(RandomX val，OriginalY val，0)。</p><p id="c792" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这给了我们，</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/65b2e3e1006e541ee1b71bf1f95393a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*9_jVyj1hWgy18r5nHjRUfw.gif"/></div></div></figure><p id="f26d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="je">三期</em> </strong></p><p id="4023" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着敌人的移动，我们现在终于可以在游戏中加入碰撞了。在这种情况下，我们将敌人设置为一个触发器，让玩家和敌人的刚体都关闭<strong class="ih hj">使用重力</strong>。要了解更多关于触发器<a class="ae jd" href="https://sidthakur3519.medium.com/unity-development-collisions-vs-triggers-740d455757bf" rel="noopener">的信息，点击这里</a>，要了解刚体的<a class="ae jd" href="https://sidthakur3519.medium.com/unity-development-introduction-to-physics-65ef7e08519c" rel="noopener">点击这里</a>。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/59452782ef38b7ef28ced825c381f19f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_feSihWZMnsLzdU_pEm8hg.gif"/></div></div></figure><p id="4745" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了检测与触发器的冲突，我们可以使用下面的方法，</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ka"><img src="../Images/a4f0f2577fc3cf54b71d12cc0d917b59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G9lTR_lF_vMTQwsaPK-sdQ.png"/></div></div></figure><p id="5fe6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">其中“<strong class="ih hj">其他</strong>存储与敌方对撞机发生碰撞的对撞机信息。</p><p id="c8bf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以在做以下事情时，</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ka"><img src="../Images/419ce972f9405ad30738bb3f92e1ece0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5BkIM2x8l-fe8Sgx_GzbFw.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">这应该打印出与触发器碰撞的游戏对象的名称。</figcaption></figure><p id="cc9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们得到，</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/28f1ee4b79aadce3a87ecaa2ac966303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xc72ozVkBe4EoTae-Ruu6A.gif"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx translated">我们可以看到与触发器接触的对撞机的名称。</figcaption></figure><p id="e08d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们要做的就是在游戏物体互相接触的时候摧毁它们。这可以通过以下方式实现，</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es kb"><img src="../Images/24074f6c17512af181f79ecc9be5b39e.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/1*zh1eCkyd6W8giylscT3LAw.png"/></div></figure><p id="c7e2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这个，我们可以做以下事情，</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kc"><img src="../Images/14d3703dc5bf7a91f61f7f9985ca9171.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gbz_ZMOkxctELRRpI5AXbw.png"/></div></div></figure><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/bb8928eeb6dd8643de6754ac0e1ba059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*e5limJy1So6YDjGbbYct2w.gif"/></div></div></figure><p id="db92" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是我暂时不会破坏玩家的游戏物品。</p><p id="caaf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样我们就有了一个基本的敌人行为。这种敌对行为是通过以下方式实现的。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es kd"><img src="../Images/bca609a65420cfa1a55e31f655071589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KoUlThweanrvgSDW4fNV8Q.png"/></div></div></figure><p id="add6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着我对产卵对象的了解越来越多，以后还会有更多。</p></div></div>    
</body>
</html>