<html>
<head>
<title>Integrating Google Maps API with Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将谷歌地图 API 与 Unity 集成</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/integrating-google-maps-api-with-unity-bcb1b95d7fcc?source=collection_archive---------12-----------------------#2021-09-09">https://medium.com/nerd-for-tech/integrating-google-maps-api-with-unity-bcb1b95d7fcc?source=collection_archive---------12-----------------------#2021-09-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="df96" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated"><strong class="ii hj">目的:</strong>获取用户所在位置的地图图片。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/0a8c1f7efbe3109b514a566e1e6ab8c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/0*yFUy4c2JXijvbQ_-"/></div><figcaption class="jm jn et er es jo jp bd b be z dx translated">宾夕法尼亚州哈里斯堡“浩荡”的萨斯奎汉纳河</figcaption></figure><p id="4588" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">为了显示地图，我们首先必须从用户的设备上获取用户的位置。我们需要使用一个<em class="jq"> IEnumerator </em>方法来做到这一点；在这种情况下，我将使用<em class="jq">启动</em>方法。</p><p id="2f0b" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">首先，我们将确保用户允许我们的应用程序访问他们的位置。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jr"><img src="../Images/48d28e237844cfbdd54640587f72b4b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*pV7M49RRRHKmKnR0SZ4RTA.png"/></div></figure><p id="295d" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">如果我们有权限，我们会告诉系统开始这个过程。在我们放弃之前，我们会给系统 20 秒的时间来获得响应。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="er es js"><img src="../Images/dd2d6f1707ada0f59fe86a4efb4cb9f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ew5RcsfzLxcOPURCreMF9A.png"/></div></div></figure><p id="c309" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">如果系统找不到位置，我们会报告。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jx"><img src="../Images/acedf479c7f0ef1c816b6f52a80e520a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*0M2AIqgLuB2XGtelzwwFlw.png"/></div></figure><p id="7a4b" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">如果我们得到了位置，我们将保存纬度和经度。</p><p id="4b20" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">不管结果如何，我们都必须停止我们已经开始的进程。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jy"><img src="../Images/04c9b2ab530e6efa50407eb7cd419c0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*YnIktjaSkY1DDJoSICOFWg.png"/></div></figure><p id="cfa5" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">现在我们有了位置，我们将调用另一个<em class="jq"> IEnumerator </em>。我们将首先用我们需要的所有数据组装一个 URL 字符串:坐标(位置点将在地图的中心)、缩放(我们对位置的聚焦程度)、我们想要的图像大小以及我们的 Google 分配的地图 APIKey。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jz"><img src="../Images/a35b435633a4a15912ef1a019621cb76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*AvKjtyAyYrayjVL0j4MzcA.png"/></div></figure><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es ka"><img src="../Images/7c157c35cfd45a27c387b4bbf34b0ae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*b9S0xhlWTPpdGxQTcZ46Ow.png"/></div></figure><p id="2680" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">然后我们将使用一个<em class="jq"> using </em>语句来生成一个<em class="jq"> UnityWebRequest </em>，它将 URL 的结果存储为一个<em class="jq">纹理</em>。(使用语句的<em class="jq">将在完成后自行清理。)然后我们会发送请求。如果我们发现错误，我们会报告它。否则，一切工作，我们将应用我们的纹理到我们的图像，为我们的用户显示地图！</em></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es kb"><img src="../Images/2e4ce7f729e882868bc72c3c6fe86a22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*KVed0ZpvSyqWI8v2nm-xzA.png"/></div></figure></div></div>    
</body>
</html>