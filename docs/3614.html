<html>
<head>
<title>Protect your email domain by adding DMARC, DKIM and SPF</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过添加DMARC、DKIM和SPF来保护您的电子邮件域</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/protect-your-email-domain-by-adding-dmarc-dkim-and-spf-93014add3740?source=collection_archive---------11-----------------------#2021-06-16">https://medium.com/nerd-for-tech/protect-your-email-domain-by-adding-dmarc-dkim-and-spf-93014add3740?source=collection_archive---------11-----------------------#2021-06-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/0d5c79ed335f59fddea1266f0c1d1044.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ccJMfIOU3Jf7Oa5DDz-SNQ.jpeg"/></div></div></figure><p id="4024" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如今，电子邮件欺骗和网络钓鱼攻击在网络攻击中非常常见，在这些攻击中，黑客试图冒充一个域来欺骗他人。</p><p id="bfb3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">原因很明显。如果你知道信息发送者或信息来源，你就更有可能与之互动。这仅仅是信任和安全的问题。攻击者知道这一点并加以利用。</p><p id="8796" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，欺骗会从两个方面伤害你和你的企业。首先，使用你的域名。黑客可以使用您的域名、公司名称和品牌进行诈骗，尤其是通过电子邮件。第二，用危险的和不需要的信息淹没你的邮箱。</p><p id="09ec" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">黑客使用这种技术是因为发送电子邮件的过程没有先进的消息认证机制。</p><p id="37a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">发送过程基于SMTP协议，它不太关心发送者的地址。SMTP的主要目的只是传送信息，这使得黑客可以使用其他人的域名。</p><p id="5635" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，可能有人正在使用您的域名和公司名称来传播垃圾邮件和网络钓鱼攻击。</p><p id="8c5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你如何保护你的域名？</p><p id="7cf4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过添加DMARC，DKIM和SPF保护到您的域。但是这三种保护工具是什么呢？</p><p id="d00e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们从…开始吧</p><h1 id="02f8" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">了解DMARC</h1><p id="e6cb" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">基于域的邮件身份验证、报告和一致性(DMARC)是一种标准的电子邮件身份验证方法。DMARC帮助邮件管理员防止黑客和其他攻击者假冒他们的组织和域。欺骗是一种伪造电子邮件发件人地址的攻击。假冒邮件似乎来自模拟的组织或域。</p><p id="89c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">DMARC还允许您从从您的组织或域获取邮件的电子邮件服务器请求报告。这些报告包含的信息有助于您识别从您的域发送的邮件中可能存在的身份验证问题和恶意活动。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/6a6e6049aaedd1cfc55e1a3dc016c9cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2wunj52tnSPqtqqwsKAuNg.jpeg"/></div></div></figure><p id="842a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">【DMARC如何防止电子欺骗？</p><p id="8c1e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">DMARC告诉接收邮件服务器，当它们收到看似来自您的组织，但未通过身份验证检查，或者不符合DMARC策略记录中的身份验证要求的邮件时，该如何处理。未经身份验证的邮件可能是假冒您的组织，或者可能是从未经授权的服务器发送的。</p><p id="44b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">DMARC总是与这两种电子邮件身份验证方法或检查一起使用:</p><ol class=""><li id="9182" class="kw kx hi is b it iu ix iy jb ky jf kz jj la jn lb lc ld le bi translated">发件人策略框架(SPF)允许域所有者授权允许为该域发送电子邮件的IP地址。接收服务器可以验证似乎来自特定域的邮件是从域所有者允许的服务器发送的。</li><li id="274b" class="kw kx hi is b it lf ix lg jb lh jf li jj lj jn lb lc ld le bi translated">域密钥识别邮件(DKIM)为每封发送的邮件添加数字签名。接收服务器使用签名来验证邮件是真实的，并且在传输过程中没有被伪造或更改。</li></ol><h1 id="3225" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">了解DKIM</h1><p id="ae20" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">域密钥识别邮件(DKIM)是一种技术标准，有助于保护电子邮件发件人和收件人免受垃圾邮件、欺骗和网络钓鱼的侵害。它是一种电子邮件身份验证形式，允许组织以一种可由收件人验证的方式声明对邮件负责。</p><p id="a60e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">具体来说，它使用一种称为公钥加密的方法来验证电子邮件消息是从授权的邮件服务器发送的，以检测伪造并防止发送有害的电子邮件，如垃圾邮件。它补充了用于发送电子邮件的基本协议SMTP，因为如上所述，它本身不包括任何认证机制。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kr"><img src="../Images/2007d3cfbf850624daedd3c84bbe8cad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bakY2UemU2uwmNDaGjj-VQ.jpeg"/></div></div></figure><p id="b9aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它是如何工作的？</p><p id="2ee1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它的工作原理是在电子邮件的标题中添加数字签名。可以对照组织的域名系统(DNS)记录中的公钥来验证该签名。一般来说，该过程是这样工作的:</p><p id="33d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">域所有者在域的所有DNS记录中发布加密公钥作为特殊格式的TXT记录。</p><p id="b191" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当邮件消息由出站邮件服务器发送时，服务器会生成唯一的DKIM签名头并将其附加到消息中。这个头包括两个加密散列，一个指定的头，一个消息体(或它的一部分)。标头包含有关如何生成签名的信息。</p><p id="a394" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当入站邮件服务器收到传入的电子邮件时，它会在DNS中查找发件人的公共DKIM密钥。入站服务器使用此密钥解密签名，并将其与新计算的版本进行比较。如果两个值匹配，则可以证明消息是可信的，并且在传输过程中未被更改。</p><p id="d4cc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">你怎么能加上这个？</strong></p><p id="c283" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我按照谷歌的指南来设置DKIM — <a class="ae lk" href="https://support.google.com/a/answer/174124?hl=en&amp;ref_topic=2752442&amp;visit_id=637594558177403303-201457265&amp;rd=1" rel="noopener ugc nofollow" target="_blank">用DKIM </a>来增加发送电子邮件的安全性，但是你也可以使用任何其他可用的在线服务。</p><h1 id="f5d0" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">了解SPF</h1><p id="98f1" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">发件人策略框架(SPF)是一种技术标准和电子邮件身份验证技术，有助于保护电子邮件发件人和收件人免受垃圾邮件、欺骗和网络钓鱼的侵害。</p><p id="ca72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">具体来说，它定义了一种方法来验证电子邮件消息是从授权的邮件服务器发送的，以便检测伪造和防止垃圾邮件。它旨在补充SMTP，用于发送电子邮件的基本协议，因为SMTP本身不包含任何身份验证机制。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/764ce15fe9367604a7f53057c3397b2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uk1CVgslyofsdAFX8z3z9w.jpeg"/></div></div></figure><p id="2947" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">SPF是怎么起作用的？</strong></p><p id="b2d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SPF建立了一种接收邮件服务器的方法，以验证来自某个域的传入电子邮件是由该域的管理员授权的主机发送的。它依赖于成熟的域名系统(DNS)。一般来说，该过程是这样工作的:</p><p id="3c4b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">域管理员发布定义被授权从该域发送电子邮件的邮件服务器的策略。这个策略称为SPF记录，它被列为域的全部DNS记录的一部分。</p><p id="9da3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当入站邮件服务器收到传入的电子邮件时，它会在DNS中查找退回(返回路径)域的规则。然后，入站服务器将邮件发件人的IP地址与SPF记录中定义的授权IP地址进行比较。</p><p id="5fe1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后，接收邮件服务器使用发送域的SPF记录中指定的规则来决定是接受、拒绝还是标记该电子邮件。</p><p id="4224" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你怎么能加上这个？</p><p id="d8ce" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我再次按照谷歌的指南设置SPF — <a class="ae lk" href="https://support.google.com/a/answer/33786?hl=en&amp;ref_topic=10685331" rel="noopener ugc nofollow" target="_blank">防止网络钓鱼&amp;防止邮件被标记为垃圾邮件</a></p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><p id="97b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你也使用自己的电子邮件域名，花五分钟检查一下你的保护情况。您可以使用众多跳棋中的一种。以下是我使用的一些跳棋:</p><p id="6752" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">【https://dmarcian.com/domain-checker/ T4】</p><p id="a19b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae lk" href="https://mxtoolbox.com/emailhealth/" rel="noopener ugc nofollow" target="_blank">https://mxtoolbox.com/emailhealth/</a></p><p id="6840" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae lk" href="https://www.mail-tester.com/" rel="noopener ugc nofollow" target="_blank">https://www.mail-tester.com/</a></p><p id="6dd6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">拥有自己的域名可能有点麻烦，但也非常有趣。</p></div><div class="ab cl ll lm gp ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hb hc hd he hf"><p id="6d24" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我喜欢了解SPF，DKIM和DMARC。</p></div></div>    
</body>
</html>