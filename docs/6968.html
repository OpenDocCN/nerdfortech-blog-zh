<html>
<head>
<title>React Router DOM v6 — Part — I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React 路由器 DOM v6 —第一部分</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/react-router-dom-v6-part-i-49a63a92d858?source=collection_archive---------0-----------------------#2022-06-24">https://medium.com/nerd-for-tech/react-router-dom-v6-part-i-49a63a92d858?source=collection_archive---------0-----------------------#2022-06-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/68d3f0f3c300c29fd32a6dc3f4e5bf15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WdefbD9guryDCuBj.png"/></div></div></figure><p id="5531" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">React 使我们能够开发单页面应用程序，即单个 HTML 页面。本质上，我们在一个 HTML 文件中呈现不同的组件。这是通过连接不同的。js 文件(React 组件)到 HTML 文件中特定的<div>文件。</div></p><h2 id="3064" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">为什么选择 React 路由器？</h2><p id="41ef" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">我们如何基于 URL 实现不同的组件？</p><p id="a9f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">abc.com/login</strong>和<strong class="is hj">abc.com/home</strong>不应该给出相同的分量，对吗？。登录需要一个登录页面，因此需要主页。</p><p id="a5ed" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以这里的解决方案是基于 URL 的组件呈现，即<strong class="is hj"> /login </strong>给出登录组件，<strong class="is hj"> /home </strong>给出 home 组件。</p><h2 id="a8ec" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">网址改了怎么还是单页申请？</h2><p id="acdf" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">单页和多页的主要区别是页面重载。当您在多页中移动到不同的 URL 时，页面会重新加载。对于单页的情况，它不会重新加载。这是因为相同的 HTML 文件用于呈现不同的组件。React Js 启用此功能。</p><p id="be33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，</p><p id="ff75" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ko">不同组件的单页→ React Js </em></p><p id="c190" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ko">单个页面+不同组件的不同 URL→React Js+React Router</em></p><blockquote class="kp kq kr"><p id="e13f" class="iq ir ko is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hb bi translated">基于 URL 动态获取组件的过程称为<strong class="is hj">路由</strong>。</p></blockquote><p id="c3bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是在 React 和 React 路由器的上下文中。</p><p id="44f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意:我们在 React 路由器中实现了<strong class="is hj">动态路由</strong>。</p><p id="e0b6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">简而言之，</p><p id="781b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">静态布线</strong> →布线发生在渲染之前<strong class="is hj"/></p><p id="9b32" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">动态路由</strong> →路由发生在渲染期间<strong class="is hj">→本质上是一个反应组件</strong></p><blockquote class="kp kq kr"><p id="a18e" class="iq ir ko is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hb bi translated">React Router DOM = React Router+API ' s like<browserrouter>组件</browserrouter></p></blockquote><p id="261e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您可以在网上了解更多关于静态和动态路由的信息。请记住，React router 中的几乎所有东西都是组件，因为它是一个动态路由(在渲染期间)。</p><h2 id="512c" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">React 路由器如何连接 React app？</h2><p id="1fa2" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">这意味着将浏览器 URL 连接到您的应用程序。因此，它必须位于应用程序<app/>的顶层。但是等等，怎么连接？包好<app/>就行了。包什么呢？<browserrouter>来自‘react-router-DOM’。</browserrouter></p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="6e37" class="jo jp hi la b fi le lf l lg lh">&lt;BrowserRouter&gt; <br/>&lt;App /&gt; <br/>&lt;/BrowserRouter&gt;</span></pre><p id="b644" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了更好地理解概念，我在这里跳过了像 import 语句这样的整个代码。</p><p id="09db" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设我们有三个组件 App、用户和产品，我们需要有相应的<strong class="is hj"> '/app、“/users' </strong>和<strong class="is hj">'/Products '</strong>URL。</p><p id="474f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ko"> App — /app </em></p><p id="4d76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ko">用户—/用户</em></p><p id="3b52" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ko">产品—/产品</em></p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="aacb" class="jo jp hi la b fi le lf l lg lh">&lt;BrowserRouter&gt; <br/><strong class="la hj">&lt;Routes&gt;  <br/>&lt;Route path='/app' element = {&lt;App /&gt;} /&gt;  <br/>&lt;Route path='/users' element = {&lt;Users /&gt;} /&gt;  <br/>&lt;Route path='/products' element = {&lt;Products /&gt;} /&gt; <br/>&lt;/Routes&gt; </strong><br/>&lt;/BrowserRouter&gt;</span></pre><p id="f390" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果我们给 URL '/users' →它将呈现用户组件，对于'/products '呈现产品组件，对于'/'也是如此。</p><h2 id="f310" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">如果我们想嵌套路由呢？</h2><p id="9b05" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">比如<strong class="is hj">'/app/用户'</strong>或者<strong class="is hj">'/app/产品'</strong>。这可以通过&lt;路线&gt;组件的父子关系来完成。</p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="3279" class="jo jp hi la b fi le lf l lg lh">&lt;BrowserRouter&gt; <br/>&lt;Routes&gt;  <br/>&lt;<strong class="la hj">Route</strong> path='/app' element = {&lt;App /&gt;}&gt;    <br/>  <em class="ko">&lt;Route path='users' element = {&lt;Users /&gt;} /&gt; --&gt; only renders Users    <br/>  &lt;Route path='products' element = {&lt;Products /&gt;} /&gt; --&gt; only renders Products</em>  <br/>&lt;/<strong class="la hj">Route</strong>&gt; <br/>&lt;/Routes&gt; <br/>&lt;/BrowserRouter&gt;</span></pre><p id="0134" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意:我删除了用户和产品前面的“/”，因为 react-router 将它标识为/app 的子级</p><blockquote class="kp kq kr"><p id="1771" class="iq ir ko is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hb bi translated"><em class="hi">这里我们添加一个综合的</em> <strong class="is hj"> <em class="hi"> /app </em> </strong> <em class="hi">与</em> <strong class="is hj"> <em class="hi">用户</em> </strong> <em class="hi">与</em> <strong class="is hj"> <em class="hi">产品</em> </strong> <em class="hi">中的</em><strong class="is hj"><em class="hi">URL</em></strong><em class="hi">而已。</em></p><p id="ffed" class="iq ir ko is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hb bi translated"><em class="hi">/app/users = '/app '+' users '</em></p><p id="9224" class="iq ir ko is b it iu iv iw ix iy iz ja ks jc jd je kt jg jh ji ku jk jl jm jn hb bi translated"><em class="hi">/app/products = '/app '+' products '。</em></p></blockquote><p id="1ab6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将在<route>中呈现我们给定的任何组件作为元素道具。</route></p><h2 id="e0e0" class="jo jp hi bd jq jr js jt ju jv jw jx jy jb jz ka kb jf kc kd ke jj kf kg kh ki bi translated">如果我们想继承<app>组件本身呢？</app></h2><p id="a080" class="pw-post-body-paragraph iq ir hi is b it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj kn jl jm jn hb bi translated">这是布局一致性的最佳用例。比方说<strong class="is hj"> &lt; App &gt; </strong>组件包含的标题和导航栏在所有嵌套的路线中都是一致的，比如产品和用户。</p><p id="de27" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的代码不会继承<strong class="is hj"> &lt; App &gt; </strong>组件的 header 和 navbar。它只渲染<strong class="is hj"> &lt;路径&gt; </strong>中元素属性中给定的内容</p><p id="2b09" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们需要使用 react-router-dom 中的<strong class="is hj">&lt;Outlet/&gt;</strong>(<em class="ko">一些奇怪的名字‘Outlet’我无法解释</em>)组件进行共享布局。</p><p id="1c27" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">在哪里连接&lt;插座/ &gt;？</strong></p><p id="fbb9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">显然，在应用程序组件<app>中，因为这是布局，我们希望在嵌套的路线之间共享。</app></p><pre class="kv kw kx ky fd kz la lb lc aw ld bi"><span id="624f" class="jo jp hi la b fi le lf l lg lh">export const function <strong class="la hj">App</strong>() =&gt; { <br/>return ( <br/>&lt;&gt; <br/>{whatever code ...} <br/><strong class="la hj">&lt;Outlet /&gt;</strong> <br/>&lt;/&gt; <br/>) <br/>}</span></pre><p id="68f6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，如果我们键入<strong class="is hj"> — /app/users </strong>或<strong class="is hj"> /app/products </strong> →它将在<strong class="is hj"> &lt; Route &gt; </strong>中呈现 app 组件的标题和导航栏以及元素属性组件</p></div></div>    
</body>
</html>