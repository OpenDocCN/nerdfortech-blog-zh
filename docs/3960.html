<html>
<head>
<title>Understanding Apache MultiKeyMap</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解 Apache 多键映射</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/understanding-apache-multikeymap-170fe518cb96?source=collection_archive---------1-----------------------#2021-07-01">https://medium.com/nerd-for-tech/understanding-apache-multikeymap-170fe518cb96?source=collection_archive---------1-----------------------#2021-07-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="8112" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">一种数据结构，用于在映射中存储具有多个键的值</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es ix"><img src="../Images/cb9d4f7e32b2b425a030596e5ae1adce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CCv01ijtJ3iDG0xWUPrtdQ.jpeg"/></div><figcaption class="jf jg et er es jh ji bd b be z dx translated"><a class="ae jj" href="https://unsplash.com/@chunlea?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">春丽居</a>在<a class="ae jj" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><h1 id="3d5a" class="jk jl hi bd jm jn jo jp jq jr js jt ju io jv ip jw ir jx is jy iu jz iv ka kb bi translated">概观</h1><p id="baa7" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">HashMap 是一种很棒的数据结构，它以键-值对的形式存储数据，在<strong class="ke hj"> <em class="ky"> O(1) </em> </strong>时间内提供插入、更新、检索和删除操作。</p><p id="fe02" class="pw-post-body-paragraph kc kd hi ke b kf kz ij kh ki la im kk kl lb kn ko kp lc kr ks kt ld kv kw kx hb bi translated">HashMap 有一个限制，它只能有一个键。但是等等。为什么一个值需要多个键？让我们看一个例子。</p><p id="9c8a" class="pw-post-body-paragraph kc kd hi ke b kf kz ij kh ki la im kk kl lb kn ko kp lc kr ks kt ld kv kw kx hb bi translated">假设我们想通过<strong class="ke hj">学生</strong>、<strong class="ke hj">考试、</strong>和<strong class="ke hj">科目</strong>来查询一个学生的成绩。典型的解决方案是创建一个嵌套地图，如下所示。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es le"><img src="../Images/d9e8f7254dce9e33774df615a259e4eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fe08ABfCUwhb50mJHHpzYw.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">使用嵌套映射实现</figcaption></figure><p id="ba9b" class="pw-post-body-paragraph kc kd hi ke b kf kz ij kh ki la im kk kl lb kn ko kp lc kr ks kt ld kv kw kx hb bi translated">但是看看代码有多复杂。如果有大量的键，可能会变得更加复杂。这可以用<a class="ae jj" href="https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/MultiKeyMap.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ke hj">多键映射</strong> </a> <strong class="ke hj">解决。它是阿帕奇<a class="ae jj" href="https://mvnrepository.com/artifact/org.apache.commons/commons-collections4" rel="noopener ugc nofollow" target="_blank"> <strong class="ke hj">公地集合 4 </strong> </a> <strong class="ke hj"> </strong>包的一部分。</strong></p><h1 id="77b3" class="jk jl hi bd jm jn jo jp jq jr js jt ju io jv ip jw ir jx is jy iu jz iv ka kb bi translated"><strong class="ak">多键映射</strong></h1><p id="2785" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">现在让我们使用<strong class="ke hj">多键映射来实现上述特性。</strong></p><h2 id="10db" class="lj jl hi bd jm lk ll lm jq ln lo lp ju kl lq lr jw kp ls lt jy kt lu lv ka lw bi translated">将值插入多键映射</h2><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es lx"><img src="../Images/351fdd8cb171fedb5177a315fb4b6599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OWQyKexq9ucWkgu0PAfhAA.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">使用多键映射实现</figcaption></figure><p id="8169" class="pw-post-body-paragraph kc kd hi ke b kf kz ij kh ki la im kk kl lb kn ko kp lc kr ks kt ld kv kw kx hb bi translated">在上面的代码中，put 方法的前 3 个参数是键，最后一个参数是值。</p><h2 id="1050" class="lj jl hi bd jm lk ll lm jq ln lo lp ju kl lq lr jw kp ls lt jy kt lu lv ka lw bi translated">迭代多键映射</h2><p id="9e1c" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">使用<strong class="ke hj"> forEach </strong>迭代器可以很容易地迭代多键映射。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es ly"><img src="../Images/54c4fbf212b480831aae43fc3f81734b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KnVH3h6awrckMkQmJLY2rA.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">迭代多键映射</figcaption></figure><p id="6b66" class="pw-post-body-paragraph kc kd hi ke b kf kz ij kh ki la im kk kl lb kn ko kp lc kr ks kt ld kv kw kx hb bi translated">看看上面代码的输出。所有的键都存储为<a class="ae jj" href="https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/keyvalue/MultiKey.html" rel="noopener ugc nofollow" target="_blank"><strong class="ke hj">multi key</strong></a><strong class="ke hj">，这是 Apache commons-collections 库提供的一种</strong>数据结构。这就是所有密钥在内部存储的方式。</p><h2 id="f8f3" class="lj jl hi bd jm lk ll lm jq ln lo lp ju kl lq lr jw kp ls lt jy kt lu lv ka lw bi translated">从多键映射中删除值</h2><p id="7eb7" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">可以使用单个键或多个键从多键映射中删除值。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="lf lg di lh bf li"><div class="er es lz"><img src="../Images/8adef35d1620e14d047ced91593d3246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N2rhZYtm9inEBZSsjuv0VQ.png"/></div></div><figcaption class="jf jg et er es jh ji bd b be z dx translated">从多键映射中删除值</figcaption></figure><p id="aafa" class="pw-post-body-paragraph kc kd hi ke b kf kz ij kh ki la im kk kl lb kn ko kp lc kr ks kt ld kv kw kx hb bi translated">完整的代码可以从下面的网站下载</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="ma mb l"/></div></figure><h1 id="ec8c" class="jk jl hi bd jm jn jo jp jq jr js jt ju io jv ip jw ir jx is jy iu jz iv ka kb bi translated">结论</h1><p id="b1a2" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">当我们需要使用多个键来查找时，多键映射就很方便了。多键映射也有一个限制，即它最多支持 5 个键。该库可以从官方<a class="ae jj" href="https://mvnrepository.com/artifact/org.apache.commons/commons-collections4" rel="noopener ugc nofollow" target="_blank"> <strong class="ke hj"> Maven 资源库下载。</strong> </a></p><h1 id="6c1e" class="jk jl hi bd jm jn jo jp jq jr js jt ju io jv ip jw ir jx is jy iu jz iv ka kb bi translated">谢谢你🤘</h1><p id="3f06" class="pw-post-body-paragraph kc kd hi ke b kf kg ij kh ki kj im kk kl km kn ko kp kq kr ks kt ku kv kw kx hb bi translated">想了解我更多，请访问<a class="ae jj" href="https://www.ganeshkumarm.me/" rel="noopener ugc nofollow" target="_blank"> <strong class="ke hj"> ganeshkumarm.me </strong> </a></p><figure class="iy iz ja jb fd jc er es paragraph-image"><div class="er es mc"><img src="../Images/b73ff7fd4c7d8d50ed8e2193ded7f712.png" data-original-src="https://miro.medium.com/v2/resize:fit:356/format:webp/0*oOpdzieGie6rPbCd.png"/></div></figure></div></div>    
</body>
</html>