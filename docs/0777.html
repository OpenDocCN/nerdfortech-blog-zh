<html>
<head>
<title>SQL Basics— Let’s Play with Pokémon Data!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQL基础知识—让我们一起来玩神奇宝贝数据吧！</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/sql-basics-lets-play-with-pok%C3%A9mon-data-d81709c9d7ae?source=collection_archive---------1-----------------------#2021-02-13">https://medium.com/nerd-for-tech/sql-basics-lets-play-with-pok%C3%A9mon-data-d81709c9d7ae?source=collection_archive---------1-----------------------#2021-02-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/830dd7e67a2e9fc8a8288e88d6f23a44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MBJj_-LoaSatwWk8dup62g.gif"/></div></div></figure><p id="d52d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">熨斗之旅的第二阶段慢慢展开，我被SQL击中了。我很兴奋在课程表上看到它，但是当我看到第一课的时候，我已经想退出浏览器了。</p><p id="7977" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以我只是盯着页面而页面也回瞪着我，毫无进展。如果你和我一样是个新手，你可能只在招聘信息中见过它，不知道SQL是什么，也不知道它是做什么的。</p><p id="e35d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们慢慢展开吧！(Flatiron使用SQLite数据管理系统，因此这些命令大多只与用SQLite管理的数据库相关。)</p><h1 id="912d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">什么是SQL？</h1><p id="be55" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">世界靠数据运行！作为现代人，我们如何存储数据？在线！数据存储在…数据库中！数据就是知识，为了能够获得这样的知识，我们必须获得权力！SQL的力量！</p><p id="5046" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SQL代表<strong class="is hj">结构化查询语言</strong>。有些人发“sequel”的音，而有些人只发每个字母的音，“S.Q.L”</p><p id="bc4d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">数据存储在一个称为数据库的仓库中。不幸的是，仓库是锁着的。SQL将是访问数据库和获取我们需要的特定数据的关键。使用SQL，我们可以创建、读取、更新和删除数据库中的数据。数据存储在表格中，类似于Microsoft Excel或Google Sheet中的表格。</p><p id="a8c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">假设我们在一个名为pokemon.db的数据库文件中有这个表。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/4a9e5f7719dc79ab82a308356ebbf26d.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*Q_nlqOhA7F_x7kaodkB0UQ.jpeg"/></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">(但是等等！小火龙不是草的类型！我们将如何改变这种情况？嗯…)</figcaption></figure><p id="d546" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这张桌子有神奇宝贝的记录。惯例是用表格内容的小写复数来命名表格，所以仍然是<code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code> …好吧，让我们试试一个更好的例子！如果一个表有关于水果的数据，那么这个表将被称为<code class="du la lb lc ld b"><strong class="is hj">fruits</strong></code>。</p><p id="9fa9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面的表格会以<code class="du la lb lc ld b"><strong class="is hj">fruits</strong></code>作为它的名字。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es le"><img src="../Images/867dab61aa7626c2eb8fc5ec084e2d66.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*BXWVNkTTTNPlhWp_sPgc6g.jpeg"/></div></figure><p id="61f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但我真的很喜欢神奇宝贝，所以我们会坚持第一桌。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/ee4bcf56d1126a45fc2848f34abe643e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iTaMN4NnEwl3jzZG"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">迈克尔·里维拉·🇵🇭在<a class="ae lg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="a3b1" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">如何执行命令？</h1><p id="dff8" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">有几种方法可以执行SQL命令。一种方法是打开数据库文件，然后在终端中运行命令，此时您仍然在数据库文件中。第二种方法是将所有代码写在一个文件中(我目前正在学习Ruby，所以让我们使用。rb扩展名的文件，但扩展名无关紧要)。然后，使用以下命令调用保存在list-of-commands-file.rb中的所有SQL命令:</p><p id="baa9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">pokemon.db &lt; list-of-commands-file.rb</strong></code></p><p id="3b2e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于这种方法，建议您将创建表、插入数据和编写查询的文件分开。</p><p id="e46f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者，您可以在文本编辑器中编写代码，然后将命令复制并粘贴到终端(一旦您进入数据库文件)。</p><h1 id="4f14" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">如何创建表格？</h1><p id="fb31" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">所以让我们回到神奇宝贝的例子。让我们从创建一个表来存储信息开始。</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="86a8" class="ll jp hi ld b fi lm ln l lo lp">CREATE TABLE pokemon (<br/>   id INTEGER PRIMARY KEY,<br/>   name TEXT, <br/>   type TEXT<br/>);</span></pre><p id="89af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">CREATE TABLE pokemon</strong></code>命令正在创建一个名为<code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>的表。这个表将有三列:<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>、<code class="du la lb lc ld b"><strong class="is hj">name</strong></code>和<code class="du la lb lc ld b"><strong class="is hj">type</strong></code>。通常的惯例是用小写字母键入列名，用大写字母键入命令。这也是防止你误以为命令/语法是字符串或输入的一部分的方法。</p><p id="0e06" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第一列<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>，输入一个整数。<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>通常也被称为表的主键。每个表都有自己的主键。把它想象成一个人的税号。每个人都有不同的税务id，就像每个神奇宝贝记录都有不同的ID一样。记录是表中的每一行信息。</p><p id="3c4e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第二列<code class="du la lb lc ld b"><strong class="is hj">name</strong></code>，接受文本作为输入。用引号<code class="du la lb lc ld b">“”</code>输入文本。第三列<code class="du la lb lc ld b"><strong class="is hj">type</strong></code>，就像第二列一样。</p><p id="1a70" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">语法的最后一部分是分号<code class="du la lb lc ld b"><strong class="is hj">;</strong></code>。如果没有分号，SQLite不会知道您的命令已经结束。</p><p id="1a81" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好了，一旦我们执行了SQL命令，我们应该在<code class="du la lb lc ld b"><strong class="is hj">pokemon.db</strong></code>文件中有一个空表，只有列名。</p><p id="bb7f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们怎么知道这个表是否真的被创建了呢？</p><p id="3b0b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我向你介绍，<code class="du la lb lc ld b"><strong class="is hj">.tables</strong></code>命令！</p><p id="ca1c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在您的终端中键入<code class="du la lb lc ld b"><strong class="is hj">.tables</strong></code>(确保您处于数据库文件的级别)。您应该会得到到目前为止已经创建的所有表！所以你应该会看到<code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>被列出来。</p><p id="05bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要检查<code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>表格的格式，使用<code class="du la lb lc ld b"><strong class="is hj">.schema</strong></code>命令。它将返回如下内容:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="6822" class="ll jp hi ld b fi lm ln l lo lp">CREATE TABLE pokemon (<br/>   id INTEGER PRIMARY KEY,<br/>   name TEXT, <br/>   type TEXT<br/>);</span></pre><p id="431e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">…等等。那不就是我们的<code class="du la lb lc ld b"><strong class="is hj">CREATE TABLE</strong></code>命令吗？是的。是的，它是。</p><p id="dac7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在就来加点神奇宝贝吧！</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lf"><img src="../Images/1c49b4e0d26c0706ba39065e40d9c201.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MtyaXXK-XE4ctq63"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated"><a class="ae lg" href="https://unsplash.com/@imjma?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">杰</a>在<a class="ae lg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><h1 id="34e2" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">如何插入数据？</h1><p id="21eb" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">要添加神奇宝贝，我们将执行以下操作:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="3239" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">INSERT INTO pokemon (name, type) VALUES<br/>("Bulbasaur", "grass"),<br/>("Ivysaur", grass);</strong></span></pre><p id="e5b5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者我们可以做:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="da2e" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">INSERT INTO pokemon (name, type) VALUES ("Bulbasaur", "grass");<br/>INSERT INTO pokemon (name, type) VALUES ("Ivysaur", "grass");</strong></span></pre><p id="d901" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是等等！我不是创建了三个列吗？！</p><p id="1dc2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是的。是的，我做到了。那么输入的<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>部分在哪里呢？</p><p id="2ffd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">嗯，你是否曾经输入了太多的数据，以至于有时忘记了你刚刚输入的最后一项内容？或者你有没有忘记你为什么要进一个房间？是为了拿手机充电器…？是去拿毛巾吗…？</p><p id="1151" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SQLite的神奇之处在于，我们再也不用担心手动计算表中已经有多少神奇宝贝了。SQLite将帮助我们保持跟踪。第一个记录，妙蛙种子，将有一个<code class="du la lb lc ld b"><strong class="is hj">1</strong></code>的<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>。第二个记录将有一个<code class="du la lb lc ld b"><strong class="is hj">2</strong></code>的<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>，依此类推。每条记录的<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>值将是其最独特的特征。</p><p id="aa3a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当然，你可以争辩说没有两个神奇宝贝会有相同的名字。但是，如果有一天，任天堂决定和我们一起玩，只是创造一整套与以前的神奇宝贝同名的神奇宝贝，那该怎么办？不会吧…对吧？</p><p id="1541" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">他们做到了。他们只是在神奇宝贝的名字前面加上了地区名。所以，喵喵还是喵喵。皮卡丘还是皮卡丘。训练员不会说，“阿兰·喵喵，用Scratch！”这太愚蠢了。</p><p id="d03a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有了SQLite magic，我们就不用担心<em class="lq">新</em>神奇宝贝会和老的同名了。我们可以用它们唯一的属性<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>进行查询。SQLite自动为我们添加了<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>属性，因为我们将列命名为<code class="du la lb lc ld b"><strong class="is hj">PRIMARY KEY</strong></code>。SQLite将计算id并自动递增！厉害！少了一个需要担心的人为错误。</p><h1 id="35e4" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">怎么查询？</h1><p id="bbac" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">所以我们在桌子上放了两只神奇宝贝。让我们检索表中与所有神奇宝贝相关的所有数据。</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="bdbe" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">SELECT * FROM pokemon;</strong></span></pre><p id="5d64" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们来分解一下<code class="du la lb lc ld b"><strong class="is hj">SELECT</strong></code>命令。</p><p id="8d32" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">SELECT</strong></code>表示我们希望下面的值返回给我们。</p><p id="32f8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">*</strong></code>可能是你在其他数据库搜索中认识到的，比如谷歌。这有点像通配符。SQLite会认为这是从每一列返回的值。</p><p id="a4d1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">FROM</strong></code>是SQLite查找紧随其后的表名的关键字。</p><p id="5c18" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>是我们从中选择的表的名称。</p><p id="50a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">;</strong></code>是结束查询。</p><p id="7e60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该查询将返回如下内容:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="4dc3" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">1|Bulbasaur|grass<br/>2|Ivysaur|grass</strong></span></pre><p id="4a92" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">哇哦。那不是很丑吗？让我们把结果做得漂亮一点。</p><p id="8e48" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们使用<code class="du la lb lc ld b"><strong class="is hj">.headers on</strong></code>命令向我们展示列名是什么！</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="c409" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">id|name|type</strong><br/><strong class="ld hj">1|Bulbasaur|grass<br/>2|Ivysaur|grass</strong></span></pre><p id="be4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好多了，但还是…丑。如果结果能相互隔开就好了…</p><p id="36d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们试试<code class="du la lb lc ld b"><strong class="is hj">.mode column</strong></code>命令。这个命令将使我们能够调整结果的宽度。还是坚持用<code class="du la lb lc ld b"><strong class="is hj">.width auto</strong></code>吧。</p><p id="8811" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在就来看看结果吧！</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="189d" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">id        name        type<br/>--------- ----------- ------<br/>1         Bulbasaur   grass<br/>2         Ivysaur     grass</strong></span></pre><p id="addd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">好多了！</p><p id="f188" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么如果我们只想要神奇宝贝的<code class="du la lb lc ld b"><strong class="is hj">type</strong></code>和<code class="du la lb lc ld b"><strong class="is hj">1</strong></code>的<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>呢？该命令将是:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="443f" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">SELECT pokemon.type FROM pokemon WHERE pokemon.id = 1;</strong></span></pre><p id="bbdc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们来分析一下。</p><p id="b722" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">SELECT</strong></code>表示我们希望该关键字右侧的项目返回给我们。</p><p id="1cd2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">pokemon.type</strong></code>意味着我们将进入<code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>的表，我们需要type列的值。通常，数据库会有多个表。为了更好地组织我们的神奇宝贝列表，我们可以从技术上为每个新一代创建表格，对吗？但它们应该都属于同一个文件，因为它们都是神奇宝贝。那么下一个表，比如说<code class="du la lb lc ld b"><strong class="is hj">pokemon-gen-2</strong></code>，也将有一个<code class="du la lb lc ld b"><strong class="is hj">name</strong></code>列和一个<code class="du la lb lc ld b"><strong class="is hj">type</strong></code>列。我们希望使用<code class="du la lb lc ld b"><strong class="is hj">table-name.column-name</strong></code>符号来区分我们从哪个表中选择。</p><p id="688d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">FROM pokemon</strong></code>表示我们将查看<code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>表。</p><p id="2b5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">WHERE</strong></code>是设置过滤器的关键字。</p><p id="c664" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">pokemon.id = 1</strong></code>是我们的过滤器。</p><p id="a924" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">;</strong></code>是结束查询。</p><p id="686e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">总之，我们只想从有<code class="du la lb lc ld b"><strong class="is hj">1</strong></code>的<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>的<code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>桌上得到神奇宝贝的<code class="du la lb lc ld b"><strong class="is hj">type</strong></code>。</p><p id="324a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您总是可以使用其他过滤器，但是<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>对于每个记录都是唯一的，所以当您只想要特定的返回时，使用<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>过滤器非常有用。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/1a02cd57ba084567b978b868edde9083.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XNJ2_PruYnHA2U42"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">由<a class="ae lg" href="https://unsplash.com/@timelordmp?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">托马斯·埃文斯</a>在<a class="ae lg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="2bd0" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">如何更新表格/数据？</h1><p id="7a95" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果我没记错的话，阿什在第一季有一个妙蛙种子。所以现在我想在我的表中添加一个<code class="du la lb lc ld b"><strong class="is hj">trainer</strong></code>列。让我们更新我们的表的模式，然后用<code class="du la lb lc ld b"><strong class="is hj">.schema</strong></code>检查模式！</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="dac0" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">ALTER TABLE pokemon ADD COLUMN trainer TEXT;</strong></span></pre><p id="b208" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">.schema</strong></code>会返回这样的东西:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="8e79" class="ll jp hi ld b fi lm ln l lo lp">CREATE TABLE pokemon (<br/>   id INTEGER PRIMARY KEY,<br/>   name TEXT, <br/>   type TEXT<br/>, trainer TEXT);</span></pre><p id="7ba4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">是的，逗号看起来很别扭，但这是我们的<code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>表的正确模式！</p><p id="cee3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们分解一下<code class="du la lb lc ld b"><strong class="is hj">ALTER TABLE</strong></code>命令。</p><p id="14bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">ALTER TABLE</strong></code>表示我们将更换桌子。但是我们必须让SQLite知道是哪个表，对吗？</p><p id="c3ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>是我们要更改的表的名称。</p><p id="1cad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">ADD COLUMN</strong></code>告诉SQLite我们想要如何改变表格。</p><p id="c414" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">trainer</strong></code>是我们将要添加的列名。</p><p id="0ac4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">TEXT</strong></code>是训练者栏中输入的数据类型。</p><p id="d693" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">;</strong></code>是结束命令。</p><p id="64f3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们有了自己的<code class="du la lb lc ld b"><strong class="is hj">trainer</strong></code>专栏，让我们更新我们的妙蛙种子记录，把它的教练包括进来！</p><p id="8985" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">该命令将允许我们更新现有记录:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="9fe3" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">UPDATE pokemon SET trainer = “Ash” WHERE pokemon.id = 1;</strong></span></pre><p id="0585" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">(也可以用<code class="du la lb lc ld b"><strong class="is hj">WHERE pokemon.name = “Bulbasaur”;</strong></code>)</p><p id="19a1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们来分析一下。</p><p id="23b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">UPDATE</strong></code>是更新现有记录的关键字。</p><p id="53fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>是我们正在更新的表的名称。</p><p id="f13f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">SET</strong></code>是设置新值的关键字。</p><p id="6d1d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">trainer =</strong></code>是我们希望如何更改<code class="du la lb lc ld b"><strong class="is hj">trainer</strong></code>列中的值。</p><p id="02e9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">“Ash”</strong></code>是我们要插入到<code class="du la lb lc ld b"><strong class="is hj">trainer</strong></code>列中的值。</p><p id="1853" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">WHERE</strong></code>设置过滤器。</p><p id="3721" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">pokemon.id = 1</strong></code>是滤镜。我们只会改变这个神奇宝贝的<code class="du la lb lc ld b"><strong class="is hj">trainer</strong></code>值。</p><p id="b11f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du la lb lc ld b"><strong class="is hj">;</strong></code>结束命令。</p><p id="148b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你将得不到回报。您必须手动查询特定神奇宝贝的数据，如下所示，以查看妙蛙种子的数据:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="d72c" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">SELECT pokemon.trainer FROM pokemon WHERE pokemon.id = 1;</strong></span></pre><p id="1eb2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将返回:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="7b64" class="ll jp hi ld b fi lm ln l lo lp">trainer<br/>----------<br/>Ash</span></pre><p id="8270" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它看起来很漂亮，因为我们之前使用了<code class="du la lb lc ld b"><strong class="is hj">.headers on</strong></code>、<code class="du la lb lc ld b"><strong class="is hj">.mode column</strong></code>和<code class="du la lb lc ld b"><strong class="is hj">.width auto</strong></code>。</p><p id="c2e5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">还记得第一个表中的错误吗？让我们把那张桌子搬回来。小火龙是火相星座！让我们更新表格。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/4a9e5f7719dc79ab82a308356ebbf26d.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*Q_nlqOhA7F_x7kaodkB0UQ.jpeg"/></div></figure><p id="502d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">之前我们更新了一个空的“单元”。我们也可以用相同的<code class="du la lb lc ld b"><strong class="is hj">UPDATE</strong></code>命令更新已经有数据的“单元”!</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="8eff" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">UPDATE pokemon SET type = “fire” WHERE pokemon.id = 4;</strong></span></pre><h1 id="1b9b" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">如何删除表格/数据？</h1><p id="2e0a" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果有一天你厌倦了神奇宝贝，想转战数码宝贝怎么办？(当然，你可以两者都享受。)所以后来你决定删掉所有关于神奇宝贝的东西。</p><p id="749a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是删除表格的方法:</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="00da" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">DROP TABLE pokemon;</strong></span></pre><p id="093f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">非常简单。</p><p id="7ce5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，如果你真的不喜欢某个神奇宝贝，想删除那些数据呢？让我们假设我们已经插入了151之前的所有神奇宝贝数据。</p><pre class="ks kt ku kv fd lh ld li lj aw lk bi"><span id="5ea4" class="ll jp hi ld b fi lm ln l lo lp"><strong class="ld hj">DELETE FROM pokemon WHERE pokemon.id = 150;</strong></span></pre><p id="1883" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以现在<code class="du la lb lc ld b"><strong class="is hj">pokemon</strong></code>表的最后两个id是<code class="du la lb lc ld b"><strong class="is hj">149</strong></code>和<code class="du la lb lc ld b"><strong class="is hj">151</strong></code>。你创造的下一个神奇宝贝将不会有<code class="du la lb lc ld b"><strong class="is hj">150</strong></code>的<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>。它将有一个id<code class="du la lb lc ld b"><strong class="is hj">152</strong></code>。还记得id有多独特吗？一旦添加了新行，SQLite就不会重复以前的id。</p><p id="e216" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而，如果我删除了一个<code class="du la lb lc ld b"><strong class="is hj">id</strong></code>为<code class="du la lb lc ld b"><strong class="is hj">151</strong></code>的神奇宝贝，而当前的表只有151条记录，那该怎么办呢？在这种情况下，SQLite将重用<code class="du la lb lc ld b"><strong class="is hj">id</strong></code> <code class="du la lb lc ld b"><strong class="is hj">151</strong></code>。</p><h1 id="6db3" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="fbf3" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">SQL没那么可怕！如果你偶尔忘记一些命令，那也没关系。这就是为什么我们有谷歌！当我写这篇文章的时候，我不得不依靠我的笔记，因为我的记忆力太差了。</p><p id="da71" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，您已经学习或复习了如何:</p><ul class=""><li id="78e0" class="ls lt hi is b it iu ix iy jb lu jf lv jj lw jn lx ly lz ma bi translated">创建/删除/更新表</li><li id="0115" class="ls lt hi is b it mb ix mc jb md jf me jj mf jn lx ly lz ma bi translated">插入/更新/删除记录！</li></ul><p id="f96c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">还有很多命令，但这些都是基本的。那么既然你已经具备了一些知识，那我们就全部去查询吧！</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/111748d036ad6b55aa93916fe40a489b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TgIOq9R0i5qDwRFu"/></div></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">照片由<a class="ae lg" href="https://unsplash.com/@davidgrdm?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">大卫·格兰穆金</a>在<a class="ae lg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure></div></div>    
</body>
</html>