<html>
<head>
<title>Get Started Scraping LinkedIn With Python and Selenium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始用Python和Selenium抓取LinkedIn</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/linked-in-web-scraper-using-selenium-15189959b3ba?source=collection_archive---------2-----------------------#2021-03-01">https://medium.com/nerd-for-tech/linked-in-web-scraper-using-selenium-15189959b3ba?source=collection_archive---------2-----------------------#2021-03-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/ed81b24bdc5932db4a7f16b0067244b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l5geuVfO7W22RRovGcRo9g.png"/></div></div></figure><div class=""/></div><div class="ab cl iq ir gp is" role="separator"><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv iw"/><span class="it bw bk iu iv"/></div><div class="hb hc hd he hf"><h1 id="9579" class="ix iy ht bd iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju bi translated"><strong class="ak">简介</strong></h1><p id="7881" class="pw-post-body-paragraph jv jw ht jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">网络抓取是数据科学项目中的一项常见任务，我最近想要LinkedIn上的工作列表数据。这是一个更大的NLP项目的一部分，所以我想要每个帖子的文本描述。在这篇文章中，我展示了如何创建一个Python类来抓取LinkedIn上的招聘信息。这篇文章的结尾将包括LinkedInBot类和演示其用法的脚本。</p><p id="4ee5" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">如果您只是想要代码— <a class="ae ky" href="https://github.com/MatanFreedman/LinkedInBot" rel="noopener ugc nofollow" target="_blank">这里是GitHub存储库</a>，它有一个LinkedInBot类和一个使用sqlite3存储数据的DBCommunicator类。</p><p id="7c67" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated"><strong class="jx hu">免责声明:</strong>本文介绍了在某些情况下可能违反LinkedIn条款和条件的做法。在以任何方式继续之前，读者有责任检查LinkedIn政策。</p><h1 id="787d" class="ix iy ht bd iz ja kz jc jd je la jg jh ji lb jk jl jm lc jo jp jq ld js jt ju bi translated"><strong class="ak"> LinkedIn网页抓取</strong></h1><p id="6c39" class="pw-post-body-paragraph jv jw ht jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">网络抓取是在线数据收集的自动化。对于静态网站，一个简单的带有适当参数的HTTP请求就可以获得您需要的所有信息，然后您必须在存储之前对这些信息进行解析和清理。LinkedIn使用了大量的动态异步加载(即，除非你点击或滚动查看数据，否则不会加载数据)。因此，您需要使用Python的<a class="ae ky" href="https://selenium-python.readthedocs.io/" rel="noopener ugc nofollow" target="_blank"> Selenium </a> web驱动程序。</p><h1 id="82dc" class="ix iy ht bd iz ja kz jc jd je la jg jh ji lb jk jl jm lc jo jp jq ld js jt ju bi translated">硒入门</h1><p id="4883" class="pw-post-body-paragraph jv jw ht jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">要使用Selenium，您需要安装Python包并下载您选择的<a class="ae ky" href="https://selenium-python.readthedocs.io/installation.html" rel="noopener ugc nofollow" target="_blank"> web驱动程序</a>(我使用Firefox):</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="bd9c" class="ln iy ht lj b fi lo lp l lq lr">pip install selenium</span></pre><p id="b377" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">硒比较好用。首先你必须启动webdriver，然后你可以像任何普通的web scraper一样请求页面。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="1e35" class="ln iy ht lj b fi lo lp l lq lr">from selenium import webdriver</span><span id="f1c3" class="ln iy ht lj b fi ls lp l lq lr">driver_path = "geckodriver.exe"<br/>driver = webdriver.Firefox(executable_path=driver_path)</span></pre><h1 id="49f3" class="ix iy ht bd iz ja kz jc jd je la jg jh ji lb jk jl jm lc jo jp jq ld js jt ju bi translated">LinkedIn抓取</h1><p id="7079" class="pw-post-body-paragraph jv jw ht jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">要登录LinkedIn，您需要将浏览器定向到LinkedIn，并使用凭据登录。</p><figure class="le lf lg lh fd hk er es paragraph-image"><div class="er es lt"><img src="../Images/dc7db2753565109359653df1b8f2a645.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*OFZFyZ_zwHKDnP3UfncRPQ.png"/></div><figcaption class="lu lv et er es lw lx bd b be z dx translated">LinkedIn的登录页面。</figcaption></figure><p id="27ce" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">我使用Selenium的<em class="ly"> find_element_by_name </em>方法来查找登录信息的输入。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="7d59" class="ln iy ht lj b fi lo lp l lq lr">from selenium import webdriver<br/>import time<br/>from selenium.webdriver.common.keys import Keys</span><span id="65bb" class="ln iy ht lj b fi ls lp l lq lr"># direct the webdriver to where the browser file is:<br/>driver_path = "geckodriver.exe"<br/>driver = webdriver.Firefox(executable_path=driver_path)</span><span id="670f" class="ln iy ht lj b fi ls lp l lq lr"># your secret credentials:<br/>email = "your@email.com"<br/>password = "123456"</span><span id="1f29" class="ln iy ht lj b fi ls lp l lq lr"># Go to linkedin and login<br/>driver.get('https://www.linkedin.com/login')<br/>time.sleep(3)<br/>driver.find_element_by_id('username').send_keys(email)<br/>driver.find_element_by_id('password').send_keys(password)<br/>driver.find_element_by_id('password').send_keys(Keys.RETURN)</span></pre><p id="1ad6" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">这会将浏览器驱动到LinkedIn的登录页面，并使用Seleniums "<em class="ly">find _ element _ by _ id</em>"函数向适当的输入发送电子邮件和密码。Selenium有一些这样的函数，可以根据类名、id、css选择器和xpath查找元素。注意，我实现了一个time.sleep方法，让浏览器暂停三秒钟。等待允许浏览器在您的脚本移动到下一个任务之前加载页面元素。</p><p id="21c3" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">接下来，该机器人将转到LinkedIn工作页面，并根据一些关键字和位置搜索列表:</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="02f3" class="ln iy ht lj b fi lo lp l lq lr">driver.get("https://www.linkedin.com/jobs/")<br/>time.sleep(3)</span><span id="8b73" class="ln iy ht lj b fi ls lp l lq lr"># find the keywords/location search bars:<br/>search_bars = driver.find_elements_by_class_name('jobs-search-box__text-input')</span><span id="3785" class="ln iy ht lj b fi ls lp l lq lr">search_keywords = search_bars[0]<br/>search_keywords.send_keys(keywords)<br/>    <br/>search_location = search_bars[2]<br/>search_location.send_keys(location)<br/>search_location.send_keys(Keys.RETURN)</span></pre><p id="dd95" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">这里的搜索栏很难找到，所以我使用了它们的类名。</p><p id="9dc4" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">LinkedIn使用左侧的侧边栏和右侧的主容器来显示列表及其各自的信息，如下所示:</p><figure class="le lf lg lh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lz"><img src="../Images/6674eca07a9db8af1a352b69228157ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7vXIZSM6m6S_CHReefae8g.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx translated">LinkedIn工作列表布局。</figcaption></figure><p id="6908" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">在机器人需要移动到下一页之前，列表每页最多有25个结果。因此，机器人需要能够点击每个列表，记录信息，然后滚动并点击下一个列表。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="f333" class="ln iy ht lj b fi lo lp l lq lr"># get a list of all the listings elements's in the side bar<br/>list_items = driver.find_elements_by_class_name("occludable-update")</span><span id="e73e" class="ln iy ht lj b fi ls lp l lq lr"># scrolls a single page:<br/>for each job in list_item:<br/>    # executes JavaScript to scroll the div into view<br/>    driver.execute_script("arguments[0].scrollIntoView();", job)<br/>    job.click()<br/>    time.sleep(3)</span><span id="824c" class="ln iy ht lj b fi ls lp l lq lr">    # get info:<br/>    [position, company, location] = job.text.split('\n')[:3]<br/>    details = driver.find_element_by_id("job-details").text</span><span id="da13" class="ln iy ht lj b fi ls lp l lq lr">    # do what you want with that info...</span></pre><p id="282e" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">请注意，我获取的唯一信息是职位、公司、地点和描述。我的潜在用例是一个NLP项目，因此我只对描述文本感兴趣。您可以修改它来收集您喜欢的任何其他信息，例如发布日期、申请人、技能等。</p><h1 id="13c9" class="ix iy ht bd iz ja kz jc jd je la jg jh ji lb jk jl jm lc jo jp jq ld js jt ju bi translated"><strong class="ak"> Python Selenium Bot类</strong></h1><p id="7dee" class="pw-post-body-paragraph jv jw ht jx b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks hb bi translated">我已经介绍了基本的函数，但是为了把所有的东西联系在一起，我写了一个更完整的类对象，并在底部的main函数中展示了一个例子。</p><figure class="le lf lg lh fd hk"><div class="bz dy l di"><div class="ma mb l"/></div></figure><p id="8586" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">感谢您的阅读！</p><p id="dfb3" class="pw-post-body-paragraph jv jw ht jx b jy kt ka kb kc ku ke kf kg kv ki kj kk kw km kn ko kx kq kr ks hb bi translated">这是我的第一篇媒体文章，请在评论中告诉我我的表现。</p></div></div>    
</body>
</html>