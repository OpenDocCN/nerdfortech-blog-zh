<html>
<head>
<title>Implementing a double jump | Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现双跳|统一</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/implementing-a-double-jump-unity-87a1e55e4e72?source=collection_archive---------2-----------------------#2021-08-02">https://medium.com/nerd-for-tech/implementing-a-double-jump-unity-87a1e55e4e72?source=collection_archive---------2-----------------------#2021-08-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="1a1a" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="e124" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于如何为 Unity 玩家实现双跳的快速指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/96be18534f6838c9dcbe6451bec013c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*521yjTyWKvoI1FyHu_8o7Q.gif"/></div></div></figure><p id="4c23" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:使用基于物理的角色控制器 Unity 实现一次双跳。</p><p id="a59b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在上一篇文章中，我介绍了<a class="ae ko" rel="noopener" href="/nerd-for-tech/creating-a-physics-based-character-controller-unity-6c9f44473526">如何创建一个基于物理的角色控制器</a>来让玩家在场景中移动。现在，是时候通过使用相同的基于物理的角色控制器 Unity 来实现一个双重跳跃机制了。</p><h1 id="ec9d" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">实现双跳</h1><p id="98ab" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">如果你还没有看到我的上一篇文章，我强烈建议你在实现双跳转机制之前查看一下:</p><div class="lm ln ez fb lo lp"><a rel="noopener follow" target="_blank" href="/nerd-for-tech/creating-a-physics-based-character-controller-unity-6c9f44473526"><div class="lq ab dw"><div class="lr ab ls cl cj lt"><h2 class="bd hs fi z dy lu ea eb lv ed ef hr bi translated">创建基于物理的角色控制器| Unity</h2><div class="lw l"><h3 class="bd b fi z dy lu ea eb lv ed ef dx translated">关于如何使用 Unity 创建基于物理的角色控制器的快速指南</h3></div><div class="lx l"><p class="bd b fp z dy lu ea eb lv ed ef dx translated">medium.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md jq lp"/></div></div></a></div><p id="b545" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，为了实现双跳机制，让我们打开玩家脚本并创建一个新的 bool 来了解玩家是否可以执行双跳:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es me"><img src="../Images/75e4b604a49abd5936c75902dd8144b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*kq5YIHX8fncxjBZwjnoX_Q.png"/></div></figure><p id="0197" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在<strong class="ju hs">更新</strong>方法中，记住我们检查<strong class="ju hs">角色控制器</strong>组件是否接触地面。如果玩家没有接触地面，我们从重力脉冲中减去相应的重力，使玩家下落，直到接触地面:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mf"><img src="../Images/617ffe56644fa6de4909afeaad48024e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*TEqyESO43qBsO4mf0yl-sA.png"/></div></figure><p id="343b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">因此，为了实现双击，让我们检查空格键输入，以及决定玩家是否可以双击的布尔值是否为<strong class="ju hs"> <em class="mg"> true </em> </strong>:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mh"><img src="../Images/914cd03f341a6c5b2c81c809332097fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QYXboDMpPI8YAtuV9-tQ1Q.png"/></div></div></figure><p id="4b72" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果是这种情况，让我们将相应的跳跃高度幂加到重力脉冲上，然后将允许双跳的布尔设置为 false:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mi"><img src="../Images/bcb9766003a733d1ece9580207f401a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*biNmTQw7ofo83U88sb0hSA.png"/></div></div></figure><p id="b279" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">另一方面，如果玩家正在接触地面，让我们添加一行代码，通过在第一次跳跃时将 bool 设置为 true 来启用双跳:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mj"><img src="../Images/2706e1d1241f4826cf21eed7fddd1c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*PYObec1A2Rrn2fpwQPKaoQ.png"/></div></figure><p id="7f64" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，让我们记住在<strong class="ju hs">更新</strong>方法结束时，重力脉冲定义了我们的玩家在 Y 轴上的速度:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mk"><img src="../Images/a2d0d97656c0028b0bda970250fa451b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-T0_pzALiNxEV21mXNYagw.png"/></div></div></figure><p id="07e5" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们用 Unity 运行游戏，我们会注意到双跳按预期工作，玩家可以通过使用这种机制达到新的高度:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/fe5a8d1803b641f9c0b657a4dd351ad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Ko8NsmcS58iQLWbl9CDhXA.gif"/></div></div></figure><p id="b631" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们用 Unity 实现了双跳机制！:d .我会在下一篇文章中看到你，在那里我将展示如何用 Unity 为玩家创建一个可收集的物品。</p></div><div class="ab cl ml mm gp mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="hb hc hd he hf"><blockquote class="ms mt mu"><p id="4311" class="js jt mg ju b jv jw is jx jy jz iv ka mv kc kd ke mw kg kh ki mx kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>