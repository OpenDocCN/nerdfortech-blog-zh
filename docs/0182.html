<html>
<head>
<title>How to setup mysql database on AWS RDS ( Relational Database Service )</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在AWS RDS(关系数据库服务)上设置mysql数据库</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-setup-mysql-database-on-aws-rds-relational-database-service-f5a186ccbadb?source=collection_archive---------1-----------------------#2020-06-27">https://medium.com/nerd-for-tech/how-to-setup-mysql-database-on-aws-rds-relational-database-service-f5a186ccbadb?source=collection_archive---------1-----------------------#2020-06-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fe00" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，我们将学习如何在AWS <strong class="ih hj"> RDS <br/> </strong>中设置mysql数据库，以及如何从我们的<strong class="ih hj"> EC2 </strong>实例或本地机器的phpmyadmin连接该数据库。所有这些都符合<a class="ae jd" href="http://aws.amazon.com/free/" rel="noopener ugc nofollow" target="_blank">自由层</a>的条件。</p><p id="90be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">先决条件<br/> </strong>创建AWS账户。</p><h1 id="5736" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">在Amazon RDS上创建一个数据库实例</strong></h1><p id="1aec" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">我们将使用Amazon RDS创建一个带有<strong class="ih hj"> db.t2.micro </strong> DB实例类的<strong class="ih hj"> MySQL </strong> DB实例，<strong class="ih hj"> 20 GB </strong>存储，这是符合<a class="ae jd" href="http://aws.amazon.com/free/" rel="noopener ugc nofollow" target="_blank">自由层</a>条件的。<br/> <br/>亚马逊<strong class="ih hj"> RDS免费等级</strong>向您提供<strong class="ih hj"> 12个月</strong>。</p><ul class=""><li id="7dc1" class="kh ki hi ih b ii ij im in iq kj iu kk iy kl jc km kn ko kp bi translated">在单个AZ db.t2.micro实例中每月750小时的Amazon RDS。</li><li id="b7d8" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">每月20 GB的通用存储(SSD)。</li><li id="0ac6" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc km kn ko kp bi translated">每月20 GB，用于自动备份存储和任何用户启动的数据库快照。</li></ul><h1 id="3340" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">创建数据库实例的步骤</h1><p id="612f" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">1.使用您的AWS帐户登录并转到<strong class="ih hj">控制台。</strong></p><p id="2f33" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.在服务中搜索<strong class="ih hj"> RDS </strong>并转到RDS。</p><p id="1d0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.在Amazon RDS控制台的右上角，选择要在其中创建DB实例的<em class="kv">区域</em>。(可选)</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es kw"><img src="../Images/0315f6af18a3c56c7cbf1905cb553073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QCJrvQGqwxR8nxsM.png"/></div></div></figure><p id="71f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.点击仪表板上创建数据库部分的<strong class="ih hj">创建数据库</strong>。</p><p id="3835" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5.选择<strong class="ih hj">标准</strong>T36】创建来配置数据库实例。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es li"><img src="../Images/680510554f7ad16dfbe213221ba96cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mSw4jmcMl0Fdk8mML0dltA.png"/></div></div></figure><p id="416f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">6.在引擎选项中选择<strong class="ih hj"> MYSQL </strong>，在模板中选择<strong class="ih hj">自由层</strong>。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es lj"><img src="../Images/16afad39f4ebaf1347f6c51ee0d154da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s-3gTBEHAGYz3RovfDOANg.png"/></div></div></figure><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es lk"><img src="../Images/f47982502d8559093da5783f2f21a869.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pf_gutA_24aRM5ODpQZX9w.png"/></div></div></figure><p id="5a2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">7.配置一个<strong class="ih hj"> DB实例名</strong>和<strong class="ih hj">凭证设置。</strong></p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es ll"><img src="../Images/5b0e367ddac0f77197f695b09934ae5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6D9L2OAxWB5-Bad3bx8D8g.png"/></div></div></figure><p id="8514" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">8.<strong class="ih hj">禁用</strong>存储部分的存储自动缩放。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es lm"><img src="../Images/c740b929d6e44a91f95613d8fc6d0fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rsB9T8aBG1XAbvjkvHArg.png"/></div></div></figure><p id="89b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">9.<strong class="ih hj">改变</strong>你附加的<strong class="ih hj">连通性</strong>配置<strong class="ih hj"/>。公共访问<strong class="ih hj">是</strong>从<strong class="ih hj">本地</strong>机器<strong class="ih hj">访问数据库</strong>。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es ln"><img src="../Images/ad43637a6a75c1fee567b78603c6f749.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*633n0Ymrmvtyb97-Rb7Pig.png"/></div></figure><p id="4117" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">10 .将数据库认证设置为<strong class="ih hj">密码</strong>认证</p><p id="35c2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">11.现在向<strong class="ih hj">走来附加配置</strong></p><p id="46ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">a)输入一个<strong class="ih hj">初始</strong>数据库名</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es lo"><img src="../Images/90693f674699bdec4fe02c3c00809fb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*8_tFxUh9nWzFQ868wh6rkw.png"/></div></figure><p id="d5bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">b)启用<strong class="ih hj">自动备份</strong>并将<strong class="ih hj">备份保留期</strong>设为1或2天，并禁用监控。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es lp"><img src="../Images/da76aef2dca0cd50e449fde189cea5fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RycxBlPHOQ4Wybh05cnfUg.png"/></div></div></figure><p id="b97c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">d)启用<strong class="ih hj">所有日志导出。</strong></p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es lq"><img src="../Images/ecbd177d6b560ff484f79a5be54c0488.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*UMeU0ot3LILFko1ZaNmGZA.png"/></div></figure><p id="98d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">e)同时启用<strong class="ih hj">自动小版本升级</strong>和<strong class="ih hj">删除保护</strong>。这将不允许任何人直接删除数据库实例。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es lr"><img src="../Images/6423bc4b14c47ae070781914fd8523ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*vwGcOVAYeLyAhVNsFeOZjQ.png"/></div></figure><p id="f5c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">12.点击<strong class="ih hj">创建数据库</strong></p><p id="54cc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，您已经完成了在Amazon RDS(免费层资格)中设置MYSQL数据库的工作。</p><h2 id="1dca" class="ls jf hi bd jg lt lu lv jk lw lx ly jo iq lz ma js iu mb mc jw iy md me ka mf bi translated">如何在本地机器或EC2实例中从phpmyadmin访问mysql数据库？</h2><blockquote class="mg mh mi"><p id="734e" class="if ig kv ih b ii ij ik il im in io ip mj ir is it mk iv iw ix ml iz ja jb jc hb bi translated">要从本地机器访问db实例，您必须在步骤9中将public accessibility选项设置为yes。此外，数据库实例中的安全组规则应该如下所示。</p></blockquote><figure class="kx ky kz la fd lb er es paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="er es mm"><img src="../Images/d0f318f9366288bc79f95106bee02c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OfxuHpWzLqOxX1GtBoG4Ig.png"/></div></div></figure><p id="d5d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，在您的机器或EC2实例中打开phpmyadmin config.inc.php，以连接您的数据库服务器。</p><p id="c585" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开/etc/phpmyadmin/config.inc.php，将DB实例添加到phpmyadmin</p><pre class="kx ky kz la fd mn mo mp mq aw mr bi"><span id="ad1a" class="ls jf hi mo b fi ms mt l mu mv">$ sudo vi /etc/phpmyadmin/config.inc.php</span></pre><p id="53a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在config.inc.php的末尾加上下面一行</p><pre class="kx ky kz la fd mn mo mp mq aw mr bi"><span id="816b" class="ls jf hi mo b fi ms mt l mu mv">$i++;<br/>$cfg['Servers'][$i]['host']          = 'ENDPOINT_HERE';<br/>$cfg['Servers'][$i]['port']          = '3306';<br/>$cfg['Servers'][$i]['socket']        = '';<br/>$cfg['Servers'][$i]['connect_type']  = 'tcp';<br/>$cfg['Servers'][$i]['extension']     = 'mysql';<br/>$cfg['Servers'][$i]['compress']      = FALSE;<br/>$cfg['Servers'][$i]['auth_type']     = 'config';<br/>$cfg['Servers'][$i]['user']          = 'root'<br/>$cfg['Servers'][$i]['password']      = 'PASSWORD_HERE';</span></pre><p id="e6bc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将“<strong class="ih hj">ENDPOINT _ HERE<em class="kv">”</em></strong>和“<strong class="ih hj"> PASSWORD_HERE </strong>”替换为您的凭证。</p><p id="b19f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">对于端点</strong>:转到RDS上的数据库。单击您的数据库实例，您将在<strong class="ih hj">连接性&amp;安全性中找到您的数据库端点。</strong></p><p id="b63d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">密码</strong>:使用您在步骤7中使用的数据库密码(配置数据库实例名称和<strong class="ih hj">凭证设置</strong>)。<strong class="ih hj"> </strong>)创建数据库实例时。</p><p id="9a32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注意</strong>:您可以在任何连接到您的数据库实例的软件上使用您的凭证。即<a class="ae jd" href="https://www.jetbrains.com/datagrip/" rel="noopener ugc nofollow" target="_blank"> DataGrip </a>、<a class="ae jd" href="https://dev.mysql.com/downloads/workbench/" rel="noopener ugc nofollow" target="_blank"> MySQL Workbench </a>等。</p><h1 id="42e0" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated"><strong class="ak">参考文献</strong></h1><ol class=""><li id="8422" class="kh ki hi ih b ii kc im kd iq mw iu mx iy my jc mz kn ko kp bi translated"><a class="ae jd" href="https://aws.amazon.com/getting-started/hands-on/create-mysql-db/" rel="noopener ugc nofollow" target="_blank">https://AWS . Amazon . com/getting-started/hands-on/create-MySQL-db/</a></li><li id="32bf" class="kh ki hi ih b ii kq im kr iq ks iu kt iy ku jc mz kn ko kp bi translated"><a class="ae jd" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/CHAP_MySQL.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Amazon rds/latest/user guide/CHAP _ MySQL . html</a></li></ol></div></div>    
</body>
</html>