<html>
<head>
<title>Creating A Ledge Grab in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Unity 中创建一个壁架抓手</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/creating-a-ledge-grab-in-unity-217bc76b4ba3?source=collection_archive---------22-----------------------#2021-07-23">https://medium.com/nerd-for-tech/creating-a-ledge-grab-in-unity-217bc76b4ba3?source=collection_archive---------22-----------------------#2021-07-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="59fe" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">2.5D 游戏开发</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/febd0dd6413dd355705014617aa5539e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*__d5fFazWryt4Pp--cikDg.png"/></div></figure><p id="bd7e" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated"><strong class="ii hj">目标:</strong>在游戏中创建一个抓壁架的功能。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jm"><img src="../Images/39954019c348a32ec6a3e74832de4225.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*dRgwSkNhBtEsu34pNGg1FA.png"/></div></figure><p id="a23a" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">首先，让我们创建一个立方体游戏对象，并定义它的变换属性，使它看起来像一个壁架，把它放在玩家手中的抓取位置，并将触发器设置为活动。然后禁用网格渲染器，使其在游戏过程中不显示。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jn"><img src="../Images/635637926ff0c821987a9f900914fc66.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*Y1sytUCJPdDyIUVlyS1bgA.png"/></div></figure><p id="7c7c" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">在玩家将要悬挂的壁架上做同样的动作。这将检测到玩家手中的立方体，当它接触自己时，将玩家定位到壁架抓取位置。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jo"><img src="../Images/2d7de17ae919b8a48671266e236acc96.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*QdfYC8Il0uD4CKwJK_n_2Q.png"/></div></figure><p id="bb66" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这里，您设置了两个位置，一个是将玩家挂在壁架上时的位置，另一个是在攀爬壁架的动画完成后的位置。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jp"><img src="../Images/faa09a5cbaa7314e8af9ae1b2aa1b63d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QK1p1YH4xdqLm4qLmJdhmw.png"/></div></div></figure><p id="73c2" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这是动画触发器的脚本，其中壁架碰撞器检查碰撞的对象是否是壁架检查器，如果是，则调用 PlayLedgeGrabAnimation 方法，并提供玩家抓取位置和对当前脚本的引用作为参数。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ju"><img src="../Images/9ac70fe3322fe48da3ba461697c5f91a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p2agnY7l2Fyxxpl77jZlPw.png"/></div></div></figure><p id="6e80" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这里，在 player 脚本中的 called 方法中，您基本上控制了动画参数的所有 float 和 bool 值，以启动壁架服装动画。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jv"><img src="../Images/392f712e50b143e67c15e2790e819f73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*IG2rMmuNoegKj00AGD8TJQ.png"/></div></figure><p id="6b39" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">然后你可以在抓壁架时阻止移动，如果玩家在此期间按下 E 键，动画就会从悬挂变为攀爬。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jw"><img src="../Images/697c709942a7a47ee31b83f896069662.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*jsPc955y8boKI6yCVv-trg.png"/></div></figure><p id="740f" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">然后在“动画制作人”面板上选择攀爬动画事件，并选择“添加行为”和“创建行为脚本”。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jx"><img src="../Images/ea0b8625e207c008d1b4d6565066f503.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fTZIo9xUhewUEjBYs6_3Gg.png"/></div></div></figure><p id="fe54" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">然后在行为脚本中，我们定义动画完成后发生的事情，即停止攀爬动画</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es jy"><img src="../Images/db39085d41da4c6fbd74c9863e10614b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*ruUq0bdL1s2cpmRXRjAxNQ.png"/></div></figure><p id="2abb" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">然后从玩家脚本中被调用的函数中，将碰撞体位置转换到攀爬位置，并启用控制器，这样玩家就可以移动了。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jz"><img src="../Images/a9cefc6a40e61b882efdb3ecf0cc4d3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MQXsH06_XPv1exvIEuzV-Q.png"/></div></div></figure><p id="c201" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这是我们的动画师来控制动画。您创建一组条件，如果满足这些条件，将启动您想要的动画。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ka"><img src="../Images/4c3834e5ea37705d290b357b564e6145.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*snLxVhUbLeU_p6WxgNQI_w.gif"/></div></div></figure><p id="c1be" class="pw-post-body-paragraph ig ih hi ii b ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd hb bi translated">这是最终的结果。</p></div></div>    
</body>
</html>