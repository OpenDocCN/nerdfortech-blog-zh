<html>
<head>
<title>Effective Code Reviews For Remote Teams</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">远程团队的有效代码评审</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/effective-code-reviews-for-remote-teams-a15a8574debf?source=collection_archive---------10-----------------------#2021-04-23">https://medium.com/nerd-for-tech/effective-code-reviews-for-remote-teams-a15a8574debf?source=collection_archive---------10-----------------------#2021-04-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/fc6bdb8ab47e9347e3442ad4cf4391f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VvI9Xbe8l7WWuYHIfZXpbg.jpeg"/></div></div></figure><p id="efe4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2020年，现代应用程序开发的大环境发生了变化。意外的疫情迫使实体办公室关门，并要求员工远程执行日常任务。这包括专注于创建、构建和增强他们雇主的技术需求的软件工程师团队。</p><p id="3661" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要求团队成员短时间甚至一周的一部分时间远程工作是一回事。另一种方法是立即改变思路，要求每个人都计划无限期地远程工作。事实上，这一新需求的下游效应一直困扰着任何团队最大的需求……团队内部的沟通。</p><p id="5c58" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就本文的目的而言，我将把我的关注点缩小到同行评审的社会方面，并关注如何在100%远程的情况下进行有效的代码评审。</p><h1 id="d1c1" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">代码审查说明</h1><p id="20a5" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">那么什么是代码审查呢？根据维基百科，代码审查是:</p><blockquote class="kr ks kt"><p id="66fb" class="iq ir ku is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Code_review" rel="noopener ugc nofollow" target="_blank"> <em class="hi">“代码审查</em> </a> <em class="hi">是一种软件质量保证活动，一个或几个人主要通过查看和阅读程序的部分源代码来检查程序，他们在程序实现后或中断实现时进行检查。”</em></p></blockquote><p id="d55d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">代码评审通常被称为同行评审、拉请求(PRs)，甚至是合并请求。无论使用什么术语来定义过程，最终结果都是一样的——在将变更推进到开发生命周期的下一步之前，要求另一个有能力的团队成员审查代码库的更新。</p><h1 id="e8c4" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">水平设置代码审查</h1><p id="bb02" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">不要混淆，所有代码评审的目标都应该是<strong class="is hj">保持被评审的底层应用或服务的质量</strong>。几年前，福特汽车公司提出了“质量是工作1”的营销口号，这可以应用于代码审查。毕竟，没有一个产品所有者希望收到没有经过质量检查的特性代码。</p><p id="0f60" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用代码评审还有三个额外的好处:</p><ul class=""><li id="25cf" class="kz la hi is b it iu ix iy jb lb jf lc jj ld jn le lf lg lh bi translated">学习机会</li><li id="f798" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">反馈阶梯</li><li id="23a7" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">软件工程师分析</li></ul><h1 id="e5be" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">学习机会</h1><p id="f81e" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">代码审查应该始终被认为是每个相关人员的一个学习机会。在大多数情况下，更高级的评审者会提供备选方案或建议，从而改进源代码，并向提交者传达一个教训。然而，作为过程的一部分，评审者获得知识也是常见的。事实上，正是在一次代码审查中，我了解到在Java中允许使用下划线来设置静态变量:</p><pre class="ln lo lp lq fd lr ls lt lu aw lv bi"><span id="6a13" class="lw jp hi ls b fi lx ly l lz ma">private static final long FIFTEEN_MILLION = 15_000_000;</span></pre><h1 id="6540" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">反馈阶梯</h1><p id="1e4b" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">“反馈阶梯”是由<a class="ae ky" href="http://www.pz.harvard.edu/who-we-are/people/daniel-wilson" rel="noopener ugc nofollow" target="_blank">丹尼尔·克拉尔</a> ( <a class="ae ky" href="https://twitter.com/ProjectZeroHGSE" rel="noopener ugc nofollow" target="_blank">哈佛零项目</a>)开发的，是一种协议或结构，通过按建设性的顺序排列反馈来建立信任和支持的文化。<a class="ae ky" href="https://www.netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>将这种认知方法应用于代码评审，并建立了反馈阶梯:</p><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mb"><img src="../Images/392eac107443a7234cc6c3b89a4958c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GrHw0msCBDpz61nf.png"/></div></div></figure><p id="ed67" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">理解没有两个开发人员解决的问题是完全相同的，代码评审可能很快充满了与代码质量和代码偏好无关的建议。虽然这些建议可能是有效的，但是它们不能解决代码被评审的负面情况。</p><p id="2511" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">反馈阶梯方法允许审核者在建议前添加以下类别之一:</p><ul class=""><li id="28ed" class="kz la hi is b it iu ix iy jb lb jf lc jj ld jn le lf lg lh bi translated">[mountain] —代码审查被阻止，直到注释被处理</li><li id="5f61" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">[巨石] —阻塞，但可以被允许向前移动(通过补救计划)</li><li id="38c2" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">[rock] —未阻塞，但需要未来的工作(代码中对ARM票证的引用)</li><li id="3742" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">[pebble] —不阻塞，需要进一步考虑</li><li id="1927" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">[沙子] —不阻挡，“要么接受，要么放弃”</li></ul><p id="28fd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意:Leslie Cohn-Wein 最初的Netlify设计使用了山、巨石、卵石、沙子和灰尘类别，但是我使用上面提供的类别取得了更好的成功。</p><h1 id="4e33" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">软件工程师分析</h1><p id="e399" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">代码评审过程本身提供了一个机会来获得参与生命周期事件的软件工程师的分析信息。此类信息有助于证明定期绩效评估后需要做出的决策的合理性。</p><p id="384b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于始终专注于遵循设计标准和交付质量的代码评审者来说，经理可以举出许多例子来证明给上层管理人员增加奖励是合理的。</p><p id="1365" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相反，随着时间的推移，通过代码评审过程，可能会暴露出不是团队最佳人选的个人。虽然没有人希望出现这种情况，但拥有可用的文档确实有助于管理层为他们的组织做出最佳决策——而无需要求同事花时间整理他们的想法。</p><h1 id="b7fb" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">远程驱动世界中的代码评审</h1><p id="9dba" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">自从远程工作以来，我已经看到下面的流程在代码审查方面产生了积极的结果:</p><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/190a20529cea61fe6c5f37c564fa1f8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qVFkcHK8i3QDU8_1.png"/></div></div></figure><ul class=""><li id="cdf2" class="kz la hi is b it iu ix iy jb lb jf lc jj ld jn le lf lg lh bi translated">创建——利用基于git的工具来建立新的代码审查</li><li id="d02d" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">文档——更进一步包括详细的信息来补充代码评审(包括图表和视频链接)</li><li id="426c" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">协作——使用屏幕共享或基于团队的工具，浏览代码评审的细节</li><li id="4f86" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">适应—根据反馈进行必要的更新(反馈阶梯)</li><li id="6c35" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated">合并—完成代码审查过程(在批准后)</li></ul><p id="ffc6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">沟通是这个流程的核心，这意味着每一步都采用一种沟通策略，不仅保持代码审查的活跃，而且作为一种机制来提醒从事同一应用程序或组件的其他团队。一些例子包括:</p><ol class=""><li id="d59b" class="kz la hi is b it iu ix iy jb lb jf lc jj ld jn md lf lg lh bi translated">发送代码评审的直接链接(而不是电子邮件)</li><li id="d70a" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn md lf lg lh bi translated">当代码审查已被批准并且更新可用时宣布</li><li id="d0b6" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn md lf lg lh bi translated">提供关于已批准的代码的信息</li></ol><h1 id="befa" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">Heroku查看应用程序功能</h1><p id="9024" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated"><a class="ae ky" href="https://www.heroku.com" rel="noopener ugc nofollow" target="_blank"> Heroku </a>生态系统包括一个名为“<a class="ae ky" href="https://devcenter.heroku.com/articles/github-integration-review-apps" rel="noopener ugc nofollow" target="_blank"> Heroku Review apps </a>的功能，它将在一个完整的、一次性的Heroku应用中执行任何GitHub pull请求(一种代码审查形式)中的代码。每个Review应用程序都有一个唯一的可以共享的URL，这使它们成为提议、测试和合并代码库更改的好方法。</p><p id="aa77" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这种方法的好处是，被分配到代码审查的审查者可以将他们的精力集中在Heroku Review应用程序的运行上——使他们不必为了查看提议的源代码的工作版本而隐藏正在进行的更改。</p><p id="923e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">要使用Heroku点评应用，只需导航至Heroku仪表盘的部署选项卡:</p><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es me"><img src="../Images/0cd90daafeb64796d67630ebf3ef2d6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yemY77EHtbY7RFHm.png"/></div></div></figure><p id="033c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按照此处<a class="ae ky" href="https://devcenter.heroku.com/articles/github-integration-review-apps" rel="noopener ugc nofollow" target="_blank">记录的步骤</a>，GitHub pull请求中的对话选项卡将显示Heroku Review应用程序已经部署:</p><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/a86be9ed8a2fccc31b5b3d1cc2f4e4dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cHGmelbfbmEGTrWD.png"/></div></div></figure><p id="c340" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此信息也可在Heroku仪表盘的应用程序管道页面的“查看应用程序”部分获得:</p><figure class="ln lo lp lq fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/99d546f6d0cfbd024e384146c85e02ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/0*7uCnIbAb6iaj7qiQ.png"/></div></figure><h1 id="2052" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">结论</h1><p id="1e80" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">对我来说，2020年和过去四年没什么不同。我一直完全在100%远程模式下工作，甚至在DZone上发表了以下文章:</p><ul class=""><li id="1f98" class="kz la hi is b it iu ix iy jb lb jf lc jj ld jn le lf lg lh bi translated">代码评审——真正重要的是什么？</li><li id="ab49" class="kz la hi is b it li ix lj jb lk jf ll jj lm jn le lf lg lh bi translated"><a class="ae ky" href="https://dzone.com/articles/how-are-your-pull-requests" rel="noopener ugc nofollow" target="_blank">你的拉动式需求如何？</a></li></ul><p id="fa71" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我目前的项目是我从1992年初开始的IT生涯中最复杂的项目。除了正在满足的复杂需求之外，还有八个敏捷团队在这个项目上工作，他们的工作人员不仅分布在北美，还分布在欧洲和亚洲。</p><p id="4bf2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">考虑到在创建原始应用程序所需的一小部分时间内所取得的进展，我强烈认为我们的成功与远程工作的自由以及能够在广阔的地理区域内进行有效通信直接相关。这转化为使用上面提供的许多建议的非常成功的代码评审。</p><p id="bb55" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">代码审查过程只根据个人的愿望进行隔离——2020年引入的技术可以缩小任何差距。我真的相信代码审查仅仅是由于100%远程场景的结果而得到改进。</p><p id="13cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">祝你今天过得愉快！</p></div></div>    
</body>
</html>