<html>
<head>
<title>Life changing ways to make use of Cypress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用柏树改变生活的方法</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/automate-e2e-ui-tests-with-cypress-framework-afc46f59f2f4?source=collection_archive---------4-----------------------#2022-03-30">https://medium.com/nerd-for-tech/automate-e2e-ui-tests-with-cypress-framework-afc46f59f2f4?source=collection_archive---------4-----------------------#2022-03-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="1854" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">构思一个好的用户体验故事非常重要。每个网站都应该有自动化的 E2E 用户界面测试。成功影响每一位顾客，让他们的浏览生活更加轻松。在这种情况下，自动化 E2E UI 测试是一个巨大的救命稻草。E2E 验证所有应用程序的依赖关系是否能一起正常工作，验证应用程序的业务逻辑，并有助于减少在部署到生产环境后发现缺陷的机会。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/cab8266e086ad01a20fda5def2851a21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yx3joR79PouwopdK"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">费伦茨·阿尔马西拍摄的照片</figcaption></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="0642" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">为什么是柏树？</strong></p><p id="220b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">Cypress 是一个 UI 测试自动化工具，开发它是为了编写用于创作端到端测试、集成测试和单元测试的 Javascript。当在本地或 CI 中运行您的测试时，Cypress 提供了一个非常方便的仪表板服务。构建在 Mocha 框架之上。</p><p id="a1ae" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">柏树的特征</strong></p><ul class=""><li id="04e4" class="kb kc hi io b ip iq it iu ix kd jb ke jf kf jj kg kh ki kj bi translated">赛普拉斯网络控制。</li><li id="8955" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj kg kh ki kj bi translated">API 测试能力。</li><li id="2bea" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj kg kh ki kj bi translated">时间旅行</li><li id="9a81" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj kg kh ki kj bi translated">自动等待</li><li id="0688" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj kg kh ki kj bi translated">实时重新加载</li><li id="a0a3" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj kg kh ki kj bi translated">内置并行化和负载平衡</li></ul><p id="fd12" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">支持的浏览器</strong></p><p id="b692" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">支持大多数常见的浏览器，如 chrome、firefox、Electron 和 Edge。但目前不支持 Safari 和 Internet Explorer 等浏览器。</p><p id="c291" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">先决条件</strong></p><p id="9131" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在安装 cypress 之前安装下面提到的包。</p><ul class=""><li id="2ebd" class="kb kc hi io b ip iq it iu ix kd jb ke jf kf jj kg kh ki kj bi translated"><a class="ae ka" href="https://nodejs.dev/download/package-manager/" rel="noopener ugc nofollow" target="_blank"> Node.js </a></li><li id="cf0c" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj kg kh ki kj bi translated"><a class="ae ka" href="https://snapcraft.io/jq" rel="noopener ugc nofollow" target="_blank"> jq </a></li></ul><p id="02bf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">安装柏树</strong></p><p id="d400" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">从 npm 软件包管理器安装 cypress 并使用 cmd，</p><pre class="jl jm jn jo fd kp kq kr ks aw kt bi"><span id="8cb3" class="ku kv hi kq b fi kw kx l ky kz">npm install cypress --save-dev</span></pre><p id="2631" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">运行测试</strong></p><p id="3b14" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">来执行用。js 文件</p><pre class="jl jm jn jo fd kp kq kr ks aw kt bi"><span id="1d46" class="ku kv hi kq b fi kw kx l ky kz">npx cypress open</span></pre><p id="33c2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果使用二进制安装。从项目根目录中，运行</p><pre class="jl jm jn jo fd kp kq kr ks aw kt bi"><span id="5592" class="ku kv hi kq b fi kw kx l ky kz">./node_modules/.bin/cypress open</span></pre><p id="b496" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">目录结构:</strong></p><p id="8036" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里列出了一些广泛使用的文件夹结构。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="la lb l"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">广泛使用的带描述的文件夹结构</figcaption></figure><p id="bf0f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">每个项目的目录结构都不同。最终，重要的是代码的效率。这是另一个示例目录结构。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es lc"><img src="../Images/d87d6df175080fd357dbe3d4048c7d50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4FCJEuuUcYm4VeUWJbh2nw.jpeg"/></div></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">Cypress 框架的示例文件夹结构</figcaption></figure><blockquote class="ld le lf"><p id="43cc" class="im in lg io b ip iq ir is it iu iv iw lh iy iz ja li jc jd je lj jg jh ji jj hb bi translated">确保将 package.json 指向从<code class="du lk ll lm kq b">cypress/tests/</code>目录中选择测试。</p></blockquote><p id="4b79" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">编写测试文件</strong></p><p id="27af" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在 tests 下的指定目录中编写测试。这些测试文件在每个文件中可以有多个测试步骤。类似地，这些测试特定的功能/组件。</p><pre class="jl jm jn jo fd kp kq kr ks aw kt bi"><span id="c1df" class="ku kv hi kq b fi kw kx l ky kz">touch {your_project}/cypress/tests/ex_spec.js</span></pre><p id="8b21" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">测试模板</strong></p><p id="9175" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所有测试用例的测试模板应该是相似的。添加比测试中更多的库使得在其他测试用例中使用更容易。从而使测试步骤变得简短，代码更改变得简单。这里有一些样本模板，</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="la lb l"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">样本测试模板是用。js 格式</figcaption></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="9303" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">创建配置项实例的步骤</strong></p><ol class=""><li id="1f25" class="kb kc hi io b ip iq it iu ix kd jb ke jf kf jj ln kh ki kj bi translated">克隆您的项目/测试存储库</li><li id="40c6" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj ln kh ki kj bi translated">安装柏树。步骤与本地安装相同。</li><li id="8b07" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj ln kh ki kj bi translated">或者，如果需要，设置您的应用服务器。</li><li id="964c" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj ln kh ki kj bi translated">或者，设置环境变量。</li><li id="7b6f" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj ln kh ki kj bi translated">在<a class="ae ka" href="http://Make%20sure%20to%20point%20the%20package.json%20to%20pick%20tests%20from%20cypress/tests/%20directory." rel="noopener ugc nofollow" target="_blank">并行</a>中设置并行化并运行测试。</li><li id="c65a" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj ln kh ki kj bi translated">使用<a class="ae ka" href="https://www.npmjs.com/package/mochawesome" rel="noopener ugc nofollow" target="_blank"> mochawesome </a>生成 JSON &amp; HTML 报告</li><li id="f416" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj ln kh ki kj bi translated">下载定制报告并构建工件。</li></ol></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="d594" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj"> Github 动作工作流程</strong></p><p id="dbf1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">每当有新的拉请求时，这些 GitHub 动作工作流也将允许您每次都运行 E2E 测试。</p><figure class="jl jm jn jo fd jp"><div class="bz dy l di"><div class="la lb l"/></div><figcaption class="jw jx et er es jy jz bd b be z dx translated">。github/workflows/node.js.yml</figcaption></figure><p id="bf90" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">添加上述文件后，可以看到新的传入拉请求的神奇之处。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lo"><img src="../Images/8c7b02a25b63957ab0f30d1a819a3e94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*sMYMGmggmmZNdcyqB2gtoQ.gif"/></div></figure></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="ba20" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">限制</strong></p><ol class=""><li id="ff88" class="kb kc hi io b ip iq it iu ix kd jb ke jf kf jj ln kh ki kj bi translated">目前支持 Javascript 和 typescript。还不支持其他语言。</li><li id="d921" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj ln kh ki kj bi translated">使用多个标签来执行测试。</li><li id="f072" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj ln kh ki kj bi translated">测试一次在一个浏览器上执行。</li><li id="757d" class="kb kc hi io b ip kk it kl ix km jb kn jf ko jj ln kh ki kj bi translated">iframes 的有限支持。Cypress <a class="ae ka" href="https://www.npmjs.com/package/cypress-iframe" rel="noopener ugc nofollow" target="_blank"> iframe 插件</a>。</li></ol></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><p id="aae8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所有的测试执行都发生在浏览器中，这导致了快速、一致和可靠的测试结果。内置的测试运行器允许您直接从 Cypress UI 运行测试，并在测试失败的情况下对您的测试进行截图。cypress 提供的特性在其他 UI 自动化工具中是独一无二的。</p><div class="lp lq ez fb lr ls"><a href="https://docs.cypress.io/guides/core-concepts/introduction-to-cypress" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab dw"><div class="lu ab lv cl cj lw"><h2 class="bd hj fi z dy lx ea eb ly ed ef hh bi translated">Cypress 介绍| Cypress 文档</h2><div class="lz l"><h3 class="bd b fi z dy lx ea eb ly ed ef dx translated">Cypress 如何查询 DOM Cypress 如何管理主题和命令链断言看起来像什么以及它们如何…</h3></div><div class="ma l"><p class="bd b fp z dy lx ea eb ly ed ef dx translated">docs.cypress.io</p></div></div><div class="mb l"><div class="mc l md me mf mb mg ju ls"/></div></div></a></div></div></div>    
</body>
</html>