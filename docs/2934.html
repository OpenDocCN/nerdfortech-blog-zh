<html>
<head>
<title>Introduction to Prototype Design Pattern ✨😎</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">原型设计模式✨简介😎</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/introduction-to-prototype-design-pattern-39407a57550f?source=collection_archive---------10-----------------------#2021-05-24">https://medium.com/nerd-for-tech/introduction-to-prototype-design-pattern-39407a57550f?source=collection_archive---------10-----------------------#2021-05-24</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c8863d65f041ece97d92030d4168f67b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J9jlx7zJ2PH1UqtSpu1tFQ.png"/></div></div></figure><p id="5731" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">📍这个原型设计模式的整个定义可以表述为“避免创建”。</p><p id="c54e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">📍在某些情况下，创建一个对象会变得非常昂贵。所以这个<strong class="is hj">原型设计模式</strong>鼓励克隆现有对象而不创建任何新对象。</p><p id="4478" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">📍原型设计模式属于创新设计模式。</p><p id="aa95" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，考虑下面的场景，</p><blockquote class="jp jq jr"><p id="cf3d" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">比方说你设计了一个系统租赁车辆申请系统。因此，在这个应用程序中，您可能需要在系统中显示许多车辆(近数百或数千辆)。这意味着你每次都需要创建车辆的实例。所以它不是很贵吗<em class="hi">🧐</em>T7】</strong></p><p id="214f" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">没错，就是它！<em class="hi">😥</em>T11】</strong></p><p id="e89c" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">因此，这个原型模式鼓励的是，创建第一个实例并注册该实例。下一步，您只需从原始实例进行克隆，无需再次创建新实例。</p></blockquote><p id="e266" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">作为另一个例子，考虑下面的用例，</p><blockquote class="jp jq jr"><p id="49f0" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">考虑为一个购物系统创建一个购物车，你需要根据搜索结果显示商品。因此，通过使用这种原型设计模式，您可以克隆对象并构建购物车。</p></blockquote><h1 id="2157" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">♨️重要提示</h1><p id="05e6" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">◼️:所以我们可以说原型设计模式避免了使用<strong class="is hj"> new </strong>关键字。</p><p id="ddb4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">◼️:如果创建一个对象的过程非常昂贵，如果你有很多东西要做，那么这是最适合使用的设计模式。(因为使用这种设计模式可以避免对象创建过程中的许多性能问题)</p><p id="12fa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">◼️:通常，当我们需要克隆对象时，我们可以实现 cloneable 接口。(但是这个接口的一个主要缺点是它总是返回对象类型，并且不知道泛型)。</p><p id="86df" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">◼️:所以我们可以说，这种模式提供了一个过程，将原始对象复制到一个新对象，然后根据我们的要求改变它。为此，原型设计模式使用 java 克隆来复制对象。</p><h2 id="5ed7" class="ky jw hi bd jx kz la lb kb lc ld le kf jb lf lg kj jf lh li kn jj lj lk kr ll bi translated">📍最重要的是，由于下面提到的原因，你必须小心使用这个原型方法，⬇️</h2><blockquote class="jp jq jr"><p id="ae4b" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><em class="hi">当你克隆的时候，你需要确保，你需要</em> <strong class="is hj"> <em class="hi">浅层拷贝</em> </strong> <em class="hi">或者</em> <strong class="is hj"> <em class="hi">深层拷贝</em> </strong> <em class="hi">在你的软件架构中。</em></p></blockquote><h1 id="60fd" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">什么是浅层拷贝和深层拷贝🙄</h1><p id="59d6" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">✨浅抄。</p><p id="55ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当你进行浅层复制时，实际发生的是你只是在第一层对象中进行复制。(对对象的引用)</p><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/8bf90400016a8bfede2aa53bd0941e29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CTpENVU6M48F_ZqNbgXp8A.png"/></div></div></figure><p id="d8bb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">✨深层拷贝</p><p id="dc9f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="jo">在这里，你进入并克隆每一个对象和新对象的值。</em></p><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/503d58c89d525a6f148ca5e5997a07d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JyxKyFbuPL1HenMzH5iD2A.png"/></div></div></figure><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/a46efe0cdb6182bdb8d6df1c90820d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cRe3J-4HOZkEbGU4zWlfdA.jpeg"/></div></div></figure><h2 id="6b38" class="ky jw hi bd jx kz la lb kb lc ld le kf jb lf lg kj jf lh li kn jj lj lk kr ll bi translated">❗️肤浅的模仿可能是危险的🥵为什么是❓</h2><blockquote class="jp jq jr"><p id="bde1" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated">浅层拷贝有时会很危险，因为你得到了对象，这意味着你拷贝了一些对新对象的引用。因此，如果您对这些引用做了任何修改，可能会影响原始对象。</p></blockquote><h1 id="986a" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">原型设计模式的结构</h1><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/54000ebf08337e78b8c8daf29004dd05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rCFaG5XbR2gb5ZznvnocEg.png"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">参赛:https://www.geeksforgeeks.org/prototype-design-pattern/</figcaption></figure><p id="a628" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">🎲原型接口</strong> —这是一个用于克隆自身的接口。通常，它是一个单一的克隆方法，但是如果我们需要，有时也可以声明一些其他的方法。</p><p id="0bea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">🎲客户端</strong>—这表示通过调用原型来克隆自身，从而创建一个新对象。</p><h1 id="f173" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">何时使用原型设计模式？</h1><p id="316e" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">⚡️当创建一个对象的开销很大，而复制一个对象会更有效率的时候。</p><p id="a48b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">⚡️创建一个对象时非常耗时。</p><p id="3b29" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">⚡️当您想对客户端隐藏创建新实例的复杂性时。</p><p id="7ac1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">⚡️什么时候需要保持系统中的类数最小。</p><h2 id="3ad9" class="ky jw hi bd jx kz la lb kb lc ld le kf jb lf lg kj jf lh li kn jj lj lk kr ll bi translated">让我们把下面的场景作为一个现实世界的问题，同时借助这个原型设计模式来解决。</h2><h1 id="face" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">💥方案</h1><blockquote class="jp jq jr"><p id="dd23" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj">假设您所在的城镇有一家书店，店主要求您构建一个系统来保存书店的详细信息。所以这里你需要把众多书籍的详细资料保存到系统中。那么这是否意味着你需要在每次</strong> <em class="hi"> 🧐 </em>的时候创建书籍的实例</p><p id="4156" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj"> <em class="hi">不！</em> </strong> <em class="hi"> 🥳我们可以为这个场景使用原型设计模式。</em></p></blockquote><p id="5657" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">书籍类型:教育、故事、文学</p><p id="1ad6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">书籍详细信息:书籍类别、类型、价格</p><p id="0376" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以在下图中，它显示了这个场景的 UML 表示:</p><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/0fdc4b4f2e75196dba95e9be0fcce035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9aEtAhSyARVvRHrnY_WSmA.png"/></div></div></figure><p id="1278" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在让我们看看它的实现:</p><blockquote class="jp jq jr"><p id="7cc0" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj"> <em class="hi"> ✨Book 类</em> </strong></p></blockquote><p id="1cb7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是“Book”类的代码片段，它是一个抽象类。这里我们需要克隆这个类。因此这个类实现了一个可克隆的接口。</p><figure class="ln lo lp lq fd ij"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="a00a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">第 25 行- <strong class="is hj"> super.clone() </strong>表示它转到超类克隆方法。</p><blockquote class="jp jq jr"><p id="3614" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj"> <em class="hi"> ✨Educational 类</em> </strong></p></blockquote><p id="8edf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是“教育”类，这个类扩展了“书籍”类。(如下图)(“文学”类和“故事”类也将扩展“书”类，与此相同)</p><figure class="ln lo lp lq fd ij"><div class="bz dy l di"><div class="lz ma l"/></div></figure><blockquote class="jp jq jr"><p id="e9f3" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj"> <em class="hi"> ✨BookRegistry 类</em> </strong></p></blockquote><p id="9308" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是“BookRegistry”类。这是您创建对象的地方。(初始对象)。</p><p id="1522" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如下所示，通常，我们只在创建初始对象时使用“new”关键字。</p><figure class="ln lo lp lq fd ij"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="dfe4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">相应地，在上面代码的 initialize()方法中，我创建了教育、故事和文学作品。然后将它们分配到这个“BookRegistry”中。</p><blockquote class="jp jq jr"><p id="787a" class="iq ir jo is b it iu iv iw ix iy iz ja js jc jd je jt jg jh ji ju jk jl jm jn hb bi translated"><strong class="is hj"> <em class="hi"> ✨BookStoreApp 类</em> </strong></p></blockquote><p id="d3ae" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是“BookStoreApp”类。它包含了 main 方法。</p><figure class="ln lo lp lq fd ij"><div class="bz dy l di"><div class="lz ma l"/></div></figure><p id="70e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">输出:</strong></p><figure class="ln lo lp lq fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/b4547a54ded06981910dc15bdcbebdf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*1XTgQyWP1lalGVgdol7NfA.png"/></div></figure><p id="34ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下图解释了在 main 方法中发生的事情。</p><figure class="ln lo lp lq fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mc"><img src="../Images/7d3147211296fca2762d34b63569e84f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wz6AO7TvdzbBZ3KW83IZeg.png"/></div></div></figure><p id="6d2a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">点击下面的 GitHub 链接，查看书店场景的完整源代码</p><div class="md me ez fb mf mg"><a href="https://github.com/Irushinie/Krish-LP-Training/tree/main/PrototypeDesignPattern" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="bd hj fi z dy ml ea eb mm ed ef hh bi translated">irushinie/Krish-LP-培训</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">在 GitHub 上创建一个帐户，为 Irushinie/Krish-LP-Training 的发展做出贡献。</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">github.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu io mg"/></div></div></a></div><h1 id="6a64" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">原型设计模式的优势</h1><p id="ebec" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">⚡️它最大限度地减少了子类化的需要，降低了对象创建的成本。</p><p id="c728" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">⚡️它允许你在运行时删除或添加对象。(可以修改对象)</p><p id="1b21" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">⚡️ It 通过减少昂贵的外部 API 调用来节省总运营成本。</p><p id="f7a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">⚡️提高了系统的性能。</p><p id="fc83" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">⚡️对象创建可以在更短的时间内完成。</p><h1 id="6602" class="jv jw hi bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">原型设计模式的缺点</h1><p id="6c7a" class="pw-post-body-paragraph iq ir hi is b it kt iv iw ix ku iz ja jb kv jd je jf kw jh ji jj kx jl jm jn hb bi translated">⚡️:在深层拷贝和浅层拷贝之间很难做出选择。</p><p id="61c9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">⚡️管理克隆对象有时会很困难。</p></div><div class="ab cl mv mw gp mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="hb hc hd he hf"><h1 id="4421" class="jv jw hi bd jx jy nc ka kb kc nd ke kf kg ne ki kj kk nf km kn ko ng kq kr ks bi translated">参考</h1><figure class="ln lo lp lq fd ij"><div class="bz dy l di"><div class="nh ma l"/></div></figure><p id="f103" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">原型设计模式— GeeksforGeeks”，<em class="jo"> GeeksforGeeks </em>。可用:<a class="ae lx" href="https://www.geeksforgeeks.org/prototype-design-pattern/#:~:text=The%20prototype%20pattern%20is%20a,objects%20are%20clone()%20method." rel="noopener ugc nofollow" target="_blank">https://www . geeks forgeeks . org/prototype-design-pattern/#:~:text = The % 20 prototype % 20 pattern % 20 is % 20a，objects % 20 are % 20 clone()% 20 method。</a></p><div class="md me ez fb mf mg"><a href="https://www.javatpoint.com/prototype-design-pattern" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="bd hj fi z dy ml ea eb mm ed ef hh bi translated">原型设计模式-Java point</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">原型模式说，克隆一个现有的对象，而不是创建一个新的，也可以根据需要定制…</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">www.javatpoint.com</p></div></div><div class="mp l"><div class="ni l mr ms mt mp mu io mg"/></div></div></a></div></div></div>    
</body>
</html>