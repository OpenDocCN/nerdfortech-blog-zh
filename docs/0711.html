<html>
<head>
<title>Yahoo Finance Web Scraper in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的雅虎财经网络刮刀</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/yahoo-finance-web-scraper-in-python-d74b49ef0c15?source=collection_archive---------6-----------------------#2021-02-07">https://medium.com/nerd-for-tech/yahoo-finance-web-scraper-in-python-d74b49ef0c15?source=collection_archive---------6-----------------------#2021-02-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="bb38" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天我在玩网络报废。我知道很多人使用BeautifulSOAP和其他客户端，但我更喜欢Selenium，因为它可以渲染和播放java脚本。</p><p id="1f10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您不熟悉Selenium，它是一个使用任何浏览器(Firefox、Chrome)来呈现您网站并以编程方式点击链接或收集数据的工具。</p><p id="e8c3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">今天我试着玩Visual Studio Code的新功能(它现在支持Jupyter notebook ),并试着从使用React的雅虎财经网站收集SP500 ETF指数的价格。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/25ccd34c32a6802f80d89110c0c10ec6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VMLpWq4la4JSjIM1IheHGg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx translated">我的Visual Studio代码环境</figcaption></figure><p id="0dea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我在15分钟内创建的功能代码。</p><pre class="jf jg jh ji fd ju jv jw jx aw jy bi"><span id="da58" class="jz ka hi jv b fi kb kc l kd ke">from selenium import webdriver<br/>from selenium.webdriver.common.by import By<br/>from selenium.webdriver.common.keys import Keys</span><span id="7b49" class="jz ka hi jv b fi kf kc l kd ke">browser = webdriver.Firefox()<br/>browser.get('https://finance.yahoo.com/')</span><span id="c0ef" class="jz ka hi jv b fi kf kc l kd ke">try:<br/>  elem = browser.find_element(By.NAME, 'agree')  # Find the search box<br/>  elem.click()<br/>except:<br/>  pass</span><span id="1d64" class="jz ka hi jv b fi kf kc l kd ke">elem = browser.find_element(By.NAME, 'yfin-usr-qry')  # Find the search box<br/>elem.send_keys('SPY' + Keys.RETURN)</span><span id="8fdb" class="jz ka hi jv b fi kf kc l kd ke">css_locator = 'span[data-reactid="32"]'<br/>price = browser.find_element_by_css_selector(css_locator).text<br/>print(price)</span></pre></div></div>    
</body>
</html>