<html>
<head>
<title>Creating a power-up for your game in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Unity 中为你的游戏创造动力</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/creating-a-power-up-for-your-game-in-unity-6810d73376a1?source=collection_archive---------9-----------------------#2021-05-17">https://medium.com/nerd-for-tech/creating-a-power-up-for-your-game-in-unity-6810d73376a1?source=collection_archive---------9-----------------------#2021-05-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="6631" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="8a9d" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于如何在你的 Unity 游戏中实现一个增强道具的快速指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/995727e499a26bf720cedd30d387f360.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*q9ZBAhKHpu7CPx-C02U9CQ.gif"/></div></div></figure><p id="4b81" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:在 Unity 中创建一个太空射击游戏的增强道具，让玩家发射 3 束激光，而不是 1 束，持续 5 秒。</p><p id="e0e0" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">又见面了！在我最近的一篇帖子中，我向<a class="ae ko" href="https://fas444.medium.com/upgrading-from-a-prototype-to-a-work-of-art-in-unity-4f3c0435501d" rel="noopener">展示了如何在 Unity </a>中将原型升级到下一个级别。在这篇文章中，我将展示如何为太空射击游戏创建一个加电物品，使它看起来更像一个真实的视频游戏。</p><h1 id="b5ad" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">创建启动预置</h1><p id="a1b8" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">首先，我们需要为三次射击创建预设，所以我们只需要在启动时实例化一个包含 3 个激光器的游戏对象。因此，让我们将 3 个激光预设拖到场景中:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lm"><img src="../Images/0cce9b13feb0290c1f9cda01672a7f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/1*40Son4Pq1ZgYR0Eixjg3HQ.gif"/></div></figure><p id="98c5" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">你会看到激光出现在预设的位置，所以我们需要将它们移动到我们想要的位置，这样当我实例化一个副本时它们就出现在那里:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl lo lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/7ec77e42310c392ef5446711b900faa1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*p0Sca5MCEpkVnXjAPlSxMA.png"/></div></figure><figure class="ln jl lo lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/cbcafeb9643742ef406eace60354d423.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*qLKYoPKNjCJ9tQjZBJs-Sg.gif"/></div><figcaption class="lt lu et er es lv lw bd b be z dx lx di ly lz translated">如你所愿移动激光预置。</figcaption></figure></div><p id="8d4c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦位置决定，创建一个空的游戏对象来存储 3 个激光器作为孩子，并使其成为一个预置:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl ma lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/5efc4f798801d816caeadc3ae77f055e.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*F1peH5WD4sdn6kxEJejLgQ.gif"/></div></figure><figure class="ln jl mb lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/7d64f511928fb1537083e69e9c616bd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*e3OxlgpIOJcXDdDVP_IJlQ.png"/></div></figure><figure class="ln jl mc lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c388de37729aa15f19432a265913d9ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:348/1*rZj8n7JrQYxRcZFveWyd_g.gif"/></div></figure></div><p id="f8d2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">新的预置看起来像这样，玩家每次开机射击时都会创建一个副本:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es md"><img src="../Images/dd2f35085fb30f853ccc8661c0748aa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*MvsJw9GEUHBUrVl0zckuAw.png"/></div></figure><h1 id="a245" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">创造游戏机制</h1><p id="4458" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了在播放器中实现加电机制，我们需要打开附加的播放器脚本并创建两个新变量:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es me"><img src="../Images/b09ee88f591720a1b9e7d53397a07c9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*_azc3W0hVRjhNxuPIzTxhQ.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx translated"><strong class="bd kr"> _tripleLaser </strong>将存储三连拍预置，<strong class="bd kr"> _tripleShotEnabled </strong>将决定是否启用加电。</figcaption></figure><p id="9824" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在实例化一个简单激光镜头的函数中，我们需要处理<strong class="ju hs"> _tripleShotEnabled </strong>条件来实例化相应的镜头预置:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl mf lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/f178e7ec97954085d7c9f2973c43ebee.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/1*tauMys9ufsJdRzkTiorneQ.gif"/></div></figure><figure class="ln jl mg lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/ac87af9c0ef6cc16c45bea0cc867784c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*dNB0U56X6IGffYquLn1Z9w.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx mh di mi lz translated">我们不需要添加一个新的向量到三连拍的初始位置，因为我们已经将预设保存到我们想要的位置。</figcaption></figure></div><p id="551f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">不要忘记将三连拍预设拖到检查器中的玩家脚本中，否则当启动时什么都不会被实例化:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mj"><img src="../Images/bd66146f9af660b8ac9945995ef9c454.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*wXdXGqqRtupAF3iDw10wJQ.gif"/></div></div></figure><p id="6b08" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，为了验证这种机制，我们可以在运行游戏时启动电源:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl mk lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/57ee84c266e09aba0284b7c1b24a65d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/1*sm6SV72z2ELORRXW9YSWLA.gif"/></div></figure><figure class="ln jl ml lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/f36d1389da36216a5af6fa7a8e0d65cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/1*NQP2AZT2a6EKlQCoet2kVA.gif"/></div><figcaption class="lt lu et er es lv lw bd b be z dx mm di mn lz translated">瞧啊。当启动时，玩家进行三连击。</figcaption></figure></div><h1 id="f2dd" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">创建可收集的加电预置</h1><p id="1afe" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">选择您希望作为激活能量的可收集物品的精灵，并将其拖动到场景中:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl mo lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/79fbf31a21f6bf23d7dcf5fafddf7a13.png" data-original-src="https://miro.medium.com/v2/resize:fit:340/1*LtPHwYYgxjRb-zEBw-vBxg.gif"/></div></figure><figure class="ln jl mp lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/f1e5eb01d53634d896f943ea9e3cea25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1662/format:webp/1*lY2GzClAMk_-akMt3up53g.png"/></div><figcaption class="lt lu et er es lv lw bd b be z dx mq di mr lz translated">随意调整精灵的大小。</figcaption></figure></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/571287016e7b12e84120ca212a93de9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xqvop0n4-0nfABt_o_pcLg.png"/></div></div></figure><p id="25ba" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，就像我们在过去的帖子中处理与玩家的互动一样:</p><ul class=""><li id="2084" class="ms mt hi ju b jv jw jy jz kb mu kf mv kj mw kn mx my mz na bi translated">添加一个<strong class="ju hs">碰撞器</strong>组件并启用<strong class="ju hs"> IsTrigger </strong>选项</li><li id="48d9" class="ms mt hi ju b jv nb jy nc kb nd kf ne kj nf kn mx my mz na bi translated">添加一个<strong class="ju hs">刚体</strong>组件并将<strong class="ju hs">重力比例设置为 0 </strong></li><li id="44cd" class="ms mt hi ju b jv nb jy nc kb nd kf ne kj nf kn mx my mz na bi translated">创建一个脚本来处理加电运动及其触发器</li></ul><div class="jh ji jj jk fd ab cb"><figure class="ln jl ng lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a35ce77818fbd6840bc14484c2e294b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/1*1aiNVXhYowtVIWyV4bz27g.gif"/></div></figure><figure class="ln jl nh lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/8c9a1c91dcfc62df39614490a8aa7ec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/1*qD5tcQEIQMKmIGRsYSeRYw.gif"/></div></figure><figure class="ln jl nh lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/e55cc985c602d363cfa0da4793f12790.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/1*4Zbwos5TzinPMf_YJ0WXJw.gif"/></div></figure></div><p id="c23b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">此外，修改碰撞器以适应启动精灵并避免从远处触发动作:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/fa0b8071cf63ff0100f129f0fe630519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*yDO8Ky99hzHMNZVsvRnl1g.gif"/></div></div></figure><p id="8a04" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦你对你的启动对象感到满意，把它拖到预置文件夹中，让我们打开脚本来实现收集机制。</p><h1 id="9fef" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">实现加电收集机制</h1><p id="0c5d" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">一旦我们打开开机脚本，让我们创建 3 个变量来存储开机项目的速度和游戏可见空间的限制，以正确地实例化开机项目:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ni"><img src="../Images/f69cb7fd752dde48b63d671b4a5dd778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IgLU0uXpMO0hSXEoPjessA.gif"/></div></div></figure><p id="b07e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在 Start 函数中，让我们指定上电项目的位置，以便它从那里下来:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nj"><img src="../Images/25542fdea9fa44337c55106fb402ad08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*smshwJS2oqFS714LuIW6Vw.gif"/></div></div><figcaption class="lt lu et er es lv lw bd b be z dx translated">在两个极限之间选择一个随机的 X 位置，将会使玩家可以在物品掉落时收集物品。</figcaption></figure><p id="8662" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，就像对敌人的行为一样，让我们创建一个函数，它可以使加电物品下降，但是让我们在它达到空间的极限后摧毁它。然后将其添加到 Update 函数中，以便在项目生成后对其进行处理:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl nk lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/9ee76cf7325ce3e0f9f9c5bc116e3be3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*6X5LCW5mE7ciGwAdfczQLQ.png"/></div></figure><figure class="ln jl nl lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/e90f545c1d1e728480c706b58eed3cff.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*9An_5P8B9KoUq55ijyJIDg.png"/></div></figure></div><p id="6007" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们在 Unity 中运行游戏，物品将以我们选择的速度下降，然后从场景中被销毁:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/d3a0c9ef77d18dd20d3fc2ef22135cb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TgYyEnDKFgRMsIzUgMFWbw.gif"/></div></div></figure><p id="60db" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">接下来，为了处理收集机制，我们需要打开播放器脚本，创建一个要调用的公共函数，并启用 triple shot:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nm"><img src="../Images/f7bbe95ad6f5156084086305c6818e84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/1*hkhmzIr6C4BJnRqO8GuQ3g.gif"/></div></figure><p id="a534" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，为了给玩家有限的三次开机时间，我们可以创建一个协程，在 5 秒后禁用它:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nn"><img src="../Images/3a901cdcf0eb96326b3e7f88db85b11f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/1*cquhGtJNzYGpLcudQMW-jQ.gif"/></div></div></figure><p id="6c4b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">使用<strong class="ju hs"> StartCoroutine </strong>函数在上电启用后启动协程:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es no"><img src="../Images/c318c6255d18bd4736f027ed17be38f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/1*AlUSXkgWNQ4Fw0wkm8KSRw.gif"/></div></figure><p id="0791" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，打开开机脚本，使用<strong class="ju hs"> OnTriggerEnter2D </strong>(如果你的游戏是 2D)使用适当的标签处理与玩家的冲突。如果是这种情况，使用<strong class="ju hs"> GetComponent </strong>函数与播放器脚本通信，并调用启用三倍镜头的函数:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es np"><img src="../Images/ab0f9b374a8d164c9b31443b069b5fcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*EUq5PPRMRftOUtedFIJlKA.gif"/></div></div></figure><p id="2987" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">一旦我们在 Unity 中运行游戏，我们将看到触发器工作并启动 5 秒钟:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/c6dde8d569314b12019d885d974f6187.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CqTR3dclObLcThgbzjXakQ.gif"/></div></div></figure><p id="8f9f" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就是这样，你可以在 Unity 中为你的游戏创建一个电源！:d .我会在下一篇文章中看到你，在那里我将展示如何在 Unity 中为太空射击游戏制作精灵动画。</p></div><div class="ab cl nq nr gp ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="hb hc hd he hf"><blockquote class="nx ny nz"><p id="17b4" class="js jt oa ju b jv jw is jx jy jz iv ka ob kc kd ke oc kg kh ki od kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>