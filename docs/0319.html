<html>
<head>
<title>COVID-19 Visualization: Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新冠肺炎可视化:第1部分</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/covid-19-visualization-part-1-9f897a04d389?source=collection_archive---------1-----------------------#2020-09-26">https://medium.com/nerd-for-tech/covid-19-visualization-part-1-9f897a04d389?source=collection_archive---------1-----------------------#2020-09-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es im"><img src="../Images/d4891c341d885944111dcb5832e6a284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/0*ZpRMWWt6H5261AhN"/></div></figure><p id="38fe" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">自大多数国家报道首例新冠肺炎病例以来，已经过去了大约8个月。这对我们所有人来说都是一个非常不幸的时刻，在这种情况下，我们应该支持我们的朋友、亲戚和家人。在本文中，我们将对每天更新的新冠肺炎实时数据进行数据分析。</p><p id="6235" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj"> <em class="js">先决条件:熟悉Python中级水平，对pandas、NumPy、plotly、seaborn、matplotlib和jupyter notebook有一定的基础知识。</em>T3】</strong></p><p id="c9ba" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">数据集:这里使用的数据集是由约翰·霍普斯金大学提供的，我不主张对这个数据集的任何权利。该数据集包含包括印度在内的大多数国家的详细信息，并且每天都在更新。</p><p id="7ced" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们开始工作:</p><ol class=""><li id="90c3" class="jt ju hi iw b ix iy jb jc jf jv jj jw jn jx jr jy jz ka kb bi translated">导入所需的库:</li></ol><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="f9f7" class="kh ki hi kd b fi kj kk l kl km">import pandas as pd<br/>import numpy as np<br/>import plotly.express as px<br/>import matplotlib.pyplot as plt </span></pre><p id="b2dc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">2.正在加载数据集:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="ee81" class="kh ki hi kd b fi kj kk l kl km">dataset_url='https://raw.githubusercontent.com/datasets/covid-19/master/data/countries-aggregated.csv'<br/>df=pd.read_csv(dataset_url)</span></pre><p id="bc6c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">3.看一下数据:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="db38" class="kh ki hi kd b fi kj kk l kl km">df.head()</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es kn"><img src="../Images/436a6fa32fbfea0a6ea98abef4eb6db6.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*7ClYCsx_Mm6BNsBxIZVz3Q.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">这是我们数据集的前五行的样子</figcaption></figure><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="1395" class="kh ki hi kd b fi kj kk l kl km">df.tail()</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es ks"><img src="../Images/982b7173f08b438d1566905d87d91fa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*VCbyco0Yr-UepKR91p0bhQ.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">这是我们最后五行数据的样子。</figcaption></figure><p id="64ac" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">注意:<strong class="iw hj"> <em class="js"> df.tail() </em> </strong>显示了数据集的最后几行。最后几行将显示数据集加载的日期(记住数据集每天都在更新)。例如:我在2020年9月23日加载了这个数据集，因此最后一行包含日期为2020年9月23日的数据。</p><p id="b523" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">4:执行一些预处理:</p><p id="bfbb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们将从该数据集中的每个国家都报告了首例病例的日期开始分析。</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="1dcf" class="kh ki hi kd b fi kj kk l kl km">df=df[df['Confirmed']&gt;0]<br/>df.head()</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es kt"><img src="../Images/64955f77e08caac1ee8360c9dd04681f.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*WR70yDRRMETP60YW7iiC6Q.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">快速浏览我们将要处理的数据</figcaption></figure><p id="4b29" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">5:查看一些国家的数据:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="e3de" class="kh ki hi kd b fi kj kk l kl km">df[df.Country=='Italy']</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es kn"><img src="../Images/e78ed9510a857563480f63cd782282b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*VHo7468kCYlhIZMZv88Nmw.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">来自意大利的数据</figcaption></figure><p id="ea74" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">意大利在2020年1月31日报告了第一例病例，自那以后，302，537人被检测出新冠肺炎阳性，大约220，665人已经康复。迄今为止，约有35，758人死亡。</p><p id="1f4c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">6:在世界地图上绘制新冠肺炎教的全球分布图:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="67af" class="kh ki hi kd b fi kj kk l kl km">fig=px.choropleth(df,locations='Country',locationmode='country names',color='Confirmed',animation_frame='Date')</span><span id="ea7b" class="kh ki hi kd b fi ku kk l kl km">fig.update_layout(title_text="Global spread of COVID-19")</span><span id="f10f" class="kh ki hi kd b fi ku kk l kl km">fig.show()</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es kv"><img src="../Images/f7da47503a67c8261ec59d7d3d93bdd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*bTwSbEOuamHin8-5Fmjb_A.gif"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">显示新冠肺炎全球分布的交互式地图</figcaption></figure><p id="0d21" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可以看到，到2020年2月，中国报告了大约80，000例病例。我们也可以在美国、印度、巴西和印度观察到报道的病例。从上面的地图中我们可以清楚地得出结论，印度在所有病例中排名第二，美国排名第一。迄今为止，美国已报告超过600万例，印度已报告约500万例。</p><p id="aa83" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">7.在世界地图上标出新冠肺炎造成的死亡人数:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="2f2d" class="kh ki hi kd b fi kj kk l kl km">fig=px.choropleth(df,locations="Country",locationmode='country names',color='Deaths', animation_frame='Date')<br/>fig.update_layout(title_text='Global Deaths because of COVID-19')<br/>fig.show()</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es kv"><img src="../Images/6a822b1b511bd0debb448048778f44d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*8pouuj3zZyIc80u76rCR9w.gif"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">新冠肺炎造成的全球死亡</figcaption></figure><p id="a573" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可以清楚地看到，印度报告的病例数确实是第二高的，但考虑到每百万人的死亡人数、印度的人口和报告的病例数，死亡人数仍然很低。</p><p id="34d2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">8.计算所有国家的最大感染率:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="549e" class="kh ki hi kd b fi kj kk l kl km">countries=list(df["Country"].unique())<br/>max_infection_rates=[]<br/>for c in countries:<br/>    max_infected=df[df.Country==c].Confirmed.diff().max()<br/>    max_infection_rates.append(max_infected)</span><span id="fd9f" class="kh ki hi kd b fi ku kk l kl km">df_MIR=pd.DataFrame()<br/>df_MIR["Country"]=countries<br/>df_MIR['Max Infection Rate']=max_infection_rates<br/>df_MIR.head()</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es kw"><img src="../Images/43674e66778a9b6a95de2b1186c291d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*lSN8DzVdpCpki4v2yIeUXQ.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">不同国家的最高感染率</figcaption></figure><p id="d66c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">9.绘制所有国家的最大感染率:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="dc9c" class="kh ki hi kd b fi kj kk l kl km">px.bar(df_MIR,x='Country',y='Max Infection Rate',color='Country',title='Global Max infection Rate',log_y=True)</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div class="er es kx"><img src="../Images/b0e7efd1b94778af0c5e90c3f750130f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*uDXSTTLmRPeaul9qMB_GWg.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">显示最高感染率的柱状图</figcaption></figure><p id="af94" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">10.现在，让我们来看看意大利封锁的影响</p><p id="84f1" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">2020年3月9日，朱塞佩·孔戴总理领导下的意大利政府实施了全国隔离，限制除必要、工作和健康情况外的人口流动，以应对该国日益增长的新冠肺炎疫情。(<a class="ae ky" href="https://en.wikipedia.org/wiki/COVID-19_pandemic_lockdown_in_Italy#:~:text=On%209%20March%202020%2C%20the,COVID%2D19%20in%20the%20country." rel="noopener ugc nofollow" target="_blank">来源</a>)</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="9c5f" class="kh ki hi kd b fi kj kk l kl km">italy_lockdown_start_date = '2020-03-09'<br/>italy_lockdown_a_month_later = '2020-04-09'</span></pre><p id="89c4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">获取与意大利相关的数据:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="6065" class="kh ki hi kd b fi kj kk l kl km">df_italy=df[df.Country=='Italy']</span></pre><p id="3337" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">计算感染率:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="ea08" class="kh ki hi kd b fi kj kk l kl km">df_italy["Infection Rate"]=df_italy["Confirmed"].diff()</span></pre><p id="527e" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们将形象化该图:</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="2b89" class="kh ki hi kd b fi kj kk l kl km">fig=px.line(df_italy,x='Date',y='Infection Rate',title="Before and After Lockdown")</span><span id="9cd4" class="kh ki hi kd b fi ku kk l kl km">fig.add_shape(dict( type ='line',x0=italy_lockdown_start_date,y0=0,<br/>x1=italy_lockdown_start_date,y1=df_italy["Infection Rate"].max(), <br/>line=dict(color='red',width=2)))</span><span id="de0a" class="kh ki hi kd b fi ku kk l kl km">fig.show()</span><span id="e3eb" class="kh ki hi kd b fi ku kk l kl km">fig.add_annotation(dict(x=italy_lockdown_start_date,y=df_italy["Infection Rate"].max(),text='starting date of the lockdown'))</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kz"><img src="../Images/f447a5942b8603133f3a6df51fa0a98e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7YER45uBLbmTNi84ukWvGg.png"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">显示感染率与日期关系的线图。</figcaption></figure><p id="c9dc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可以清楚地看到，在意大利实施封锁后，感染率在几天后开始逐渐下降。因此，我们可以说封锁在意大利是成功的。</p><p id="07d7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">11.现在，我们将观察意大利的感染率和死亡率。</p><pre class="in io ip iq fd kc kd ke kf aw kg bi"><span id="93bb" class="kh ki hi kd b fi kj kk l kl km">fig=px.line(df_italy,x='Date',y=["Infection Rate","Deaths Rate"])<br/>fig.show()</span></pre><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es le"><img src="../Images/fb883f40106811b8738285f31605e2b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QF0Zgjo9zSW4uNmB4_GPPw.png"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx translated">感染率和死亡率与日期有关。</figcaption></figure><p id="bb6a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">此外，我们可以清楚地观察到，在意大利实施封锁后，死亡人数也开始下降。</p><p id="360c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这篇文章是关于新冠肺炎数据的基本可视化，以及我们如何通过查看图表就可以很容易地得出基本结论。</p><p id="d4ac" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">新冠肺炎分析:第2部分即将推出。在第二部分，我们将检查和分析印度在新冠肺炎疫情期间的表现。</p><p id="6170" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">敬请关注，继续分析！</p></div></div>    
</body>
</html>