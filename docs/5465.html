<html>
<head>
<title>Java Floating Point Round Off Error and Solution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java 浮点舍入误差及解决方法</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/java-floating-representation-and-solution-floating-point-round-off-error-930e1a4060b5?source=collection_archive---------1-----------------------#2021-10-05">https://medium.com/nerd-for-tech/java-floating-representation-and-solution-floating-point-round-off-error-930e1a4060b5?source=collection_archive---------1-----------------------#2021-10-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="2149" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据应用程序的数学需求，您可能需要格外小心，以确保您的运算在浮点(双精度)精度方面提供您想要的结果。</p><p id="78e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在计算中，浮点数是一种广泛使用的重要数据类型。然而，许多用户不知道在几乎所有计算机硬件中用来存储和处理这些数据的标准。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/2e2156521325629f548fb15b22dc9973.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*4g5rHhHdn53CaGB59-V2fQ.jpeg"/></div></figure><blockquote class="jl jm jn"><p id="651d" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj"> IEEE 浮点运算标准</strong> ( <strong class="ih hj"> IEEE 754 </strong>)是电气和电子工程师协会 (IEEE)于 1985 年制定的<a class="ae js" href="https://en.wikipedia.org/wiki/Floating-point_arithmetic" rel="noopener ugc nofollow" target="_blank">浮点运算</a>的<a class="ae js" href="https://en.wikipedia.org/wiki/Technical_standard" rel="noopener ugc nofollow" target="_blank">技术标准</a>。标准<a class="ae js" href="https://en.wikipedia.org/wiki/Floating-point_arithmetic#IEEE_754_design_rationale" rel="noopener ugc nofollow" target="_blank">解决了在各种浮点实现中发现的许多问题</a>，这些问题使得它们难以可靠地使用<a class="ae js" href="https://en.wikipedia.org/wiki/Software_portability" rel="noopener ugc nofollow" target="_blank">和便携地使用</a>。许多硬件<a class="ae js" href="https://en.wikipedia.org/wiki/Floating-point_unit" rel="noopener ugc nofollow" target="_blank">浮点单元</a>使用 IEEE 754 标准。- <strong class="ih hj">维基</strong></p></blockquote><p id="f115" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有几种不同的方法来表示浮点数，但在大多数情况下，IEEE 754 是最有效的。</p><p id="7b73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">IEEE 754 的三个基本组件如下:</strong></p><ol class=""><li id="410f" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc jy jz ka kb bi translated"><strong class="ih hj">尾数的符号</strong>——顾名思义，简单明了。正数用 0 表示，负数用 1 表示。</li><li id="2f34" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc jy jz ka kb bi translated"><strong class="ih hj">偏差指数</strong>–指数字段中必须显示正负指数。将偏差加到实际指数上，以获得存储的指数。</li><li id="8e2b" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc jy jz ka kb bi translated"><strong class="ih hj">规格化尾数- </strong>尾数是科学记数法或浮点数的一部分，由其有效位数组成。这里我们只有两个数字，即 0 和 1。因此，规格化尾数是小数点左边只有一个 1 的尾数。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es kh"><img src="../Images/387227490dc7ef167277b401078197a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xkJjihigfYDHu0tN9U9V5w.png"/></div></div><figcaption class="km kn et er es ko kp bd b be z dx translated">IEE 754 格式</figcaption></figure><p id="6c0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">单精度</strong></p><ul class=""><li id="1d2a" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc kq jz ka kb bi translated">32 位</li></ul><blockquote class="jl jm jn"><p id="245a" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">1 位符号</p><p id="f751" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">8 位指数</p><p id="6a28" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">23 位小数(尾数)</p></blockquote><p id="ad94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">双精度</strong></p><ul class=""><li id="09a3" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc kq jz ka kb bi translated">64 位</li></ul><blockquote class="jl jm jn"><p id="c679" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">1 位符号</p><p id="fed4" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">11 位指数</p><p id="9b4a" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">52 位小数(尾数)</p></blockquote><p id="9af7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">长双精度</strong></p><ul class=""><li id="c6d6" class="jt ju hi ih b ii ij im in iq jv iu jw iy jx jc kq jz ka kb bi translated">80 位</li></ul><blockquote class="jl jm jn"><p id="9907" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">1 位符号</p><p id="11c7" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">15 位指数</p><p id="78a2" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">52 位小数(尾数)</p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es kr"><img src="../Images/c1ac86bb588f7891c8bfa22ed668d14e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*78_WFGScr6VIvndVJUwkgg.png"/></div></div><figcaption class="km kn et er es ko kp bd b be z dx translated">IEE 754 标准表示浮点</figcaption></figure><p id="915e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">下面是一个使用 double 损失精度的例子:</strong></p><blockquote class="ks"><p id="fbe3" class="kt ku hi bd kv kw kx ky kz la lb jc dx translated">公共类 DoubleForCurrency {</p><p id="3719" class="kt ku hi bd kv kw kx ky kz la lb jc dx translated">公共静态 void main(String[] args) {</p><p id="965e" class="kt ku hi bd kv kw kx ky kz la lb jc dx translated">双总和= 0.2；</p><p id="66e9" class="kt ku hi bd kv kw kx ky kz la lb jc dx translated">for(int I = 0；我&lt; 100; i++) {</p><p id="0ade" class="kt ku hi bd kv kw kx ky kz la lb jc dx translated">total += 0.2;</p><p id="e1c5" class="kt ku hi bd kv kw kx ky kz la lb jc dx translated">}System.out.println(“total = “ + total);</p><p id="c889" class="kt ku hi bd kv kw kx ky kz la lb jc dx">}</p><p id="1ecf" class="kt ku hi bd kv kw kx ky kz la lb jc dx">}</p></blockquote><p id="3595" class="pw-post-body-paragraph if ig hi ih b ii lc ik il im ld io ip iq le is it iu lf iw ix iy lg ja jb jc hb bi translated"><strong class="ih hj">预期产量是多少？</strong></p><blockquote class="jl jm jn"><p id="78c9" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">预期产出:总计= 20.20</p></blockquote><p id="3073" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">现在编译并运行代码，看看实际输出是什么。</strong></p><blockquote class="jl jm jn"><p id="5e65" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">实际产出:总计= 20.199999999999996</p></blockquote><h2 id="500f" class="lh li hi bd lj lk ll lm ln lo lp lq lr iq ls lt lu iu lv lw lx iy ly lz ma mb bi translated">结果应该是 20.20，但是由于浮点运算，结果是 20.199999999996。这是精确度的损失(或意义的损失)。</h2></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><p id="6861" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将举另一个例子，看看这种表示是如何工作的。</p><h1 id="ffc8" class="mj li hi bd lj mk ml mm ln mn mo mp lr mq mr ms lu mt mu mv lx mw mx my ma mz bi translated"><strong class="ak">问题——将 9.1 转换成二进制！</strong></h1><h2 id="8062" class="lh li hi bd lj lk ll lm ln lo lp lq lr iq ls lt lu iu lv lw lx iy ly lz ma mb bi translated">步骤 01:首先我们分开整数部分和小数部分。</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es na"><img src="../Images/18bbbdd04a8398d0da886ee7ef24f198.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*sS9TjBVRVFoWHXTxHIJWPw.png"/></div></figure><h2 id="c666" class="lh li hi bd lj lk ll lm ln lo lp lq lr iq ls lt lu iu lv lw lx iy ly lz ma mb bi translated">步骤 02:将整数部分(9)转换成二进制。</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nb"><img src="../Images/a8f9926029b767a1e5cfdf08eee05aac.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*DYNqJgmeQrCPe9QHa7vM5A.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">将 9 转换成二进制</figcaption></figure><h2 id="f1e7" class="lh li hi bd lj lk ll lm ln lo lp lq lr iq ls lt lu iu lv lw lx iy ly lz ma mb bi translated">步骤 03:将小数部分(0.1)转换为二进制。</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nc"><img src="../Images/0f8d8eac60371d4e5635996ea4fd1997.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*2cZjZDApOeg_oOL3epnZxg.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">0.1 十进制到二进制的转换</figcaption></figure><h2 id="d27c" class="lh li hi bd lj lk ll lm ln lo lp lq lr iq ls lt lu iu lv lw lx iy ly lz ma mb bi translated">9.1 的最终二进制表示如下:</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es na"><img src="../Images/5cc2cbb52e691611b34a21a84ee7ffb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*paG2Nk6ByBaAdOLsMA9s5Q.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">9.1 的二进制表示</figcaption></figure><h2 id="e3d8" class="lh li hi bd lj lk ll lm ln lo lp lq lr iq ls lt lu iu lv lw lx iy ly lz ma mb bi translated">步骤 04:二进制表示的科学符号</h2><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nd"><img src="../Images/795bae3d3a1da2ab932bd37d8cf58090.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*bOV7m7rvpcg5jOZ81zDIHg.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">9.1 的科学表示</figcaption></figure><p id="38da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们把小数点放在前面。</p><h2 id="6342" class="lh li hi bd lj lk ll lm ln lo lp lq lr iq ls lt lu iu lv lw lx iy ly lz ma mb bi translated">步骤 05:将其转换为 IEEE 754 标准</h2><blockquote class="jl jm jn"><p id="7994" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">第一位是<strong class="ih hj">符号</strong>，<br/>，这意味着，如果该值为负(负-)，则变为 1，如果该值为正(正+)，则变为 0。</p><p id="c621" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">接下来，我们有 8 个位来表示指数部分，我们可以表示⁸数。(即-128 到 127)。这个 127 叫做<strong class="ih hj">“指数偏差”。</strong></p></blockquote><p id="c490" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">指数偏差的意思是，每当我们有一个正数(<strong class="ih hj"> 2 的 3 次方</strong>)时。我们把它加到 127 中，取二进制形式。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ne"><img src="../Images/efa8011808fcbe2afbd126704412a3ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*XPOQ_dsqZMushAAYPBfHTw.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">科学表征的指数值</figcaption></figure><p id="b450" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的例子中，<br/>我们有 2 的 3 次方。所以我们的<strong class="ih hj">指数值是 3。因此，我们将值(3)加入到<strong class="ih hj">偏差中。</strong></strong></p><p id="d788" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 127 + 3 = 130 </strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nb"><img src="../Images/18eff8ff30ff61ee495ec0dfd8b63118.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*9o1ySa8ZD1Qc5oWKstt72w.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">130 的二进制版本</figcaption></figure><p id="b87d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">130 的指数值是 10000010</p><blockquote class="jl jm jn"><p id="adcb" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj">尾数</strong>-尾数部分来自<strong class="ih hj">1.001 0001100110011001100110011……*2 </strong>，我们取正好 23 位。我们可以跳过第一位(小数点前的数字)，因为它对于所有的数字总是 1。</p><p id="030a" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="hi">尾数为 001 000110011001100110011 ……</em> </strong></p></blockquote><p id="82df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">所以，IEE 标准的 9.1 值如下。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nf"><img src="../Images/a4845d38055952eb80c3f85ffe8a6218.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*n02qgkL9EgLer6mi-S346Q.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">9.1 的二进制形式</figcaption></figure><p id="91a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">到目前为止，它没有出现任何问题，但是让我们试着从 IEEE 754 计算器中得到 9.1 的二进制表示。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ng"><img src="../Images/fb781a4ed1d7ace223b65b7286a5c14a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*eqggmSOKEGyHACY58Fu_Sg.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">原始值和计算值的比较</figcaption></figure><p id="8490" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，您可以看到后两位数字中的两种表示法之间的差异。<strong class="ih hj">所以，这就叫“计算机中的浮点舍入问题”。如果我们确实没有使用适当数据类型，这在我们的编程语言中会产生非常意想不到的结果。</strong></p></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><h1 id="ab48" class="mj li hi bd lj mk nh mm ln mn ni mp lr mq nj ms lu mt nk mv lx mw nl my ma mz bi translated">IEEE 计算器值和原始值如何变得不同？</h1><p id="7ab4" class="pw-post-body-paragraph if ig hi ih b ii nm ik il im nn io ip iq no is it iu np iw ix iy nq ja jb jc hb bi translated">在 IEEE 754 中有一个规则叫做<strong class="ih hj">舍入</strong>，计算尾数时，如果值大于 23 位，则检查第 24 位。如果第 24 位是“1”，则规则规定我们必须将“1”加到第 23 位以舍入该值。因此，在上述示例中，由于该值大于 23 位，并且第 24 位的值为“1”，因此我们必须在第 23 位添加一个额外的“1”。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nr"><img src="../Images/5d0f724733069b2fa695e3846b1c846f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*ISCDwyEemvfV-54W8r7Uig.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">尾数四舍五入</figcaption></figure></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><h1 id="8e38" class="mj li hi bd lj mk nh mm ln mn ni mp lr mq nj ms lu mt nk mv lx mw nl my ma mz bi translated">让我们把二进制值转换回原来的浮点值，看看我们是否得到 9.1！</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es ns"><img src="../Images/aa3cca44c851613550e41e0374c9cc29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xshQ0W2oTmPj0lVK-ZrkOg.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nt"><img src="../Images/23bd3313d77a8ab3bbf0674a79c06a5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*V5kROF8TmG6IcePu68TojA.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">十进制表示</figcaption></figure><p id="ffa1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，当我们将 9.1 计算机存储为 IEEE 754 标准时，由于 IEEE 754 格式中发生的舍入，在进行计算时，它将产生不同的值，即 9.10000038147。这就是为什么我们在之前的某些测试场景中出现了意想不到的结果(货币类为 double)。因此，我们可以得出结论，对于货币等敏感数据的计算，我们不应该使用 float 或 double。</p></div><div class="ab cl mc md gp me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hb hc hd he hf"><h1 id="ccb9" class="mj li hi bd lj mk nh mm ln mn ni mp lr mq nj ms lu mt nk mv lx mw nl my ma mz bi translated">解决方案？</h1><h2 id="b99d" class="lh li hi bd lj lk ll lm ln lo lp lq lr iq ls lt lu iu lv lw lx iy ly lz ma mb bi translated">怎样才能准确的做浮点运算？</h2><p id="a283" class="pw-post-body-paragraph if ig hi ih b ii nm ik il im nn io ip iq no is it iu np iw ix iy nq ja jb jc hb bi translated">为了避免像货币这样的精确计算中的浮点舍入问题，Java 引入了 BigDecimal 类。我们可以用 BigDecimal 代替 float 或者 double。这个类支持算术、比较、散列、舍入、操作和格式转换。通过指定舍入模式，我们可以返回准确的预期结果。这个类可以非常精确地处理非常小和非常大的浮点数。</p><p id="4caa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">现在让我们考虑如何使用 BigDecimal 解决上述问题！</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es nu"><img src="../Images/39253940c3af3c1de8dab0268576b885.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*oGEG-5B_2QhlwhqrGLexKA.png"/></div><figcaption class="km kn et er es ko kp bd b be z dx translated">解决方案 1 使用 BigDecimal</figcaption></figure><blockquote class="jl jm jn"><p id="51f8" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">输出:0.3</p></blockquote><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ki kj di kk bf kl"><div class="er es nv"><img src="../Images/f15e381a11b8085aff7d1c8ef45da6b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmUpt31jQZ5YIK7BwfKmSg.png"/></div></div><figcaption class="km kn et er es ko kp bd b be z dx translated">解决方案 2 使用 BigDecimal</figcaption></figure><blockquote class="jl jm jn"><p id="f9ae" class="if ig jo ih b ii ij ik il im in io ip jp ir is it jq iv iw ix jr iz ja jb jc hb bi translated">产量:10，562.20825</p></blockquote><p id="8187" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">总之，在设计应用程序时，我们必须密切注意为变量分配数据类型。根据您的需要，选择适当的数据类型，如 int、float、double、long 或 big decimal。</strong></p><h1 id="0817" class="mj li hi bd lj mk ml mm ln mn mo mp lr mq mr ms lu mt mu mv lx mw mx my ma mz bi translated">参考</h1><ol class=""><li id="91ac" class="jt ju hi ih b ii nm im nn iq nw iu nx iy ny jc jy jz ka kb bi translated">2016，IEEE 浮点数标准。【文章】-<a class="ae js" href="https://www.ias.ac.in/public/Volumes/reso/021/01/0011-0030.pdf" rel="noopener ugc nofollow" target="_blank">https://www . IAS . AC . in/public/Volumes/reso/021/01/0011-0030 . pdf</a></li><li id="ce59" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc jy jz ka kb bi translated">2020.<em class="jo">计算机如何处理浮点数|十进制到 IEEE 754 浮点表示法</em>。[视频]-<a class="ae js" href="https://www.youtube.com/watch?v=2VM028vpguU&amp;t=7s" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=2VM028vpguU&amp;t = 7s</a></li><li id="13cb" class="jt ju hi ih b ii kc im kd iq ke iu kf iy kg jc jy jz ka kb bi translated">Wikihow.com。2021.<em class="jo">如何将一个数从十进制转换成 IEEE 754 浮点表示</em>。【在线】-<a class="ae js" href="https://www.wikihow.com/Convert-a-Number-from-Decimal-to-IEEE-754-Floating-Point-Representation" rel="noopener ugc nofollow" target="_blank">https://www . wikihow . com/Convert-a-Number-from-Decimal-to-IEEE-754-Floating-Point-Representation</a></li></ol></div></div>    
</body>
</html>