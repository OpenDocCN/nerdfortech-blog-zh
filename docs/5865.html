<html>
<head>
<title>Chrome: Visualize Application Manifest</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Chrome:可视化应用清单</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/visualize-application-manifest-ebd771b325d8?source=collection_archive---------3-----------------------#2021-11-27">https://medium.com/nerd-for-tech/visualize-application-manifest-ebd771b325d8?source=collection_archive---------3-----------------------#2021-11-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="673a" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">调试渐进式 Web 应用程序变得简单</h2><div class=""/><div class=""><h2 id="9af1" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">使用 Chrome 开发工具来可视化和调试渐进式网络应用程序(PWA)。该工具有助于轻松检查清单文件内容，发现问题并推荐最佳做法。</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/202d5e2f7f0b49d0412ef15c8489ba39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sl3Lj6vyeZ25GQUhCBmckA.png"/></div></div></figure><p id="77f6" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">渐进式 web 应用程序(PWA)在本地应用程序和 Web 应用程序之间架起了一座桥梁。它们提供了安装 web 应用程序和缓存请求/响应的能力。</p><p id="9f0c" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">通常很难识别可安装 web 应用程序的问题。您可能会注意到 PWA 没有显示安装按钮。不太清楚为什么应用程序不能安装。Chrome 开发工具拯救——它不仅有助于识别问题，还能推荐最佳实践。</p><blockquote class="ko kp kq"><p id="f7c9" class="js jt kr ju b jv jw is jx jy jz iv ka ks kc kd ke kt kg kh ki ku kk kl km kn hb bi translated">当我们探索 Chrome 开发工具时，请注意这篇文章中描述的选项不仅适用于 Google Chrome，也适用于 Microsoft Edge 和 Opera web 浏览器。开发工具是开源 Chromium 项目的一部分。您可能会在基于该项目的浏览器上找到这些选项。</p></blockquote><h1 id="e996" class="kv kw hi bd kx ky kz la lb lc ld le lf ix lg iy lh ja li jb lj jd lk je ll lm bi translated"><em class="ln">货单</em>文件</h1><p id="743f" class="pw-post-body-paragraph js jt hi ju b jv lo is jx jy lp iv ka kb lq kd ke kf lr kh ki kj ls kl km kn hb bi translated">Web 清单文件是 PWA 的重要组成部分，它提供了安装应用程序所需的配置。</p><p id="dccb" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">让我们用 Chrome 开发工具来研究一下清单文件。启动开发工具(菜单→更多工具→开发工具)，导航到应用程序选项卡并选择清单。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lt"><img src="../Images/a7f7dfad6eddfecafec50259c5db2f49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m-eVHTb7UheoNFzJubDh9A.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx translated">用 Chrome 开发工具可视化清单</figcaption></figure><p id="af74" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">请注意标题为<em class="kr">应用清单</em>下突出显示的蓝色链接。该工具借助文件<em class="kr"> manifest.webmanifest. </em>预览清单，浏览器支持扩展。webmanifest”或。json (manifest.json)。</p><p id="5c69" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">接下来，让我们在 Chrome 开发工具的帮助下预览清单文件上的各个字段。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es ly"><img src="../Images/fbf8ccc143749bdd4fd660bfd64e123d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*JLUPoUjOp7L6M1AAwUxVJA.png"/></div></figure><p id="bc28" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">名称</strong>:已安装的 App 名称。</p><p id="e69d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">短名称:</strong>在空间有限的情况下，清单中的<em class="kr"> short_name </em>属性被用作应用名称。</p><p id="92f6" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">描述:</strong>app 的详细描述</p><p id="0a48" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">计算的应用 Id: </strong>浏览器使用清单中的<em class="kr"> id </em>属性来唯一地标识 PWA。如果 id 匹配，它使用安装的应用程序。如果 id 不匹配，即使 URL 相同，它也会创建一个新的 PWA。</p><p id="9b15" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">开始 Url </strong>由清单文件中的属性<em class="kr"> start_url </em>定义。当安装的应用程序启动时，它为应用程序配置起始点。</p><p id="4c71" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">主题颜色</strong>由字段<em class="kr">主题颜色定义。</em>指定工具栏颜色，任务切换器等的预览颜色之一。</p><p id="d63d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">背景色</strong>由 background_color 定义，配置闪屏的背景色。</p><p id="f2e9" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">显示:</strong>显示属性可能具有下列值之一</p><ul class=""><li id="a585" class="lz ma hi ju b jv jw jy jz kb mb kf mc kj md kn me mf mg mh bi translated"><em class="kr">全屏</em>:占据整个显示区域。不显示浏览器用户界面。</li><li id="fc11" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated"><em class="kr">独立</em>:隐藏标准浏览器元素。在自己的窗口中打开。</li><li id="6505" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated"><em class="kr"> minimal-ui </em>:提供浏览器的最小导航元素，如重新加载和后退按钮。</li><li id="a200" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated"><em class="kr">浏览器</em>:在典型的浏览器窗口中启动应用程序。</li></ul><p id="cfb7" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">图标:</strong>各种图标，有多种大小和尺寸，供 app 使用。每个图标由以下字段配置，</p><pre class="jh ji jj jk fd mn mo mp mq aw mr bi"><span id="a673" class="ms kw hi mo b fi mt mu l mv mw">{<br/>   "src": "assets/icons/icon-128x128.png",<br/>   "sizes": "128x128",<br/>   "type": "image/png",<br/>   "purpose": "any"<br/>},</span></pre><ul class=""><li id="025a" class="lz ma hi ju b jv jw jy jz kb mb kf mc kj md kn me mf mg mh bi translated">src:配置图标的位置</li><li id="5d6c" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated">size:以像素为单位配置图标的尺寸</li><li id="3989" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated">类型:图像格式</li><li id="ec14" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated">目的:a)当不支持屏蔽时，使用值<em class="kr"> any </em>。图像应该是全尺寸的，没有填充。b)使用一个值<em class="kr"> maskable，</em>假定图像上有填充。很少有平台(例如 Android)将图像裁剪成不同的形状和大小。启用遮罩的填充图像有助于仅裁剪图像上不重要的边框。它确保所需的图像或实际内容不会丢失。</li></ul><h1 id="1bec" class="kv kw hi bd kx ky kz la lb lc ld le lf ix lg iy lh ja li jb lj jd lk je ll lm bi translated">调试渐进式 Web 应用程序</h1><p id="30ef" class="pw-post-body-paragraph js jt hi ju b jv lo is jx jy lp iv ka kb lq kd ke kf lr kh ki kj ls kl km kn hb bi translated">Chrome dev 工具突出显示错误和警告，这有助于识别渐进式 Web 应用程序的问题。考虑下面的例子。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mx"><img src="../Images/c02432f37cd7a26262102723b8c12800.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hJP15PwWgEtF8aBXWjXpgg.png"/></div></div><figcaption class="lu lv et er es lw lx bd b be z dx translated">PWA 的错误和警告</figcaption></figure><ul class=""><li id="dfe8" class="lz ma hi ju b jv jw jy jz kb mb kf mc kj md kn me mf mg mh bi translated">请注意，图标上的警告与属性的<em class="kr">任何可屏蔽的</em>值，<em class="kr">目的。</em>以下配置导致警告。<em class="kr"> </em>该警告表明使用 any(图标上没有填充)或 maskable 是一个好的做法；不是两者都有。</li></ul><pre class="jh ji jj jk fd mn mo mp mq aw mr bi"><span id="a54f" class="ms kw hi mo b fi mt mu l mv mw">{<br/>   "src": "assets/icons/icon-72x72.png",<br/>   "sizes": "72x72",<br/>   "type": "image/png",<br/><strong class="mo hs">   "purpose": "maskable any"<br/></strong>},</span></pre><ul class=""><li id="1d07" class="lz ma hi ju b jv jw jy jz kb mb kf mc kj md kn me mf mg mh bi translated">第二个警告是关于可安装性。它表示服务人员不可用或配置不正确。请验证服务人员代码以解决此问题。</li></ul><h1 id="889f" class="kv kw hi bd kx ky kz la lb lc ld le lf ix lg iy lh ja li jb lj jd lk je ll lm bi translated">参考</h1><ul class=""><li id="2601" class="lz ma hi ju b jv lo jy lp kb my kf mz kj na kn me mf mg mh bi translated">横幅图像—印度海得拉巴 Golkonda 堡。<a class="ae nb" href="https://en.wikipedia.org/wiki/Golconda_Fort" rel="noopener ugc nofollow" target="_blank">了解更多</a></li><li id="17df" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated">维基百科关于铬的页面— <a class="ae nb" href="https://en.wikipedia.org/wiki/Chromium_(web_browser)" rel="noopener ugc nofollow" target="_blank">链接</a></li><li id="3124" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated">关于添加 Web 应用程序清单的 Web.dev 文档— <a class="ae nb" href="https://web.dev/add-manifest/" rel="noopener ugc nofollow" target="_blank">链接</a></li><li id="1dd2" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated">关于可屏蔽图标的 Web.dev 文档— <a class="ae nb" href="https://web.dev/maskable-icon/" rel="noopener ugc nofollow" target="_blank">链接</a></li><li id="d093" class="lz ma hi ju b jv mi jy mj kb mk kf ml kj mm kn me mf mg mh bi translated">Chrome 开发者页面描述了在 web 清单文件中使用 id 属性— <a class="ae nb" href="https://developer.chrome.com/blog/pwa-manifest-id/" rel="noopener ugc nofollow" target="_blank">链接</a></li></ul></div></div>    
</body>
</html>