<html>
<head>
<title>Feature Scaling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">特征缩放</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/feature-scaling-1a7439374e92?source=collection_archive---------16-----------------------#2021-03-14">https://medium.com/nerd-for-tech/feature-scaling-1a7439374e92?source=collection_archive---------16-----------------------#2021-03-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d488780b19d7c7bfa6757cf6ea0f01ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*grT_Sj7yre9yInWVu3ZMfw.jpeg"/></div></div></figure><p id="c2b8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">特征缩放是一种将数据集中的数字特征转换为标准范围的方法，以便提高机器学习算法的性能。这可以通过规范化或标准化数据值来实现。当使用机器学习算法时，这种缩放通常在数据预处理步骤中执行。</p><p id="9f29" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如，如果数据集中一个人的体重值在 15 千克到 100 千克之间，那么要素缩放会将所有值转换到 0 到 1 的范围内，其中 0 表示最低体重，1 表示最高体重，而不是以千克为单位表示体重。</p><p id="0245" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在特征缩放中，我们将数据缩放到可比较的范围，以获得合适的模型并改进模型的学习。我们选择的比例并不重要，但是数据集中的每个要素都应该使用相同的比例。例如，如果一个要素被选择在 0 到 1 的范围内，则同一数据集中的所有其余要素也应在 0 到 1 的范围内。</p><h1 id="0444" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">为什么要进行功能缩放</strong></h1><p id="9edb" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果我们考虑具有以下值的汽车数据集:</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es kr"><img src="../Images/5fdd445f06fc6637baa6727ab2e6e9ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*yKPgNCsArJhfaJe9bpeBZw.jpeg"/></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">作者图片</figcaption></figure><p id="8531" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里的车龄从 5 年到 20 年不等，而行驶里程从 10000 公里到 50000 公里不等。当我们比较这两个距离时，它们相距很远。机器学习算法认为具有较高范围值的特征在预测输出时是最重要的，并且倾向于忽略具有较小范围值的特征。这种方法会给出错误的预测。</p><p id="762f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为了避免这种错误的预测，所有要素的范围都进行了缩放，以便每个要素都按比例做出贡献，从而显著提高模型性能。</p><p id="ac17" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">进行要素缩放的另一个原因是，如果数据集的值很小，那么与未缩放的数据相比，模型学习得更快。例如，在梯度下降中，为了最小化成本函数，如果值的范围小，则算法收敛得更快。</p><h1 id="b19e" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">哪些算法需要特征缩放？</h1><blockquote class="la lb lc"><p id="513a" class="iq ir ld is b it iu iv iw ix iy iz ja le jc jd je lf jg jh ji lg jk jl jm jn hb bi translated">作为算法的一部分，计算某种距离的模型需要对数据进行缩放。</p></blockquote><p id="0beb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如:线性回归、逻辑回归、SVM、KNN、K 均值聚类、主成分分析等。</p><h1 id="5f12" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">哪些算法不需要特征缩放？</h1><blockquote class="la lb lc"><p id="5d82" class="iq ir ld is b it iu iv iw ix iy iz ja le jc jd je lf jg jh ji lg jk jl jm jn hb bi translated">基于树的模型(其中每个结点根据条件进行分割)不需要缩放要素，因为模型精度不依赖于范围。此外，如果我们将这里的特征缩放到范围 0 到 1，那么许多值是彼此接近的十进制值，并且构建树需要更多的时间。</p></blockquote><p id="6871" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">例如:决策树、随机森林、XGBoost 等。</p><h1 id="1813" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">常见特征缩放方法</h1><p id="b16d" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated"><strong class="is hj">正常化:</strong></p><p id="27a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这也称为最小-最大缩放。它将数据缩放到 0 和 1 之间的范围。这种缩放是基于下面的公式执行的。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es lh"><img src="../Images/74c529da1a93e47200b8738dcc85a191.png" data-original-src="https://miro.medium.com/v2/resize:fit:394/format:webp/1*rVSVZxH3mWWRvbKkZqL2HA.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">作者图片</figcaption></figure><p id="9841" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其中 X 是要缩放的当前值，min(X)是值列表中的最小值，max(X)是值列表中的最大值</p><p id="e14a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">示例:如果 X= [1，3，5，7，9]，则 min(X) = 1，max(X) = 9，则比例值为:</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es li"><img src="../Images/754c8f60702687b100e2beff9595b2e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/format:webp/1*GQUtw2ZUh2IAt2gwzxVG7Q.jpeg"/></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">作者图片</figcaption></figure><p id="ff3f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里我们可以观察到 min(X) 1 表示为 0，max(X) 9 表示为 1。</p><p id="2f72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">规范化的 Python 实现:</strong></p><p id="ceea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Scikit-learn 对象 MinMaxScaler 用于规范化数据集。为此，首先从 sklearn 导入 MinMaxScaler，并用默认的超参数定义一个实例。然后对输入数据调用 fit_transform()函数来创建数据的转换版本。</p><pre class="ks kt ku kv fd lj lk ll lm aw ln bi"><span id="e2ae" class="lo jp hi lk b fi lp lq l lr ls">from sklearn.preprocessing import MinMaxScaler <br/>trans = MinMaxScaler() <br/>data_trans = trans.fit_transform(data)</span></pre><p id="e347" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">标准化:</strong></p><p id="6b00" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它代表平均值的标准偏差。</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es lt"><img src="../Images/daa137bab7b53809e7f96a89fed8af79.png" data-original-src="https://miro.medium.com/v2/resize:fit:312/format:webp/1*lKW-GH6FvYm3rWX3_qaVuQ.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">作者图片</figcaption></figure><p id="fc76" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">其中 x 是要缩放的当前值，是值列表的平均值，σ是值列表的标准偏差。</p><p id="c8d0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">缩放后的值分布为平均值为 0，标准偏差为 1。</p><p id="a84a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果 X= [1，3，5，7，9]那么</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es lu"><img src="../Images/67f5bd3d23e1935590bb810a19423791.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*fq2O_FMX0xD1Fqnp0iltDA.jpeg"/></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">作者图片</figcaption></figure><p id="eaa0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么比例值将是:</p><figure class="ks kt ku kv fd ij er es paragraph-image"><div class="er es li"><img src="../Images/2ceb9a83d83b2a0e68d2531aae79d58f.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/format:webp/1*5dQ0x29fHIeaCAmE5RlDYQ.png"/></div><figcaption class="kw kx et er es ky kz bd b be z dx translated">作者图片</figcaption></figure><p id="afeb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里的值范围从-1.41 到 1.41。这个范围根据 x 的值而变化。</p><p id="bfdc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> Python 实现标准化:</strong></p><p id="b11d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">sci kit-learn object standard scaler 用于标准化数据集。为此，首先从 sklearn 导入 StandardScaler，并用默认的超参数定义一个实例。然后对输入数据调用 fit_transform()函数来创建数据的转换版本。</p><pre class="ks kt ku kv fd lj lk ll lm aw ln bi"><span id="9e01" class="lo jp hi lk b fi lp lq l lr ls">from sklearn.preprocessing import StandardScaler <br/>scaled = StandardScaler() <br/>data_scaled = scaled.fit_transform(data)</span></pre><h1 id="d9c7" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">规范化与标准化</h1><p id="df0a" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">当要素值呈正态分布时(即值遵循钟形曲线)，标准化非常有用。否则(如果值不是正态分布的)归一化是有用的。</p><p id="c72f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于复杂的模型，哪种方法对输入数据执行得好是未知的。在这种情况下，使用标准化、规范化以及两者的组合对数据进行建模，并比较所得模型的性能。</p><p id="497a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当值包含异常值时，这两种方法都不能很好地执行。要解决此问题，请事先检查超出范围的值，并将它们的值更改为已知的最小值和最大值。</p><h1 id="f09d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated"><strong class="ak">总结</strong></h1><p id="59e0" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">特征缩放是通过在机器学习算法的预处理步骤中归一化或标准化数据来实现的。它提高了算法的性能。</p></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><p id="cee2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ld">原载于 2021 年 3 月 14 日 https://www.numpyninja.com</em><em class="ld">的</em> <a class="ae mc" href="https://www.numpyninja.com/post/feature-scaling" rel="noopener ugc nofollow" target="_blank"> <em class="ld">。</em></a></p></div></div>    
</body>
</html>