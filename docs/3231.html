<html>
<head>
<title>Implementing space shooter game features - Thrusters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现太空射击游戏功能-推进器</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-thrusters-67aa02b314b6?source=collection_archive---------15-----------------------#2021-06-02">https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-thrusters-67aa02b314b6?source=collection_archive---------15-----------------------#2021-06-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="66cf" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="4c94" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">Unity空间射击游戏新增功能快速回顾</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/4e2dd733f7e6fee0a83d6bde27cf5e55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6Yflk2uFYo24RoUpOLQWlA.gif"/></div></div></figure><p id="b72d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:用Unity实现一个太空射击游戏的助推行为及其平视显示(HUD)。</p><h1 id="ba58" class="ko kp hi bd kq kr ks kt ku kv kw kx ky ix kz iy la ja lb jb lc jd ld je le lf bi translated">推进器助推行为</h1><p id="0894" class="pw-post-body-paragraph js jt hi ju b jv lg is jx jy lh iv ka kb li kd ke kf lj kh ki kj lk kl km kn hb bi translated">在以前的一篇文章中，我介绍过<a class="ae ll" rel="noopener" href="/nerd-for-tech/creating-a-power-up-for-your-game-in-unity-6810d73376a1">如何为你的游戏</a>创建一个电源，然后<a class="ae ll" rel="noopener" href="/nerd-for-tech/animating-sprites-in-unity-9d02762bde96">制作动画</a>。其中一个实现的增强是持续5秒的速度提升，但是让我们让速度提升成为玩家的一个特性。</p><p id="afa5" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在几个游戏中，当按下左shift键时会触发速度提升或跑步动画，所以我将为我的玩家做同样的事情。</p><p id="8de5" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">首先，让我们在玩家脚本中创建一个新变量，它将存储可支配的能量，以使增强成为一个有限的功能:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lm"><img src="../Images/a99d95c76f6be86f465629f8d2b7ac45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*pMkAAFzZVW5AkqcogF8-FA.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">这个变量也可以是一个整数值。</figcaption></figure><p id="6800" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，我们需要确定控制运动的功能:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lr"><img src="../Images/fdce117adb67155bbad45b26d2a634c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7xxtqYhLdLRobUqyWwuaAg.png"/></div></div></figure><p id="516e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了使用左shift键作为boost触发器并显示它，让我们向移动播放器的代码行添加一个新条件。该条件将需要左移位键保持按下，推进器能量大于0，而移动将乘以我选择的推进系数:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ls"><img src="../Images/ddc1ff95d5193bf1e7bde028dc469197.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dqfd-4CY1daGCd5Kgc5XNQ.png"/></div></div></figure><p id="f5fa" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们分别减去推进器的能量，使推进受到限制:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lt"><img src="../Images/662b4bbaf59375999c9b1c7fe23576b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_xv-alF5JRuSjqqxgfSwA.png"/></div></div></figure><p id="d010" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，当我们在Unity中运行游戏时，当我们按下左shift键直到能量耗尽时，玩家将移动得更快:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lu"><img src="../Images/79ad510188eeec9933495badd40241e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WvktK55O-vCAPgJQ64UBAg.gif"/></div></div></figure><h1 id="0096" class="ko kp hi bd kq kr ks kt ku kv kw kx ky ix kz iy la ja lb jb lc jd ld je le lf bi translated">增强HUD</h1><p id="21f6" class="pw-post-body-paragraph js jt hi ju b jv lg is jx jy lh iv ka kb li kd ke kf lj kh ki kj lk kl km kn hb bi translated">现在，为了显示推进器的能量使用情况，让我们在画布中创建各自的HUD，其中有分数和生命显示器。首先，让我们添加一个图像作为显示能量级别的条形图的背景:</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl lw lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/34b795e38adf93384139b8a747646aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*dF0G3ZdUavZgAsrEyFDQKw.png"/></div></figure><figure class="lv jl mb lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/4b30bd8de99475469b9e3f9dbacdda43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*QtaPptbcyDN9QY9ePj5x8A.png"/></div></figure></div><p id="8ed3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们添加另一个图像作为能量级别的容器:</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl lw lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/507c6b955578851771d0fce4c3a693a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*nDTuDUR2pDGN6AL6VMzcZg.png"/></div></figure><figure class="lv jl mb lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/9cb75b2f45498196cddeb99165e5b5a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*_WRSWCkiLZyoZor6lNVFKw.png"/></div></figure></div><p id="0aeb" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，为了显示每帧的更新水平，让我们创建另外两个图像:</p><ul class=""><li id="7354" class="mc md hi ju b jv jw jy jz kb me kf mf kj mg kn mh mi mj mk bi translated">父亲的形象</li></ul><p id="a5fd" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">该图像将包含一个遮罩脚本，它将改变子图像的外观。在这种情况下，它需要是填充图像类型，以便填充量决定子图像的可见程度。</p><ul class=""><li id="fb83" class="mc md hi ju b jv jw jy jz kb me kf mf kj mg kn mh mi mj mk bi translated">儿童图像</li></ul><p id="3b64" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个图像将与我们之前创建的容器图像大小相同，它将作为填充它的图像。</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl ml lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/55c5561284b55b52c2a4d512f286968b.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*wu1La8HbEERmOKmrxLcmDw.png"/></div></figure><figure class="lv jl mm lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c7985143eb57f0f52a38a8f3a368d431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*Ci5NqItl_ktcrDarENDMRw.png"/></div></figure></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mn"><img src="../Images/d3846c918f115647041de6a117914697.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*69Po2kc9Evbz3Pdoi5TReQ.gif"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">改变遮罩的填充量，让我们像这样显示能量水平。</figcaption></figure><p id="e47e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您想了解更多关于口罩的信息，您可以访问Unity文档:</p><div class="mo mp ez fb mq mr"><a href="https://docs.unity3d.com/2018.4/Documentation/Manual/script-Mask.html" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hs fi z dy mw ea eb mx ed ef hr bi translated">面具</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">你如何在整个工作流程中使用文档？请参加本次调查，与我们分享您的体验。一个(用户…</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">docs.unity3d.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf jq mr"/></div></div></a></div><p id="6612" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，在代码中，让我们打开UI管理器脚本，并创建新的变量来存储对遮罩的引用以及该条将显示的最大能量:</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl ng lx ly lz ma paragraph-image"><img src="../Images/a56e266cf7967b159a503829182e100c.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*jRWuerV88EMf6B1ik2xj6A.png"/></figure><figure class="lv jl nh lx ly lz ma paragraph-image"><img src="../Images/de848ce80071f96ddfa921b4cceb2f20.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*ZOE8p9hzG37Pjt6HscxWMw.png"/></figure></div><p id="3c9d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们创建一个函数，通过将当前能量值除以最大能量值来更新遮罩的填充量:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es ni"><img src="../Images/746f0072a2cf997e9bacfe2ea35595d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*78oeqpEj1C5kgpNYwVs-Sg.png"/></div></figure><p id="2ae1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，在玩家脚本中，我们可以调用相应的函数来更新HUD上的值，每次玩家通过按下左shift键来使用boost:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ls"><img src="../Images/46763b9dc6eb4e158378a2466a8db95b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3gxQeiyf80GYs85yk7WVwg.png"/></div></div></figure><p id="d14d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们在Unity中运行游戏，当玩家使用boost时，工具条将会更新:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mn"><img src="../Images/31387b17fafbb7bc1a5bf59c55a30dad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Tyrh-tSWFxDvpirePQznXg.gif"/></div></div></figure><p id="ff27" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">我们还可以使用协程来实现一个冷却系统，当玩家使用boost一段时间后，它会惩罚玩家一段时间，直到玩家可以再次使用它:</p><div class="jh ji jj jk fd ab cb"><figure class="lv jl nj lx ly lz ma paragraph-image"><img src="../Images/78639ae5c88b335d8af16a88b528af9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*PFpyxIEfbQhZst7vPMx_cQ.png"/></figure><figure class="lv jl nk lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/a21691a6eefe43b16f3e3ca482dac6d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*_pH2J3WJUJgcXS1jU27xJw.png"/></div></figure></div><p id="468e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">通过使用类似上面的UI元素，我们可以创建另一个HUD来显示玩家当前的能量使用情况:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mn"><img src="../Images/53d9d2d9c4d175f16e45fa8eb42387b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qk00mNKQhFo-RQ5UJvwlRw.gif"/></div></div></figure><p id="0564" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们实现了一个推进器HUD及其行为！:d .我会在下一篇文章中看到你，在那里我会展示更多添加到我的Unity太空射击游戏中的功能。</p></div><div class="ab cl nl nm gp nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="hb hc hd he hf"><blockquote class="ns nt nu"><p id="17b4" class="js jt nv ju b jv jw is jx jy jz iv ka nw kc kd ke nx kg kh ki ny kk kl km kn hb bi translated"><em class="hi">如果你想更多地了解我，欢迎登陆</em><a class="ae ll" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ll" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>