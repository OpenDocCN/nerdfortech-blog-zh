<html>
<head>
<title>How To Develop Applications On Local Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在本地Kubernetes上开发应用程序</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-develop-applications-on-local-kubernetes-cdf3afbad6b9?source=collection_archive---------4-----------------------#2021-11-16">https://medium.com/nerd-for-tech/how-to-develop-applications-on-local-kubernetes-cdf3afbad6b9?source=collection_archive---------4-----------------------#2021-11-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7de91bbe1d984cb07b2ca2850f9abbfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3q9BtV6HU8kmNGmV2kPo4g.jpeg"/></div></div></figure><p id="2085" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你的作品在Kubernetes上运行吗？也许你想在Kubernetes上运行你的应用程序？<br/>或者测试一下，看看这个流行语是关于什么的？<br/>无论如何，如果你对K8S感兴趣，你可能会从本地运营Kubernetes中受益。</p><h1 id="f8ad" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">本地机器上的Kubernetes。为什么？</h1><p id="baa1" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">让我们开始为什么有本地Kubernetes首先是有益的。</p><blockquote class="kr ks kt"><p id="2bb5" class="iq ir ku is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated"><em class="hi"> 1。在你当地的游乐场学习</em></p></blockquote><p id="4340" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们这些美国开发者需要实际、安全的体验，才能真正了解技术。有了本地Kubernetes，我们可以在本地机器上舒适地设置、播放和调试问题。如果我们打破了某些东西，我们就打破了我们自己的环境，在出现错误的情况下，我们总是可以恢复到以前的状态，并轻松地再次尝试。</p><blockquote class="kr ks kt"><p id="4be1" class="iq ir ku is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated"><em class="hi"> 2。发布到生产前的测试</em></p></blockquote><p id="e088" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以你有Kubernetes产品，你想在配置上做些改变。你如何测试它？<br/>我们可能需要推动变革，但我们甚至不确定变革是否有效，因为我们无法验证这一点。<br/>我们可以将这种未经测试的变更推送到测试环境中。然而，如果我们破坏它，它会影响到使用这个环境的其他人。如果我们幸运的话，我们可以旋转我们自己的环境，但是每次我们做改变的时候都需要等待发布。</p><p id="c905" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="ku">在您的本地机器上测试配置会更快，并且会在最安全的环境中完成，这始终是您自己的环境。</em> <br/>确认配置正确后，您可以推动更改，周围的每个人都可以继续工作。</p><blockquote class="kr ks kt"><p id="2758" class="iq ir ku is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated"><em class="hi"> 3。在本地运行类似环境的生产</em></p></blockquote><p id="2466" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您是否使用docker-compose在本地连接应用程序，并为生产编写Kubernetes配置？</p><p id="0353" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Docker让我们的生产和当地环境有了更多的相似之处。<br/>在产品上运行docker之后，我们仍然有gap，difference，这是我们的Docker容器的执行平台。Kubernetes之类的执行平台可能与您在本地运行的平台完全不同。<br/>在本地运行Kubernetes，将间隙降至最小。<br/> <em class="ku">现在，我们为本地配置编写的内容将在生产中重用。这为我们节省了大量时间，因为我们只需为所有环境编写一次配置。</em></p><h1 id="85b2" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">如何在本地建立Kubernetes？</h1><p id="9b35" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">由于支持工具，在本地运行Kubernetes集群被简化了很多。例如，您可以使用<a class="ae ky" href="https://minikube.sigs.k8s.io/docs/start/" rel="noopener ugc nofollow" target="_blank"> MiniKube </a>或<a class="ae ky" href="https://kind.sigs.k8s.io/docs/user/quick-start/" rel="noopener ugc nofollow" target="_blank">种类</a>。</p><p id="025e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我已经准备了一步一步的指导，根据<a class="ae ky" href="https://kind.sigs.k8s.io/docs/user/quick-start/" rel="noopener ugc nofollow" target="_blank">种类</a>和<a class="ae ky" href="https://github.com/tilt-dev/ctlptl#how-do-i-install-it" rel="noopener ugc nofollow" target="_blank"> ctlptl </a>在本地构建你自己的Kubernetes集群。<br/>你可以按照<a class="ae ky" href="https://github.com/dgafka/local-kuberentes-cluster-over-https" rel="noopener ugc nofollow" target="_blank">这个链接</a>来准备你当地的环境。</p><blockquote class="kr ks kt"><p id="f7cc" class="iq ir ku is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated"><em class="hi">设置完成后，您将拥有Kubernetes集群，它将允许您<br/> -部署应用<br/> -使用自定义域访问应用<br/> -在本地HTTPS下工作。</em></p></blockquote><p id="0ac3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">基本上，<em class="ku">你将经营自己的小制作</em>。</p><h1 id="f9a8" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">我想在我当地的Kubernetes上发展</h1><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c838429448426d67de67a9efbad1ae2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SliB8Wdr6YS7720l2teHLQ.jpeg"/></div></div></figure><p id="d753" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们需要区分两件事。<br/>一是改K8S配置，二是做开发。</p><p id="be19" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">对于第一种情况，我们修改Kubernetes配置(清单)或docker映像，并将它们部署到集群中。只要我们不修改代码，这就没问题。</p><blockquote class="kr ks kt"><p id="395c" class="iq ir ku is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated"><em class="hi">对于PHP开发或任何其他语言，我们希望更改代码并立即看到结果。</em></p></blockquote><p id="c41d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于部署应用程序需要一些时间，所以不会出现这种情况。幸运的是，我们有解决方案。</p><p id="1108" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果代码发生变化，我们可以将代码同步到正在运行的应用程序(Docker容器),而不是重新部署整个应用程序。斯卡福德就是提供这种工作方式的工具之一。</p><figure class="kz la lb lc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ld"><img src="../Images/627e53330468f5c0c1302b85f0ea435b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nZflS_S8BrKYdzssZiRirg.png"/></div></div></figure><blockquote class="kr ks kt"><p id="7929" class="iq ir ku is b it iu iv iw ix iy iz ja kv jc jd je kw jg jh ji kx jk jl jm jn hb bi translated"><em class="hi">如果我们更改Dockerfile或Kubernetes清单，Skaffold将重新构建并重新部署应用程序，如果代码发生更改，Skaffold将简化应用程序并使其与正在运行的应用程序同步</em></p></blockquote><h1 id="bdf1" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">给我看看演示</h1><p id="d85c" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">如果你想知道它们是如何完美地结合在一起，你可以查看演示项目。</p><p id="d3c5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你会在这个链接下找到<a class="ae ky" href="https://github.com/dgafka/spring-boot-kubernetes-inner-loop" rel="noopener ugc nofollow" target="_blank">。</a></p></div></div>    
</body>
</html>