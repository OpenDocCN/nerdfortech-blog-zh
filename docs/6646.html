<html>
<head>
<title>What Is A Tablespace In PostgreSQL?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PostgreSQL中的表空间是什么？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/what-is-a-tablespace-in-postgresql-2605e817360d?source=collection_archive---------1-----------------------#2022-04-11">https://medium.com/nerd-for-tech/what-is-a-tablespace-in-postgresql-2605e817360d?source=collection_archive---------1-----------------------#2022-04-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="b5b8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这里，我们将理解PostgreSQL中的表空间概念</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/40eac39268dc61afa9a55ac82b9455e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZF4PDiexLsEwTsoQ5vLwSg.png"/></div></div></figure><p id="c7a3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">什么是表空间？</strong></p><ul class=""><li id="422c" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">表空间是磁盘上用于存储数据库对象的位置</li><li id="c7b4" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">创建数据库对象时，可以通过名称来引用表空间。</li></ul><p id="a390" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">数据将如何存储到表空间中？</strong></p><ul class=""><li id="1380" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">一旦postmaster认证了连接，就会产生一个新的进程叫做<strong class="ih hj"> pgprocess </strong>。</li><li id="ab4c" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">数据将存储在数据库中，以防用户为该特定数据库创建表空间，数据将存储在此处，否则所有默认用户数据将在<strong class="ih hj"> pg_default </strong>表空间下维护。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kd"><img src="../Images/f6e003ae3e515e37a65b0e3e8147312c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n5PPsOUBNy-jZX0Z5NzU_w.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx translated"><strong class="bd ki">PostgreSQL中的表空间</strong></figcaption></figure><p id="e6e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">表空间的类型:</strong></p><ul class=""><li id="7029" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated"><strong class="ih hj"> 1。默认表空间</strong></li><li id="bcb1" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">当我们在默认情况下创建数据库而不指定表空间位置时，对象被存储在<br/>pg _ default<br/>1 . pg _ default→所有与用户相关的对象都存储在这里<br/> 2.pg_global →所有与系统相关的对象都存储在这里</li><li id="f8d4" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated"><strong class="ih hj"> 2。非默认表空间</strong> <br/>数据库对象存储在用户定义的特定位置/目录中。</li></ul><p id="7986" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">使用非默认表空间有什么好处？</strong></p><p id="d9f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1 .在逻辑上维护特定目录中的对象<br/> 2 .更好的I/O保持能力<br/> 3 .维护活动(如备份特定卷备份)</p><p id="d781" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">定义一个表空间</strong></p><pre class="je jf jg jh fd kj kk kl km aw kn bi"><span id="c707" class="ko kp hi kk b fi kq kr l ks kt">CREATE TABLESPACE tbspace1 LOCATION '/u01/postgresql/data';</span></pre><p id="7f9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">注:</strong></p><ul class=""><li id="b6d8" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">该位置必须是PostgreSQL操作系统用户拥有的现有空目录。随后在表空间中创建的所有对象都将存储在该目录下的文件中。</li><li id="41d8" class="jp jq hi ih b ii jy im jz iq ka iu kb iy kc jc ju jv jw jx bi translated">表空间的创建本身必须以数据库超级用户的身份完成，但在此之后，您可以允许普通数据库用户使用它</li></ul><p id="7a6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">使用表空间创建数据库:</strong></p><pre class="je jf jg jh fd kj kk kl km aw kn bi"><span id="31c2" class="ko kp hi kk b fi kq kr l ks kt">CREATE DATABASE Sports TABLESPACE tbspace1;</span></pre><p id="bc64" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">查看表空间:</strong></p><ul class=""><li id="acff" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">这里这个系统编目查看现有的表空间。</li></ul><pre class="je jf jg jh fd kj kk kl km aw kn bi"><span id="8592" class="ko kp hi kk b fi kq kr l ks kt">SELECT * FROM pg_tablespace;</span></pre><p id="7c7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">查看表空间的列表命令:</strong></p><ul class=""><li id="1d84" class="jp jq hi ih b ii ij im in iq jr iu js iy jt jc ju jv jw jx bi translated">下面的元命令对于列出现有的表空间也很有用。</li></ul><pre class="je jf jg jh fd kj kk kl km aw kn bi"><span id="5abd" class="ko kp hi kk b fi kq kr l ks kt">\db</span></pre></div></div>    
</body>
</html>