<html>
<head>
<title>Check this list before git push!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">git推送前检查一下这个列表！</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/check-this-list-before-git-push-8fd6fffab793?source=collection_archive---------1-----------------------#2020-10-09">https://medium.com/nerd-for-tech/check-this-list-before-git-push-8fd6fffab793?source=collection_archive---------1-----------------------#2020-10-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div class="er es hg"><img src="../Images/79c99c37085a8a1b1e07e82764209bfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*PVaTUp8UCvSnXTy32imwuA.jpeg"/></div></figure><div class=""/><p id="d6eb" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">每个开发人员都知道干净的代码和架构规则，我们不能低估保持项目中的代码适当组织，同时可读和可维护的重要性。</p><p id="5d80" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当您准备将自己的代码推送到存储库时，以及当您审查同事提出的拉/合并请求时，都可以使用下面的清单。</p><p id="d048" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">免责声明:这个列表是在前端开发的背景下编写的，因为我目前正在使用TS+Nuxt/Vue，所以有些规则可能不是那么通用。</p><h1 id="b8c8" class="jk jl hp bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">逻辑和架构检查:</h1><p id="85c5" class="pw-post-body-paragraph im in hp io b ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj hb bi translated">你的代码足够简单吗？ <br/>这是关于KISS规则的，它代表“保持简单愚蠢”——想象你第一次看到你的代码，你会很容易理解每个函数是做什么的，它们如何相互交互，每个组件是做什么的吗？试着找出任何不太清楚的地方，考虑用更简单的逻辑重写它们。</p><p id="b00d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">您的组件和其他组件之间的依赖关系是什么，有多少其他组件依赖于它？</strong></p><p id="e258" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">避免逻辑依赖。不要编写只依赖于同一个类中的其他东西就能正确工作的方法。</p><p id="a48b" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你的组件可以重用吗？尝试将组件插入到完全不同的位置，例如，在不同的页面上(当然，向它传递适当的属性/数据)。如果您发现您的组件不能像预期的那样工作，即使它在props中传递了所有需要的数据——这意味着它是应用程序架构中的一个薄弱环节。关于这个问题的更多信息，你可以阅读罗伯特·c·马丁的<a class="ae kn" href="https://www.amazon.com/Clean-Architecture-Craftsmans-Software-Structure/dp/0134494164" rel="noopener ugc nofollow" target="_blank">“清洁建筑”的第14章。这里的解决方案是重写逻辑，使您的组件更加独立。</a></p><p id="3e99" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">你的解决方案是不是太难改了？</strong></p><p id="e00f" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果您发现一个小的更改会导致一系列后续的更改(或者会在许多不同的地方导致错误)，请考虑重写您的代码。应用程序的本质是可变的，每个解决方案都应该准备好接受变化，并以或多或少简单的方式进行调整，否则它将无法在演进过程中生存。</p><p id="31a6" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">为每个函数编写一个单元测试有多难？</strong></p><p id="7865" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">理想情况下，一个功能应该只负责一个动作。如果需要创建一个更复杂的函数，要确保它尽可能的易读。为了检查这一点，您可以编写一个简单的单元测试。你会看到在不同的情况下，预测函数行为和它返回的结果是否容易。一些开发人员使用<a class="ae kn" href="https://en.wikipedia.org/wiki/Test-driven_development" rel="noopener ugc nofollow" target="_blank">测试驱动方法</a>——他们首先编写测试，然后编写通过测试的功能。</p><h1 id="45f4" class="jk jl hp bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated"><strong class="ak">干净代码检查:</strong></h1><p id="d3da" class="pw-post-body-paragraph im in hp io b ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj hb bi translated"><strong class="io hq">所有变量和函数的新名字都是描述性的和明确的吗？</strong></p><p id="ff23" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">名称不应太长，但同时尽可能具有描述性。如果您怀疑您选择的名称是否足够好，只需问问您的同事，当他们只知道函数的名称时，他们是否能猜出函数的作用或变量可能包含的内容。</p><p id="6dec" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">有什么神奇的数字吗？</p><p id="aa0e" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果是，将它们移动到常量中(或者甚至考虑使用一个<a class="ae kn" href="https://www.typescriptlang.org/docs/handbook/enums.html" rel="noopener ugc nofollow" target="_blank">枚举</a>)。这将使你的代码更具可读性。</p><p id="c5e8" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">有没有硬编码的数据？</strong></p><p id="d54f" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">项目中不同地方使用的数据，例如API请求的URL，应该存储在一个地方(“数据”文件夹或配置文件，这取决于项目)，并在需要时导入到组件中。</p><p id="7fa4" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">向函数传递了多少个参数？</strong></p><p id="91f7" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">好的做法是传递不超过3个参数。如果您需要传递许多不同的参数，可以考虑将它们合并到一个对象中，并将该对象传递给函数。</p><p id="b173" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">变量的声明是否接近其用法？功能是否放在向下的方向？</strong></p><p id="6065" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果你不明白为什么要这样做，可以考虑阅读<a class="ae kn" href="https://github.com/getify/Functional-Light-JS/blob/master/manuscript/ch4.md/#chapter-4-composing-functions" rel="noopener ugc nofollow" target="_blank">Functional-Light JavaScript</a>的第4章。为什么是函数式编程？我们知道每种编程方法都有其优点和缺点(关于这个主题的更多内容，请参见Robert C. Martin 的<a class="ae kn" href="https://www.amazon.com/Clean-Architecture-Craftsmans-Software-Structure/dp/0134494164" rel="noopener ugc nofollow" target="_blank">“干净的架构”的第3章)，所以在我看来，好的方法是在您的代码中使用每种方法的最佳部分。</a></p><p id="e0ff" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">有重复的吗？</p><p id="2297" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">比如调用方式不同，但实际做的是同一件事的函数？当它们位于不同的组件中时，很难发现它们。考虑将它们移动到helper函数(存储在一个单独的文件中)中，并将其导入到需要使用它的组件中。</p><p id="0d79" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">有没有多余的评论？</strong></p><p id="2f3d" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">每个评论描述了什么？<br/>如果它描述了函数的功能——这是多余的，如果没有它，你就无法理解函数的功能——你可能需要重命名函数，甚至重写它，使其更加清晰。</p><p id="dc5a" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果它将代码的各个部分划分为“章节”，那么考虑将不同的“章节”移动到一个单独的文件中(前提是不降低组件代码的可读性和可维护性)。</p><p id="43e4" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">好的注释应该使代码更容易阅读，但不应该解释代码做什么。</p><p id="1e6a" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一个好的评论的例子:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="8f0b" class="kx jl hp kt b fi ky kz l la lb"><em class="lc">// ‘/en/result/’ &gt;&gt; ‘result’<br/>const currentPage = this.$route.path.substr(4).slice(0, -1)</em></span></pre><p id="076b" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">差评的一个例子:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="6385" class="kx jl hp kt b fi ky kz l la lb"><em class="lc">// Save the name into the cookie<br/>document.cookie = `name=${selectedName}`</em></span></pre><h1 id="25e8" class="jk jl hp bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">安全性和数据管理</h1><p id="fa26" class="pw-post-body-paragraph im in hp io b ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj hb bi translated">检查任何敏感数据的可能泄漏(在保存到本地/会话存储或cookies之前，您是否对其进行了加密？).窃取数据或插入假数据代替真数据的难度有多大？不是所有的开发人员都考虑到这一点，他们经常急于按时交付他们的解决方案，但是也没有多少项目有适当的测试过程来检测应用程序中的这种薄弱之处。尽可能保证敏感数据的安全是开发人员的责任。</p><h1 id="47e4" class="jk jl hp bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">洗盘子！</h1><p id="7acf" class="pw-post-body-paragraph im in hp io b ip ki ir is it kj iv iw ix kk iz ja jb kl jd je jf km jh ji jj hb bi translated"><strong class="io hq">删除注释代码。</strong></p><p id="1d71" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">只有在您确定将来会需要这个功能的情况下，您才可能希望留下注释代码。</p><p id="bb8f" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">删除console.log和调试器语句。</strong></p><p id="1d3c" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在整个项目中搜索这个语句——也许你或你的同事忘记删除它了？即使是别人做过的，也要清理干净。童子军规则。让露营地比你发现时更干净。</p><p id="3fcd" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hq">删除不用的变量、函数、方法、文件。</strong></p><p id="a24b" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">所有这些给项目造成了混乱，并可能误导其他开发人员。</p><p id="65e7" class="pw-post-body-paragraph im in hp io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">— — — <br/>当然，该清单并不完整，我们可以根据具体项目、具体技术和要求对其进行扩展并添加规则。快乐编码(和检查)！</p></div></div>    
</body>
</html>