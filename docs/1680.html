<html>
<head>
<title>Introduction to Lambda Expressions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Lambda 表达式简介</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/introduction-to-lambda-expressions-577c3cce7f84?source=collection_archive---------8-----------------------#2021-04-01">https://medium.com/nerd-for-tech/introduction-to-lambda-expressions-577c3cce7f84?source=collection_archive---------8-----------------------#2021-04-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/98515cb334238027d8ec09d38b5b146f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hCEbcEeOGDY7j_Gi"/></div></div></figure><p id="dfdc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在我们早期的一篇博客中，我们已经探索了坚实的原则。据此，创建执行单个活动的专用类和方法是要遵循的最佳实践之一。想象一下，创建了一个方法，但是在代码中只使用了一次。根据项目的可见性，它也不会在未来的任何时候被用完。在这种情况下，定义方法、输入类型和输出的工作量相当大，因为它在整个代码中被使用的次数很多。</p><p id="8052" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这种情况下，一次性可用的方法不太关注实现、参数规范、声明、访问说明符、返回值和名称，它允许我们在需要的地方编写方法。这对于完成任务来说将是非常方便的。</p><p id="f410" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">幸运的是，C#的 3.0 版本(.Net framework 3.5)，提供 lambda 表达式来创建可用于编写表达式的匿名方法。这就是只在一个实例中使用的操作序列，它还允许根据需要编写单行或多行匿名方法。我们来详细看看这个博客里有哪些 lambda 表达式。</p><p id="d240" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">目录</strong></p><ol class=""><li id="29cb" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">什么是 Lambda 表达式？</li><li id="d3b5" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">C#中如何使用 Lambda 表达式？</li><li id="c479" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">结论</li></ol><h1 id="4274" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">什么是 Lambda 表达式？</h1><p id="d897" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">Lambda 表达式提供创建匿名函数的能力。每个 lambda 表达式都由 lambda 运算符“= &gt;”组成，该运算符拆分匿名方法的输入参数和基于该参数执行的操作。</p><p id="88f8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">(输入参数)= &gt;表达式</p><p id="1109" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">(输入参数)=&gt; {要执行的语句序列}</p><p id="19b8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Lambda 表达式可以转换为委托类型。有输入参数但没有返回类型的 Lambda 表达式可以转换为操作委托类型。</p><p id="e20e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">示例-</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="16c8" class="lo kd hi lk b fi lp lq l lr ls">Action&lt;string&gt; welcomeUser = inputName =&gt; { ​ Console.WriteLine(string.Format("Welcome {0}.", inputName)); } welcomeUser("PARTECH");</span></pre><p id="4fd1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类似地，具有参数和返回类型的 lambda 表达式可以转换为 Func 委托类型。</p><p id="c500" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">示例-</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="1986" class="lo kd hi lk b fi lp lq l lr ls">Func&lt;int, int&gt; radiusOfCircle = inputRadius =&gt; (3.14 * inputRadius * inputRadius); Console.WriteLine(radiusOfCircle(5));</span></pre><p id="1358" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，Func <int int="">分别表示输入和结果的数据类型。</int></p><h1 id="2107" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">C#中如何使用 Lambda 表达式？</h1><p id="457f" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">在这一节中，让我们看一些在 C#中可以使用 lambda 表达式的实际例子。</p><h2 id="fb99" class="lo kd hi bd ke lt lu lv ki lw lx ly km jb lz ma kq jf mb mc ku jj md me ky mf bi translated">场景 1</h2><p id="7f8c" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">想象一个场景，其中字符串列表包含需要以逗号分隔格式显示的特定数据。用 Lambda 表达式很容易实现。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="e755" class="lo kd hi lk b fi lp lq l lr ls">var data = new List&lt;string&gt; { "One", "Two", "Three", "Four", "Five" }; var result = String.Join(", ", data.Select(x =&gt; x));</span></pre><p id="feca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">结果将是——“一、二、三、四、五”</p><h2 id="41c9" class="lo kd hi bd ke lt lu lv ki lw lx ly km jb lz ma kq jf mb mc ku jj md me ky mf bi translated">场景 2</h2><p id="e822" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">想象一个场景，其中有一个字符串列表，我们需要在它前面加上一些数据来一起处理它。让我们看看如何使用 lambda 表达式来实现这一点。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="2f3c" class="lo kd hi lk b fi lp lq l lr ls">var data = new List&lt;PartechNonGeneric&gt; { new PartechNonGeneric { Property = false, Data ="One" } }; data.ForEach(x =&gt; x.Data = "PARTECH_" + x.Data);</span></pre><p id="edc7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这种情况下，前缀 data 'PARTECH_ '被附加到集合中存在的所有对象上。</p><h2 id="983c" class="lo kd hi bd ke lt lu lv ki lw lx ly km jb lz ma kq jf mb mc ku jj md me ky mf bi translated">场景 3</h2><p id="58e5" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">要检查特定数据是否出现在集合中，可以使用 lambda 表达式。考虑一个场景，用户想要检查名字是否存在于集合中。在这种情况下，可以使用 lambda 表达式。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="8a93" class="lo kd hi lk b fi lp lq l lr ls">var data = new List&lt;PartechPersonalData&gt; { new PartechPersonalData{ FirstName= "Test", LastName="User" } }; var exists = data.Exists(x =&gt; x.FirstName = "PARTECH");</span></pre><p id="deaf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果所选过滤器的数据存在，上述代码返回 true，否则返回 false。</p><h2 id="f4de" class="lo kd hi bd ke lt lu lv ki lw lx ly km jb lz ma kq jf mb mc ku jj md me ky mf bi translated">场景 4</h2><p id="3520" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">考虑一个定制类列表，有必要过滤掉名字为 xx 的对象。发布这个，对特定对象而不是整个列表本身进行一些操作(比如我们之前看到的 foreach 操作)。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="a301" class="lo kd hi lk b fi lp lq l lr ls">var data = new List&lt;PartechPersonalData&gt; { new PartechPersonalData{ FirstName= "Test", LastName="User" }, new PartechPersonalData{ FirstName= "Test2", LastName="User" } }; var partechData = data.Find(x =&gt; x.FirstName = "Test");</span></pre><p id="5451" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的代码将集合中第一个与提供的条件匹配的对象作为 lambda 表达式返回。</p><h2 id="921d" class="lo kd hi bd ke lt lu lv ki lw lx ly km jb lz ma kq jf mb mc ku jj md me ky mf bi translated">场景 5</h2><p id="f26e" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">要返回匹配相似条件的多个对象，可以使用下面的代码。设想一个场景，其中需要过滤 18 岁及以上的学生。对于这种情况，可能会出现多个学生记录。使用 lambda 表达式，可以捕获通过该条件的所有对象。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="7ec7" class="lo kd hi lk b fi lp lq l lr ls">var data = new List&lt;PartechPersonalData&gt; { new PartechPersonalData{ FirstName= "Test", LastName="User", DateOfBirth = "2002-02-21" }, new PartechPersonalData{ FirstName= "Test2", LastName="User", DateOfBirth = "2002-02-28" } }; var partechData = data.FindAll(x =&gt; (x.DateOfBirth.Year - DateTime.Now.Year) &gt;= 18);</span></pre><p id="6e61" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">上面的代码检查自定义列表中的所有记录，并检查正在定义的条件，然后返回与所提供的条件匹配的所有对象。</p><h2 id="6449" class="lo kd hi bd ke lt lu lv ki lw lx ly km jb lz ma kq jf mb mc ku jj md me ky mf bi translated">场景 6</h2><p id="bfa6" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">要返回集合中所有对象的单个属性，可以使用 lambda 表达式。假设有一个保存名字、姓氏和出生日期的自定义类。考虑一个场景，其中需要只获取集合中出现的名字。使用 lambda 表达式，可以从自定义类集合中仅检索选定的属性。</p><pre class="lf lg lh li fd lj lk ll lm aw ln bi"><span id="3fdc" class="lo kd hi lk b fi lp lq l lr ls">var data = new List&lt;PartechPersonalData&gt; { new PartechPersonalData{ FirstName= "Test", LastName="User", DateOfBirth = "2002-02-21" }, new PartechPersonalData{ FirstName= "Test2", LastName="User", DateOfBirth = "2002-02-28" } }; var firstNameData = data.Select(x =&gt; x.FirstName);</span></pre><p id="a34a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在上面的代码中，带有属性的 Select 语句只提供自定义集合中的名字。</p><p id="f0b2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">与上面的场景类似，可以用 lambda 表达式执行许多其他操作，比如修改和格式化字符串、日期格式、执行计算等。</p><h1 id="3421" class="kc kd hi bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">结论</h1><p id="d5ce" class="pw-post-body-paragraph iq ir hi is b it la iv iw ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn hb bi translated">Lambda 表达式是一个强大的工具。它使得实现数据操作、自定义选择和许多其他流行的操作成为可能。最好的部分是，它仅仅使用简单的匿名方法、lambda 操作符和输入数据就完成了。</p></div><div class="ab cl mg mh gp mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hb hc hd he hf"><p id="25c7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="mn">原载于</em><a class="ae mo" href="https://www.partech.nl/nl/publicaties/2021/03/introduction-to-lambda-expressions" rel="noopener ugc nofollow" target="_blank"><em class="mn">https://www . partech . nl</em></a><em class="mn">。</em></p></div></div>    
</body>
</html>