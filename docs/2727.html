<html>
<head>
<title>Creating modular systems with Switch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用交换机创建模块化系统</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/creating-modular-systems-with-switch-9b650821b88e?source=collection_archive---------26-----------------------#2021-05-17">https://medium.com/nerd-for-tech/creating-modular-systems-with-switch-9b650821b88e?source=collection_archive---------26-----------------------#2021-05-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="bb98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">既然我们已经花了一些时间来学习如何使用 switch，让我们在游戏中使用它。由于我们计划有多种类型的加电，我们没有必要为每一种都创建一个新的脚本，因为我们已经有了一个完美的工作脚本。然而，我们必须让我们的游戏知道，当我们收集一个不同的精灵，我们希望这个精灵影响我们的玩家差异。首先，我们将把速度提升精灵放入层次结构中，并添加所需的组件:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/da0d63ef346b3d596385642af7c59718.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pDrbyIyjgL8vMVzUiHIfnQ.png"/></div></div></figure><p id="9690" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦我们添加了刚体，记得设置重力为 0。使用盒子碰撞器，我们将打开触发选项并缩小盒子，这样它就能正确显示精灵集合半径的大小。同样，我们应该应用 powerup 标签，并把它放在前景层，这样它就不会消失在星星后面。接下来，我们将快速设置我们的动画。最后，我们将应用我们的 powerup 脚本，把它拖到我们的 power prefab 文件夹中，并删除我们的对象。现在我们已经在编辑器中设置了 sprite，我们可以切换到我们的脚本并设置新的代码行:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/253e87b1351eb37d5f95521e92a45c8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JvAZKZuW02moWgVY2Bwu4Q.png"/></div></div></figure><p id="8cfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们有了 switch 语句，我们可以检查游戏中的逻辑，看看当我们收集速度精灵时，它是否显示“收集的速度提升”。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/cb6be015f62d679b808e93eea8a90d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*S_1e8gGk_C0W5PEV81lJOQ.gif"/></div></div></figure><p id="b1f1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们可以收集我们的速度提升，让我们得到我们的代码设置，以便我们可以实际使用它。首先，我们必须查看我们的播放器脚本，并实现一些代码，以便在收集精灵后应用速度提升放大器。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/edd57e0cd94ed7f5e43ba006d74b7126.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NkondXaUdh3-6E4m49V52w.png"/></div></div></figure><p id="feef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们只需要创造一个速度提升的活跃布尔，就像我们的三重射击，然后为我们的速度增加一个乘数。从这里开始，我们可以创建一行代码，当我们激活速度提升时应用它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/35d38c2f3c7ca05d5731c32ac668b9a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AG-TcuYHdztrVT11FNPqgw.png"/></div></div></figure><p id="06d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要做的只是创建一个 if 语句，当我们的速度提升为真时，将我们的翻译乘以速度乘数，这样我们就可以更快。现在我们已经设置好了，我们必须应用代码，这样我们就可以将乘数变为真。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/eeb4e642c5396113ffcd88b91f6c4998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*otUA8oK267okC1imLgNftg.png"/></div></div></figure><p id="ce0c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们为此使用的方法与我们的三倍拍摄加电相同。一旦所有这些都完成了，我们必须转到我们的加电脚本，并更改 case1 行中的代码来激活我们的新加电。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/1bd01b8842e8f6862614b1a2ff1dc6f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4SDi-GAle4kamfhUZ9WhJQ.png"/></div></div></figure><p id="a370" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这之后，我们可以检查我们在游戏中的结果，看看会发生什么。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/f1ceb0edad2bac62b81d34a28ba55d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CmSp-lHViZvBObIQp3njUQ.gif"/></div></div></figure><p id="ddcf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">既然我们已经让速度提升正常工作，我们需要让它产卵。由于我们现在有多个加电，我们将希望让它在我们设置的窗口中随机选择 1 个加电来繁殖，这样我们就没有一个预测模式可循。</p><p id="ab50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，使用这种方法，会出现一个问题。正如我们在播放器的检查器中看到的，速度值没有显示为我们想要的 10。因此，我们必须稍微修改我们的代码，这样在我们下面创建的 public void 中，我们可以调整那里的速度值，这样我们就不需要上面这个额外的 if 行了。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/16919acb168bff60ff11e3b9c3c374c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgsS5UGVoZO5sPuVSOl8xA.png"/></div></div></figure><p id="0ab1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，我们必须将它设置为在空的部分相乘，然后使用我们的协程，我们将希望将这些值划分回常规值，这样我们就不会在每次获得速度提升时都不断地增加速度。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/529241644ba0b5e193a7be11efa71b40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-2sxLxzinAlTLovIQdXCmg.gif"/></div></div></figure><p id="c214" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在是时候让我们的种子管理者使用多种能量了。有了 Unity，我们可以实现一个叫做数组的东西，它允许我们创建一个可以附加的对象列表。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/d0e9d1e852e7ec8e7ae03726dd7533cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CrS6JJQqgy2UT0tlNIcyaA.png"/></div></div></figure><p id="2d06" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要建立一个数组，我们所做的就是在想要创建数组的代码行中添加[]。从这里，我们可以去我们的编辑器，并添加我们希望我们的列表有多长，以及拖动我们的预置到每一行。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/35c40e6424e8fcbebb10033f06ebfec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTYg16YFr0-6rSOiAiAvXA.png"/></div></div></figure><p id="bc80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们可以回到我们的脚本，稍微调整一下种子代码，这样它就可以随机产生 3 个当前能量中的一个。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/323b742e40b0f57982fad179387b2fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ySzDmwD3xh_SeuO-5g59rw.png"/></div></div></figure><p id="a267" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们要做的就是创建一个新的变量来调整我们的脚本。至于范围，我们进入我们的阵列的低端和高端。然后，我们将把它放在脚本的实例化部分旁边，并在我们的游戏中进行测试。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/81cc674f32c32d101da55555b71301bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*HKdrMWWzc4Ea49UqLR1W8A.gif"/></div></div></figure><p id="b2da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们所看到的，我们的能力在我们随机的时间段内随机产生，正如我们所预期的那样。现在我们的速度提升正在进行，我们的种子管理器弹出随机的能量，是时候给我们的第三次能量了，它的代码，所以它有一个用途。</p></div></div>    
</body>
</html>