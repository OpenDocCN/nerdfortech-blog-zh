<html>
<head>
<title>Attach An IAM Role To EC2 Instance To Access DynamoDB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将 IAM 角色附加到 EC2 实例以访问 DynamoDB</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/attach-an-iam-role-to-ec2-instance-to-access-dynamodb-2d6706ebeb91?source=collection_archive---------1-----------------------#2022-11-26">https://medium.com/nerd-for-tech/attach-an-iam-role-to-ec2-instance-to-access-dynamodb-2d6706ebeb91?source=collection_archive---------1-----------------------#2022-11-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/29a90475535f2b583d52d3cf1b80eb2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QrT8Wzjd-mCDASTPZJT-dg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片作者:Revathijoshi</figcaption></figure><h2 id="2562" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">代表团</h2><ol class=""><li id="9683" class="js jt hi ju b jv jw jx jy jf jz jj ka jn kb kc kd ke kf kg bi translated">为您选择的东西创建一个 DynamoDB 表<br/>(例如电影、食物、游戏)</li><li id="d249" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated">向表格中添加 10 个或更多项目</li><li id="610a" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated">通过 AWS CLI 创建 t.2micro Ec2 实例</li><li id="d73d" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated">使用 IAM 角色和最小特权原则，授予 EC2 实例对 DynamoDB 的读取权限。</li><li id="9537" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated">在 EC2 实例中使用 AWS CLI 扫描 DynamoDB 表</li><li id="58a6" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated">在 EC2 实例中使用 AWS CLI 来验证您不能将项目写入 DynamoDB 表</li></ol><h2 id="9ec0" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">行政和后勤</h2><ul class=""><li id="d940" class="js jt hi ju b jv jw jx jy jf jz jj ka jn kb kc km ke kf kg bi translated">AWS DynamoDB 基础知识</li><li id="3031" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc km ke kf kg bi translated">AWS S3 基础知识</li><li id="f96b" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc km ke kf kg bi translated">AWS CLI 基础</li><li id="8768" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc km ke kf kg bi translated">利用参考章节获得 AWS 文档协助</li></ul><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kn"><img src="../Images/b8d17cbe886ac4a7a808bd9308deb96c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*71indesxYa5rDiYbe3qNjg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片由<a class="ae ks" href="https://pixabay.com/users/jorono-1966666/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3579691" rel="noopener ugc nofollow" target="_blank">乔罗诺</a>从<a class="ae ks" href="https://pixabay.com//?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3579691" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>拍摄</figcaption></figure><h2 id="f7d9" class="iu iv hi bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">执行</h2><p id="ff22" class="pw-post-body-paragraph kt ku hi ju b jv jw kv kw jx jy kx ky jf kz la lb jj lc ld le jn lf lg lh kc hb bi translated">当我试图决定用什么主题来创建我的表格时，我遇到了<a class="ae ks" href="https://champsorchumps.us/records/best-nfl-regular-season-records#tab-win-percentage" rel="noopener ugc nofollow" target="_blank">ChampsOrChumps.com</a>，这里有一些关于运动队及其各自城市的有趣统计数据。例如，他们通过胜率来跟踪拥有最佳常规赛记录的 NFL 球队，然后告诉你他们那年是否赢得了超级碗。我选择的主题代表了我作为迈阿密海豚队铁杆球迷的热情。尽管过去几年我们过得很艰难，但我仍然怀念我们的光辉岁月。海豚队是 NFL 历史上唯一一支整赛季保持不败的球队；他们在 1972 年赛季结束时没有损失，并在超级碗第七届的胜利达到高潮。好了，现在我们知道了我为什么选择这张桌子，让我们回到我们的实验室。</p><p id="fd77" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">该表包含 50 个项目，每个项目有 4 个属性(团队、记录、结果和年份)。手动将每个项目和后续属性添加到 DynamodDB 中是可行的，但这不是对时间的理想使用。我将利用最近发布的 AWS 特性(2022 年 8 月),即<strong class="ju hj">将数据</strong> <strong class="ju hj">从亚马逊 S3 </strong>导入到一个新的 DynamoDB 表中。</p><p id="ebb0" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">在这个特性发布之前，将数据从 S3 大容量导入 DynamoDB 的选择有限。一个流行的解决方法是将 python 代码编写到 Lambda 函数中，像大多数特别的修复一样，您的结果各不相同。大容量导入数据还可能需要自定义数据加载器，这需要资源来构建和操作。来自 S3 的 DynamoDB import 帮助您从亚马逊 S3 将 TB 级的数据批量导入到一个新的 DynamoDB 表中，不需要任何代码或服务器。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es ln"><img src="../Images/7188e4ab543952eaecfd49400bca2a28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*y2yY2lY2ClnJ9qsvcdhyMA.png"/></div></figure><h1 id="af5a" class="lo iv hi bd iw lp lq lr ja ls lt lu je lv lw lx ji ly lz ma jm mb mc md jq me bi translated">步骤 1:导入数据并创建表格</h1><p id="d87d" class="pw-post-body-paragraph kt ku hi ju b jv jw kv kw jx jy kx ky jf kz la lb jj lc ld le jn lf lg lh kc hb bi translated">首先登录 AWS 管理控制台，在 https://console.aws.amazon.com/dynamodb/的<a class="ae ks" href="https://console.aws.amazon.com/dynamodb/" rel="noopener ugc nofollow" target="_blank">打开 DynamoDB。在控制台左侧的导航窗格中，选择从 S3 导入。</a></p><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/60d63308cdb77ca1e3ae02a32bb6d13d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*pIIMn5D5eg_44ZyoNTUFTA.png"/></div></figure><p id="fcf0" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">在出现的页面上，再次选择 Import from S3，您将被带到请求导入向导。如果该存储桶归您的帐户所有，您可以使用浏览 S3 按钮找到它。这是迄今为止最简单的选择。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mg"><img src="../Images/0add03f62f73fec9455d0fcbd4f7f089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IPBhtsqKwTKeuL22HHiSRA.png"/></div></div></figure><p id="58fd" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">选择“浏览 S3”按钮后，您可以导入整个存储桶或该存储桶中的单个对象。在开始这个实验室之前，我从<a class="ae ks" href="https://champsorchumps.us/records/best-nfl-regular-season-records#tab-win-percentage" rel="noopener ugc nofollow" target="_blank">ChampsOrChumps.com</a>下载了数据，并将其转换成 CSV 文件上传到 S3。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es mh"><img src="../Images/b65ce24395e3e12bf2e42f19781bae68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*iYMXzZzCOVqneqpqAVVT6A.png"/></div></figure><p id="7eda" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">或者，您可以以<code class="du mi mj mk ml b">s3://bucket/prefix</code>格式输入 bucket 的 URL。如果您要从不同于当前登录的 AWS 帐户导入数据，这是一个很好的选择。</p><p id="2fe7" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">接下来，您必须指定您是否是 S3 存储桶的所有者。如果源桶属于不同的帐户，选择<strong class="ju hj">不同的 AWS 帐户</strong>。您需要提供存储桶所有者的帐户 ID。选择适当的导入文件格式。选项有<strong class="ju hj"> DynamoDB JSON、Amazon Ion、</strong>或<strong class="ju hj"> CSV </strong>。选择错误的格式将导致导入过程失败。如果选择 CSV，您将有两个附加选项:CSV 标题和分隔符。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mm"><img src="../Images/4c47178d7a7e4d83e77988188007f26e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ee1WwKLNQtnYUQTY3cp1pA.png"/></div></div></figure><p id="fa1c" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">在下一个屏幕上，您将决定与为存储数据而创建的新表相关联的参数。正如您在下面看到的，我已经命名了我的表，并设置了分区和排序键。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/52de37a4f3945baf3291a7fd6e45b960.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tZcOqPKDLmouMQdqC9I_Og.png"/></div></div></figure><p id="a5df" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">我们不得不使用排序键，因为有些球队不止一次出现在这个名单上。当分区键和排序键一起使用时，它们被称为<em class="mo">复合主键。</em>在具有分区键和排序键的表中，多个项目可以具有相同的分区键值。但是，这些项目必须有不同的排序键值。📝注意:主键和排序键必须与文件中的属性匹配，否则导入将失败。这些属性区分大小写。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/dbfe59c7d318fa783ac2c0e6ad283238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G-ZpVbfySIakHNFhdZv2lw.png"/></div></div></figure><p id="1267" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">选择“下一步”查看您的导入选项，然后单击“导入”开始导入任务。您的新表列在“表”中，状态为“正在创建”此时，该表不可访问。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es mq"><img src="../Images/debf383963659850b5dc0965390c34be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*nRcoHITrXrzRqb49hrpQvA.png"/></div></figure><p id="d611" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">我们的数据从 S3 成功导入，并且为我们创建了一个 DynamoDB 表。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mr"><img src="../Images/1823e95a2707a697950189bef3e358a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hdjZYCfVRvaGvWEV6QL1tg.png"/></div></div></figure><h1 id="bd50" class="lo iv hi bd iw lp lq lr ja ls lt lu je lv lw lx ji ly lz ma jm mb mc md jq me bi translated"><strong class="ak">步骤 2:创建具有只读访问权限的 IAM 角色</strong></h1><p id="c456" class="pw-post-body-paragraph kt ku hi ju b jv jw kv kw jx jy kx ky jf kz la lb jj lc ld le jn lf lg lh kc hb bi translated">IAM 服务只支持一种基于资源的策略，称为角色<em class="mo">信任策略</em>，它附加到 IAM 角色。信任策略定义了哪些主体实体可以承担该角色。我正在使用 Visual Studio 代码创建我的。json 文件。下面可以看到一个模板。</p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="e51e" class="mw iv hi ml b be mx my l mz na">{<br/>  "Version": "2012-10-17",<br/>  "Statement": [<br/>      {<br/>          "Sid": "",<br/>          "Effect": "Allow",<br/>          "Principal": {<br/>              "Service": "ec2.amazonaws.com"<br/>          },<br/>          "Action": "sts:AssumeRole"<br/>      }<br/>  ]</span></pre><p id="2188" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">用于创建角色和附加信任策略的 AWS CLI 命令</p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="3c9e" class="mw iv hi ml b be mx my l nb na">aws iam create-role --role-name &lt;Name_Your_Role&gt; --assume-role-policy-document file://&lt;filelocation.json&gt;</span></pre><p id="6c70" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">将权限策略附加到您的角色。最初，我想为我新创建的角色使用 AWS 管理的策略。唯一的要求是为 AWS 管理的 AmazonDynamoDBReadOnlyAccess 策略获取 ARN。但是，在审查该政策时，我注意到它允许访问我们的任务不需要的其他资源。我需要创建另一个。json 文件的权限符合我们的要求，同时遵守最小特权原则。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nc"><img src="../Images/7e93a056032f169af26f3527a7002ce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dqogbLqnLArI0EdkTU71rw.png"/></div></div></figure><p id="955a" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">以下权限策略仅授予对<code class="du mi mj mk ml b">GetItem</code>、<code class="du mi mj mk ml b">BatchGetItem</code>、<code class="du mi mj mk ml b">Scan</code>、<code class="du mi mj mk ml b">Query</code>和<code class="du mi mj mk ml b">ConditionCheckItem</code> DynamoDB 操作的权限，因此在 BestNflRegularSeasonRecord 表上设置只读访问权限。您需要将您的表 ARN 粘贴到策略的资源部分，以指定您要授予对哪个表的访问权限。</p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="6420" class="mw iv hi ml b be mx my l mz na">{<br/>    "Version": "2012-10-17",<br/>    "Statement": [<br/>        {<br/>            "Sid": "ReadOnlyAPIActionsOnBooks",<br/>            "Effect": "Allow",<br/>            "Action": [<br/>                "dynamodb:GetItem",<br/>                "dynamodb:BatchGetItem",<br/>                "dynamodb:Scan",<br/>                "dynamodb:Query",<br/>                "dynamodb:ConditionCheckItem"<br/>            ],<br/>            "Resource": "arn:aws:dynamodb:us-west-2:123456789012:table/BestNflRegularSeasonRecord"<br/>        }<br/>    ]<br/>}</span></pre><p id="72d7" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">下面的命令将内联策略嵌入到角色中，以指定它可以做什么。</p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="6b39" class="mw iv hi ml b be mx my l mz na">$ aws iam put-role-policy --role-name Test-Role-for-EC2 --policy-name Permissions-Policy-For-Ec2 --policy-document file://C:\policies\permissionspolicyforec2.json</span></pre><p id="ca89" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">创建 EC2 包含角色所需的实例概要文件。您需要为实例概要文件提供一个唯一的名称。</p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="de8d" class="mw iv hi ml b be mx my l nb na">$ aws iam create-instance-profile --instance-profile-name &lt;TestEc2Profile&gt;</span></pre><p id="b3d2" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">最后，将角色添加到实例概要文件中</p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="b0df" class="mw iv hi ml b be mx my l nb na">$ aws iam add-role-to-instance-profile --instance-profile-name EC2-ListBucket-S3 --role-name Test-Role-for-EC2</span></pre><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nd"><img src="../Images/7454df6d390d686c706b39fa0dcf5d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yfo5FR_X72OjKDg1C3XclA.png"/></div></div></figure><h1 id="7a22" class="lo iv hi bd iw lp lq lr ja ls lt lu je lv lw lx ji ly lz ma jm mb mc md jq me bi translated"><strong class="ak">步骤 3:创建 EC2 实例</strong></h1><p id="1358" class="pw-post-body-paragraph kt ku hi ju b jv jw kv kw jx jy kx ky jf kz la lb jj lc ld le jn lf lg lh kc hb bi translated">运行下面的命令来创建 EC2 实例。您需要在每个参数旁边提供一个值，除了 associate <code class="du mi mj mk ml b">--associate-public-address</code></p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="7ce5" class="mw iv hi ml b be mx my l nb na">aws ec2 run-instances \<br/>    --image-id ami-0b0dcb5067f052a63 \<br/>    --instance-type t2.micro \<br/>    --subnet-id subnet-01b370d32254f5d0b \<br/>    --security-group-ids sg-025ec04872b1c4e46 \<br/>    --associate-public-ip-address \<br/>    --key-name cli-dev-proj \<br/>    --tag-specifications "ResourceType=instance,Tags=[{Key=Name,Value=EC2-Wk8}]" <br/>    --iam-instance-profile "Name"="TestEc2Profile"</span></pre><p id="f25b" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">成功创建实例后，您需要获得您的公共 IP 地址，以便通过 SSH 进入系统。您可以通过运行以下命令来实现这一点。不要忘记将实例概要文件添加到 EC2 实例中。</p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="76c1" class="mw iv hi ml b be mx my l nb na">aws ec2 describe-instances \<br/>--query "Reservations[*].Instances[*].{PublicIP:PublicIpAddress,Name:Tags[?Key=='Name']|[0].Value,Status:State.Name}" --output table</span></pre><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es ne"><img src="../Images/02ea63b71294f76ac94424affe0ad089.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*qCz04zMoLpulQXCVC4HK6w.png"/></div></figure><h1 id="cb2a" class="lo iv hi bd iw lp lq lr ja ls lt lu je lv lw lx ji ly lz ma jm mb mc md jq me bi translated">步骤 4:质量保证检查</h1><p id="5b18" class="pw-post-body-paragraph kt ku hi ju b jv jw kv kw jx jy kx ky jf kz la lb jj lc ld le jn lf lg lh kc hb bi translated">现在是时候看看一切是否如预期的那样运行，或者我们是否需要重新开始。在 EC2 实例中使用 AWS CLI 扫描 DynamoDB 表</p><p id="4239" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">以下 AWS CLI 示例从<code class="du mi mj mk ml b">BestNflRegularSeasonRecord</code>表中读取一个项目。您可以通过 DynamoDB API 或 PartiQL 实现这一点，PartiQL 是 DynamoDB 的一种 SQL 兼容的查询语言。</p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="1fe5" class="mw iv hi ml b be mx my l mz na"># DynamoDB API<br/>aws dynamodb query \<br/>    --table-name BestNflRegularSeasonRecord \<br/>    --key-condition-expression "Team = :name" \<br/>    --expression-attribute-values  '{":name":{"S":"Miami Dolphins"}}' \<br/>    --region us-east-1</span></pre><p id="ea5c" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">该命令的输出显示，70 年代和 80 年代是迈阿密海豚队的辉煌岁月，当时我甚至还没有出生。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div class="er es nf"><img src="../Images/8530b56d774e89e90073856d35a67de6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*RiDa4TtslXhT3mpjHAHmmA.png"/></div></figure><p id="9728" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">最后一步是确保我们的角色不能写</p><pre class="ko kp kq kr fd ms ml mt bn mu mv bi"><span id="2a50" class="mw iv hi ml b be mx my l mz na">aws dynamodb put-item \<br/>    --table-name BestNflRegularSeasonRecord  --region us-east-1 \<br/>    --item \<br/>        '{"Team": {"S": "San Diego Chargers"}, "Year": {"N": "2006"}, "Record": {"S": "14-0"}, "Result": {"S": "Lost SB"}}'</span></pre><p id="ddb6" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">用黄色突出显示的部分确认我们的 EC2 实例不能在表中写入。</p><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ng"><img src="../Images/fe28b14daede3fca03c74a337bfc8cc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MK8qg1ZYUdrDRJa0szY7-A.png"/></div></div></figure><h1 id="0bd3" class="lo iv hi bd iw lp lq lr ja ls lt lu je lv lw lx ji ly lz ma jm mb mc md jq me bi translated">触地得分</h1><figure class="ko kp kq kr fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nh"><img src="../Images/14fcff8106b872375051fafdff8068bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BdB1DUC1j0DO_D98SAYxwA.png"/></div></div></figure><p id="44c0" class="pw-post-body-paragraph kt ku hi ju b jv li kv kw jx lj kx ky jf lk la lb jj ll ld le jn lm lg lh kc hb bi translated">我不得不参考许多不同的资源来找出步骤，并在这个实验室中开发不同阶段所需的语法。我贴出下面的参考资料，以帮助任何人解决类似的问题。参考资料的顺序与实验步骤的顺序相似。</p><h1 id="14bb" class="lo iv hi bd iw lp lq lr ja ls lt lu je lv lw lx ji ly lz ma jm mb mc md jq me bi translated">参考资料和资源:</h1><ol class=""><li id="5a3d" class="js jt hi ju b jv jw jx jy jf jz jj ka jn kb kc kd ke kf kg bi translated"><a class="ae ks" href="https://aws.amazon.com/blogs/database/amazon-dynamodb-can-now-import-amazon-s3-data-into-a-new-table/" rel="noopener ugc nofollow" target="_blank">将亚马逊 S3 数据</a>导入亚马逊 DynamoDB</li><li id="ef47" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated">【DynamoDB 的备忘单</li><li id="d253" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated">IAM 策略授予<a class="ae ks" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/read-only-permissions-on-table-items.html" rel="noopener ugc nofollow" target="_blank">对 DynamoDB 表中项目的只读权限</a></li><li id="c497" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated"><a class="ae ks" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html" rel="noopener ugc nofollow" target="_blank">为服务创建角色</a>(AWS CLI)</li><li id="0815" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated"><a class="ae ks" href="https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html#examples" rel="noopener ugc nofollow" target="_blank">通过 AWS CLI 创建 EC2 </a>实例</li><li id="a23a" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated"><a class="ae ks" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/getting-started-step-5.html" rel="noopener ugc nofollow" target="_blank">查询表中的数据</a></li><li id="0a06" class="js jt hi ju b jv kh jx ki jf kj jj kk jn kl kc kd ke kf kg bi translated"><a class="ae ks" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/getting-started-step-2.html" rel="noopener ugc nofollow" target="_blank">将数据</a>写入表格</li></ol></div></div>    
</body>
</html>