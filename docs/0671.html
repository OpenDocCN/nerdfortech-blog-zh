<html>
<head>
<title>Understanding JS under the hood: var, let and const 🦾</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">引擎盖下的理解js:var，let和const 🦾</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/understanding-js-under-the-hood-var-let-and-const-f2b2391d4c1a?source=collection_archive---------10-----------------------#2021-02-02">https://medium.com/nerd-for-tech/understanding-js-under-the-hood-var-let-and-const-f2b2391d4c1a?source=collection_archive---------10-----------------------#2021-02-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d061" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Javascript是2021年的顶级编程语言之一，我真的很喜欢它，这就是为什么今天我们要谈论一个对初学者来说有时非常复杂的话题。为了创建真正强大和优秀的应用程序，我们需要了解JS如何管理变量、函数、调用等。那么，让我们来谈谈变量声明，以及在某些情况下我们应该如何小心。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/6b106144c5d51b397fa1efa08af03ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_F3laTkn4EOGdDuX.jpg"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">JS太牛逼了</figcaption></figure><h2 id="ea91" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated">Javascript还是ECMAScript？，它们是一样的吗？</h2><p id="49b3" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">众所周知，JS是一种编程语言，它最初只是有机会被用于网络浏览器。ECMAScript是它所基于的规范。通过阅读ECMAScript规范，您可以学习如何创建脚本语言。通过阅读JavaScript文档，您可以学习如何使用脚本语言。 <br/>浏览器提供标准之间的限制(<strong class="ih hj"> JS引擎，它们解释代码</strong>)，每个浏览器都有不同的JS引擎，这就像一个国家的许多地方随着时间的推移而发展的特定语言:英语在得克萨斯州或纽约州是不一样的。或者是“特皮托”或蒙特雷的拉丁西班牙语。</p><p id="ecb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，引擎可以解释特定版本的ECMAScript。当开发人员询问浏览器支持的ECMAScript版本时，他们实际上是在询问引擎。以下列表有助于更好地理解这一概念:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es kp"><img src="../Images/815e084fa55f75f48109cc328b9f9f7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hU-s9hRRIYg2I9FU"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">带浏览器的引擎和ECMAScript版本</figcaption></figure><p id="c717" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">总结这一部分，当你写代码时，知道浏览器的一些限制是很重要的，嗯…你可以使用许多工具(<a class="ae ku" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> babel </a>)来转换你的代码，忘记这一点，但这是另一个话题。</p></div><div class="ab cl kv kw gp kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hb hc hd he hf"><h2 id="c22e" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated">重要概念</h2><ol class=""><li id="95c9" class="lc ld hi ih b ii kk im kl iq le iu lf iy lg jc lh li lj lk bi translated"><strong class="ih hj">作用域:</strong>是这些变量可用的地方。这可能是整个上下文，就像所有关于你写的代码的窗口或文件，或者是函数内部的上下文。</li><li id="bd36" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc lh li lj lk bi translated"><strong class="ih hj">提升:</strong>提升是一种JavaScript机制，在代码执行之前，变量和函数声明被移动到它们作用域的顶部。这就是为什么你可以在一个函数被声明之前调用它。不管你在哪里写声明，js都会把它移到文件或者上下文的顶部，我们也必须记住js只是移动声明而不是赋值。</li></ol><h1 id="a662" class="lq jq hi bd jr lr ls lt jv lu lv lw jz lx ly lz kc ma mb mc kf md me mf ki mg bi translated">ES5</h1><h2 id="203e" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated">定义变量</h2><p id="203c" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">几年前，在ES6之前，使用var是最常见和最受欢迎的方式声明。对于var，我们有两个范围:</p><ul class=""><li id="43b4" class="lc ld hi ih b ii ij im in iq mh iu mi iy mj jc mk li lj lk bi translated">全局范围:<strong class="ih hj">在整个窗口或文件中可用。</strong></li><li id="d6ee" class="lc ld hi ih b ii ll im lm iq ln iu lo iy lp jc mk li lj lk bi translated">功能范围:<strong class="ih hj">在功能块内部局部可用。</strong></li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ml"><img src="../Images/f7f751a4fb0be6ec6ba0a233b81ca255.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0yEYHovQPnHhxgA1KPrUtQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">使用var</figcaption></figure><p id="483b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如上图所示，<strong class="ih hj"> "name1" </strong>可以在函数中使用，但是当我们试图显示<strong class="ih hj">" name 2 "</strong>时，我们将阿瑟引用错误，因为<strong class="ih hj"> "name2" </strong>只存在于myFunction中。</p><p id="30e8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">var的特性</strong></p><p id="1b6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">var变量可以<strong class="ih hj">重新声明和重新分配，</strong>例如:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es mm"><img src="../Images/79f1dc75acac91e088c6ec4a173fe809.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*hvUa2x1yiyTIBjYDoXFTxQ.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">这段代码不会显示错误</figcaption></figure><p id="56ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">var的问题</strong></p><p id="144a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设你的代码有很多行，你声明了一个初始状态或变量。然后你在一个函数中声明了一个同名的变量，js不会警告你这个动作，系统或者应用程序会崩溃或者做出不同的行为。</p><p id="cc2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">吊装var </strong></p><p id="16f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们必须意识到，js引擎将变量的声明移到了顶部，但也将这些变量初始化为未定义的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mn"><img src="../Images/ac9b220c98b7928f23319b9dcfe87ecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*JWQp1XjkL0zFAMJjVcjcEQ.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">提升var</figcaption></figure><p id="8546" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">特殊情况:</strong>如果我们没有声明一个变量，但是我们给它赋值，那么它不存在，直到分配它的代码被执行。因此，在执行赋值时，此行为会创建一个全局变量。<strong class="ih hj">我们最知道未声明的变量是全局变量</strong>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mo"><img src="../Images/34bd0b96fbcd9e9455ab1cb195a4fe5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*_15IEDSz6SnVtJi5JfPxcg.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">未声明的变量是全局变量</figcaption></figure><h1 id="ce54" class="lq jq hi bd jr lr ls lt jv lu lv lw jz lx ly lz kc ma mb mc kf md me mf ki mg bi translated">ES6</h1><h2 id="fdc2" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated">让</h2><p id="66e7" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">ES6解决了var的一些问题，今天<strong class="ih hj"> let是首选变量声明的规则。</strong>它解决了var的主要问题。</p><ul class=""><li id="d7e8" class="lc ld hi ih b ii ij im in iq mh iu mi iy mj jc mk li lj lk bi translated">块范围:块被认为是由花括号{}包围的一段代码。</li></ul><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mp"><img src="../Images/65136c5b7a3e5acaffac104932aea0e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*NCJTAsTqEkcv4TbSbjhK_g.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">块范围</figcaption></figure><p id="f46c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，在上面的例子中，我们看到在if语句的花括号后面有<strong class="ih hj">“name 2”</strong>no。为了确保万无一失，我们来看另一个例子:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mq"><img src="../Images/08f4ccba6e77212b933adf16c99b7466.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*IUZ-K3jwl3LHt4IGLdb2Vg.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">这段代码不会显示错误</figcaption></figure><p id="5755" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用var，这段代码可以被理解为重新声明“car ”,但这是错误的。这个例子中的每个变量都存在于自己的作用域中，这就是为什么我们在最后一行看到第一次赋值的值，我们没有改变car的值，只是在两个作用域中声明了car。</p><p id="fc60" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">让</strong>的特性</p><p id="e968" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">与var不同，let可以被重新分配，但是我们不能在相同的范围内重新声明它。如果我们这样做，会得到一个错误:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mr"><img src="../Images/d4f1a729d3ad5b1254167036e7b8e026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*EieBFwzgDK7r9wS0I8_qbA.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">解决了var的问题</figcaption></figure><p id="d246" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">吊装让</strong></p><p id="670b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们所记得的，js将未定义的var声明移动到了顶部。在这种情况下，提升几乎是相同的，但没有给变量赋值，并显示参考误差。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="er es ms"><img src="../Images/c4282672b8c94d9ee7fb9ac030d0dc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u2cM2LPMG5Cz_96TFXDCGg.png"/></div></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">起重绞车</figcaption></figure><h2 id="0bf3" class="jp jq hi bd jr js jt ju jv jw jx jy jz iq ka kb kc iu kd ke kf iy kg kh ki kj bi translated">常数</h2><p id="8efe" class="pw-post-body-paragraph if ig hi ih b ii kk ik il im kl io ip iq km is it iu kn iw ix iy ko ja jb jc hb bi translated">如果您想在所有上下文中保持分配给变量的值，建议使用常量变量。我们在这里有相同的相似之处，比如用let。const也是块范围的。</p><p id="6fcc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">常量的特性</strong></p><p id="671a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在用const赋值后，我们不能更新该值。所以，我们不能重新赋值或者重新声明一个变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mt"><img src="../Images/e11455ba774420694ed06c91c95ed605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*80wDPZ0FP5gEu8c9OYmEZw.png"/></div><figcaption class="jl jm et er es jn jo bd b be z dx translated">使用const，不可能重新声明或重新赋值</figcaption></figure><p id="c12c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">提升常量:</strong>就像让这些申报单被提升但不被赋值一样。<strong class="ih hj">我们也不能只声明一个常量变量，我们最多初始化它。</strong></p></div><div class="ab cl kv kw gp kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="hb hc hd he hf"><p id="b5b3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">说了这么多，希望你的js知识更好更强。有时我们谈论JS而不理解它，但是当你越过界限时你就变成了忍者❤.</p></div></div>    
</body>
</html>