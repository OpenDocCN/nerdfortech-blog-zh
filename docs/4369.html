<html>
<head>
<title>Falling Respawn &amp; Damage- Game Dev Series 82</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">坠落重生与伤害-游戏开发系列82</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/falling-respawn-damage-game-dev-series-82-97d8ef09ed94?source=collection_archive---------22-----------------------#2021-07-17">https://medium.com/nerd-for-tech/falling-respawn-damage-game-dev-series-82-97d8ef09ed94?source=collection_archive---------22-----------------------#2021-07-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="c93f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">目的:平台游戏伤害系统快速指南。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jk"><img src="../Images/7a808a6b76a157cce3fd341165c46261.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MmUui6tfKGBrQJfBoYjZ-Q.gif"/></div></div></figure><p id="4f8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当脱离游戏边界时，在起始位置重生是一个简单且平衡的游戏选项。</p><p id="81b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我们将创建一个简单易行的系统，让玩家跌倒后在起点重生。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="6ae5" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">管理死区和重生位置</h2><p id="a680" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">首先，我们需要复制玩家来创建一个新的游戏对象。删除除transform之外的所有组件，这将是之后重生的位置。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kw"><img src="../Images/7e677c41e6ecfe798cebedda0b27c2dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*lLxQiWWbmzYb5LP2VBXQLw.png"/></div></figure><p id="999c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后创建一个立方体对象，并在整个游戏场景的底部缩放它。让碰撞器作为触发器，并添加一个刚体，这将是死区检测。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es kx"><img src="../Images/01224c95a7e48774977c7dbb7074f9d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*31zNExSUDQlcasqDlfTZkw.png"/></div></div><figcaption class="ky kz et er es la lb bd b be z dx translated">确保范围将涵盖所有的游戏场景。</figcaption></figure><p id="3440" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在创建一个名为“<strong class="ih hj">死区</strong>的新脚本，并将其附加到立方体上。<br/>在这个脚本中，我们将检测玩家是否与。在此之前，我们需要添加一些代码到播放器。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="c312" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">生命的定义</h2><p id="edf8" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">在玩家脚本中，创建一个新的整数变量作为生命计数。然后创建一个公共方法来更新当前的生活。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lc"><img src="../Images/57d557749ce7e63bc821260533fe3059.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/1*ugBD4Oetpka8_7ffauc4ww.png"/></div></figure><p id="c484" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不仅要在Player中计算值，还要在UIManager中计算值。使用场景中的新文本对象在UIManager中创建一个公共方法。那么我们的生活也应该在UI上更新。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ld"><img src="../Images/9d259505b4639cab191afbc48bde0cf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*9RjrEzwRIQjgEgnULfrP_g.png"/></div></figure><p id="9e71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">而且我们可以给Damage()添加更多的线。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es le"><img src="../Images/621d9f55b9723ce4d5bdd7cdae7bb952.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*ue7xaJ_40QQegZTSgEFg2Q.png"/></div></div></figure><p id="2e3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有了这些设置，我们现在可以编写死区脚本了。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="9c20" class="jw jx hi bd jy jz ka kb kc kd ke kf kg iq kh ki kj iu kk kl km iy kn ko kp kq bi translated">重生</h2><p id="1563" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">创建一个<strong class="ih hj"> OnTriggerEnter() </strong>方法并检查播放器是否与。如果是玩家，调用<strong class="ih hj"> Damage() </strong>从玩家处取1活。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lf"><img src="../Images/7492c90d95f417a7b4021c308ce63664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*nIsvtJPUDCpPcVl4iUrvSw.png"/></div></figure><p id="9e31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用<strong class="ih hj"> SerializeField </strong>创建一个gameobject变量作为起始位置，并在编辑器中将gameobject拖入其中。然后将播放器的位置替换到<strong class="ih hj">开始位置</strong>。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lg"><img src="../Images/2975750b995824b9275f1dd17eb6cf0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*p6qcq_8PLSTU6UkyBg8B1Q.png"/></div></figure><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lh"><img src="../Images/db7bbf10fd962cf617b2d3e34e33f7a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*0TvfyfJ31GZnMvDBQM2AgA.png"/></div></figure><p id="512b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然而，如果你玩并且测试它，你会注意到它不工作。玩家下落速度太快，无法让<strong class="ih hj">角色控制器</strong>处理位置切换。<br/>我们需要禁用控制器，在玩家回到Start_position后启用。</p><p id="e0ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，在位置切换之前禁用控制器。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es li"><img src="../Images/96388f9c46e384a7b4671f8b4f8cbb9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*6lLZtkhUUKsY68Bu8u34Pw.png"/></div></figure><p id="2610" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后将控制器重新设置为在协程中工作。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lj"><img src="../Images/ba0f73ee7cf5a91b3e28a65de261f107.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*0WaRHo2ihmyGzaBiIoL1Wg.png"/></div></figure><p id="7028" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在当玩家从游戏中掉出时，应该回到开始的地方。</p></div></div>    
</body>
</html>