<html>
<head>
<title>8 things to love about the new android development architecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">新android开发架构的8大亮点</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/8-things-to-love-about-the-new-android-development-architecture-2764962af904?source=collection_archive---------15-----------------------#2021-05-19">https://medium.com/nerd-for-tech/8-things-to-love-about-the-new-android-development-architecture-2764962af904?source=collection_archive---------15-----------------------#2021-05-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="21f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">android的前景很大程度上让网络开发者感到害怕，因为它太难理解了。我承认我已经尝试过三次了。但是如果你已经是一名网络开发者，开发移动应用程序的复杂性要求你有一个全新的思维模式。</p><p id="e191" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这篇文章中，我将告诉你我学习<strong class="ih hj"> android jetpack </strong>的经历——一组库和指南，使开发高质量的android应用程序变得更容易。</p><p id="227b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Android为你提供了一个全新的平台来接触网络之外的最终用户。网络是一个开放的平台，任何人都可以在网络上开发，但android不是这样，在进入谷歌应用商店之前，你必须接受严格的指导。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="e7c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我最终决定第四次做一个安卓app的时候。和其他web开发人员一样，我的第一个首选是React Native。虽然这很有意义，因为我在React开发方面有相当多的经验。</p><p id="6794" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我喜欢基于项目的学习。因此，我坐下来，根据一些youtube教程和文档学习React Native。但很快我意识到用React Native构建android应用程序并不适合严肃的开发，而且有很多不兼容的地方。</p><p id="fb34" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我最终退出react的原因是—</p><ul class=""><li id="fa08" class="jk jl hi ih b ii ij im in iq jm iu jn iy jo jc jp jq jr js bi translated">不太支持原生android API。</li><li id="de61" class="jk jl hi ih b ii jt im ju iq jv iu jw iy jx jc jp jq jr js bi translated">React本机应用程序在幕后运行javascript引擎。这比JVM慢。这可能会导致糟糕的用户体验。</li><li id="f039" class="jk jl hi ih b ii jt im ju iq jv iu jw iy jx jc jp jq jr js bi translated">React Native并不意味着构建可扩展的应用</li><li id="49b8" class="jk jl hi ih b ii jt im ju iq jv iu jw iy jx jc jp jq jr js bi translated">React Native项目可能会在未来停止，因为天真的android开发变得越来越容易。</li></ul><p id="4fec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以我试着尝试用Kotlin开发一个android应用。</p><p id="851d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着android应用程序开发的最新发展，出现了一种更好的开发android应用程序的方法。这与web应用程序的开发方式密切相关。这叫做<strong class="ih hj">安卓喷气背包。</strong></p><p id="9c55" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Android Jetpack是一组由Google提供和维护的库，有助于开发优雅的Android应用程序，并解决了大多数常见的开发人员难题。</p><h2 id="cea6" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">1.使用jetpack撰写的声明性UI</h2><p id="2981" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">这是我最喜欢现代android开发的地方。编码速度快，简洁优雅。有一些学习曲线，但从长远来看，这都是值得的，因为你的编码经验将大大提高。jetpack compose目前仍处于测试阶段。但是我第一次涉足它，我可以向你保证，在不久的将来，它肯定会改变我们开发android应用程序的方式。</p><p id="a923" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Compose不是声明式UI的第一个概念化，也不是Android上唯一的选项<a class="ae ky" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>、<a class="ae ky" href="https://fblitho.com/" rel="noopener ugc nofollow" target="_blank"> Litho </a>、<a class="ae ky" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue </a>、<a class="ae ky" href="https://flutter.dev/" rel="noopener ugc nofollow" target="_blank"> Flutter </a>等等。</p><p id="7f78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就像我们如何使用React来声明我们的UI，以及模块化我们如何定义UI元素并对数据更改做出反应一样，这里的Compose消除了我们对XML布局系统(android的HTML)的依赖。使用compose对我来说是一次很棒的经历。这允许在应用程序的许多不同地方重用同一个组件。Compose为我们创造新设计系统、Android UI框架等等的无限可能性铺平了道路。但是Compose并不是这个城市的新玩家。其他一些声明式用户界面库，如脸书的Lithos和___的AsyncUI库。但是没有一个是可以生产的。</p><blockquote class="kz"><p id="09f4" class="la lb hi bd lc ld le lf lg lh li jc dx translated">我可以用我的钱打赌。Compose是android开发中UI的未来。</p></blockquote><h2 id="bc57" class="jy jz hi bd ka kb lj kd ke kf lk kh ki iq ll kk kl iu lm kn ko iy ln kq kr ks bi translated">2.室内图书馆的应用内数据存储</h2><p id="1097" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">Room persistence library是一个ORM，用于管理您的持久性(应用程序内)数据存储。Room持久存储通过在编译时验证SQL查询来帮助您。它也有方便的注释来减少样板代码</p><h2 id="23cf" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">3.更好的性能和更小的应用程序</h2><p id="54b7" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">已经注意到，使用Compose显著减小了最终的apk大小。</p><figure class="lp lq lr ls fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es lo"><img src="../Images/947e2dc55c85b574ac0067dfa04eff54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Zs5Gs2jrhwdAHPaR.png"/></div></div><figcaption class="ma mb et er es mc md bd b be z dx translated">显示Tivi的apk大小的图表(参考下面的文章)</figcaption></figure><blockquote class="kz"><p id="8c54" class="la lb hi bd lc ld me mf mg mh mi jc dx translated">当比较调整后的值与“预合成”时，我们看到使用Compose时，APK大小减少了<strong class="ak"> 41% </strong>，方法数量减少了<strong class="ak"> 17% </strong>。</p><p id="4eac" class="la lb hi bd lc ld le lf lg lh li jc dx translated">克里斯·贝恩斯</p></blockquote><p id="f1a8" class="pw-post-body-paragraph if ig hi ih b ii mj ik il im mk io ip iq ml is it iu mm iw ix iy mn ja jb jc hb bi translated">Chris Banes的一篇文章讨论了他们使用jetpack compose的体验<a class="ae ky" rel="noopener" href="/androiddevelopers/jetpack-compose-before-and-after-8b43ba0b7d4f">https://medium . com/Android developers/jetpack-compose-before-and-after-8b 43 ba 0 b 7d 4 f</a></p><h2 id="8bfe" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">4.与XML更好的向后兼容性</h2><p id="483a" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">Compose团队已经做了很好的工作，使得它非常容易与现有的android代码库集成。这很好，因为如果你有一个现有的android项目，并希望从XML转换到Compose。这将是一个平稳的旅程。现在我们可以在应用程序的某些部分使用XML，在其他部分使用片段，在UI的其他部分使用Jetpack组件。</p><h2 id="6ceb" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">5.轻松的状态管理和LiveData</h2><p id="1be2" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">LiveData并不是一个新概念，只是他们现在改进了很多。当从网络接收到更新的UI时，它保存状态并更新UI的状态。这些状态是全局管理的，与react相反，React中我们必须使用redux和React，但在实时数据中，所有状态都是全局管理的，因此在android中没有redux的概念。借鉴reacts生态系统，创建了LiveData。</p><figure class="lp lq lr ls fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mo"><img src="../Images/e36c985c9aa24eb5f7ada2972c80dcee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4THoyJ6AoSCMK8Dn"/></div></div><figcaption class="ma mb et er es mc md bd b be z dx translated">马库斯·温克勒在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h2 id="1084" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">6.使用视图模型分离关注点</h2><p id="4641" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">早期大多数新手android开发者习惯于在主活动文件中定义他们所有的前端逻辑。使用ViewModel，我们可以在代码中实现模块化，并使调试错误变得容易。</p><figure class="lp lq lr ls fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mp"><img src="../Images/7c767ba47adf1f43fdc4a8751b1c64f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wNIGZzCyGndlzMZM.png"/></div></div><figcaption class="ma mb et er es mc md bd b be z dx translated">图片来自<a class="ae ky" href="https://developer.android.com/jetpack" rel="noopener ugc nofollow" target="_blank">谷歌安卓</a></figcaption></figure><h2 id="3c56" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">7.用副作用渲染的反应</h2><p id="23e2" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">有时在react中，当我们的UI重新呈现时，我们希望避免调用网络或阻止状态更新，这就是我们在React中使用<em class="mq"> shouldStateUpdate() </em>的地方。同样，我们可以在jetpack compose中使用<em class="mq"> SideEffects{} </em>进行网络调用，并确保<em class="mq"> SideEffect{}中的代码只在成功渲染时运行，否则不会运行。</em></p><h2 id="51c9" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">8.易于使用的导航让我们都很高兴</h2><p id="351d" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">导航是android开发的基础部分。历史上，它是使用片段事务来完成的，对于简单的情况来说，这很容易，但如果你想进行复杂的导航，比如底部导航，我们必须处理按下后退按钮的情况，显示正确的片段。</p><p id="ccd5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">导航库提供了一个直观易用的基于GUI的环境，在这个环境中，我们可以轻松地定义我们的片段和活动，并使用导航库将它们连接起来，几乎不需要任何代码。这使得开发更少出错，我们可以更专注于构建应用程序，而不是让导航工作。</p><figure class="lp lq lr ls fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es lo"><img src="../Images/23fad90671bde33af9e48efd7efc115b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WLruzzKurAKntZtW.png"/></div></div><figcaption class="ma mb et er es mc md bd b be z dx translated">由Jetpack编写的导航库</figcaption></figure><h2 id="f27b" class="jy jz hi bd ka kb kc kd ke kf kg kh ki iq kj kk kl iu km kn ko iy kp kq kr ks bi translated">结论</h2><p id="368c" class="pw-post-body-paragraph if ig hi ih b ii kt ik il im ku io ip iq kv is it iu kw iw ix iy kx ja jb jc hb bi translated">并不是每种编程语言都可以解决所有问题。这也适用于Javascript，这对网络来说很好，但在android中，Kotlin是更好的选择。</p></div></div>    
</body>
</html>