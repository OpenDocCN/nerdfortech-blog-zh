<html>
<head>
<title>The problems with velocity…</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">速度的问题…</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-problems-with-velocity-950c09d15da0?source=collection_archive---------0-----------------------#2019-05-19">https://medium.com/nerd-for-tech/the-problems-with-velocity-950c09d15da0?source=collection_archive---------0-----------------------#2019-05-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1406f0f4aeb69f8c36fb6c19784b204b.png" data-original-src="https://miro.medium.com/v2/resize:fit:362/format:webp/1*FNw8Fu4ZBlYjMbnnkitiYg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">韵律学</figcaption></figure><p id="3d27" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在过去的 15 年中，我经常观察到不恰当地使用速度作为团队生产力的度量。最明显的错误是把这个数字当作应该管理和改进的东西。衡量方法、工具和/或团队成员变化的生产力的标准是必不可少的。选择应该是周期时间而不是速度。周期时间，衡量从工程师开始编写一点代码到发布到生产的时间量，即从开始到向消费者交付价值的持续时间。然而，任何单一的数字都是不够的。我们需要一小撮人来确保一切都在适当的背景下进行。</p><h1 id="f24d" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">论速度</h1><p id="25f8" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">许多敏捷实现中的核心开发单元被称为故事。团队评估每个故事，给它一些“点”,代表完成该故事的预期工作量。这包括功能性的(特性)和非功能性的工作(比如测试和性能调优)。Scrum(更受欢迎的敏捷实现之一)以称为 sprints 的限时增量进行。速度是我们在 sprint 中成功完成的故事点的数量。最好通过某种平均值(平均值或中间值)在一段时间内达到平衡。</p><p id="9529" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">对于不成熟的团队来说，随着他们对 scrum、他们的问题领域和他们的队友变得越来越熟悉，速度增加是很常见的。成熟的团队可能会在速度上看到一个小的 sprint 超过 sprint 的变化，但是不应该出现显著的变化(当成熟意味着一个优化的过程时，这是真的)。由于缺乏显著的变化，当考虑“工作量”时，速度可以有双重目的。首先，它让我们反思已经取得的成就。其次(也是更重要的),它可以作为一个指标来预测接下来的冲刺阶段会发生什么。</p><p id="212c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="kv">什么改变了速度</em></p><p id="5c66" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们应该只预测速度的小变化，但我们可能会看到由这些类型的变化引起的较大波动:</p><ul class=""><li id="33e0" class="kw kx hi iw b ix iy jb jc jf ky jj kz jn la jr lb lc ld le bi translated">改变团队成员(正相关):当我们增加资源时，我们应该做更多的工作</li><li id="7603" class="kw kx hi iw b ix lf jb lg jf lh jj li jn lj jr lb lc ld le bi translated">改变冲刺持续时间(正相关):当我们增加时间盒的持续时间时，我们应该做更多的工作</li><li id="df87" class="kw kx hi iw b ix lf jb lg jf lh jj li jn lj jr lb lc ld le bi translated">改变质量方法(反向相关)</li></ul><p id="8f02" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">最后一点值得关注，质量需要成为工程生态系统的一等公民。在代码库的生命周期中，高质量的代码比低质量的代码花费少 67%，这是有据可查的。此外，高质量的代码，加上适当的自动化测试覆盖，允许团队在未来的冲刺中更快地前进，并导致更少的逃逸缺陷。</p><p id="756b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果我们确实看到速度的变化，而不是由团队成员或冲刺持续时间的变化引起的，这是一个值得关注的原因。测量和跟踪速度是一个很好的技术，可以帮助你评估和调整你的 sprint 承诺。它是一个有用的工具，可以作为方法变化(例如质量)的指示器，但是在团队环境之外呈现这个数字几乎没有价值。此外，我们应该<strong class="iw hj">永远不要在团队之间比较速度</strong>，因为作为选区，由“一个点”代表的工作、冲刺持续时间和手头的任务在团队之间变化很大。</p><h1 id="ac57" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">周期时间</h1><p id="b99f" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">周期时间从工程师拿起一个故事的那一刻开始，到发布到生产的那一刻结束。这是一项值得管理的措施。在这种情况下,“管理”是对团队如何减少平均周期时间的跟踪和讨论。要求不惜一切代价缩短周期时间，这不是预期的结果。周期时间很容易缩短:</p><ul class=""><li id="a3fa" class="kw kx hi iw b ix iy jb jc jf ky jj kz jn la jr lb lc ld le bi translated">写一些小故事</li><li id="8186" class="kw kx hi iw b ix lf jb lg jf lh jj li jn lj jr lb lc ld le bi translated">更频繁地发布</li></ul><p id="9441" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">通过将故事分解成尽可能小的增量，并在工作完成后尽快发布，团队正在尽可能快地向最终用户交付特性。</p><p id="2afb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="kv">对速度的影响</em></p><p id="1bf7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">周期时间的变化不应影响速度的变化。速度是在一次冲刺中预期完成的工作量(单位时间)。周期时间与工作量无关，它与工作是如何完成和发布的有关。速度可能会有一些微小的变化，特别是当团队适应管理周期时间时(更多关于周期时间的影响)，但是速度应该在周期时间最小化之前正常化。如果速度显著增加，同时周期时间减少，您可能会观察到古德哈特定律(<a class="ae lk" href="https://en.wikipedia.org/wiki/Goodhart%27s_law" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Goodhart%27s_law</a>)的影响:</p><blockquote class="ll lm ln"><p id="508b" class="iu iv kv iw b ix iy iz ja jb jc jd je lo jg jh ji lp jk jl jm lq jo jp jq jr hb bi translated"><em class="hi">当一个衡量标准成为目标时，它就不再是一个好的衡量标准。</em></p></blockquote><p id="782d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="kv">避免古德哈特定律的影响</em></p><p id="c386" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">没有一个单独的指标本身就能说明问题——增长可能是以其他地方的权衡为代价的。就周期时间而言，我们希望继续交付高质量的产品，因此我们可以轻松添加三个衡量质量的指标:</p><ul class=""><li id="88d8" class="kw kx hi iw b ix iy jb jc jf ky jj kz jn la jr lb lc ld le bi translated">逃逸缺陷率</li><li id="fdad" class="kw kx hi iw b ix lf jb lg jf lh jj li jn lj jr lb lc ld le bi translated">单元测试覆盖率</li><li id="f0de" class="kw kx hi iw b ix lf jb lg jf lh jj li jn lj jr lb lc ld le bi translated">圈复杂度</li></ul><p id="c3fc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">逃脱缺陷率有助于确保您的客户正在使用的产品不会受到劣质产品的影响。作为一个比率统计，它结合了每一个工作单元的累积逃逸缺陷。只要你始终如一，你可以把它用在任何工作上。有意义的两个工作单元是“每次冲刺”或“每次故事”——如果发布更频繁，后者更有意义。</p><p id="3c95" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">单元测试覆盖率，即被自动化单元测试覆盖的代码的百分比，被视为质量的预测指标。单元测试覆盖率越高，你就越不容易被意想不到的缺陷抓住。需要注意的是，100%的覆盖率并不意味着没有缺陷(测试可能写得很差——糟糕的逻辑和/或糟糕的假设)。</p><p id="f3f2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">圈复杂度是对代码库可维护性的一种度量。它实际上是行数除以分支数(通过计算 IF、CASE 和 MATCH 语句来计算)。度量与团队快速迭代缺陷的能力正相关，从而最小化对用户的影响。</p><p id="9199" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><em class="kv">周期时间的影响</em></p><p id="5656" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">优化周期时间需要团队投资自动化。对自动化的投资在短期内会拖累特性开发，但是一旦交付，就为持续的部署提供了机会(将代码发布到产品中，不需要手动步骤)。这需要高度的信任，通过自动化测试和适当的约束，以及对预测质量度量的可见性(例如，测试覆盖率、循环复杂度等)。</p><h1 id="5e62" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">关于监测</h1><p id="5687" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">涵盖这五个度量(周期时间、速度、逃逸缺陷率、圈复杂度和单元测试覆盖率)的仪表板将是软件度量项目的良好开端。它有助于提供信心和建立信任，团队正在执行一致和健康数量的高质量工作，并尽可能快地把它放到他们的用户手中。</p><figure class="ls lt lu lv fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lr"><img src="../Images/e6d0a5a3d04c9f184c9cfc8e1b02eed2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EjesKcOg-4k_GXK-5ipCUw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">监控指标的示例报告</figcaption></figure><p id="4e2a" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">作为一名工程师，我发现软件度量程序解放了我。它们为工作和风险提供了以前缺乏可见性的背景。然后，他们可以将团队的表现与不断发展的行业研究相互参照。有一个确认的外部意见和对指标的可见性有助于发展信任和更健康的团队动态。</p><h1 id="9e49" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">超出周期时间</h1><p id="8481" class="pw-post-body-paragraph iu iv hi iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr hb bi translated">作为工程师和工程领导者，我们需要轻松地报告我们的效率和进度。可见性是开始，但是推导不同变量的变化对生命周期利润的影响可能是你想做的…</p></div></div>    
</body>
</html>