<html>
<head>
<title>Creating the “Indian State Game” using Pandas in 5 easy steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用熊猫通过5个简单的步骤创造“印度国家游戏”</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/creating-the-indian-state-game-using-pandas-in-5-easy-steps-6c6878fb6597?source=collection_archive---------1-----------------------#2021-10-16">https://medium.com/nerd-for-tech/creating-the-indian-state-game-using-pandas-in-5-easy-steps-6c6878fb6597?source=collection_archive---------1-----------------------#2021-10-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex if ig ih ii"><div class="bz dy l di"><div class="ij ik l"/></div><figcaption class="il im et er es in io bd b be z dx translated">我创造的“猜印度邦”游戏。YT频道:用Ayush编码</figcaption></figure><p id="3ee9" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">用python的“海龟”和“熊猫”库可以做的事情令人惊叹。这个项目在实现上是独一无二的，因为它还没有在网上的其他地方实现过，即使海龟坐标数据集是我创建的。它的灵感来自美国地图问答游戏，我想用Python为我热爱的国家印度实现同样的功能。因为，反正印度和蛇总是走在一起:)。</p><p id="b1c7" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">事不宜迟。让我们直接开始吧。</p><h1 id="67b2" class="jn jo hi bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">游戏的目标</h1><p id="bb29" class="pw-post-body-paragraph ip iq hi ir b is kl iu iv iw km iy iz ja kn jc jd je ko jg jh ji kp jk jl jm hb bi translated">玩家必须猜测印度所有的邦以及联邦领地。如果猜测是正确的，这个州的名字就会出现在该州地理位置所在的印度地图上。游戏的目标是用所有的州/UT填充印度地图。</p><p id="0086" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">用户也可以在任何时候退出。退出时，游戏输出一个. csv文件，其中包含用户未猜到的州列表，有助于用户学习整个地图。</p><h1 id="a415" class="jn jo hi bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">构建印度国家游戏的步骤</h1><ol class=""><li id="02f6" class="kq kr hi ir b is kl iw km ja ks je kt ji ku jm kv kw kx ky bi translated"><strong class="ir hj">导入乌龟和熊猫图书馆。</strong></li><li id="eb92" class="kq kr hi ir b is kz iw la ja lb je lc ji ld jm kv kw kx ky bi translated"><strong class="ir hj">用印度地图图像创建乌龟。</strong></li><li id="bf3f" class="kq kr hi ir b is kz iw la ja lb je lc ji ld jm kv kw kx ky bi translated"><strong class="ir hj">创建一个包含印度每个邦和联邦领地在X轴和Y轴上的坐标的数据集。</strong></li><li id="fe44" class="kq kr hi ir b is kz iw la ja lb je lc ji ld jm kv kw kx ky bi translated"><strong class="ir hj">用用户答案填充地图并在地图上书写的逻辑构建。</strong></li><li id="8f6b" class="kq kr hi ir b is kz iw la ja lb je lc ji ld jm kv kw kx ky bi translated"><strong class="ir hj">维护一个. csv文件，其中包含用户未猜到的印度州，并构建退出逻辑。</strong></li></ol></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="d6fe" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated"><strong class="ir hj">步骤1:导入乌龟和熊猫库</strong></p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="d173" class="lu jo hi lq b fi lv lw l lx ly">import turtle<br/>import pandas as pd</span></pre><p id="8edf" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">如果还没有安装pandas包，您需要安装它。</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="13ca" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated"><strong class="ir hj">第二步:</strong> <strong class="ir hj">用印度地图图像创建乌龟。</strong></p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="ed9d" class="lu jo hi lq b fi lv lw l lx ly">screen = turtle.Screen()<br/>screen.title("India States Game") # Sets the title of the window<br/>image = "India-locator-map-blank.gif" # Shown below <br/>screen.addshape(image)<br/>turtle.shape(image)</span></pre><p id="3446" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">“screen”是turtle的Screen()类的对象。</p><figure class="ll lm ln lo fd ii er es paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="er es lz"><img src="../Images/6a0362b2738dc8d40ee0928227d27086.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8qcfFWnN4VNO7BCh3wI8wg.gif"/></div></div><figcaption class="il im et er es in io bd b be z dx translated">“印度-定位器-地图-空白. gif”由我创建，当然有一些编辑:)。</figcaption></figure><p id="d44e" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">你可以下载上面的印度地图，这是我为我们的用例制作的。别忘了给我学分。我打赌你不会。；)</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="0893" class="lu jo hi lq b fi lv lw l lx ly">screen.addshape(image)</span></pre><p id="7caf" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">在早期的项目中，我们看到了如何用正方形或圆形来修改海龟的形状。Turtle模块很神奇，因为它还可以添加一个图片作为海龟的形状。这可以通过上面的代码行来完成。</p><p id="80ca" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">这里的图像是我们的“印度定位器地图空白。gif ”,它与gif配合得很好，因此我必须首先将图像转换成gif。</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="b7ae" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated"><strong class="ir hj">步骤3:创建一个数据集，其中包含每个印度邦和联邦领地在X和Y轴上的坐标。</strong></p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="51d5" class="lu jo hi lq b fi lv lw l lx ly">import turtle<br/>import pandas as pd<br/>screen = turtle.Screen()<br/>screen.title("India States Game")<br/>image = "India-locator-map-blank.gif"<br/>screen.addshape(image)<br/>turtle.shape(image)<br/>def mouse_click_coords(x ,y):<br/>    print(x, y)<br/><br/># onscreenclick is an event listener<br/>turtle.onscreenclick(mouse_click_coords)<br/># wkwk<br/>turtle.mainloop()</span></pre><p id="00c6" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">在我的帮助下，在地图上每次点击鼠标都会得到鼠标坐标。screen类的onscreenclick方法。这是在另一个文件中完成的。</p><p id="161a" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">创建包含州、X轴坐标和Y轴坐标的数据集后，我们就可以设计用用户输入填充地图的逻辑了。</p><figure class="ll lm ln lo fd ii er es paragraph-image"><div class="er es mg"><img src="../Images/e525648e54a0158f17fae3d4fd7cbd91.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*3GE1BuMSAgBYdwExK7MhBg.jpeg"/></div><figcaption class="il im et er es in io bd b be z dx translated">创建了印度国家游戏数据集</figcaption></figure></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="2f02" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated"><strong class="ir hj">步骤4:用用户答案填充地图并在地图上书写的逻辑构建。</strong></p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="c0df" class="lu jo hi lq b fi lv lw l lx ly">guessed_states = []<br/>states_not_guessed = []<br/><br/>while len(guessed_states) &lt; 38:<br/>    all_states = india_dataset.State.to_list()<br/>    answer_state = screen.textinput(title=f"{len(guessed_states)}/38 States Correct", prompt="What's the state's name?").title()</span></pre><p id="6f01" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">我们定义了两个空列表“猜测状态”和“状态未猜测”。当用户猜中所有38个印度州/UT时，while循环退出。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="c7f0" class="lu jo hi lq b fi lv lw l lx ly">all_states = india_dataset.State.to_list()</span></pre><p id="dad1" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">将india_dataset的“State”列转换为列表。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="a218" class="lu jo hi lq b fi lv lw l lx ly">answer_state = screen.textinput(title=f"{len(guessed_states)}/38 States Correct", prompt="What's the state's name?").title()</span></pre><p id="deda" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">从对话框中获取用户输入。我已经给了”。title()”来解释用户的任何拼写错误。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="5045" class="lu jo hi lq b fi lv lw l lx ly">if answer_state in all_states:<br/>    guessed_states.append(answer_state)<br/>    writing_turle = turtle.Turtle()<br/>    writing_turle.hideturtle() #hides the turtle<br/>    writing_turle.penup()# hides the lines made by turtle when drawing<br/>    answered_state_Date_row = india_dataset[india_dataset.State == answer_state]<br/>    writing_turle.goto(int(answered_state_Date_row.X ), int(answered_state_Date_row.Y))<br/>    writing_turle.write(answer_state)<br/>    # writing_turle.write(answered_state_Date_row.State.item())<br/>    #Returns the first element of the underlying data as a python scalarr</span></pre><p id="a0e5" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">如果用户回答的状态正确，则在“所有状态”列表中。然后我们将答案添加到猜测状态列表中。</p><p id="85d0" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">我们制作了另一个turtle对象，名为“wriring_turtle ”,用于在地图上书写。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="96d1" class="lu jo hi lq b fi lv lw l lx ly">answered_state_Date_row = india_dataset[india_dataset.State == answer_state]<br/>    writing_turle.goto(int(answered_state_Date_row.X ), int(answered_state_Date_row.Y))<br/>    writing_turle.write(answer_state)</span></pre><p id="7d7e" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">我们首先提取用户回答状态的行，并将其存储在answered_state_Date_row中。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="3776" class="lu jo hi lq b fi lv lw l lx ly">answered_state_Date_row = india_dataset[india_dataset.State == answer_state]</span></pre><p id="5dcd" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">印度_数据集。State == answer_state →将india_dataset中的每个州与answer_state进行比较。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="6f43" class="lu jo hi lq b fi lv lw l lx ly">writing_turle.goto(int(answered_state_Date_row.X ), int(answered_state_Date_row.Y))<br/>    writing_turle.write(answer_state)</span></pre><p id="eeb5" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">现在我们需要确保writing_turtle移动到x和y坐标，这可以通过goto方法来完成。坐标需要从“str”类型转换为“int”。</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="6aa8" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated"><strong class="ir hj">步骤5:维护一个. csv文件，其中包含用户没有猜到的印度各州，并构建退出逻辑。</strong></p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="e7f5" class="lu jo hi lq b fi lv lw l lx ly">if answer_state == "Exit":<br/>    states_not_guessed = list(set(all_states) - set(guessed_states))<br/>    states_to_learn_dataframe = pd.DataFrame(states_not_guessed, columns=['States to learn'])<br/>    states_to_learn_dataframe.to_csv('States not guessed need to learn-2.csv')<br/>    break</span></pre><p id="7942" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">While循环应该在用户输入“exit”标题时退出，大小写还记得吗？</p><p id="e162" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">为了列出用户没有猜到的状态数，我们简单地将这两个列表相减，首先将它们转换成集合。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="93c8" class="lu jo hi lq b fi lv lw l lx ly">states_not_guessed = list(set(all_states) - set(guessed_states))</span></pre><p id="38ce" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">我们现在将我们的states _ not _ guessed列表转换成一个数据帧。这可以通过”。熊猫的数据框架方法。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="8706" class="lu jo hi lq b fi lv lw l lx ly">states_to_learn_dataframe = pd.DataFrame(states_not_guessed, columns=['States to learn'])</span></pre><p id="b4c5" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">最后，我们导出。包含用户未猜到的状态的csv文件。</p><pre class="ll lm ln lo fd lp lq lr ls aw lt bi"><span id="81b3" class="lu jo hi lq b fi lv lw l lx ly">states_to_learn_dataframe.to_csv('States not guessed need to learn.csv')\<br/>break</span></pre><p id="ad3e" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">为了打破这个循环，我们最后给出了break。:)</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="c07c" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">我希望代码足够简单易懂。你可以在这里找到完整的代码<a class="ae mh" href="https://github.com/Ayu-dxt777/100daysofpython/tree/main/The%20Indian%20State%20Game" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="f320" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated"><strong class="ir hj">总结</strong></p><p id="a3e3" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">我们成功开发了<strong class="ir hj">印度各邦—地图问答游戏</strong>，在此过程中，我们学习了熊猫模块、数据帧、将乌龟形状转换为图像、将数据帧转换为列表、集合的实际实现以及将数据帧导出为”。csv”文件。</p><p id="7f15" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">这个游戏可能是一个很好的学习经历，不仅对程序员，而且对任何想了解印度各州的人(尤其是孩子)都是如此。</p></div><div class="ab cl le lf gp lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="hb hc hd he hf"><p id="7157" class="pw-post-body-paragraph ip iq hi ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm hb bi translated">你喜欢我的努力吗？如果是的话，请跟我来获取我的最新帖子和更新，或者更好的是，请我喝杯咖啡！☕</p><figure class="ll lm ln lo fd ii er es paragraph-image"><a href="https://www.buymeacoffee.com/ayushdixit"><div class="er es mi"><img src="../Images/bbac4ca121af085ef23795e52293cf05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tEuYZbZRIkPUieOP3nReNg.png"/></div></a></figure><div class="mj mk ez fb ml mm"><a href="https://www.buymeacoffee.com/ayushdixit" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab dw"><div class="mo ab mp cl cj mq"><h2 class="bd hj fi z dy mr ea eb ms ed ef hh bi translated">ayushdixit正在编码、部署项目和写博客</h2><div class="mt l"><h3 class="bd b fi z dy mr ea eb ms ed ef dx translated">嘿👋我刚刚在这里创建了一个页面。你现在可以给我买杯咖啡了！</h3></div><div class="mu l"><p class="bd b fp z dy mr ea eb ms ed ef dx translated">www.buymeacoffee.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na me mm"/></div></div></a></div></div></div>    
</body>
</html>