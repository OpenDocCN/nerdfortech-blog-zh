<html>
<head>
<title>Creating a Physics-Based Character Controller in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Unity中创建基于物理的角色控制器</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/creating-a-physics-based-character-controller-in-unity-f1e3b025eb42?source=collection_archive---------4-----------------------#2021-07-06">https://medium.com/nerd-for-tech/creating-a-physics-based-character-controller-in-unity-f1e3b025eb42?source=collection_archive---------4-----------------------#2021-07-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0c9f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.5D游戏开发</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/cdcf12945d7dcbf26fbf830544edb3b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:524/format:webp/1*BqGYp0Wc5tg5qJukkovvTA.png"/></div></figure><p id="8139" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有很多方法可以控制你的角色，但是总有一个共同点，那就是刚体，碰撞器等等。但是，当团结给了我们一个笔直前进的平台时，为什么还要走长路呢？</p><p id="2d35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以在我们的角色中添加角色控制器组件，它将处理我们角色的所有碰撞。它为我们提供了各种属性，如斜率限制、步长偏移、半径、高度等，可用于进一步配置我们的控制器，以满足我们的需求。</p><p id="69b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们添加了一个角色控制器，但是如何移动它呢？</p><p id="03b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们首先创建一个平台，让我们的玩家可以移动和跳跃。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/34da3052a62dbda1eeeec2beec93bb67.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*Edp6iCs_s4aIWOc5lWOKCg.png"/></div></figure><p id="4323" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在你的场景中添加一个胶囊游戏对象，它现在就是你的玩家了。为玩家增加移动和跳跃的平台。现在要配置播放器，从播放器中移除胶囊碰撞器组件，并在它的位置添加角色控制器组件。</p><p id="f96b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在你的玩家已经在你的场景视图中设置好了，让我们写一些代码来让玩家移动。创建一个玩家脚本，让我们开始吧。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jm"><img src="../Images/0cb0952dfd63dc461a1aeca38c8fae48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*bXaIW8H66DOy0BlaE-CdeA.png"/></div></figure><p id="46b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们在脚本中定义一些变量。首先定义一个角色控制器变量来访问player中角色控制器组件的属性。然后定义玩家移动的速度变量和让玩家在空中下落的重力变量。最后，添加一个变量来存储player的跳转值，并添加另一个浮点变量来存储y速度，我们将在后面讨论。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es jn"><img src="../Images/0d5aa23f085b4c047b2652bff17a171c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OQpro_cPxQE01l_5_YMBTA.png"/></div></div></figure><p id="5ffa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，在start方法中获取对播放器中角色控制器的引用。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es js"><img src="../Images/95a608fc8373bd208859fa78ec4243a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AxUKS7ujG36FpaJqawjY4A.png"/></div></div></figure><p id="915f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在存储一个输入浮动，检测' A '，' D '或'左箭头键'，'右箭头键'按下，并创建一个新的向量移动，使球员可以在那个方向移动。</p><p id="c1c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后定义速度，简单的说就是以一定的速度向一定的方向运动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jt"><img src="../Images/3bcef1858233be21a25ab4003708f4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*OutLtUbETZAzvkIVdx0RgQ.png"/></div></figure><p id="8170" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在使用角色控制器的isGrounded特性检查玩家是否与地面碰撞。如果玩家在地面上，如果玩家点击空格键，然后定义y速度脚本的跳跃高度。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ju"><img src="../Images/383000781f13300026ab2f0edf427afd.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*jrGxP0_QkyikzqnXhZaS5w.png"/></div></figure><p id="4f29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果玩家在空中，那么定义重力，重力会把玩家拉向地面。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/feada7d514ebf8691cb5a9bb0257a39f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*g67SWIF-lofGNBvV6fgPTQ.png"/></div></figure><p id="2b95" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，将y轴上的速度设置为_yVelocity变量，该变量应用了跳跃和重力值。</p><p id="5703" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后使用相对于时间有速度的移动方法移动你的玩家。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jo jp di jq bf jr"><div class="er es jw"><img src="../Images/fa1d8d77e07e9c5b484c21e6f3aac2b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*px115ervQ_Y2s-at-fixJA.gif"/></div></div></figure><p id="51f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是它在游戏视图中的样子。</p></div></div>    
</body>
</html>