<html>
<head>
<title>Longest String Chain — Daily Challenge May</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最长的字符串链—每日挑战可能</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/longest-string-chain-daily-challenge-may-a07eda8b112b?source=collection_archive---------7-----------------------#2021-05-17">https://medium.com/nerd-for-tech/longest-string-chain-daily-challenge-may-a07eda8b112b?source=collection_archive---------7-----------------------#2021-05-17</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b589a05e9bb3e46c6ee96f3a3494d065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4846ErST28JEs2c2beZjvw.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">迈克·阿隆佐在<a class="ae hv" href="https://unsplash.com/s/photos/chain?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class=""/><p id="646b" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">今天的问题来自每日Leetcode编码挑战赛——五月版。这是一个中等标签的问题。让我们看看问题陈述。</p><h2 id="4f74" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated"><a class="ae hv" href="https://leetcode.com/problems/longest-string-chain/" rel="noopener ugc nofollow" target="_blank"> 1048 </a>。最长的字符串链</h2><p id="47fb" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">给定一个单词列表，每个单词由英文小写字母组成。</p><p id="e718" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">假设<code class="du kt ku kv kw b">word1</code>是<code class="du kt ku kv kw b">word2</code>的前身，当且仅当我们可以在<code class="du kt ku kv kw b">word1</code>的任意位置添加一个字母，使其等于<code class="du kt ku kv kw b">word2</code>。比如<code class="du kt ku kv kw b">"abc"</code>就是<code class="du kt ku kv kw b">"abac"</code>的前身。</p><p id="c113" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个<em class="kx">单词链</em>是一个带有<code class="du kt ku kv kw b">k &gt;= 1</code>的单词序列<code class="du kt ku kv kw b">[word_1, word_2, ..., word_k]</code>，其中<code class="du kt ku kv kw b">word_1</code>是<code class="du kt ku kv kw b">word_2</code>的前任，<code class="du kt ku kv kw b">word_2</code>是<code class="du kt ku kv kw b">word_3</code>的前任，以此类推。</p><p id="5fd9" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">从给定的<code class="du kt ku kv kw b">words</code>列表中选择单词，返回单词链的最大可能长度。</p><p id="5940" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">示例:</p><pre class="ky kz la lb fd lc kw ld le aw lf bi"><span id="69e3" class="jt ju hy kw b fi lg lh l li lj"><strong class="kw hz">Input:</strong> words = ["a","b","ba","bca","bda","bdca"]<br/><strong class="kw hz">Output:</strong> 4<br/><strong class="kw hz">Explanation</strong>: One of the longest word chain is "a","ba","bda","bdca".</span></pre><h2 id="8d5d" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">理解问题</h2><p id="5dee" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">问题是要求我们找到最长的链，它不关心顺序。因此，我们可以从最大的单词开始，向较小的单词移动，并继续检查对于较大的单词，在实际的给定单词列表中是否存在任何前身？我们通过从单词中移除单个字符来获得前身。需要注意的一点是，我们跟踪前辈的数量来获得链的长度。</p><figure class="ky kz la lb fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lk"><img src="../Images/8f521ea39a8350daebecf290a99ef1fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ml_dW4dhO9L-QeZWRd0dUA.png"/></div></div></figure><p id="1d46" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在上图中，红框表示原始数组中不存在的单词，它们打断了链，因此被丢弃。</p><h2 id="464d" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">代码实现</h2><pre class="ky kz la lb fd lc kw ld le aw lf bi"><span id="c71f" class="jt ju hy kw b fi lg lh l li lj">class Solution:<br/>    def longestStrChain(self, words: List[str]) -&gt; int:<br/>        words.sort(key=len, reverse=True)<br/>        pred_map = {word:1 for word in words}<br/>        for word in words:<br/>            for i in range(len(word)):<br/>                new_word = word[:i]+word[i+1:]<br/>                if new_word in pred_map:<br/>                    pred_map[new_word] = max(pred_map[new_word], 1 + pred_map[word])<br/>        return max(pred_map.values())</span></pre><h2 id="c4aa" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">马后炮！</h2><p id="b439" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">如果你看看这个问题，我们会发现以下两点:</p><ul class=""><li id="9f18" class="ll lm hy ix b iy iz jc jd jg ln jk lo jo lp js lq lr ls lt bi translated">它要求<strong class="ix hz">最长的</strong>可能单词链，所以这是一个优化问题。</li><li id="763f" class="ll lm hy ix b iy lu jc lv jg lw jk lx jo ly js lq lr ls lt bi translated">通过添加新单词来扩展该链，该新单词仅依赖于该链的最后一个单词。所以，它可以被分解成子问题。</li></ul><p id="d2ba" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">考虑到以上两点，我们应该考虑DP。我们实际上也做了同样的事情。我们的pred_map存储了可能从该特定字符串开始的max链。</p><h2 id="eb47" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">复杂性分析</h2><ul class=""><li id="47a9" class="ll lm hy ix b iy ko jc kp jg lz jk ma jo mb js lq lr ls lt bi translated">时间复杂度:O(N*W) <em class="kx"> </em>其中<em class="kx"> N </em>为字数，W为最长单词的长度。</li><li id="c1eb" class="ll lm hy ix b iy lu jc lv jg lw jk lx jo ly js lq lr ls lt bi translated">空间复杂度:O(N)存储前任链映射。</li></ul><p id="d5f2" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">编码快乐！！</p></div></div>    
</body>
</html>