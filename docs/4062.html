<html>
<head>
<title>JavaScript Mapping Arrays. Map() Method.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript 映射数组。Map()方法。</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/javascript-mapping-arrays-map-method-a650c014fe7?source=collection_archive---------5-----------------------#2021-07-05">https://medium.com/nerd-for-tech/javascript-mapping-arrays-map-method-a650c014fe7?source=collection_archive---------5-----------------------#2021-07-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3547" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的上一篇文章中，我提到了<a class="ae jd" href="https://roxvemm2014.medium.com/javascript-filtering-arrays-filter-method-ac582e4594e2" rel="noopener"> <strong class="ih hj"> Filter() </strong> </a>方法，这是一个内置的原生数组方法，它遍历一个数组，将每个元素传递给一个提供的回调函数，并返回一个新数组，该数组由回调函数返回了一个<em class="je"> true </em>值的元素组成。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/8c3a9394e5c67d2b533f25ff8bc8c254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Jn0Z_Rso1zyj0189"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">尼尔·贝茨在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="d7c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在来说说另一个很常见也很常用的内置数组方法<strong class="ih hj"> Map() </strong>。该方法基于一些定义的逻辑将原始数组的每个元素转换/修改为另一个值。例如，它可以用来对数字数组中的每个值求平方:[1，2，3，4]-&gt;，[1，4，9，16]。与<strong class="ih hj"> Filter() </strong>方法类似，<strong class="ih hj"> Map() </strong>方法采用回调函数，并将每个元素依次传递给回调函数。<strong class="ih hj"> Map() </strong>方法返回一个新数组，该数组的长度与元素被修改的原始数组的长度相同。</p><p id="56fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们在寻找这个<strong class="ih hj"> Map() </strong>方法的官方定义，让我们看看<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs 网站</a>:</p><blockquote class="jv jw jx"><p id="dbdf" class="if ig je ih b ii ij ik il im in io ip jy ir is it jz iv iw ix ka iz ja jb jc hb bi translated">Map()方法创建一个新的数组，其中填充了对调用数组中的每个元素调用所提供的函数的结果。</p></blockquote><p id="3779" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们像在之前<a class="ae jd" href="https://roxvemm2014.medium.com/javascript-filtering-arrays-filter-method-ac582e4594e2" rel="noopener">所做的那样分解这个定义！</a></p><ul class=""><li id="f908" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc kg kh ki kj bi translated">它创建了一个新数组</li><li id="a59e" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">它遍历原始数组的每个元素</li><li id="3b87" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">它基于一些定义的逻辑将原始数组的每个元素转换/修改为另一个值</li><li id="e19e" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">它将转换/修改后的值推入新数组</li><li id="36bc" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">它返回用转换/修改后的值填充的新数组</li></ul><p id="c3f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先让我们使用普通的 JavaScript / <em class="je"> for 循环</em>来解决一个问题“将数字数组中的每个值乘以 2 ”,然后应用<strong class="ih hj"> Map() </strong>方法来解决相同的问题。</p><p id="faa3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你会得到一组数字:</p><pre class="jg jh ji jj fd kp kq kr ks aw kt bi"><span id="1365" class="ku kv hi kq b fi kw kx l ky kz">const array1 = [1, 4, 9, 16];</span></pre><p id="e3fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要将该数组的每个值相乘，并返回一个包含所有这些相乘值的新数组，或者预期输出为:</p><pre class="jg jh ji jj fd kp kq kr ks aw kt bi"><span id="d900" class="ku kv hi kq b fi kw kx l ky kz">[2, 8, 18, 32];</span></pre><p id="ef22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里有一个伪代码和代码本身的问题。请阅读，然后复制并粘贴到您的控制台。</p><pre class="jg jh ji jj fd kp kq kr ks aw kt bi"><span id="b1ac" class="ku kv hi kq b fi kw kx l ky kz">function arraySquare (arrayOfNumbers) {</span><span id="f327" class="ku kv hi kq b fi la kx l ky kz">// create a new empty array<br/>let newArray = [];</span><span id="9041" class="ku kv hi kq b fi la kx l ky kz">// iterate over the original array till the end of the array<br/>for (var i = 0; i &lt; arrayOfNumbers.length; i++) {</span><span id="ceb3" class="ku kv hi kq b fi la kx l ky kz">// multiply the current element of the array by 2  and assign this new value to a multiply variable<br/>let multiply = arrayOfNumbers[i] * 2;</span><span id="7d5c" class="ku kv hi kq b fi la kx l ky kz">// push the current multiplied by 2 value into the new array<br/>newArray.push(multiply);<br/>  }</span><span id="e077" class="ku kv hi kq b fi la kx l ky kz">// return the new array<br/>return newArray;<br/>}</span><span id="eb9f" class="ku kv hi kq b fi la kx l ky kz">const array1 = [1, 4, 9, 16];<br/>const result = arraySquare(array1);<br/>console.log(result);</span></pre><p id="dec4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是输出:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es lb"><img src="../Images/b68d8dc7f532c8b5f0bd41d943c6304a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3N8D-Iv1YC07VznUMGOd5w.png"/></div></div></figure><p id="7973" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了更有趣，让我们迭代一组数字对象。我们有一系列这样的物体:</p><pre class="jg jh ji jj fd kp kq kr ks aw kt bi"><span id="db70" class="ku kv hi kq b fi kw kx l ky kz">let numbersArray = [<br/>{key: 1, value: 10},<br/>{key: 2, value: 20},<br/>{key: 3, value: 30}]</span></pre><p id="b902" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要将该对象数组的每个值乘以 2，并返回一个包含所有这些相乘值的新数组，或者预期输出为:</p><pre class="jg jh ji jj fd kp kq kr ks aw kt bi"><span id="be40" class="ku kv hi kq b fi kw kx l ky kz">[{key: 1, value: 20},<br/>{key: 2, value: 40},<br/>{key: 3, value: 60}]</span></pre><p id="bcb6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">相同的普通 JavaScript 和循环的<em class="je">可以用来解决这个问题。这里有一个伪代码和代码本身的问题。请阅读，然后复制并粘贴到您的控制台。</em></p><pre class="jg jh ji jj fd kp kq kr ks aw kt bi"><span id="1f2f" class="ku kv hi kq b fi kw kx l ky kz">function arraySquareObj (arrayOfObjects) {</span><span id="76af" class="ku kv hi kq b fi la kx l ky kz">// create a new empty array<br/>let newArray = [];</span><span id="75aa" class="ku kv hi kq b fi la kx l ky kz">// iterate over the original array till the end of the array<br/>for (var i = 0; i &lt; arrayOfObjects.length; i++) {</span><span id="7af9" class="ku kv hi kq b fi la kx l ky kz">// multiply the current element of the array by 2 and assign this new value to a multiply variable<br/>let multiply = arrayOfObjects[i].value * 2;</span><span id="7b50" class="ku kv hi kq b fi la kx l ky kz">// push the current multiplied by 2 value into the new array<br/>newArray.push(multiply);<br/>   }</span><span id="df6e" class="ku kv hi kq b fi la kx l ky kz">// return the new array<br/>return newArray;<br/>}</span><span id="8de2" class="ku kv hi kq b fi la kx l ky kz">let numbersArray = <br/>[{key: 1, value: 10},<br/>{key: 2, value: 20},<br/>{key: 3, value: 30}]</span><span id="579c" class="ku kv hi kq b fi la kx l ky kz">let result = arraySquareObj (numbersArray);<br/>console.log(result);</span></pre><p id="f24b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是输出:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es lc"><img src="../Images/59d6de0c1c816f66947d357e969c9817.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zjLZZAzFAvXXNXCDkSghOw.png"/></div></div></figure><p id="5da3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些解决方案仍然有效，并展示了我们如何通过使用循环的<em class="je">来解决这样的问题。JavaScript 已经内置了数组方法<strong class="ih hj"> Map() </strong>，我们真的需要写这么多行代码吗？我觉得是时候我们换个话题，说说这个<strong class="ih hj"> Map() </strong>方法了。</em></p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es ld"><img src="../Images/7f118a654bed86496beaab4e916a14d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FzW4O5CCNTgHXVm3"/></div></div><figcaption class="jr js et er es jt ju bd b be z dx translated">照片由<a class="ae jd" href="https://unsplash.com/@jamesplewis?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">詹姆斯·刘易斯</a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="a9b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们在<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs </a>中查看<strong class="ih hj"> Map() </strong>语法:</p><pre class="jg jh ji jj fd kp kq kr ks aw kt bi"><span id="b97e" class="ku kv hi kq b fi kw kx l ky kz">// Arrow function<br/>map((element) =&gt; { ... } )<br/>map((element, index) =&gt; { ... } )<br/>map((element, index, array) =&gt; { ... } )</span><span id="6b16" class="ku kv hi kq b fi la kx l ky kz">// Callback function<br/>map(callbackFn)<br/>map(callbackFn, thisArg)</span><span id="dba5" class="ku kv hi kq b fi la kx l ky kz">// Inline callback function<br/>map(function callbackFn(element) { ... })<br/>map(function callbackFn(element, index) { ... })<br/>map(function callbackFn(element, index, array){ ... })<br/>map(function callbackFn(element, index, array) { ... }, thisArg)</span></pre><p id="9b3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并使用<a class="ae jd" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener ugc nofollow" target="_blank"> <strong class="ih hj"> Map() </strong>方法</a>解决同样的两个问题:</p><pre class="jg jh ji jj fd kp kq kr ks aw kt bi"><span id="c83e" class="ku kv hi kq b fi kw kx l ky kz">const array1 = [1, 4, 9, 16];<br/>// pass a function to map</span><span id="6be5" class="ku kv hi kq b fi la kx l ky kz">const map1 = array1.map(x =&gt; x * 2);</span><span id="5388" class="ku kv hi kq b fi la kx l ky kz">console.log(map1);<br/>// expected output: Array [2, 8, 18, 32]</span></pre><p id="c0d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在这个例子中，我们在给定的数组上调用<strong class="ih hj"> Map() </strong>方法，并使用一个 arrow 函数表达式将这个数组的每个元素乘以 2。以下是输出:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es le"><img src="../Images/4f34565389c6a048ca137da08d442df3.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*HgKhObJXpdFBJBtWCrri5g.png"/></div></figure><p id="9839" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于第二个问题/数字对象的数组，我们的<strong class="ih hj"> Map() </strong>代码将如下所示:</p><pre class="jg jh ji jj fd kp kq kr ks aw kt bi"><span id="25f1" class="ku kv hi kq b fi kw kx l ky kz">let kvArray = <br/>[{key: 1, value: 10},<br/>{key: 2, value: 20},<br/>{key: 3, value: 30}]</span><span id="da39" class="ku kv hi kq b fi la kx l ky kz">let reformattedArray = kvArray.map(obj =&gt; obj.value * 2);<br/>console.log(reformattedArray);</span></pre><p id="d727" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下是输出:</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es lf"><img src="../Images/882f2ad17f9dcbcddb296019235b1bf3.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*4VeOwHcupOEat7vIdY3HUw.png"/></div></figure><p id="f0b4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要点类似于我在我的<a class="ae jd" href="https://roxvemm2014.medium.com/javascript-filtering-arrays-filter-method-ac582e4594e2" rel="noopener"> JavaScript 过滤数组中所写的。Filter()方法</a>教程但是因为“熟能生巧”l 在这里再列一次，使用<strong class="ih hj"> Map() </strong>方法的好处:</p><ul class=""><li id="0ec8" class="kb kc hi ih b ii ij im in iq kd iu ke iy kf jc kg kh ki kj bi translated">我们不需要创建 for 循环来迭代/或使用任何其他循环</li><li id="c1ce" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">在每次迭代中，当前元素存储在一个变量中，因此我们不需要使用元素的索引值来访问元素</li><li id="a02b" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">所有迭代结束后，一个新的数组会自动创建并返回，所以我们不需要在开始时创建一个空数组并将元素放入其中</li><li id="e7dc" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">只有几行代码比较了普通 JavaScript / <em class="je"> for loop </em>方法</li><li id="45f2" class="kb kc hi ih b ii kk im kl iq km iu kn iy ko jc kg kh ki kj bi translated">易于阅读和理解/适合所有用户</li></ul><p id="ea78" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你觉得这些信息有用，请随时关注我。希望您喜欢这篇关于 JavaScript 中 Map()方法的简短指导，请保持关注！</p></div></div>    
</body>
</html>