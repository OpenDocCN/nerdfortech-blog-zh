<html>
<head>
<title>Factory Constructor in Dart — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Dart 中的工厂构造器—第 1 部分</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/factory-constructor-in-dart-part-1-1bbdf0d0f7f0?source=collection_archive---------0-----------------------#2021-06-25">https://medium.com/nerd-for-tech/factory-constructor-in-dart-part-1-1bbdf0d0f7f0?source=collection_archive---------0-----------------------#2021-06-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7267" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">工厂构造器是 dart 初学者比较困惑的话题之一。要更好地理解它，首先必须理解工厂设计模式。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/dcedf7b128e35adbe600affcfea50005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-6dwUnjJLiSAnQtqhKucAQ.jpeg"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">图片 src:<a class="ae jt" href="https://www.freepik.com/jcomp" rel="noopener ugc nofollow" target="_blank">https://www.freepik.com/jcomp</a></figcaption></figure><h2 id="e9dd" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">什么是工厂设计模式？</h2><p id="3fa2" class="pw-post-body-paragraph if ig hi ih b ii kp ik il im kq io ip iq kr is it iu ks iw ix iy kt ja jb jc hb bi translated"><strong class="ih hj">定义:</strong> <em class="ku">在工厂模式中，我们创建对象而不向客户端公开创建逻辑，并使用公共接口引用新创建的对象。</em></p><p id="6fbf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你感到困惑，让我试着通过代码和<strong class="ih hj">工厂</strong>构造来解释。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kv"><img src="../Images/5b88754d44de1920a8ffa9258e174077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*KoYgXYImfJqZXQ3ghGTjPQ.png"/></div></figure><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="1aac" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们需要用以下标准创建这些子类的对象，</p><ol class=""><li id="0ff4" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated">举<strong class="ih hj">杜宾</strong>的例子，如果用户想要一只狗来守护</li><li id="2c33" class="ky kz hi ih b ii lh im li iq lj iu lk iy ll jc ld le lf lg bi translated">给<strong class="ih hj">拉布拉多</strong>实例，否则。</li></ol><p id="6605" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们怎么能天真地这样做呢？</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="5055" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这在一个地方没问题，如果你想在多个地方都有这个逻辑呢？你必须重复使用 if-else 语句。我们该如何简化这一点？答案是<strong class="ih hj">工厂构造器。</strong></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="kw kx l"/></div></figure><p id="c6c6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们已经将实例创建逻辑移到了父类。我们如何使用这个构造？</p><p id="14ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要创建看门狗，请使用</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="7e23" class="ju jv hi ln b fi lr ls l lt lu">Dog myGaurdDog = Dog.createDog(name:’Rocky’,gaurdDog:true);</span></pre><p id="0e79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">否则使用，</p><pre class="je jf jg jh fd lm ln lo lp aw lq bi"><span id="1870" class="ju jv hi ln b fi lr ls l lt lu">Dog myPetDog = Dog.createDog(name:’Tommy’,gaurdDog:false);</span></pre><p id="156a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在如果你看看工厂设计模式的定义，就更好理解了</p><ol class=""><li id="a449" class="ky kz hi ih b ii ij im in iq la iu lb iy lc jc ld le lf lg bi translated"><strong class="ih hj"> <em class="ku">我们创建对象，而不向客户端公开创建逻辑</em> </strong></li></ol><p id="699e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">是的，我们没有向客户端公开对象创建逻辑(<em class="ku"> main() </em> method)，它隐藏在我们的父类‘Dog’内部，客户端需要用所需的参数调用工厂构造函数来获得所需的对象。</p><p id="a140" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.<strong class="ih hj"> <em class="ku">我们</em> <em class="ku">指使用公共接口新创建的对象。</em>T25】</strong></p><p id="d4d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这也是真的，我们返回的是类型为<strong class="ih hj"> Dog、</strong>而不是<strong class="ih hj"> Labrador(或 Doberman)的实例。父类是这里的公共接口，因为它与两个子类都兼容。</strong></p></div><div class="ab cl lv lw gp lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="hb hc hd he hf"><p id="ffee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望，现在你明白了工厂构造器是如何让我们的生活变得更加容易的。实现工厂设计模式并不是工厂构造器唯一有用的东西。我们还可以使用工厂构造函数实现<strong class="ih hj">缓存</strong>特性。我将在下一篇文章中讨论'<strong class="ih hj">使用工厂'</strong>进行缓存，并在后续文章中讨论'<strong class="ih hj">命名构造函数和工厂构造函数'</strong>之间的区别。谢谢你。</p></div></div>    
</body>
</html>