<html>
<head>
<title>Why do we need Covariance, Correlation and Causation?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我们需要协方差、相关性和因果关系？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/why-we-need-covariance-correlation-and-causation-86d47eb1bb7f?source=collection_archive---------13-----------------------#2021-06-07">https://medium.com/nerd-for-tech/why-we-need-covariance-correlation-and-causation-86d47eb1bb7f?source=collection_archive---------13-----------------------#2021-06-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ac98" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们多次听说过相关性、协方差和因果关系，但所有这些术语都有点令人困惑。如果你正在读这篇博客，那么就没有困惑的空间，所以，请读完这篇博客。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/e507b62fcdcbc345e90bf7f82ac0ec0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u5D_x_b17fLsvCk7QHqjjw.png"/></div></div></figure><p id="dce7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当我们必须找到特征之间的关系时，使用所有这些术语。相关性、协方差和因果关系主要属于统计学领域，但它也是数据科学中一个非常有用的概念。好了，现在介绍完了，让我们跳到概念上。</p><h1 id="faf7" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">目录:</h1><p id="ee16" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated"><strong class="ih hj"> 1)协方差</strong></p><p id="4c83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2)相关性</strong></p><p id="755d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2.1)皮尔逊相关系数:</strong></p><p id="dd2c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2.2)斯皮尔曼秩相关系数:</strong></p><p id="096f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 3)因果关系</strong></p><p id="1010" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 4)总结</strong></p><p id="6b29" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 5)轮廓</strong></p><p id="d718" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 6)参考文献</strong></p><h1 id="1ab7" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">1)协方差:</h1><p id="0622" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">a)找出特征之间的关系是有用的，即，让我们有两个特征X和Y，因此通过计算协方差，我们可以容易地找出X和Y是正相关还是负相关。</p><p id="a3b7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正关系:—如果特征X的值随着特征Y的值的增加而增加，或者特征X随着特征Y的值的减少而减少，那么我们可以称它们的关系为正关系。</p><p id="8d17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">负关系:如果特征X的值随着特征Y的值的减小而增加，或者反之亦然，那么我们可以称它们的关系为负关系。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ks"><img src="../Images/29c06aabffc5744d79d2855794f52e2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*mKb5e8tGUZf-YeWQIpwHtg.png"/></div></figure><p id="7140" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在哪里，</p><p id="85d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> n → </strong>数据点总数</p><p id="d22c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> X，Y → </strong>特征</p><p id="882f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> X → </strong>特征X的均值</p><p id="b12a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"/>Y→特征Y的均值</p><p id="264e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">协方差的缺点:</strong></p><p id="8f4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)找出特征之间的关系是有用的，但是我们不能比较它们之间的协方差，因为我们不能通过计算协方差来获得量值。因此，不可能比较两个协方差值</p><p id="645b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)特征的协方差值相对于单元改变。也就是说，让我们有两个特征高度以cm(h)为单位，重量以克(w)为单位，协方差是cov(h，w)。</p><p id="2640" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们采用不同单位的相同特征，即以米(H)为单位的身高和以千克(W)为单位的体重，协方差是cov(H，W)。但是我们在两个协方差计算中得到的值是不同的，即cov(h，w) ≠ cov(H，W)</p><h1 id="cb9f" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">2)相关性:</h1><p id="cae7" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">在相关性方面，我们将讨论协方差的缺点。相关性是协方差的一种标准化形式。这种标准化是通过将协方差除以特征的方差得到的。</p><p id="4382" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有两种方法用于计算相关性:</p><p id="1f05" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2.1)皮尔逊相关系数:</strong></p><p id="f5f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)用于计算特征之间的相关性，用<strong class="ih hj"> ρ </strong>表示</p><p id="f744" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)相关系数(ρ)总是位于+1和-1之间。</p><p id="5d9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">-1&lt;= ρ&lt;= 1</p><p id="8505" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3) 0 &lt; ρ &lt;=+1 represent the positive relationship (if ρ=+1 then all points lie on the linear line while if points are missing the linear line, then their coefficient lies between the range 0&lt; ρ </p><p id="a08f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4) -1&lt;= ρ &lt;0 represent the negative relationship (if ρ=-1 then all points lie on the linear line while if points are missing the linear line, then their coefficient lies between the range -1&lt; ρ &lt;0)</p><p id="5684" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">5) Check the below-mentioned relationship between the X and Y in terms of the ρ.</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kt"><img src="../Images/b0ad183db1de8163910a5856bfa68bd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*oyVrXrc_VmpjA5CMh1Pw_w.png"/></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">Variation in the ρ value w.r.t the distribution of data points of two features</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ky"><img src="../Images/9048642005460a558748e6bc5aae7b10.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*7vC6AaDsuYbM5kvoN3bEEw.png"/></div></figure><p id="83b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Where,</p><p id="7110" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> Cov(X，Y) </strong> à特征X和Y的协方差</p><p id="250b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">特征x的ơXà方差</p><p id="f474" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">特征x的ơYà方差</p><p id="a4a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2) </strong> <strong class="ih hj">特征X的方差和均值计算公式:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kz"><img src="../Images/9af50db0985f26620351fd1ec5e28ff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*FSETzJMBpMcy9INvHcssAA.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es la"><img src="../Images/8d0f04bfff994e93deeaf373d052e54e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*Y3OGrSXzykf2bsm7nf3j7A.png"/></div></figure><p id="7868" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2)特征Y的方差和均值计算公式:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lb"><img src="../Images/8b334575b9604cdcc4a98c3ca1664baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:646/format:webp/1*WhJTRI3w9gBcIyRT93E_Ng.png"/></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lc"><img src="../Images/c6c80dd6700a851cc62edbf929fa1584.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*UCM9vOHM_AexomKuMDXt2w.png"/></div></figure><p id="303d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">计算示例:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ld"><img src="../Images/33187ca889e6e3f0c653256cf02e529d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*KgncwJUyDtSciUeDtOcx7g.png"/></div></figure><p id="2d49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">缺点:</strong></p><p id="4134" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)只有当特征之间的关系是线性的时，皮尔逊相关系数才会起作用。使用皮尔逊相关系数无法找出特征之间的非线性关系。查看下图及其解释。</p><p id="b19a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">假设我们有两个特征X和Y，我们将找出它们之间不同的可能关系。</p><p id="6e71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第1行</strong>:在这一行中，ρ反映关系的方向和强度。当点位于直线上时，我们得到ρ=+1，-1，强度随着点远离直线而降低。</p><p id="cbca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第2行</strong>:在这一行中，不管正负关系的斜率如何，ρ的值都是相同的</p><p id="6bb0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">第3行</strong>:在这一行中，ρ的值= 0，因为如果特征之间存在非线性关系，ρ就没有用了。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es le"><img src="../Images/adefcb615a7095800d2f86a105d03f63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*vEhWnfvZIYNXuChfnXIljA.png"/></div></figure><p id="738b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> 2.2)斯皮尔曼秩相关系数:</strong></p><p id="7dfa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">它将克服皮尔逊相关系数的缺点。这里我们将计算秩而不是协方差。斯皮尔曼等级相关系数的计算公式为</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lf"><img src="../Images/904c6352e2177809dfc72df613c8f528.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*MhjPTskPVTFl1iloUCiMOw.png"/></div></figure><p id="2a53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在哪里，</p><p id="6403" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">n→数据点数</p><p id="d1a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">D →两个特征等级之间的差异(D = rX — rY)</p><p id="9040" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">计算示例:</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lg"><img src="../Images/e23296963ef750b36378887200c14126.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*udS01OQ-ofbj0hd4I7iLLg.png"/></div></figure><p id="e1ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Spearman的秩相关系数在本质上是稳健的，并且对异常值也不太敏感。查看下图并参考<a class="ae lh" href="https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient" rel="noopener ugc nofollow" target="_blank">链接</a>了解更多详情。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es li"><img src="../Images/58a60f5534904797083a5c2e8717a7ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*O_9Fre-nNB2yNhsjj7ni-A.png"/></div></figure><h1 id="62b4" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">3)因果关系:</h1><p id="9712" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">现在是最后一部分，非常简单。因果关系是我们在日常生活中会遇到的术语。例如在夏天，冰淇淋和柠檬的需求增加。那么我们不能说，随着冰淇淋需求的增加，对柠檬的需求也在增加。这种关系是完全不相关的，这种关系是由于夏天而发生的，因为在夏天对冰淇淋和柠檬苦素的需求增加了。所以，简单地说，因果关系是由于第三个特征的干扰而形成的两个特征之间的关系。它不是在任何地方都适用</p><h1 id="d42c" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">4)总结:</h1><p id="2525" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">1)协方差有助于找出特征之间的关系，即，或者是负关系或者是正关系，但是我们在这里不能得到量值，所以我们不能比较两个特征之间的协方差。</p><p id="78bd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)相关性最有用，因为它既给出方向又给出幅度。如果两个特征之间的关系是线性的，那么我们可以使用皮尔逊相关系数和斯皮尔曼等级相关系数，如果是非线性的，那么我们可以使用斯皮尔曼等级相关系数</p><p id="dcc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3)因果关系是两个特征之间由于第三个特征的干扰而形成的关系形式。并不总是如此。</p><h1 id="73e1" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">5)简介:</h1><p id="0738" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">感谢阅读！请鼓掌感谢我的辛勤工作。我总是乐于接受建设性的反馈——如果你对这个分析有后续想法，请在下面评论或通过LinkedIn联系<a class="ae lh" href="https://www.linkedin.com/in/shubham-dhawas-3ba232b7" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="ab33" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">6)参考资料:</h1><p id="ccde" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">1)<a class="ae lh" href="https://en.wikipedia.org/wiki/Pearson_correlation_coefficient" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Pearson _ correlation _ coefficient</a></p><p id="c9d8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lh" href="https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient" rel="noopener ugc nofollow" target="_blank">2)</a><a class="ae lh" href="https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Spearman % 27s _ rank _ correlation _ coefficient</a></p></div></div>    
</body>
</html>