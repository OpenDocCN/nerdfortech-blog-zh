<html>
<head>
<title>Space Shooter Refactoring: Delegates</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">空间射手重构:委托</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/space-shooter-refactoring-delegates-882218c249a5?source=collection_archive---------15-----------------------#2021-05-26">https://medium.com/nerd-for-tech/space-shooter-refactoring-delegates-882218c249a5?source=collection_archive---------15-----------------------#2021-05-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e6e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文将展示如何使用上一篇文章中讨论的Action和Func委托在Space Shooter中实现观察者设计模式。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/58b2039efa9b55ffd7223ded1a3079b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*x1HDzN6xY_R4EMOt5jWHbg.gif"/></div></div></figure><p id="4e3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是一个笑话，因为委托的添加和移除方法可以被称为订阅和取消订阅。但是严肃地说，前面有很多代码块。</p><p id="840e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于实现委托需要修改大量代码，我将展示基本实现的主要例子。如果你想看到所有的变化，你可以看看GitHub库。</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="3ace" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">游戏经理</h2><p id="1ece" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">为了访问委托，我们需要使用System命名空间。对于GameManager脚本，我们将为分数、玩家游戏对象和玩家脚本添加变量。将分数转移到游戏管理器更有意义，因为玩家可能会被禁用或破坏。我们会有任何需要引用玩家游戏对象的脚本，或者从游戏管理器中请求引用的脚本。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kx"><img src="../Images/b194fa6365981f68587c28e2de68fde5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kj8KlmFcO34XufzmjF1_lg.png"/></div></div></figure><p id="ffd6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当按下Escape键时，我们将使用动作来通知UIManager，并将更新后的分值传递给UIManager。我们将使用Func从玩家那里获取游戏对象。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ky"><img src="../Images/5bd4edc281be881df446d7a72183696f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9PgNYdelQslqo2vcD51HRw.png"/></div></div></figure><p id="4633" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Start中，我们将score值发送到UIManager，将playerObj设置为检索到的GameObject，如果它不为null，我们将playerScript设置为其上的Player script组件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kz"><img src="../Images/5ad6bc15a93ee74aca061092019395d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eKzjOsOUadQgxR9j_os1Lw.png"/></div></div></figure><p id="bb67" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果按了Escape键，如果有监听器的话，OnPauseMenu会被调用。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es la"><img src="../Images/9e78eb1412126dd0f9121c58333d7a61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BMEL11jAgp2pKphkKg_sfg.png"/></div></div></figure><p id="b201" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个方法将返回由GameManager脚本获取的玩家游戏对象，并将其传递给该方法正在监听的代理。第二种方法与第一种方法相同，只是针对播放器脚本。最终的方法将根据给定的数量更新分数，然后将其发送给UIManager。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lb"><img src="../Images/a75f0c01dcc1afd3af24295f2fe562ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vc_4ENWrVR6-qVUCDteCmw.png"/></div></div></figure><p id="9602" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在OnEnable和OnDisable中，我们为其他脚本的委托订阅和取消订阅方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lc"><img src="../Images/8601c581f7584d11f02c707ff7bf5c14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XQDAC1WPCUE9stmDa-luHA.png"/></div></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="f87a" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">产卵管理器</h2><p id="7ee0" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">由于SpawnManager脚本使用System和UnityEngine，我们需要定义我们打算使用哪个随机数；我们想要随机的单位引擎。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kx"><img src="../Images/51f3147e760563bd7c9aad89fb292c04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4fIZTGq8ceaRudZ7_n8z_Q.png"/></div></div></figure><p id="5069" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SpawnManager现在将保留一个活跃敌人的列表，供HomingMissile脚本抓取并用作目标，并使用int跟踪场景中活着的敌人的数量。我们将使用动作来开始下一个波形文本的闪烁，并在UIManager上更新波形文本。我们将使用Funcs从池管理器中取回正确类型的敌人和力量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ld"><img src="../Images/ea89fcf1963f74e2a1fcd9147dbd9e30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*63gnT6uZfNps3mA3CmwweQ.png"/></div></div></figure><p id="ba7f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">开始时，我们将当前波形和总波形发送给监听UIManager。</p><p id="fb6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Update中，将它改为使用新的enemiesActive变量来检查是否还有敌人活着。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es le"><img src="../Images/cf5b7bf8492cd58ad45f7dbc4979ad62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dUelLPW55LE0ipxInpC9Fw.png"/></div></div></figure><p id="a4e7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在StartSpawning中，我们现在调用OnUpdateWaves，将当前和总波传递给侦听UIManager。然后调用OnNextWave来告诉UIManager闪现下一个Wave文本。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lf"><img src="../Images/af58af8a8922907ee21bced394dd7b52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rLKYlUM2ijhDWJH29wcZrA.png"/></div></div></figure><p id="d41b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一个方法将把活动敌人的列表返回给该方法正在监听的代理。第二种方法增加了活跃敌人的数量，并将敌人游戏对象添加到活跃敌人列表中。最后一个方法是减少活跃敌人的数量，并从活跃敌人列表中移除敌人游戏对象。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lg"><img src="../Images/e410fe9805ee93b97c9d17672fd2895f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-XPElC2-dDtrDotd_PUsNA.png"/></div></div></figure><p id="afca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在SpawnWaveRoutine中，我们将其更改为使用OnGetEnemy从池管理器中检索敌人游戏对象，然后将敌人添加到活动敌人列表中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lh"><img src="../Images/7fa0d1e78ee9320e0b6dabd78bc2d7cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6_ELusAxxQ01DW3AfJcXZA.png"/></div></div></figure><p id="f4b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在OnEnable和OnDisable中，我们为其他脚本的委托订阅和取消订阅方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es li"><img src="../Images/d6410f8087ef98964329a4355c6cbc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*euAX__qmZGs9__3WY5jbrw.png"/></div></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="ac1a" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">游泳池经理</h2><p id="fbb2" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">PoolManager脚本对所有get请求进行注册和注销。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lj"><img src="../Images/0bb27aa9e5cc1a6ec16c96606afd20a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fgKyOfndxFHR7WuaxH8bLg.png"/></div></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="717f" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">敌军</h2><p id="b141" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">在敌人脚本中，我们使用动作来删除作为目标的敌人和活动敌人列表。我们告诉AudioManager播放什么声音，发多少增加分数，碰撞时把伤害量传给玩家。我们使用Funcs从PoolManager获取正确的激光或武器，从GameManager获取玩家脚本。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lk"><img src="../Images/e1c40e6d2758ade41b1a19405f51f879.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HAEtrQ66ncUziJCmuyLb-Q.png"/></div></div></figure><p id="434a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Init中，我们使用OnGetPlayerScript来获取播放器脚本。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ld"><img src="../Images/bbe10ae87d56ce6eb0d45c1f0f2f760e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ob4Oe7Lwz7R8p2MZv7r4Xw.png"/></div></div></figure><p id="ab13" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在OnTriggerEnter2D中，我们检查玩家在场景中是否活跃，然后调用OnScored发送金额以增加分数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es le"><img src="../Images/f734f3620170451ecf09918608054599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*geCoWQoQExcLDCP4rlJtrg.png"/></div></div></figure><p id="a704" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在FireLaser中，我们将其更改为使用OnGetLaser从池管理器中检索激光。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ll"><img src="../Images/c450da1738260901c8f2634e8963991b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*px-40w9kJ3L9XFFtpBeSjQ.png"/></div></div></figure><p id="cf1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于代理使用event关键字将他们锁定到这个脚本，我们需要为继承的脚本创建方法，以调用它们从PoolManager获取激光或武器，并将声音效果发送到AudioManager。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lm"><img src="../Images/29687ba19c2aafd5d99eeaeef9e92d50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-zV1jZ4OMt7eRue28EJ2Hw.png"/></div></div></figure><p id="042c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在DisableRoutine中，我们使用OnDestroyed来发送脚本的游戏对象，以将其从目标和活动敌人列表中删除。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lj"><img src="../Images/88c487be09f4235449c1995a31b6af83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1okLLBli4Z5rUeFxZ9cn6g.png"/></div></div></figure><p id="d2c8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">随着敌人的产生和被消灭，他们会被添加和删除。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/8242584bd5ee483236f9630a6e4f1786.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*F3A6pGgzWe4xltmMhPMVJg.gif"/></div></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="496c" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">运动员</h2><p id="9f12" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">在玩家脚本中，我们将使用动作来告诉相机摇动并更新UI中的生命图像、推进器栏、弹药计数和导弹计数。将玩家从敌人的导弹目标上移开，告诉游戏管理器玩家已经死了，并传递一个音频剪辑由音频管理器播放。这些函数将用于从池管理器中获取激光、武器和爆炸。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lj"><img src="../Images/3d600442f198b646088c926ace87d33e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jovWeiX-DGrfiQSrepMoqQ.png"/></div></div></figure><p id="967d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Init中，UI更新被更改为相应的动作。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ld"><img src="../Images/9952628b0a506f058f7b0d2ca5608d77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Io2wIvXykBOxVp_2uWwuPg.png"/></div></div></figure><p id="49df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Update中，我们将其更改为使用OnGetWeapon从PoolManager中检索导弹，并用OnUpdateMissiles更新导弹UI。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lo"><img src="../Images/7748ed2d8f3e447034243df88b421b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WABZ1WdJYSX8fkD1irvUuA.png"/></div></div></figure><p id="4934" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在FireLaser中，我们将其更改为使用OnGetLaser进行三倍拍摄，使用Laser从池管理器中检索激光，并使用OnGetWeapon进行全向拍摄。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ll"><img src="../Images/57620c76e73656aef4689c4807e7b286.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yHBQFBfgzrv71qJ6QpSZ5w.png"/></div></div></figure><p id="07ec" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在ChangeLives中，当玩家受到伤害时，我们将其改为调用OnCameraShake，并用OnUpdateLives更新UI。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lp"><img src="../Images/98f160a68e9ec9ebfc8f6512dfa30a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nnS-8xrG1ZFFJckFEkOq-g.png"/></div></div></figure><p id="09dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们改变了现有的方法，使用动作来更新UI，创建一个方法来返回玩家游戏对象，并创建一个方法来在游戏获胜时禁用玩家脚本，这样玩家就不会受到伤害或移动了。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lq"><img src="../Images/2e43340a64aef331f6a68259c80621c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sBGQQ1ru_FdADNLcWqNCwA.png"/></div></div></figure><p id="c0bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在OnEnable和OnDisable中，我们为其他脚本的委托订阅和取消订阅方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lr"><img src="../Images/9a3d05b826d8b49c1394db8a5b140f0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O7wBRaQWZh43wPBd8RLHww.png"/></div></div></figure><p id="1f50" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在UIManager和CameraShake脚本中添加注册和取消注册之后，游戏就像以前一样工作，但是玩家不会抓取每个人的脚本组件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ls"><img src="../Images/297af47a1895e7f6da4c4ce384634564.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PqPNmmFy_bZFV15lcMFmIw.gif"/></div></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="7f65" class="jx jy hi bd jz ka kb kc kd ke kf kg kh iq ki kj kk iu kl km kn iy ko kp kq kr bi translated">自动寻的导弹</h2><p id="a901" class="pw-post-body-paragraph if ig hi ih b ii ks ik il im kt io ip iq ku is it iu kv iw ix iy kw ja jb jc hb bi translated">在HomingMissile脚本中，我们会将其更改为请求活动敌人的列表，损坏玩家而不从碰撞的对象中检索玩家脚本，并在被破坏时从池管理器中获得正确的爆炸。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lt"><img src="../Images/1003b4790b39bad287bfe6e8e10d59df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FOUau4uQ2fYohHVF6tlCeg.png"/></div></div></figure><p id="88f7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在AssignEnemyTarget中，我们将其更改为使用OnGetTargetList向SpawnManager请求活动敌人的列表。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lu"><img src="../Images/8689dd3d4662366e5818ec4e5b499b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fsH9w4t7oi71V9mUHiVA1g.png"/></div></div></figure><p id="8ed6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在OnTriggerEnter2D中，我们将其改为使用OnDamagePlayer来伤害播放器。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lj"><img src="../Images/8adfc4000e5b8ca849ed980109402ee9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oRNcLtwSo9sVp9KTVJqhPA.png"/></div></div></figure><p id="b298" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在OnEnable和OnDisable中，我们为敌人和玩家销毁的代理订阅和取消订阅RemoveTarget方法，并将其更改为使用OnGetExplosion从池管理器中检索正确的爆炸。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lv"><img src="../Images/d1cd8953661b607df8121099636710a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fkElA-E6VU2DDOpnzUrrNw.png"/></div></div></figure><p id="dfdc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在导弹像以前一样工作，但是使用了代理。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/b13c09ecb2aad558aff2c71c6dbbe3b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Qwngea1ZvNrIsS9CnwjFMg.gif"/></div></div></figure></div></div>    
</body>
</html>