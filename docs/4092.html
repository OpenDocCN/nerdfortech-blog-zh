<html>
<head>
<title>Lift Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">升降机平台</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/lift-platform-19c9d704cd49?source=collection_archive---------13-----------------------#2021-07-06">https://medium.com/nerd-for-tech/lift-platform-19c9d704cd49?source=collection_archive---------13-----------------------#2021-07-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="69d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本文将展示如何制作一个升降平台，它可以从一个楼层移动到另一个楼层，并在每个楼层停留一段时间。因为这个功能类似于前一篇文章中的<a class="ae jd" rel="noopener" href="/nerd-for-tech/moving-platform-refactor-61cc572d4ea6">的移动平台，所以Lift将继承那个脚本。</a></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div class="er es je"><img src="../Images/0c5d15da2ce41d13112d59dc67ed4493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/1*jRvL0RSI7xYCX0UMa-5Gyw.gif"/></div></figure><p id="d4fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">LiftPlatform脚本需要一些变量来改变继承的MovingPlatform的功能。</p><ol class=""><li id="85e3" class="jm jn hi ih b ii ij im in iq jo iu jp iy jq jc jr js jt ju bi translated">游戏开始时电梯将开始的楼层航路点。</li><li id="afb3" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">移动到下一楼层前的延迟时间。</li><li id="3140" class="jm jn hi ih b ii jv im jw iq jx iu jy iy jz jc jr js jt ju bi translated">用于知道电梯当前是否停在到达的楼层。</li></ol><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es ka"><img src="../Images/dbcd0dea11e2425eb0f864dc340566bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QdBitZzoDDd317sBUlWupA.png"/></div></div></figure><p id="ff0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在Start中，我们将电梯设置为起始楼层航点，如果有航点并且航点存在，则将当前航点索引更改为起始楼层。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kf"><img src="../Images/d7da1508c79d6e2b385df0411f06ab8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nCHQMZD59T-7qPBCZjI-lw.png"/></div></div></figure><p id="4365" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了让电梯在到达某一楼层时暂停，我们需要一个简单的协程程序，将暂停bool更改为true，然后在延迟后返回false。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kg"><img src="../Images/da14dbe42bb74ed2b6054ac4d9ca4455.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C-cFZdvRYEhsYo1ffCRBfg.png"/></div></div></figure><p id="4162" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们通过覆盖CheckPosition方法来添加它，并且在基本方法运行以启动协程之后，如果升降机在当前航路点，则暂停升降机的移动。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kh"><img src="../Images/a9b19a7d2d413b133dee6e95771f5b21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xY6fO5uBZ5E8b2MjyIPxIQ.png"/></div></div></figure><p id="e521" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，如果协程正在运行，为了阻止升降机移动，我们覆盖CalculateMovement方法，并且只允许基本方法在升降机没有暂停时运行。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es ki"><img src="../Images/279a08ec6316e859b20b3cea6c20e610.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4fTxKy2vaczIP8_bnbZujQ.png"/></div></div></figure><p id="852c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">升降台有一个箱式碰撞器，它被设置成一个类似移动平台的刚体触发器。但是，楼层航点是平台的边缘部分，所以当电梯到达该楼层时会很好地排列。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kj"><img src="../Images/c8c79a2d985a53995bd6cd2e3fc2cd73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CbayoideCeYAbUYxG5lL1w.gif"/></div></div></figure><p id="7c7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">电梯现在在楼层之间移动，并在每个楼层暂停。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kj"><img src="../Images/ad0dd30e43a0dd4ac84747f11b19812c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PtAC9ZtPVS-Pl8EVcosidQ.gif"/></div></div></figure><p id="50ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是继承的MovingPlatform脚本，供参考。关于继承的更多内容，你可以看<a class="ae jd" href="https://kwpowers.medium.com/converting-the-enemy-to-an-abstract-class-9bc2759d4990" rel="noopener">上一篇文章</a>。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="er es kk"><img src="../Images/ac49147b02d19ea7d930ec0c04467311.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U911z0Xu8X2rvW5qxvGSvA.png"/></div></div></figure></div></div>    
</body>
</html>