<html>
<head>
<title>Sanity Joins Transifex as a Plugin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Sanity将Transifex作为插件加入</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/sanity-joins-transifex-as-a-plugin-3dc1f948ac31?source=collection_archive---------20-----------------------#2021-07-20">https://medium.com/nerd-for-tech/sanity-joins-transifex-as-a-plugin-3dc1f948ac31?source=collection_archive---------20-----------------------#2021-07-20</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d54d02da81f3432d367fd258f28c1ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*M215gRHZriEWuwuu.png"/></div></div></figure><p id="27af" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://www.sanity.io/" rel="noopener ugc nofollow" target="_blank"> Sanity </a>作为世界上最好的内容平台之一而闻名，现在您可以通过Transifex使用它！</p><p id="ad4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里是你需要知道的关于Sanity-Transifex插件的所有内容，如何使用它，以及如何安装它！</p><h1 id="bee2" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">什么是理智</h1><p id="1d9b" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">Sanity是结构化内容的平台，让您可以构建更好的数字体验。他们将内容视为数据，这意味着您可以使用他们的API来构建最佳工作流，并在系统之间共享内容以提高速度。</p><p id="739d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">Sanity附带了一个名为<a class="ae jo" href="https://www.sanity.io/studio" rel="noopener ugc nofollow" target="_blank"> Sanity Studio </a>的开源编辑环境，以及一个名为<a class="ae jo" href="https://www.sanity.io/docs/datastore" rel="noopener ugc nofollow" target="_blank"> Content Lake </a>的实时数据库。您可以使用他们的平台来支持电子商务网站、营销网站、产品、移动应用等。由于它们是基于结构化内容构建的，您可以轻松地跨应用程序、设备和渠道发布和重用您的内容。</p><p id="c138" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果你有兴趣了解更多，请随意查看Sanity的网站。</p><p id="f981" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，Sanity专注于内容管理，而Transifex专注于本地化。使用这两个工具可能是天作之合，这就是Sanity插件的用武之地！</p><h1 id="1d46" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">健全插件</h1><p id="767d" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">这个插件允许你将文档发送到Transifex，然后在文档完成时取回它们，或者如果你想的话，甚至在文档没有完成时取回它们——只需按一个按钮。</p><p id="7156" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">由于这一点，你将不必花费额外的时间在两个平台之间下载和上传文件。</p><p id="2c4d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一切都发生在健全工作室内。为了使这一过程更容易，你可以为你的“待翻译”文档设置一个专门的标签。</p><p id="6c09" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">此外，您还可以获得可定制的HTML和文档修补工具，以及用于<a class="ae jo" href="https://docs.transifex.com/api-3-0/introduction-to-api-3-0" rel="noopener ugc nofollow" target="_blank"> Transifex API </a>的可定制适配器。</p><h1 id="e637" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">如何安装</h1><p id="e79e" class="pw-post-body-paragraph iq ir hi is b it kn iv iw ix ko iz ja jb kp jd je jf kq jh ji jj kr jl jm jn hb bi translated">要安装健全插件:</p><ol class=""><li id="27d4" class="ks kt hi is b it iu ix iy jb ku jf kv jj kw jn kx ky kz la bi translated">转到您的Sanity Studio文件夹</li><li id="08fd" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">运行“sanity install sanity-plugin-transifex”</li><li id="814d" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">创建一个文档，其中包含您的Transifex的组织名称、项目名称和一个具有适当访问级别的API令牌(这是为了对您的Transifex帐户进行合理的访问)</li><li id="86b4" class="ks kt hi is b it lb ix lc jb ld jf le jj lf jn kx ky kz la bi translated">回到工作室，创建“populateTransifexSecrets.js”</li></ol><p id="c827" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，您希望打开该文件并以这种方式插入您的值:一旦完成:</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="9f70" class="lp jq hi ll b fi lq lr l ls lt">import sanityClient from 'part:@sanity/base/client'</span><span id="78ce" class="lp jq hi ll b fi lu lr l ls lt">const client = sanityClient.withConfig({ apiVersion: '2021-03-25' })</span><span id="5f15" class="lp jq hi ll b fi lu lr l ls lt">client.createOrReplace({<br/>_id: 'transifex.secrets',<br/>_type: 'transifexSettings',<br/>organization: 'YOUR_ORG_HERE',<br/>project: 'YOUR_PROJECT_HERE',<br/>token: 'YOUR_TOKEN_HERE',<br/>})</span></pre><p id="7285" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">打开命令行并运行“sanity exec populatestransifexsecrets . js-with-user-token”。您可以通过使用Vision查询*[_id == 'transifex.secrets']来验证它是否有效。如果您有多个数据库，那么您必须对所有数据库都这样做。</p><p id="5e06" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">一旦确认一切正常，就删除“populateTransifexSecrets.js”文件。文档的id不会暴露给外界。但是如果这让你担心，你可以继续使用<a class="ae jo" href="https://www.sanity.io/docs/access-control" rel="noopener ugc nofollow" target="_blank"> Sanity的基于角色的访问控制</a>来控制对这条路径的访问。</p><p id="fb30" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，但同样重要的是，使用<a class="ae jo" href="https://www.sanity.io/docs/structure-builder-introduction" rel="noopener ugc nofollow" target="_blank">桌面结构</a>来获取您的文档类型的Transifex选项卡。一个典型的例子是这样的:</p><pre class="lg lh li lj fd lk ll lm ln aw lo bi"><span id="d841" class="lp jq hi ll b fi lq lr l ls lt">import S from '@sanity/desk-tool/structure-builder'<br/>//...your other desk structure imports...<br/>import { TranslationTab, defaultDocumentLevelConfig, defaultFieldLevelConfig } from 'sanity-plugin-transifex'<br/></span><span id="cf65" class="lp jq hi ll b fi lu lr l ls lt">export const getDefaultDocumentNode = (props) =&gt; {<br/>  if (props.schemaType === 'myTranslatableDocumentType') {<br/>    return S.document().views([<br/>      S.view.form(),<br/>      //...my other views -- for example, live preview, the i18n plugin, etc.,<br/>      S.view.component(TranslationTab).title('Transifex').options(<br/>        defaultDocumentLevelConfig  <br/>      )<br/>    ])<br/>  }<br/>  return S.document();<br/>};</span></pre><p id="296f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">仅此而已。如果你有任何问题或者你想知道更多的细节，请随时参考<a class="ae jo" href="https://www.sanity.io/plugins/sanity-plugin-transifex" rel="noopener ugc nofollow" target="_blank">指南</a> <a class="ae jo" href="https://github.com/sanity-io/sanity-plugin-transifex" rel="noopener ugc nofollow" target="_blank">或者GitHub回购。</a></p><p id="fc82" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jo" href="https://www.transifex.com/blog/2021/sanity-joins-transifex-as-an-optional-plugin/" rel="noopener ugc nofollow" target="_blank">原帖发表在本页。</a></p></div></div>    
</body>
</html>