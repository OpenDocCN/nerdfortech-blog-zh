<html>
<head>
<title>Using Web Technologies to create your first Cross-Platform Desktop Application with Electron</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Web 技术创建您的第一个跨平台的电子桌面应用程序</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-web-technologies-to-create-your-first-cross-platform-desktop-application-with-electron-8180ec0c087e?source=collection_archive---------4-----------------------#2021-02-27">https://medium.com/nerd-for-tech/using-web-technologies-to-create-your-first-cross-platform-desktop-application-with-electron-8180ec0c087e?source=collection_archive---------4-----------------------#2021-02-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/a5110e8066ceb2497d43c75ca51108fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i7LupKhyUcmhfFDGEUjcQw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">反应和电子</figcaption></figure><p id="c0a0" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我必须承认，在我多年的经验中，建立一个在桌面环境下运行的软件对我来说听起来很乏味，因为我一直认为我必须学习一套全新的工具。</p><p id="3501" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但当我遇到 Electron 时，我意识到桌面应用程序开发不再像以前那样令人生畏。</p><blockquote class="js jt ju"><p id="c8b4" class="iu iv jv iw b ix iy iz ja jb jc jd je jw jg jh ji jx jk jl jm jy jo jp jq jr hb bi translated">什么是电子？亚原子粒子如何帮助我开发软件？</p></blockquote><p id="fb67" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">首先，当我说<a class="ae jz" href="https://www.electronjs.org/" rel="noopener ugc nofollow" target="_blank"> Electron </a>时，我指的是允许使用 HTML、CSS、JavaScript 等 web 技术开发桌面 GUI 应用程序的开源软件框架。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="fc03" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">为什么是电子？</h1><h2 id="9aef" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">跨平台</h2><p id="e09a" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">有许多工具可以帮助你开发在不同操作系统上运行的软件，但是只有少数工具能够提供跨平台的兼容性。值得庆幸的是，电子确实如此，这也是它如此受欢迎的主要原因之一，同时允许 Web 开发人员将他们的网站建设经验用于软件开发。</p><h2 id="7f69" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">复用性</h2><p id="7a6f" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">由于我们使用 web 技术，相同的 UI 源代码可以作为一个功能良好的网站部署在您喜欢的任何服务上。所以我们很重视<strong class="iw hj">这个原则<em class="jv">代码一旦产生，就到处使用。</em> </strong></p><h2 id="4f1d" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">安全性</h2><p id="9d52" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">从微软团队这样的大规模基于网络的软件到 Visual Studio Code 和 Atom 这样的代码编辑器都是在 electronic 中开发的。如果这还不能证明 Electron 提供的安全级别，我不知道还有什么可以证明。</p><h2 id="4e86" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">表演</h2><p id="141a" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">如果在开发过程中采取适当的措施(只加载您需要的内容)，与本机应用程序相比，Electron 在性能方面会有很大的提高。</p><h2 id="599f" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">成本和时间</h2><p id="f25b" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">我们正在使用我们作为 Web 开发人员的经验来开发桌面应用程序，这节省了我们了解各种桌面应用程序开发工具和从头开始的时间，也帮助我们跳过不同平台的不同原生功能。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="a5dd" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">电子的架构？一个黑匣子？</h1><figure class="lz ma mb mc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ly"><img src="../Images/93a8f65b6b26f83f657f25ea4b396c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i8kYXTpKdCZ_dwcwFzSNOw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">体系结构</figcaption></figure><p id="7ff5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">让我们看看电子是如何工作的。</p><ol class=""><li id="18c5" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">当您启动一个电子应用程序时，主进程请求打开窗口对象(您在前端看到的那个)。</li><li id="f16c" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">当准备好/以编程方式定义时，加载窗口对象或通常称为渲染器进程。</li></ol><p id="4558" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">没有本机功能的桌面应用程序是不完整的，所以下面是它在电子应用程序中的工作方式。</p><ol class=""><li id="2414" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">前端的渲染器进程引发一个事件。</li><li id="777e" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">渲染器进程向主进程发出事件(在<a class="ae jz" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> NodeJS </a>中编码)。</li><li id="f45b" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">主进程不断地监听各种事件，在这种情况下，让我们假设我们已经对事件进行了编码，以将文件写入本地文件系统。</li><li id="4a6a" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">主进程在接收到事件后，通过访问本地 API 对其进行操作，在我们的示例中，本地 API 将写入计算机文件系统。</li></ol></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="be62" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">用电子构建的流行软件</h1><ol class=""><li id="b3f8" class="md me hi iw b ix lt jb lu jf mr jj ms jn mt jr mi mj mk ml bi translated">Visual Studio 代码(VS 代码)</li><li id="c1bc" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">松弛的</li><li id="2179" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">长牙</li><li id="6f5d" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">邮件春天</li><li id="43ac" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">网络电话</li><li id="6fb7" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">不和谐(我个人最喜欢的，因为它有很多特性)</li><li id="f110" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">WhatsApp 桌面</li><li id="bb94" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">原子</li></ol></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="3196" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">我们怎么做呢？</h1><p id="32ef" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">现在我已经了解了电子是如何工作的，以及为什么你应该花时间去掌握它。</p><p id="c669" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们必须使用这些基础知识来开发我们可以使用的东西。这意味着我们现在开始编码。</p><h2 id="0135" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">先决条件</h2><ol class=""><li id="923c" class="md me hi iw b ix lt jb lu jf mr jj ms jn mt jr mi mj mk ml bi translated"><a class="ae jz" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">节点 JS </a></li><li id="2f72" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">代码编辑器//我用<a class="ae jz" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> VS 代码</a></li><li id="eb07" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">有一些 NodeJS 和前端开发的经验</li><li id="a744" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">快乐而新鲜的头脑</li></ol><h2 id="bcd0" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">入门指南</h2><p id="57b9" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">我假设您已经满足了本教程的所有先决条件，尤其是最后一个以及 NodeJS 和您的代码编辑器安装。</p><p id="b759" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您可以通过在终端中键入以下命令来验证 NodeJS 安装</p><pre class="lz ma mb mc fd mu mv mw mx aw my bi"><span id="d3bb" class="lf ki hi mv b fi mz na l nb nc">node -v<br/>npm -v</span></pre><p id="b2bb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果上面的命令没有打印出 NodeJS 和 NPM 的版本，您需要仔细阅读它们的官方文档，并在继续下一步之前安装它。</p><p id="ed24" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以现在我们需要访问<a class="ae jz" href="https://www.electronjs.org/docs/tutorial/quick-start" rel="noopener ugc nofollow" target="_blank">电子官网</a>了解一些基本信息比如如何在本地设置电子。但是它是可选的，因为我将一步一步地讲解它。</p><h2 id="858b" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">创建项目</h2><p id="fd50" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">您需要在您的计算机中创建一个目录来保存项目的源代码，我将只使用终端来完成此类任务，因此您可以执行以下命令来创建目录并在其中移动</p><pre class="lz ma mb mc fd mu mv mw mx aw my bi"><span id="6b01" class="lf ki hi mv b fi mz na l nb nc">mkdir electron-demo<br/>cd electron-demo</span></pre><h2 id="8dbb" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">电子在哪里？</h2><p id="bb3b" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">在安装 Electron 之前，您需要用下面的命令初始化项目。</p><pre class="lz ma mb mc fd mu mv mw mx aw my bi"><span id="ff03" class="lf ki hi mv b fi mz na l nb nc">npm init -y</span></pre><p id="a526" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">上面的命令将在您的根目录下创建一个基本的<code class="du nd ne nf mv b"><strong class="iw hj"><em class="jv">package.json</em></strong></code>文件。随着本教程的深入，我们将使用该文件来创建脚本并在项目中安装 npm 包。</p><p id="c580" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们需要通过在终端中键入以下命令来将 Electron 安装到项目中</p><pre class="lz ma mb mc fd mu mv mw mx aw my bi"><span id="6dac" class="lf ki hi mv b fi mz na l nb nc">npm i --save-dev electron</span></pre><p id="44c7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这个命令将在你的项目根目录下生成一个名为<code class="du nd ne nf mv b">node_modules</code>的文件夹和一个<code class="du nd ne nf mv b">package-lock.json</code>。你可以通过进入<code class="du nd ne nf mv b">node_modules</code>并寻找<code class="du nd ne nf mv b">electron</code>目录来验证电子的安装。</p><p id="4b93" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">标志将电子安装为一个 dev 依赖项。我们为什么这么做？因为当我们打包一个应用程序时，它的运行不再需要电子。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="dd01" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">编写应用程序代码</h1><h2 id="80e7" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">配置 main.js</h2><p id="7cde" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated"><code class="du nd ne nf mv b">main.js</code>是我们电子申请的入口文件。但是<code class="du nd ne nf mv b">main.js</code>只是一个名字，也是惯例，因为它将运行控制应用程序生命周期和访问本地 API 的主进程。<br/>你可以随意命名，唯一的事情是在<code class="du nd ne nf mv b">package.json</code>中指定<code class="du nd ne nf mv b">main</code>文件，但是记住，只能有一个主文件。<br/>所以，让我们在你的项目根目录下创建一个<code class="du nd ne nf mv b">main.js</code>，并把下面的代码放入其中。</p><figure class="lz ma mb mc fd ij"><div class="bz dy l di"><div class="ng nh l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">基本电子代码</figcaption></figure><p id="40fc" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，让我们看看代码中有什么。</p><ul class=""><li id="8c53" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr ni mj mk ml bi translated"><strong class="iw hj">线 1: </strong>我们正在从电子封装导入<code class="du nd ne nf mv b">app</code>和<code class="du nd ne nf mv b">BrowserWindow</code>。<code class="du nd ne nf mv b">app</code>是控制应用程序事件生命周期的模块，而<code class="du nd ne nf mv b">BrowserWindow</code>创建并管理我们在 UI 中看到的窗口。您可以单独访问<code class="du nd ne nf mv b"><a class="ae jz" href="https://www.electronjs.org/docs/api/app" rel="noopener ugc nofollow" target="_blank">app</a></code>和<code class="du nd ne nf mv b"><a class="ae jz" href="https://www.electronjs.org/docs/api/browser-window" rel="noopener ugc nofollow" target="_blank">BrowserWindow</a></code>文档来探索它们和它们的事件。</li><li id="3fed" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr ni mj mk ml bi translated"><strong class="iw hj">第 5 行:</strong>我们正在用给定的选项创建一个浏览窗口。留下那些不言自明的，让我们过一遍<code class="du nd ne nf mv b">nodeIntegration</code>和<code class="du nd ne nf mv b">enableRemoteModule</code>。<br/> 1。<strong class="iw hj"> nodeIntegration </strong>:允许 BrowserWindow 访问 NodeJS API。<br/> 2。<strong class="iw hj"> enableRemoteModule </strong>:使浏览器窗口能够访问<br/>远程模块<strong class="iw hj">和</strong>模块<strong class="iw hj">主</strong>进程和<strong class="iw hj">渲染器</strong>进程<strong class="iw hj">之间的通信。</strong></li><li id="c8f7" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr ni mj mk ml bi translated"><strong class="iw hj">第 16 行:</strong>我们正在窗口内加载<code class="du nd ne nf mv b">index.html</code>文件。接下来我们将创建该文件。</li><li id="ab0c" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr ni mj mk ml bi translated"><strong class="iw hj">第 18 行:</strong>我们告诉窗口在它自己关闭的时候退出<code class="du nd ne nf mv b">app</code>。</li><li id="1e38" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr ni mj mk ml bi translated"><strong class="iw hj">第 23 行:</strong>我们告诉<code class="du nd ne nf mv b">app</code>当它完成加载时创建窗口。</li><li id="c8cd" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr ni mj mk ml bi translated"><strong class="iw hj">第 25 行:</strong>我们正在添加一个新的监听器，当应用程序不再有任何打开的窗口时，它会尝试退出应用程序。这在 macOS 中是不需要的，所以<code class="du nd ne nf mv b">if</code>语句。</li><li id="b32b" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr ni mj mk ml bi translated"><strong class="iw hj">第 31 行:</strong>我们正在添加一个新的监听器，只有当应用程序被激活后没有可见窗口时，它才会创建一个新的浏览器窗口。例如，在第一次启动应用程序之后，或者重新启动已经运行的应用程序。</li></ul><h2 id="ca82" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">创造 index.html</h2><p id="f5f3" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">现在我们需要创建我们将在浏览器窗口中看到的文件。在我们的例子中，它是我们创建<code class="du nd ne nf mv b">main.js</code>时在<strong class="iw hj">行 16 </strong>中定义的<code class="du nd ne nf mv b">index.html</code>。</p><figure class="lz ma mb mc fd ij"><div class="bz dy l di"><div class="ng nh l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">基本电子 HTML</figcaption></figure><p id="8c3b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在上面的代码中，让我们关注如何打印内存，以及浏览器窗口运行的 Chrome 版本。<br/>脚本标签正在用流程模块打印信息，该模块只对 BrowserWindow 对象可用，因为我们在上面写<code class="du nd ne nf mv b">main.js</code>时启用了<code class="du nd ne nf mv b">nodeIntegration</code>。</p><p id="a8f5" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在我们已经设置了后端和前端，我们如何看到结果呢？</p><ol class=""><li id="dd0f" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">为此，我们需要在<code class="du nd ne nf mv b">package.json</code>中添加一个脚本。所以打开它，在<code class="du nd ne nf mv b">scripts</code>里面添加一个新的条目<code class="du nd ne nf mv b">"start" : "electron ."</code></li><li id="059c" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">我们还需要指向我们的入口点 NodeJS 文件，在我们的项目中是<code class="du nd ne nf mv b">main.js </code>。所以我们修改<code class="du nd ne nf mv b">"main": "main.js"</code>。</li></ol><p id="0311" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">所以<code class="du nd ne nf mv b">package.json</code>会开始如下图。</p><figure class="lz ma mb mc fd ij"><div class="bz dy l di"><div class="ng nh l"/></div></figure><p id="e4fd" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，我们需要做的就是运行脚本，我们可以通过进入终端，导航到根目录，并键入以下命令来完成。</p><pre class="lz ma mb mc fd mu mv mw mx aw my bi"><span id="e980" class="lf ki hi mv b fi mz na l nb nc">npm start</span></pre><p id="fb9b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">如果一切正常，我们应该会看到下面的屏幕弹出。</p><figure class="lz ma mb mc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nj"><img src="../Images/54acbaed6c890da5dc8681dec6151b9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uCrMc2QamR951NETz5xTcw.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">带<code class="du nd ne nf mv b">index.html</code>的基本电子窗</figcaption></figure><p id="f655" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有用的提示——我们已经将主进程编程为加载名为<code class="du nd ne nf mv b">index.html</code>的文件，但是我们也可以通过<code class="du nd ne nf mv b">window.loadURL('https://google.com')</code>而不是<code class="du nd ne nf mv b">main.js</code>中的<code class="du nd ne nf mv b">window.loadFile('index.html')</code>将预先存在的网站直接加载到窗口中。因此，我们不需要编写大量代码来将我们的网站移植到桌面应用程序中。电子帮你搞定了。</p><figure class="lz ma mb mc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nj"><img src="../Images/2611ea64ec3653d4bb22f05808c788c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e4pHBQ4TrtoA392KPvm_yg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">将网站直接加载到浏览器窗口</figcaption></figure><p id="174f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">但为了实验起见，我们会保持在<code class="du nd ne nf mv b">window.loadFile('index.html')</code>。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="e516" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">进程间通信</h1><p id="a462" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">如果它不与<strong class="iw hj">本地 API 交互，它就不是桌面应用程序。因此我们将执行一个基本操作来展示电子在这方面的能力。<br/>我们可以用 IPC(进程间通信)模块来实现。<br/>主进程和渲染器进程分别使用<code class="du nd ne nf mv b">ipcMain</code>和<code class="du nd ne nf mv b">ipcRenderer</code>模块。</strong></p><p id="9ce4" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们将遵循的流程如下:</p><ol class=""><li id="7b3b" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">在<strong class="iw hj">浏览器窗口</strong>中发生一个事件，它向主进程发出一个信号和可选数据。</li><li id="cf72" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated"><strong class="iw hj">主进程</strong>响应<strong class="iw hj">事件信号</strong>，可能会将一些数据返回给<strong class="iw hj">渲染器进程</strong> (BrowserWindow)或在后端执行操作，或者两者兼而有之。</li></ol><p id="a03d" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">注意——这是可能的，因为我们在创建浏览器窗口时启用了<code class="du nd ne nf mv b">main.js</code>中的<strong class="iw hj">远程模块</strong>。</p><h2 id="2411" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">让我们来看看实际情况。</h2><figure class="lz ma mb mc fd ij"><div class="bz dy l di"><div class="ng nh l"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">index.html 国际残奥委会赛事</figcaption></figure><p id="e3d7" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">在上面的代码中，让我们关注一下<code class="du nd ne nf mv b">&lt;script&gt;..&lt;/script&gt;</code>标签里面的内容。</p><ol class=""><li id="bd07" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">我们正在从电子包中加载 ipcRenderer 模块，该模块仅对我们可用，因为我们在<code class="du nd ne nf mv b">main.js</code>中启用了<code class="du nd ne nf mv b">remoteModule</code>。</li><li id="bdd1" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">我们在 HTML 中的一个按钮上添加了一个<code class="du nd ne nf mv b">click</code>事件监听器，它将发出一个名为<code class="du nd ne nf mv b">performActions</code>的信号供主进程监听。</li><li id="39e1" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">我们还发送了一个包含两个输入字段<code class="du nd ne nf mv b">firstName</code>和<code class="du nd ne nf mv b">lastName</code>的对象，作为主流程执行所需操作的参数。</li></ol><p id="762f" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">现在，事件在哪里处理？我们在<code class="du nd ne nf mv b">main.js</code>中这样做。</p><figure class="lz ma mb mc fd ij"><div class="bz dy l di"><div class="ng nh l"/></div></figure><p id="d6bb" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">了解新代码吗？好吧，让我给你解释一下。</p><ol class=""><li id="3a8c" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">与之前的<code class="du nd ne nf mv b">main.js</code>相比，第一个不同是现在我们导入了 2 个额外的包，称为<code class="du nd ne nf mv b">ipcMain</code>和<code class="du nd ne nf mv b">dialog</code>。</li><li id="4cfc" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">当我们添加一个事件监听器(<code class="du nd ne nf mv b">performActions</code>)时，<code class="du nd ne nf mv b">ipcMain</code>在<strong class="iw hj">第 36 行</strong>起作用。</li><li id="81b0" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">在我使用本机功能的例子中，我使用从表单(<code class="du nd ne nf mv b">firstName</code> &amp; <code class="du nd ne nf mv b">lastName</code>)接收的数据，并创建一个出现在浏览器窗口中的本机对话框。</li></ol><p id="84e2" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">注意——显示对话框是用户的选择，我想让教程尽可能简单易懂。</p><p id="4f53" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">一个实际的例子是使用 NodeJS 的<code class="du nd ne nf mv b">fs</code>模块将数据存储在本地文件系统的某个地方，并在第一次启动或任何其他事件时将其发送到<code class="du nd ne nf mv b">BrowserWindow</code>。</p><figure class="lz ma mb mc fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es nj"><img src="../Images/5861aceefa9467ae9f89283abb4eebfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BPlyPkzMYQUf9LTssFChSg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">IPC 结果</figcaption></figure><blockquote class="js jt ju"><p id="e008" class="iu iv jv iw b ix iy iz ja jb jc jd je jw jg jh ji jx jk jl jm jy jo jp jq jr hb bi translated">对话框和模态有什么不同？</p></blockquote><p id="6f13" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">Modal 是一个定制的 CSS 元素，它在所有平台上都保持不变。但是通过访问<strong class="iw hj">本地 API</strong>创建的对话框会根据操作系统而改变。</p><p id="0cfe" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">有太多的原生模块让我无法一一介绍，所以你可以<a class="ae jz" href="https://www.electronjs.org/docs" rel="noopener ugc nofollow" target="_blank">点击这里</a>在官方文档中探索它们。</p><p id="d31b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">系统中有多种类型的对话框，你可以在这里探索它们<a class="ae jz" href="https://www.electronjs.org/docs/api/dialog" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="f5df" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">关于使用 Web 技术创建第一个跨平台桌面应用程序的教程<strong class="iw hj">到此结束</strong></p><p id="b58c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">你也可以访问这个项目的<a class="ae jz" href="https://github.com/tusharguliany/electron-demo" rel="noopener ugc nofollow" target="_blank"> Github 库</a>来查看完整的源代码。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="aa9c" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">电子的替代品？</h1><h2 id="5011" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">摆动</h2><p id="2e4d" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated"><strong class="iw hj">优点</strong></p><ol class=""><li id="b6a8" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">开放源码</li><li id="3288" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">大量的功能，如调试工具，热重装</li><li id="2355" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">基于 Dart 语言</li></ol><p id="4158" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">缺点</strong></p><ol class=""><li id="0e56" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">仍在开发中</li><li id="8357" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">与 Java 或 Kotlin 相比，社区支持乏善可陈</li></ol><h2 id="efe1" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">B4X</h2><p id="6f40" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated"><strong class="iw hj">优点</strong></p><ol class=""><li id="7abc" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">伟大的社区</li><li id="ee71" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">简单快捷</li><li id="8eac" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">实时代码交换//热重装</li><li id="ff93" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">非常强大的物联网//跨平台支持蓝牙/BLE、MQTT、TCP/UDP、串行、NFC、Websockets、HTTP/2，是物联网项目的理想工具</li></ol><p id="e623" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">缺点</strong></p><ol class=""><li id="ec83" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">依赖于 Java 的桌面环境</li></ol><h2 id="08b3" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">wxWidgets</h2><p id="b3b5" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated"><strong class="iw hj">赞成者</strong></p><ol class=""><li id="e590" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">成熟的</li><li id="db95" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">真正的本地外观和感觉</li><li id="9fdb" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">开放源码</li></ol><p id="9dec" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">缺点</strong></p><ol class=""><li id="3ab3" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">繁重的编译结果</li></ol><h2 id="5171" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">质子原生</h2><p id="6b27" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated"><strong class="iw hj">优点</strong></p><ol class=""><li id="8e46" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">非常快</li><li id="08dd" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">反应风格</li><li id="0e6f" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">完全跨平台兼容</li><li id="07b3" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">轻量级选手</li><li id="1a78" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">React 本地应用可重用代码</li><li id="92fe" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">本地组件</li></ol><p id="9440" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">缺点</strong></p><ol class=""><li id="27ec" class="md me hi iw b ix iy jb jc jf mf jj mg jn mh jr mi mj mk ml bi translated">与电子相比，我发现社区支持非常枯燥。</li><li id="1188" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">此时组件的数量非常少。</li></ol><h2 id="4240" class="lf ki hi bd kj lg lh li kn lj lk ll kr jf lm ln kv jj lo lp kz jn lq lr ld ls bi translated">其他工具</h2><ol class=""><li id="fc8d" class="md me hi iw b ix lt jb lu jf mr jj ms jn mt jr mi mj mk ml bi translated">JavaFx</li><li id="befa" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">NodeGUI</li><li id="3abd" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">React 桌面</li><li id="1941" class="md me hi iw b ix mm jb mn jf mo jj mp jn mq jr mi mj mk ml bi translated">摇摆</li></ol></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><h1 id="5604" class="kh ki hi bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">下一步是什么？</h1><p id="3428" class="pw-post-body-paragraph iu iv hi iw b ix lt iz ja jb lu jd je jf lv jh ji jj lw jl jm jn lx jp jq jr hb bi translated">现在我们可以浏览<a class="ae jz" href="https://www.electronjs.org/docs/all" rel="noopener ugc nofollow" target="_blank">文档</a>来体验完整的工具集。</p><p id="bf0b" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">由于 NodeJS 是用于<strong class="iw hj">主进程的语言服务，</strong>您可以将它与 React、Angular 等前端技术相结合，创建全面的全栈桌面应用程序，通过充分利用 NodeJS 和 NPM 库的潜力，为您提供现代定制应用程序的外观和感觉，以及可靠和功能丰富的本机环境。</p><p id="be87" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">您还可以通过访问关于发布的官方文档来学习如何打包您的应用程序，并公开提供给每个人使用。</p></div><div class="ab cl ka kb gp kc" role="separator"><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf kg"/><span class="kd bw bk ke kf"/></div><div class="hb hc hd he hf"><p id="2096" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">如果你喜欢这篇文章，请鼓掌或评论，或者两者兼而有之。更多即将到来。</strong></p><p id="3b7c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">您也可以进入我的</strong> <a class="ae jz" href="https://github.com/tusharguliany" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hj"> Github 个人资料</strong> </a> <strong class="iw hj">查看我的作品，或者访问我的</strong><a class="ae jz" href="https://www.linkedin.com/in/tusharguliany/" rel="noopener ugc nofollow" target="_blank"><strong class="iw hj">LinkedIn</strong></a><strong class="iw hj">如果您对本文或任何其他内容有任何疑问或反馈，请亲自与我联系。</strong></p><p id="486c" class="pw-post-body-paragraph iu iv hi iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hj">快乐编码……</strong></p></div></div>    
</body>
</html>