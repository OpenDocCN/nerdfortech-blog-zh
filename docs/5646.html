<html>
<head>
<title>Getting Started with FastAPI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速 API 入门</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/getting-started-with-fastapi-cc005fb818d2?source=collection_archive---------0-----------------------#2021-10-27">https://medium.com/nerd-for-tech/getting-started-with-fastapi-cc005fb818d2?source=collection_archive---------0-----------------------#2021-10-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/1d9f63a1d0109ab759d37530a55a8b18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*du7p50wS_fIsaC_lR18qsg.png"/></div></div></figure><p id="a5bd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本教程中，我们将探索 FastAPI，更具体地说是构建 RESTful APIs 和在服务器上部署应用程序。</p><p id="10f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">FastAPI 是一个用 Python 开发 RESTful APIs 的 Web 框架。它完全支持异步编程，可以与 Uvicorn 和 Gunicorn 一起运行。Uvicorn 是一个快如闪电的 ASGI 服务器实现。</p><p id="6d69" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们将首先创建一个基本的 FastAPI 应用程序，然后将它部署在<a class="ae jo" href="https://www.deta.sh/?ref=fastapi" rel="noopener ugc nofollow" target="_blank"> Deta </a>上。</p><h2 id="ec07" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">创建一个基本的 FastAPI 应用程序</h2><p id="226a" class="pw-post-body-paragraph iq ir hi is b it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj ko jl jm jn hb bi translated">为您的应用程序创建一个目录，并创建一个名为<strong class="is hj"> main.py 的新文件。</strong>这是您的应用程序的入口点。我们将在该文件中创建端点。</p><p id="1b79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在创建端点之前，我们需要定义数据。让我们考虑一个简单的学生例子。让我们创建一个学生详细信息的 JSON 表示。之后，让我们创建基于不同场景检索数据的端点。</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kt ku l"/></div></figure><p id="df79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">从上面可以看出，数据存储在<strong class="is hj"> students，</strong>中，它由 id 和相应的 object 两个元素组成。该对象由姓名、年龄和阶级等细节组成。</p><p id="c410" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们考虑所有的情况。看第一个场景；点击索引页时要检索的数据。“@app.get()”指定我们在这里使用 get 方法。此外，这里的参数类型是<strong class="is hj"> path、</strong>，这个场景的路径是“/”。第二个场景是检索具有特定 id 的学生的数据。这里的路径是“/get-students/{student_id}”，其中 student_id 是一个整数。第三个场景是检索具有特定姓名的学生的数据。这里我们使用了查询参数。路径“/get-by-name”被附加到 URL，并且查询名称<strong class="is hj">被传递。在第三种方法中，我们遍历学生列表，并检查姓名与用户在查询中提供的姓名相匹配的学生。当找到匹配时，返回该特定对象。在最后一个场景中，返回整个学生列表。这里的路径是“/get-students/”。</strong></p><p id="ba66" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们已经实现了端点，让我们继续下一步。</p><p id="7abd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">要求</strong></p><p id="6b9a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，在同一个目录中创建一个文件<strong class="is hj"> requirements.txt </strong>，包含:</p><blockquote class="kv kw kx"><p id="1693" class="iq ir ky is b it iu iv iw ix iy iz ja kz jc jd je la jg jh ji lb jk jl jm jn hb bi translated">fastapi</p></blockquote><h2 id="1736" class="jp jq hi bd jr js jt ju jv jw jx jy jz jb ka kb kc jf kd ke kf jj kg kh ki kj bi translated">部署</h2><p id="f214" class="pw-post-body-paragraph iq ir hi is b it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj ko jl jm jn hb bi translated">第一步是在<a class="ae jo" href="https://www.deta.sh/?ref=fastapi" rel="noopener ugc nofollow" target="_blank"> Deta </a>上<strong class="is hj">创建一个账户</strong>。下一步是<strong class="is hj">安装</strong>Deta 的<strong class="is hj"> CLI </strong>版本。如果您在 Linux 机器上，您可以在终端上执行以下命令。</p><blockquote class="kv kw kx"><p id="0360" class="iq ir ky is b it iu iv iw ix iy iz ja kz jc jd je la jg jh ji lb jk jl jm jn hb bi translated">https://get.deta.dev/cli.sh |上海</p></blockquote><p id="3930" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">安装后，打开一个新的终端，以便检测安装的 CLI。在新终端中，确认正确安装了:</p><blockquote class="kv kw kx"><p id="e52d" class="iq ir ky is b it iu iv iw ix iy iz ja kz jc jd je la jg jh ji lb jk jl jm jn hb bi translated">详细信息—帮助</p></blockquote><p id="6675" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下一步是从 CLI 登录 Deta。</p><blockquote class="kv kw kx"><p id="7192" class="iq ir ky is b it iu iv iw ix iy iz ja kz jc jd je la jg jh ji lb jk jl jm jn hb bi translated">详细登录</p></blockquote><p id="2816" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将打开一个 web 浏览器并自动进行身份验证。</p><p id="3ae4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后一步是部署应用程序。在项目目录中执行以下命令。</p><blockquote class="kv kw kx"><p id="4d5e" class="iq ir ky is b it iu iv iw ix iy iz ja kz jc jd je la jg jh ji lb jk jl jm jn hb bi translated">deta 新</p></blockquote><p id="0da2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您将看到类似于以下内容的 JSON 消息:</p><figure class="kp kq kr ks fd ij"><div class="bz dy l di"><div class="kt ku l"/></div></figure><p id="a457" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，打开带有端点 URL 的浏览器。在上面的例子中，是<a class="ae jo" href="https://hwzlsi.deta.dev/" rel="noopener ugc nofollow" target="_blank">https://hwzlsi.deta.dev/</a>，但是你的将会不同。如前所述，您可以使用不同的场景来测试 API。您也可以通过访问您的 URL 的/docs 来执行交互式测试。它会向您的文档显示如下内容:</p><figure class="kp kq kr ks fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lc"><img src="../Images/a746e33c8871b67eb0fb7c19737dcfe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RaczpN3KBCeNaGe-Yq34FQ.png"/></div></div></figure><p id="703f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">恭喜你。您将 FastAPI 应用程序部署到了 Deta！🎉 🍰</p><p id="f26d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本教程到此结束。感谢阅读！编码快乐！</p><p id="fb1e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您有任何疑问，请在下面的<strong class="is hj">评论</strong>部分发帖。在<a class="ae jo" href="https://www.linkedin.com/in/vaidhyanathansm/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系。此外，如果你想看看我开发的惊人的应用程序集，别忘了查看<a class="ae jo" href="https://play.google.com/store/apps/developer?id=Programmers+Gateway" rel="noopener ugc nofollow" target="_blank">谷歌 Play 商店</a>。</p><p id="5933" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">更多了解我<a class="ae jo" href="http://vaidhyanathansm.netlify.app/" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div></div>    
</body>
</html>