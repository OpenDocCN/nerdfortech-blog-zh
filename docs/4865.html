<html>
<head>
<title>Angular — ViewChild for component, DOM element, element of component, and directive</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Angular 组件、DOM 元素、组件的元素和指令的 ViewChild</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/angular-viewchild-for-component-dom-element-element-of-component-and-directive-c23328ee1525?source=collection_archive---------1-----------------------#2021-08-11">https://medium.com/nerd-for-tech/angular-viewchild-for-component-dom-element-element-of-component-and-directive-c23328ee1525?source=collection_archive---------1-----------------------#2021-08-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="d820" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我正在学习 Angular 并热爱它，但有些概念比其他概念更令人困惑。我为较难的人写文章(对我来说更难)，因为这有助于我理解。这是我对 ViewChild 的尝试。</p><p id="858e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我将在<a class="ae jd" href="https://stackblitz.com/" rel="noopener ugc nofollow" target="_blank">https://stackblitz.com/</a>上尝试这段代码，这样你也可以去那里做同样的事情，如果你选择 Angular 的话。</p><p id="1d0d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">使用 ViewChild，我们可以通过获取对模板(html)元素的引用，将这些元素注入到组件(ts)中。我们可以得到参考资料</p><ul class=""><li id="1d4e" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">一个组件</li><li id="c31a" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">DOM 元素</li><li id="c853" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">组件的元素</li><li id="a7cb" class="je jf hi ih b ii jn im jo iq jp iu jq iy jr jc jj jk jl jm bi translated">一个指令。</li></ul><h1 id="5dec" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">1-引用一个组件</h1><p id="e277" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">当您选择 Angular 时，在 stackblitz 中创建的默认应用程序在 app.component.html 中具有此代码。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es kv"><img src="../Images/845f039526f57f9b65daf5bbbcdf960b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*wwtwb5XH7mO68KACLpygnQ.png"/></div></figure><p id="387e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">默认情况下，应用程序组件是:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es ld"><img src="../Images/887ac646b51022ad284d54f236e91a8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*6GYgApC0x0R-RmfnAe-0Dg.png"/></div></figure><p id="56e0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们还得到了 hello 组件:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es le"><img src="../Images/5c3dcc6163609d2321f7ff4615c7a0a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*NIHpzyT-kFIejfpdd5hqWQ.png"/></div></figure><p id="69f2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们想访问 app ts 文件中的 hello 组件，我们可以这样做。</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lf"><img src="../Images/7dc6090e22771f7258cffa78ddac971f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z_p0tuherJLDVvMkoxOxSg.png"/></div></div></figure><p id="d427" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以访问 ngOnInit 中的 myHelloComponent 变量，这是我们得到的结果:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lk"><img src="../Images/9d97fab7d8a9914dec353c039b8869f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NYOfrT5eCdxnzng7j0zVpA.png"/></div></div></figure><p id="ca8b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我想看看当我向应用程序的模板添加另一个 Hello 组件并运行相同的代码时会发生什么。其他一切还是老样子。代码运行并在控制台上显示信息。</p><p id="ab88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，如果 hello 组件上的名称来自应用程序，而我给了不同的名称，该怎么办呢？在应用程序模板中:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es ll"><img src="../Images/52d079c0fa06fb2c2a9f2ea5050055bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*UPX1g6N6HKhiQ4y-S1fwNA.png"/></div></figure><p id="1e6d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在应用程序 ts 文件中:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es lm"><img src="../Images/148f9b626c6e216ad8d8910ec007555a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*77eaKttTrISRfMd9fQNL5A.png"/></div></figure><p id="5dbe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在浏览器中，我们会看到:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es ln"><img src="../Images/b6326d76079a96efd2c48ba036dba975.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*HLvXoDxZMBTIciVN-LlfYQ.png"/></div></figure><p id="acbd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在控制台上，我们得到第一个 hello 组件:</p><p id="8777" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">hello component</strong>{ _ _ ng context _ _:LComponentView _ app component(46)}<br/>名称:"<strong class="ih hj"> Angular 12" </strong> <br/> …</p><h1 id="cf80" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">2-引用特定的 DOM 元素。</h1><p id="ddbd" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">我现在将应用程序模板更改为:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es lo"><img src="../Images/84c10622d94cd102912902997d188004.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/1*gjnPbpLfmmsS_gtBGSuxHQ.png"/></div></figure><p id="33c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们可以将特定的元素注入到组件中，而不是组件。在应用程序组件中:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lp"><img src="../Images/742d6011117b9cdf958aac11498eaa94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lWUhb_wfipaDPeG92Jktgg.png"/></div></div></figure><p id="8229" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在控制台上，我们将看到:</p><p id="07d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">nativeElement: h1</p><p id="994a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">…</p><p id="aac2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">innerHTML:“我是标题”</p><p id="bf09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">innerText:“我是一个标题”</p><p id="31df" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们尝试对 hello 组件元素使用上述方法，会发生什么情况？</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es lq"><img src="../Images/17a921c0f324001112883408319c29c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*VRJ_Nowm7NwWXAiaaJ3DQw.png"/></div></figure><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lr"><img src="../Images/677836782772b2e12b3d364c6a81bdce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TRCCsMIFFeil513KMgPeXg.png"/></div></div></figure><p id="cb53" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在控制台中，我们仍将获得组件。</p><p id="17cf" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们这样做，我们仍然会得到组件:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es ls"><img src="../Images/07d1b294770f650892957b9b450a03b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*adjIOxfSu7YYU22MozkmmA.png"/></div></div></figure><p id="9eb8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">那么，我们如何更深入地了解组件呢？</p><h1 id="729d" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">3 —深入了解组件</h1><p id="f759" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">将上面的 ViewChild 更改为如下所示:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lt"><img src="../Images/1444cba47d32ac31d728ef7e5a699608.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XpAA-Q4aSd2p7LK384VOHQ.png"/></div></div></figure><p id="a870" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，在控制台上，我们将看到这个而不是组件:</p><p id="cafa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"><em class="lu">element ref { native element:hello }</em></strong></p><p id="ee8c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">nativeElement:你好</p><p id="4119" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">…</p><p id="0c43" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">内文:“你好 Angular 12！”</p><p id="cb1f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi">…</p><h1 id="dc6e" class="js jt hi bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">4-引用指令</h1><p id="3ef8" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq ks is it iu kt iw ix iy ku ja jb jc hb bi translated">我现在将模板更改为:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div class="er es lv"><img src="../Images/8fe6e3d67d04ae3214637f5250052d05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*WlMXQHnsnVAhOdpXaN6f8g.png"/></div></figure><p id="6783" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在组件中:</p><figure class="kw kx ky kz fd la er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lw"><img src="../Images/dd48031c27088c4874a4da792fbcc6af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gx0d8nCNx_rc8tuUhtHGWA.png"/></div></div></figure><p id="7fa6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在控制台上:</p><ol class=""><li id="62b3" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc lx jk jl jm bi translated"><em class="lu"> NgStyle … </em></li></ol><p id="1e94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">…ng style:{ background color:" yellow " }</p><p id="faf5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我对 ViewChild 的总结，接下来我要对 ngContent 和 contentChild 做一个总结。</p><p id="6715" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果有什么不清楚的地方或者我搞砸了，请告诉我:-)</p></div></div>    
</body>
</html>