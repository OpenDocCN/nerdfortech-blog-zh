<html>
<head>
<title>Valid Number — Linkedin Interview Question</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有效数字— Linkedin 面试问题</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/valid-number-daily-challenge-may-bb469d04ceb0?source=collection_archive---------18-----------------------#2021-05-15">https://medium.com/nerd-for-tech/valid-number-daily-challenge-may-bb469d04ceb0?source=collection_archive---------18-----------------------#2021-05-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/d080371a8bfd544480f4f2c5df7e1da5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jm2pgdUBpBcKMoRG17FglQ.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">迈克尔·范·克尔克霍夫在<a class="ae hv" href="https://unsplash.com/s/photos/number?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><div class=""/><p id="f726" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">今天的问题来自每日 Leetcode 编码挑战赛——五月版。这是一个难以回答的问题。让我们看看问题陈述。</p><h2 id="c764" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated"><a class="ae hv" href="https://leetcode.com/problems/valid-number/" rel="noopener ugc nofollow" target="_blank"> 65。</a>有效号码</h2><p id="d372" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">一个<strong class="ix hz">有效数字</strong>可以分成以下几个部分(按顺序):</p><blockquote class="kt ku kv"><p id="0136" class="iv iw kw ix b iy iz ja jb jc jd je jf kx jh ji jj ky jl jm jn kz jp jq jr js hb bi translated">1.一个十进制数<strong class="ix hz">或一个整数</strong>。<br/> 2。(可选)一个<code class="du la lb lc ld b">'e'</code>或<code class="du la lb lc ld b">'E'</code>，后跟一个<strong class="ix hz">整数</strong>。</p></blockquote><p id="fc34" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个<strong class="ix hz">十进制数</strong>可以分解成以下几个部分(按顺序):</p><blockquote class="kt ku kv"><p id="ad74" class="iv iw kw ix b iy iz ja jb jc jd je jf kx jh ji jj ky jl jm jn kz jp jq jr js hb bi translated">1.(可选)一个符号字符(<code class="du la lb lc ld b">'+'</code>或<code class="du la lb lc ld b">'-'</code>)。<br/> 2。以下格式之一:<br/> 3。至少一位数字，后跟一个点<code class="du la lb lc ld b">'.'</code>。<br/> 4。至少一位数字，后接一个点<code class="du la lb lc ld b">'.'</code>，后接至少一位数字。<br/> 5。一个点<code class="du la lb lc ld b">'.'</code>，后跟至少一个数字。</p></blockquote><p id="8c96" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一个<strong class="ix hz">整数</strong>可以分成以下几个部分(按顺序):</p><blockquote class="kt ku kv"><p id="69e1" class="iv iw kw ix b iy iz ja jb jc jd je jf kx jh ji jj ky jl jm jn kz jp jq jr js hb bi translated">1.(可选)符号字符(或者<code class="du la lb lc ld b">'+'</code>或者<code class="du la lb lc ld b">'-'</code>)。<br/> 2。至少一位数字。</p></blockquote><h2 id="e560" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">示例:</h2><p id="cd70" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">有效数字:</p><pre class="le lf lg lh fd li ld lj lk aw ll bi"><span id="135f" class="jt ju hy ld b fi lm ln l lo lp">["2", "0089", "-0.1", "+3.14", "4.", "-.9", "2e10", "-90E3", "3e+7", "+6e-1", "53.5e93", "-123.456e789"]</span></pre><p id="571a" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">无效数字:</p><pre class="le lf lg lh fd li ld lj lk aw ll bi"><span id="b109" class="jt ju hy ld b fi lm ln l lo lp">["abc", "1a", "1e", "e3", "99e2.5", "--6", "-+3", "95a54e53"]</span></pre><h2 id="721e" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">理解问题</h2><p id="ccd9" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">这个问题是找到有效的模式，看看我们是否能找到给定字符串的模式。如果我们为每个字符绘制决策树，那么我们得到如下结果</p><figure class="le lf lg lh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lq"><img src="../Images/50f91a345aaca508632acc1176ae8609.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JPL-jLriM-RcQU14yUF7jg.png"/></div></div></figure><p id="765b" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果我们列出所有以数字或小数结尾的路径，我们将得到所有可能有效模式的列表。</p><pre class="le lf lg lh fd li ld lj lk aw ll bi"><span id="2ae5" class="jt ju hy ld b fi lm ln l lo lp">'xd','x.d','xd.','xd.d','xsd','xsd.','xsd.d','xded','x.ded', 'xd.ed','xd.ded','xsded','xsd.ed','xsd.ded','xdesd','x.desd', 'xd.esd','xd.desd','xsdesd','xsd.esd','xsd.desd','xs.d','xs.ded', 'xs.desd'</span></pre><p id="55d2" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们只需检查给定的单词是否具有上述任何模式。为了生成模式，我们忽略重复出现的数字。我们只用一个符号“d”来表示它们。</p><p id="aec3" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">代码实现:</p><pre class="le lf lg lh fd li ld lj lk aw ll bi"><span id="6211" class="jt ju hy ld b fi lm ln l lo lp">def isNumber(s):<br/>    valid_patterns = ('xd','x.d','xd.','xd.d','xsd','xsd.',<br/>              'xsd.d','xded','x.ded','xd.ed','xd.ded',<br/>              'xsded','xsd.ed','xsd.ded', 'xdesd', 'x.desd', <br/>              'xd.esd', 'xd.desd', 'xsdesd', 'xsd.esd', <br/>              'xsd.desd', 'xs.d', 'xs.ded', 'xs.desd'<br/>              )</span><span id="84d5" class="jt ju hy ld b fi lr ln l lo lp">    patttern = 'x'<br/>    for ch in s:<br/>        if ch == '+' or ch == '-': patttern += 's'<br/>        elif ch == 'e' or ch == 'E': patttern += 'e'<br/>        elif ch.isdigit():<br/>            if patttern[-1] != 'd': patttern += 'd'<br/>        elif ch == '.': patttern += '.'<br/>        else: return False<br/>        <br/>    return patttern in valid_patterns</span></pre><p id="97d3" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hz">复杂性分析</strong></p><ul class=""><li id="4a55" class="ls lt hy ix b iy iz jc jd jg lu jk lv jo lw js lx ly lz ma bi translated">时间复杂度:O(n)，其中 N 是给定字符串的长度。</li><li id="cddc" class="ls lt hy ix b iy mb jc mc jg md jk me jo mf js lx ly lz ma bi translated">空间复杂度:O(1)</li></ul><h2 id="05f2" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">方法 2</h2><p id="8137" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">使用 DFA(确定性有限自动机)。该概念基于有限状态机。我们的目标是达到最终状态。将上面的决策树重新排列成一个有限状态机，我们得到如下结果。</p><figure class="le lf lg lh fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es mg"><img src="../Images/b31c750ca1dc8428973c75b10cef56c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0KKzi_yV3byH6UFiydF6CA.png"/></div></div></figure><p id="ce4d" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">实现上述状态，并检查我们是否处于有效状态。</p><pre class="le lf lg lh fd li ld lj lk aw ll bi"><span id="22e0" class="jt ju hy ld b fi lm ln l lo lp">def isNumber(s) -&gt; bool:<br/>    # states<br/>    start       = 0<br/>    int_sign    = 1<br/>    integer     = 2<br/>    point       = 3<br/>    frac        = 4<br/>    exp         = 5<br/>    exp_sign    = 6<br/>    exp_int     = 7</span><span id="553b" class="jt ju hy ld b fi lr ln l lo lp">    # inputs<br/>    digit       = 1<br/>    sign        = 2<br/>    dot         = 3<br/>    e           = 4</span><span id="88c4" class="jt ju hy ld b fi lr ln l lo lp">    def classify(c):<br/>        if c in '0123456789': <br/>            return digit<br/>        if c == '.': <br/>            return dot<br/>        if c in '+-': <br/>            return sign<br/>        if c in 'eE': <br/>            return e<br/>        raise ValueError</span><span id="b78e" class="jt ju hy ld b fi lr ln l lo lp">    machine = {<br/>        start   : {sign:int_sign, digit:integer, dot:point},<br/>        int_sign: {digit:integer, dot:point},<br/>        integer : {digit:integer, dot:frac, e:exp},<br/>        point   : {digit:frac},<br/>        frac    : {digit:frac, e:exp},<br/>        exp     : {digit:exp_int, sign:exp_sign},<br/>        exp_sign: {digit:exp_int},<br/>        exp_int : {digit:exp_int},<br/>    }</span><span id="73fe" class="jt ju hy ld b fi lr ln l lo lp">    state = start<br/>    for c in s.strip():<br/>        try:<br/>            state = machine[state][classify(c)]<br/>        except: <br/>            return False<br/>    return state in [integer, frac, exp_int]<br/>print(isNumber('1E9' ))</span></pre><p id="01dc" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">关于有限状态的更多理解，请参考这段 youtube 视频。</p><p id="e50d" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">编码快乐！！</p></div></div>    
</body>
</html>