# 传统防火墙与现代防火墙的区别

> 原文：<https://medium.com/nerd-for-tech/difference-between-traditional-firewall-and-modern-firewall-bfebe94ce715?source=collection_archive---------7----------------------->

关于防火墙一直存在争议。很多接入提供商不愿意使用防火墙，认为防火墙会影响网站的打开速度等。但是，这个问题只存在于传统防火墙中。传统防火墙主要抵御来自各方面的攻击。防火墙可以提供客户防御和网络保护，这不仅是有用的，而且是必要的。

![](img/ff7d9dc427e6f567dbe50a878e4f0b56.png)

(来源: [Pixabay](https://pixabay.com/vectors/wall-bricks-red-fire-flame-159844/) )

**传统防火墙擅长抵御的攻击**

传统的防火墙只能屏蔽或允许特定的 IP 地址和端口，能保护的东西相当有限。最常见的应用场景是防止未经授权的用户或恶意软件连接到不受保护的监控服务或守护程序。甚至忽略路由器在 IP/端口过滤方面的超高效率，攻击的次数和类型也发生了变化，传统的防火墙现在已经没用了。

二十年前，防止未经授权的连接是有意义的。大多数计算机都没有得到很好的保护，密码也很弱。它们不仅漏洞百出，而且经常开放服务，允许任何人登录或连接。发送格式错误的网络数据包会杀死普通服务器，只有当管理员没有设置允许匿名连接的具有完全管理员权限的远程服务时，才需要这样做。如果设置了这种远程管理服务，它基本上是有效的。至于 Windows 的匿名 NETBIOS 连接，在 Windows XP 默认禁止之前，15 年来一直是黑客的宝贵财富。

如果你的防火墙只是用来阻止未经授权的 IP 地址或协议，路由器会好得多，也快得多。计算机安全行业有一句格言:“偏爱最快最简单的方法。”这是事实。如果有什么东西可以用更快更有效的设备来阻止，那么就用那个设备作为你的第一道防线。这将更快更有效地消除更多你不想要的流量。路由器的“上层”代码比防火墙少很多，规则列表也更短。路由器的条件决策周期比防火墙快几个数量级。但是，在当今的威胁环境中，很难说这些未经授权的连接是否需要被阻止。

防火墙最擅长防止未经授权的远程连接来监控服务，这可以防止攻击者在连接后使用缓冲区溢出来控制计算机。这是防火墙诞生的主要原因。有缺陷的服务太普遍了，已经被认为是常态。Shockwave 和 Slammer worm 等恶意程序利用这些服务在几分钟内横扫全球。

现在的服务没有那么脆弱。默认情况下，程序员现在使用的编程语言检查缓冲区溢出。用于防止传统利用方法的其他操作系统计算机安全措施也非常擅长于此。微软每年在其产品线中发现 130-150 个漏洞。自 2003 年以来，已经发现了大约 2000 个漏洞。但是只有 5-10 个是远程使用的。同一时期，苹果和 Linux 机器的漏洞更多，但只能远程利用的漏洞比例相同。

必须明确的是:尽管有数百种易受攻击的服务可用，但几乎所有这些服务都需要本地最终用户来发起攻击。要么点击恶意链接，要么访问链接到马的网站。为什么本地用户必须参与？因为只有当最终用户这样做时，才能创建一个“允许的”出站连接，然后再有一个“允许的”入站连接返回到用户的计算机是合乎逻辑的。今天几乎所有的攻击都是“客户端”攻击，防火墙不擅长阻止这种连接。

**端口阻塞不再有效**

每个服务都使用自己固定的 TCP/IP 端口周期，例如 FTP 使用 21/22，SMTP 使用 25。这样，传统的防火墙就更有用了。

今天，世界上大部分的网络流量通过 80 (HTTP)和 443 (HTTPS)端口，越来越多的情况下只会使用后者。尚未占用 443 端口的网络流量也将在未来几年削减至 443。如果所有的东西都绑定到几个端口，那么端口封锁的意义何在？不仅如此，HTTPS 的默认加密功能也将使流量过滤变得更加困难。

**边境正在消失**

防火墙是典型的安全域边界。通过定义两个或三个安全边界，防火墙可以控制它们之间的流量。然而，这些有效和可保的界限在过去 10 年里一直在下降。边界从来都不是完美的，但是自从我们开始将互联网连接到其他网络，将 Wi-Fi 路由器连接到各种网络，边界就真正消失了。

当只有一个或两个网络边界时，防火墙仍然可以发挥作用，但当我们加上“DMZ”和其他“授权网络”时，防火墙就不够用了。当长期联网成为常态时，边界和传统防火墙的时代已经到来。

长期以来，很多 IT 安全人员认为我们还是有安全边界的，但是只要一审计，就会发现这些边界像筛子一样漏了。由于担心中断某些关键服务或应用程序，网络管理员基本上会释放每个未定义的流量路径。

**糟糕的防火墙管理**

除了外围安全的错觉之外，大多数防火墙也管理不善。几乎所有的家庭用户都不知道防火墙是什么，它有什么用。即使在他们的电脑上默认开启了防火墙，他们也从不关注或配置它。企业端的情况不一定好到哪里去，虽然企业安全人员有时候会自欺欺人，认为自己做得很好。

企业防火墙配置正确的真的很少。其中一半以上部署了疯狂的“arbitrary()”规则，完全失去了设置防火墙的意义。大多数防火墙允许的流量路径和协议比企业所需的要宽得多。即使一开始防火墙配置正确，在短短一年内，大多数公司将不得不花钱在他们制造的防火墙配置泥潭中购买可以更好地管理防火墙配置的软件。未经授权的配置更改使公司没有时间考虑如何使用防火墙来保护自己的安全。

坏日志也是传统防火墙的痛点之一。大多数防火墙日志包含数百万条事件记录。记录虽然详细，但对于真正的安全防护毫无用处。防火墙的“噪音”太大，管理员应该知道的潜在有用事件被淹没。

还有，企业防火墙的恢复也不容乐观。保持最新，完全修复的防火墙很少。许多设备防火墙都有众所周知的漏洞。这些防火墙不再是安全防线，而是成为了潜在的攻击接口。

**智能防火墙怎么样？**

今天的防火墙不仅过滤端口和套接字，还具有 VPN 或 HTTPS 检查功能，甚至可以执行入侵检测/防御、URL 过滤、上层攻击、阻止、DDoS 攻击预防和在线修复等操作。防火墙的发展已经远远超出了简单的端口和协议阻塞。

传统的防火墙操作，如 IP 地址和端口过滤，没有任何价值，但今天大多数防火墙做的远不止这些。防火墙已经从一个严格的防御边界发展成为一个具有脆弱内核的保护层。如果您检查当今防火墙提供的各种服务，您会发现用于客户端保护的服务几乎与用于网络保护的服务一样多。这是好事，很受欢迎，好处很多。

如果您正在考虑购买新的防火墙，您可能希望关注那些提供控制功能的防火墙，这些功能可以消除最大的风险(如 URL 过滤、补丁发现、内嵌修复)。毕竟现代的防火墙不应该和父母用的一样。