<html>
<head>
<title>An investigative guide to React JS[DOM, Virtual DOM and JSX] Part-VI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应研究指南 JS[DOM，虚拟 DOM 和 JSX]第六部分</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/an-investigative-guide-to-react-js-dom-virtual-dom-and-jsx-part-vi-413b04a71ff3?source=collection_archive---------1-----------------------#2022-03-19">https://medium.com/nerd-for-tech/an-investigative-guide-to-react-js-dom-virtual-dom-and-jsx-part-vi-413b04a71ff3?source=collection_archive---------1-----------------------#2022-03-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="457c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">零件亮点— <a class="ae jd" href="https://www.pansofarjun.com/post/an-investigative-guide-to-react-js-dom-virtual-dom-and-jsx-part-v" rel="noopener ugc nofollow" target="_blank"> V </a></p><ul class=""><li id="7b73" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">React 是一个 javascript 框架，因此 React 虚拟 DOM 由 Javascript 方法创建。这个方法叫做<em class="jn"> React.createElement </em></li><li id="8311" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">当你控制台记录任何由<em class="jn"> React.createElement、</em>创建的元素时，你会得到一个带有键的 JS 对象:</li><li id="71ef" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><strong class="ih hj"> type: </strong> <strong class="ih hj">我们想要在真实的 DOM 中创建什么类型的元素——h1，p，</strong> <strong class="ih hj"> div 等</strong></li><li id="f2bf" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><strong class="ih hj">道具:</strong> <strong class="ih hj">创建真实 DOM 所需的数据和子对象——文本、嵌套元素等</strong></li><li id="ecd1" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">我们可以使用 javascript 使用数据和应用逻辑</li></ul><h1 id="6878" class="jt ju hi bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">写 React.createElement()可以吗？</h1><p id="a381" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq kt is it iu ku iw ix iy kv ja jb jc hb bi translated">当你每次都要写 React.createElement 来反应元素的时候，这就像是火上浇油。假设我们需要列出所有州的所有区。我们将列出<li>标签来显示地区，如</li></p><pre class="kw kx ky kz fd la lb lc ld aw le bi"><span id="2ea4" class="lf ju hi lb b fi lg lh l li lj">&lt;ul&gt;</span><span id="3ce9" class="lf ju hi lb b fi lk lh l li lj">&lt;li&gt;Thanjavur&lt;/li&gt;</span><span id="8c10" class="lf ju hi lb b fi lk lh l li lj">&lt;li&gt;Trichy&lt;/li&gt;</span><span id="90a0" class="lf ju hi lb b fi lk lh l li lj">&lt;/ul&gt;</span></pre><p id="37d5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这些选项包括</p><ol class=""><li id="be31" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc ll jk jl jm bi translated">我们需要为所有的州手工硬编码它</li><li id="b08f" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc ll jk jl jm bi translated">我们可以对输入数据使用 JS 逻辑</li><li id="71f4" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc ll jk jl jm bi translated">我们可以硬编码 React.createElement 来创建 React 元素，然后将它们提供给虚拟 DOM</li></ol><p id="c9ba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二个和第三个选项是相同的。事实上，第三种选择比第二种更耗费时间。但我们必须从第三种选择中发展出一种策略。这里的策略是在上面的场景中找到一个共同的模式。</p><p id="5636" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我重申一下这个场景，</p><p id="312f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们需要使用每个州的列表标签来显示所有的地区。</p><p id="75cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里改变的是<strong class="ih hj">数据</strong>(即区)，但 UI 保持不变。</p><p id="dee9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将不得不调整像输入和输出系统的 React.createElement，而输出是与输入数据相同的 UI。</p><p id="7f4f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接受数据和处理并适合同一 UI 的系统被称为<strong class="ih hj"> React 组件。</strong></p><p id="36c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以将任何州的数据输入这个系统，输出将是一个具有相同用户界面的地区列表(即<li>)。</li></p><figure class="kw kx ky kz fd ln er es paragraph-image"><div class="er es lm"><img src="../Images/8ea35510bafb719494753a3c1a04d392.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/0*9vqwk4qzpwA2H4iL.png"/></div></figure><p id="ee8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个系统可以使用 javascript 中的<strong class="ih hj">函数</strong>和<strong class="ih hj">类来创建。这个系统的名字叫做<strong class="ih hj"> React 组件。基于功能的组件是未来的趋势，React 核心团队将更加关注这些组件。</strong></strong></p><blockquote class="lq lr ls"><p id="598e" class="if ig jn ih b ii ij ik il im in io ip lt ir is it lu iv iw ix lv iz ja jb jc hb bi translated"><em class="hi"> React 组件是返回 React 元素(即普通 js 对象)的简单 javascript 函数</em></p></blockquote><p id="4a1a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">重述</strong></p><ul class=""><li id="f0fa" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated">使用 DOM 操纵器(JS)更新实际的 DOM 效率不高。</li><li id="fa9b" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">重画和回流是更新实际 DOM 时的两个过程</li><li id="12e7" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">React 通过在实际的 DOM 之前添加另一层来解决这个问题。这一层叫做<strong class="ih hj">虚拟 DOM </strong>。</li><li id="972c" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">虚拟 DOM 是实际 DOM 的复制品，没有附加到屏幕上(即不会反映屏幕)</li><li id="c87c" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">每当发生更新时，React 都会创建新的虚拟 DOM。</li><li id="3904" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">然后比较新的和旧的虚拟 DOM，以发现什么被改变/更新。这个过程被称为<strong class="ih hj">差分</strong></li><li id="3db8" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">任何更改都会被发送到队列中。然后在真实/实际 DOM 中批量更新。这种批量更新使得整个过程更加容易。因此<em class="jn"> React 使流程更简单、更高效，而不是全新的更快的流程</em></li><li id="1975" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">从 JS 的角度来看，这个虚拟 DOM 是一个带有键的简单对象— <strong class="ih hj">类型、键、引用、道具、_ 所有者、_ 商店</strong>。</li><li id="f23e" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">键'<strong class="ih hj">道具</strong>嵌套了'<strong class="ih hj"> id </strong>'和'<strong class="ih hj">子</strong>'键。这是在 React(父子关系)中创建嵌套元素的基础</li><li id="96ce" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">该对象由<strong class="ih hj"> React.createElement() </strong>创建。这个 JS 对象被称为<strong class="ih hj"> React 元素</strong>。</li><li id="3dab" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">我们需要代码的可重用性，因此使用/编写 React.createElement 是乏味且不可重用的。这就演变成了<strong class="ih hj">反应组件的概念。</strong></li><li id="e5c7" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><strong class="ih hj"> React 组件</strong>使 React 代码可重用。组件可以由 Javascript 中的函数和类创建。</li><li id="f74f" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">由函数创建的 React 组件是 React 团队的前进方向和推进方式。</li><li id="aecc" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">因此，React 组件是返回 React 元素的简单 javascript 函数(即带有 key-type、key、ref、props、_owner、_store 的 JS 对象)</li></ul></div><div class="ab cl lw lx gp ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hb hc hd he hf"><p id="95d7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jn">原载于 2022 年 3 月 19 日 https://www.pansofarjun.com</em><em class="jn">的</em> <a class="ae jd" href="https://www.pansofarjun.com/post/an-investigative-guide-to-react-js-dom-virtual-dom-and-jsx-part-vi" rel="noopener ugc nofollow" target="_blank"> <em class="jn">。</em></a></p></div></div>    
</body>
</html>