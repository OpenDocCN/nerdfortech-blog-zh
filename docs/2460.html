<html>
<head>
<title>Some About React Event Listeners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于React事件侦听器的一些信息</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/some-about-react-event-listeners-cdd612c64129?source=collection_archive---------11-----------------------#2021-05-07">https://medium.com/nerd-for-tech/some-about-react-event-listeners-cdd612c64129?source=collection_archive---------11-----------------------#2021-05-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="eba4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">待在圈子里第2部分。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/38c5a37bc8f3174acb42fe95973a8fbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JrP8hMMxpkGhi2zE"/></div></div></figure><p id="21d0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<a class="ae jp" rel="noopener" href="/nerd-for-tech/all-about-javascript-event-listeners-propagation-and-bubbling-19801c8558a1">之前的一篇文章</a>中，我探索了用普通JavaScript向用户交互添加事件监听器的过程。现在是时候使用React将我们所学的扩展到同一个目标了！</p><p id="29d4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">React使得添加和删除事件侦听器的许多事情变得更加简单。然而，作为程序员，我们仍然必须处理关于时间和地点的决策和逻辑。</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h1 id="ddff" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">该过程</h1><p id="fb56" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">我喜欢像听收音机一样思考事件倾听过程的机制。你调到一个特定的电台，听到一首你想听的歌曲或一个脱口秀节目，然后你利用这些信息做些事情，跟着唱，和朋友讨论，等等。事件侦听器遵循相同的步骤。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es la"><img src="../Images/6bdbd8447b0acff44618d34f3d2c8fb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*S-b3Qzz3ilecJOxWNDodNw.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx translated">示例反应组分</figcaption></figure><h2 id="d200" class="lf jy hi bd jz lg lh li kd lj lk ll kh iq lm ln kl iu lo lp kp iy lq lr kt ls bi translated">调谐</h2><p id="c716" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">在普通的JavaScript中，我们需要一个手动选择语句，比如<code class="du lt lu lv lw b">document.querySelector('btn')</code>，而在React中，寻找我们的元素将是开发人员的工作，包括首先确定我们的DOM元素位于哪个组件中，导航到那个文件，并定位适当的元素。这是因为React事件侦听器被内联附加到它们的元素，在组件的JSX返回部分。在上面的代码中，我们在一个form元素和一个dropdown元素上有事件监听器。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lx ly l"/></div><figcaption class="lb lc et er es ld le bd b be z dx translated">调谐收音机</figcaption></figure><h2 id="48ab" class="lf jy hi bd jz lg lh li kd lj lk ll kh iq lm ln kl iu lo lp kp iy lq lr kt ls bi translated">听着</h2><p id="372f" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">因为React是用JavaScript构建和编写的，所以我们可以使用普通JavaScript中可用的所有相同类型的事件。React中最大的不同是命名约定。代替T1的是T2，T3是T4，以此类推。第二个区别是，我们不再需要调用<code class="du lt lu lv lw b">addEventListener</code>；“on_”既充当此功能，又充当事件的名称！但是，每个事件侦听器仍然有两个主要部分:</p><p id="0367" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">1)事件名称<br/> 2)回调函数</p><p id="ca71" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在上面的代码中看起来是这样的:<br/> <code class="du lt lu lv lw b">&lt;Form onSubmit={() =&gt; addUserTask(selectedUser)}&gt;</code></p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lz ly l"/></div><figcaption class="lb lc et er es ld le bd b be z dx translated">听到那首歌了吗</figcaption></figure><h2 id="c047" class="lf jy hi bd jz lg lh li kd lj lk ll kh iq lm ln kl iu lo lp kp iy lq lr kt ls bi translated">作出反应</h2><p id="489f" class="pw-post-body-paragraph if ig hi ih b ii kv ik il im kw io ip iq kx is it iu ky iw ix iy kz ja jb jc hb bi translated">最后，我们需要在一个事件被听完之后让一些事情发生。在React中，这通常发生在render return语句之前的组件主体中的实际事件侦听器之外。我们把它写成一个回调函数，就像在普通JavaScript中一样，传递事件对象，因为它包含一些数据，比如表单输入值，我们以后可能要用它们来更新状态。</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="ma ly l"/></div><figcaption class="lb lc et er es ld le bd b be z dx translated">尽情跳舞吧！</figcaption></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h1 id="6900" class="jx jy hi bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">要记住的其他差异</h1><ol class=""><li id="5e98" class="mb mc hi ih b ii kv im kw iq md iu me iy mf jc mg mh mi mj bi translated">一旦被监听的元素从DOM中移除，普通的JavaScript事件监听器就需要<em class="mk">显式的</em>清除。在React中我们不需要这样做，因为所有React事件都是合成事件，这意味着添加和删除事件侦听器的整个周期都是由React处理的。基本上，免费代码！</li><li id="3ba8" class="mb mc hi ih b ii ml im mm iq mn iu mo iy mp jc mg mh mi mj bi translated">事件委托也是React中自动为我们处理的事情。如果我们回想一下我们在普通JavaScript中学习的事件传播(冒泡),我们会记得我们将事件侦听器放得越高，它可以侦听的事件就越多，因为它可以听到每个子节点上发生的所有事情。<br/> React直接在文档节点为每个事件类型附加一个事件处理程序(实际上，在React 17中，它附加在根节点，在文档下一级)。这意味着我们不需要明确决定在DOM树中的何处添加事件侦听器，因为React已经在最高的父元素处添加了一个事件侦听器。</li></ol></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><p id="8554" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">React在帮助我们简化事件监听过程方面很棒，但我们仍然需要通过成为优秀的开发人员来帮助它，并选择正确的元素、事件类型和响应，以便用户在网页上的交互直观而无缝地发生。</p><p id="f4a9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">快乐聆听！</p></div></div>    
</body>
</html>