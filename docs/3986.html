<html>
<head>
<title>Understand React Data Flow Which Makes You Brilliant ReactJS Developer!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解React数据流，让你成为优秀的ReactJS开发者！</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/understand-react-data-flow-which-makes-you-brilliant-reactjs-developer-54ff2c7066e1?source=collection_archive---------7-----------------------#2021-07-02">https://medium.com/nerd-for-tech/understand-react-data-flow-which-makes-you-brilliant-reactjs-developer-54ff2c7066e1?source=collection_archive---------7-----------------------#2021-07-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6497" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们了解如何反应数据流…</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/d70768d13c71c7b8d6dd727a9d048c58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sx7JnQH4ItMXOI3j"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated"><a class="ae jt" href="https://unsplash.com/@kaleidico?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">万花筒</a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="162d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们通常不理解组件中的数据流。我们将了解组件中的数据流，以及何时设置状态。<strong class="ih hj"> <em class="ju">要想擅长Reactjs，你需要知道我们的数据流向哪里，以及如何从一个位置到另一个位置。</em> </strong></p><p id="663a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们以这些流程为例:</p><ol class=""><li id="54b4" class="jv jw hi ih b ii ij im in iq jx iu jy iy jz jc ka kb kc kd bi translated"><strong class="ih hj">类组件</strong></li><li id="2b16" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><strong class="ih hj">生命周期方法</strong></li><li id="6584" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><strong class="ih hj">设置状态</strong></li><li id="ffb1" class="jv jw hi ih b ii ke im kf iq kg iu kh iy ki jc ka kb kc kd bi translated"><strong class="ih hj">冗余数据</strong></li></ol><h2 id="b045" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated"><strong class="ak"> <em class="le"> 1。类组件</em> </strong></h2><p id="001d" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">我们以一个类组件为例，它有构造函数和生命周期方法，然后是呈现方法。</p><p id="4206" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看他们调用的顺序:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lk"><img src="../Images/1329f66f3e57fa6c0ba771a49cdb1376.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSWxlXVGhq6AZ2taq35ndA.png"/></div></div></figure><h2 id="4f0f" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated">2.<strong class="ak">生命周期方法</strong></h2><p id="e4d8" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">基本上，我们有三种主要的生命周期方法，就像我们在上面的例子中展示的那样。现在，我们将了解我们的生命周期方法是如何工作和调用的。</p><p id="7609" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">组件装载:</strong></p><p id="dab1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个生命周期方法用于调用API来获取我们想要的组件数据。这个数据显示在我们的JSX。这在第一次呈现页面时调用。</p><p id="3fba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> componentDidUpdate : </strong></p><p id="2948" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个生命周期方法用于更新我们的组件的数据，该组件在<strong class="ih hj"><em class="ju">componentDidMount</em></strong>调用后改变数据。</p><p id="9ca5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们基本上是在条件里勾选道具，想改就改。</p><p id="97b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">组件卸载<em class="ju">:</em>T33】</strong></p><p id="f0f6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">生命周期的下一个阶段是当一个组件被从DOM中移除或者<strong class="ih hj">卸载</strong>时<strong class="ih hj">反应</strong>喜欢这样称呼它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ll"><img src="../Images/02e80d4b7e8ac2a7e0f78b11d212eb00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MJZNuT9DP2zLOr7BxleKGw.png"/></div></div></figure><h2 id="8797" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated"><strong class="ak"> 3。设置状态</strong></h2><p id="ee74" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">在这种情况下，我们将了解DOM实际上是如何设置呈现在屏幕上的状态的。</p><p id="f5fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ju">这是我们的代码:</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lm"><img src="../Images/77d1b35290fbbec77b0f64b82496f2a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9jRuKl144EJm5r-1fvDrnA.png"/></div></div></figure><p id="b5d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="ju">我们的数据就是这样流动的……</em></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ln"><img src="../Images/d0195003ff6f6d5317726baec7667af4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*drOjSREi3_3461C1FKCy6g.png"/></div></div></figure><h2 id="0186" class="kj kk hi bd kl km kn ko kp kq kr ks kt iq ku kv kw iu kx ky kz iy la lb lc ld bi translated"><strong class="ak"> 4。冗余数据</strong></h2><p id="916d" class="pw-post-body-paragraph if ig hi ih b ii lf ik il im lg io ip iq lh is it iu li iw ix iy lj ja jb jc hb bi translated">最重要的是要知道你的redux数据是如何流动的。就像一个文件，我们的数据来自哪里。要想擅长Reactjs，你需要知道我们的数据流向哪里，以及如何从一个位置到另一个位置。</p><p id="c814" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">所以，让我们来学习最重要的话题<strong class="ih hj"> REDUX。</strong></p><p id="128e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Redux允许我们使用状态，reducer来存储多个状态，它为我们提供了一个功能来传递一个用于命中API动作，并通过<strong class="ih hj">检测哪种类型</strong>(动作类型)将数据存储在reducer中。它用于减速箱中。</p><p id="7632" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并且借助于那个类型，我们检查这是哪个事例，当事例匹配时，<strong class="ih hj"> <em class="ju">数据存储在相关状态</em> </strong>中。</p><p id="86be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们以一小段代码 的<strong class="ih hj"> <em class="ju">为例，它通常用于现实生活中的项目，而<strong class="ih hj"> o <em class="ju">正式的方式是在我们的项目中拥有结构文件</em> </strong></em></strong></p><p id="5dc7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第一次调用，在我们的componentDidMount中，我们<strong class="ih hj">只是分派了</strong>一个将要访问API的动作。<strong class="ih hj">和下面的mapStateToProps将从减速器获得状态</strong>。ProductReducer具有状态<strong class="ih hj">命名的产品。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lo"><img src="../Images/4ce392f7ec425e4af7ec247a28e6296b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_M3CumfB66rm4-xvqpf0WA.png"/></div></div></figure><p id="3044" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第二次调用，这里有一点代码丢失(对不起Lil。懒)。尽管它只是一个API。<strong class="ih hj">作为回报，它匹配该类型，并且该类型也包含在将要匹配并仅存储状态的缩减器中。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lp"><img src="../Images/62c43b802ea68ca8f81e4110dd428ce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iJlRkU0XIDS5IGSIKx0AqA.png"/></div></div></figure><p id="ba99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三次调用，这个reducer中的<strong class="ih hj">匹配用于存储API数据的action类型和action.payload。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lq"><img src="../Images/67f37a5bb64e0e6b10e96bbc8a98ec79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*20fjFUb2U8VlwwcS0VaE3Q.png"/></div></div></figure><p id="fdea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我希望这是可以理解的。让我知道！！</p><p id="cfb1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢哥们看得太远:)</p></div></div>    
</body>
</html>