<html>
<head>
<title>Analysis of Sentiment Twitter Modeling (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">情感 Twitter 建模分析(上)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/analysis-of-sentiment-twitter-modeling-part-1-98daf07d2b46?source=collection_archive---------3-----------------------#2021-12-14">https://medium.com/nerd-for-tech/analysis-of-sentiment-twitter-modeling-part-1-98daf07d2b46?source=collection_archive---------3-----------------------#2021-12-14</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b01161641e5bb05d9ef499df9cc04019.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t_Cbod1wRsHyKYJXB9POug.jpeg"/></div></div></figure><h1 id="3792" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated"><strong class="ak">作者动机</strong></h1><p id="60aa" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">社交媒体成为社区生活的一部分。许多人也使用社交媒体作为交流和社交的手段。除此之外，他们还把它作为自我表达的一种手段(比如他们的活动)。Twitter 是拥有 3.965 亿用户的部分社交媒体之一(【backlinko.com】T2)。</p><p id="9fec" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">从 2019 年到现在，疫情仍在地球上继续发生。政府正试图通过给每个人注射疫苗来处理新冠肺炎病例。但是许多人通过推特账户表达了这个疫情问题。有些人给出不好的、中性的、正面的回答。</p><p id="f057" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">因此，随着人们可以根据 Twitter 帐户用户的声明找到他们得到的回应，它将建立深度学习模型。第一部分，介绍数据分析的一些探索。此外，还将介绍模型的建立和特征的提取。</p><h1 id="6f8f" class="iq ir hi bd is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn bi translated">浏览数据集</h1><p id="580d" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">数据集可以通过这个<a class="ae km" href="https://drive.google.com/drive/folders/1Y1D6OE0vd6-UmDHIFeyoBHqRuTuKwjQD?usp=sharing" rel="noopener ugc nofollow" target="_blank">链接</a>和这里<a class="ae km" href="https://github.com/chandna70/medium_sentiment_analysis/blob/main/analytical_sentiment_twitter.py" rel="noopener ugc nofollow" target="_blank">中的代码</a>获得。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ks"><img src="../Images/c256ba8a3673966f1268637f54902716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9mYTu-dyWP2GmtECzYgysg.png"/></div></div><figcaption class="kx ky et er es kz la bd b be z dx translated">训练数据集</figcaption></figure><p id="d662" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">根据上图，有 3 个特征数据，由<strong class="jq hj"> tweet_id </strong>、<strong class="jq hj"> tweet_text </strong>和<strong class="jq hj">标签</strong>组成。<strong class="jq hj"> tweet_id </strong>将从 dateset 中删除，因为<strong class="jq hj"> tweet_id </strong>是一个帐户用户。从这里开始，我们将关注两个特征数据。两个变量<strong class="jq hj"> tweet_text </strong>和<strong class="jq hj"> label </strong>中的每一个都是自变量和因变量。从<strong class="jq hj">标签</strong>看，它由 3 个类别组成。它们是:</p><ul class=""><li id="bc51" class="lb lc hi jq b jr kn jv ko jz ld kd le kh lf kl lg lh li lj bi translated">0:否定回答</li><li id="2c59" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">1:中性反应</li><li id="1ae4" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">2:积极响应</li></ul><p id="83ed" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">让我们看看训练和测试数据的大小</p><pre class="kt ku kv kw fd lp lq lr ls aw lt bi"><span id="b6fb" class="lu ir hi lq b fi lv lw l lx ly">##Check data type<br/>print('Size of training data :', len(df_twitter))<br/>print('Size of testing data:',len(df_testing_twitter))<br/>df_twitter.info()</span></pre><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es lz"><img src="../Images/c639e7421c835b3f11306c2159c8eb78.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*5u37zXoodjJrtKw7dbyThw.png"/></div></figure><p id="e500" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">通过这张图可以看出，训练和测试数据的规模分别为 4890 和 1110。对于训练数据，它没有任何空值。变量<strong class="jq hj"> tweet_text </strong>是对象数据类型。此外，<strong class="jq hj">标签</strong>需要根据类别进行可视化，以确定是否显示不平衡。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es ma"><img src="../Images/d25539bf218596e1646665c97d152548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*U01QSARrKChdlceTeei7Og.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">条形图的标签</figcaption></figure><p id="c7ae" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">这张图表表明每一类都显示出不平衡。阴性、中性和阳性反应的百分比分别为 6.95%、61.55%和 31.5%。这听起来像是“中性”反应比其他反应占优势。为了防止这个问题，需要<strong class="jq hj">重量等级</strong>。要确定它的重量等级，公式如下:</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es mb"><img src="../Images/9bed00961948c504abcb84278c43bdbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/1*Mai9KNeHl8ZTVbKOcvEHcA.gif"/></div></figure><p id="97a9" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">其中:</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es mc"><img src="../Images/80fac68f371b9daecf2b435a2fbd2abd.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/1*L4goJcDSD5ruMglmK9Gsww.gif"/></div></figure><p id="53a1" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">自变量的第一件事，<strong class="jq hj"> tweet_text </strong>将基于单词的长度来描述。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es md"><img src="../Images/2f5460a929e69e9fbee730a95d9caaf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*uqx63BS85d5BQT2xs8bIig.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">len_text 中的描述性统计数据</figcaption></figure><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es me"><img src="../Images/5aa43e397f9a992fdbd3c21a58c2d860.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*OXEZ-ARA5XKqtS5e4jFcLQ.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">len_text 的分布</figcaption></figure><p id="bdee" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">从这个描述性统计数据来看，它代表了单词长度的均值为 26.57(接近 27)。同时，单词长度的中值和众数分别为 26 和 16。也就是说，<strong class="jq hj"> len_text </strong>的分布是右偏态分布。根据分布情况，可以看出来自<strong class="jq hj"> len_text 的离群值。</strong>可能会显示一些标点符号、重复的单词和帐户用户。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es mf"><img src="../Images/d597b9ec276befb89a12d181e55bac94.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*HKzAJG3qnE4c4tXRgcUlKg.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx translated">每个标注分类的文本分布长度</figcaption></figure><p id="c672" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">听起来好像每个标签类文本长度的平均值彼此接近，它们的离差数据也是如此。在间隔 80-100，有最大长度的中性类文本。</p><p id="3b1c" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">为了制作单词云，每个标签类别的语句的标点符号都将被删除。</p><div class="kt ku kv kw fd ab cb"><figure class="mg ij mh mi mj mk ml paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/665c65545a44c3cd88d9a5e5c69000ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*JKWgt-G_1N195hx6bX37gg.png"/></div></figure><figure class="mg ij mh mi mj mk ml paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/78805a9c783589bbd0d4acbae1d26ba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*qcPwk7OePFQi5VHaCaN7OA.png"/></div></figure><figure class="mg ij mh mi mj mk ml paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><img src="../Images/3e5581aaec0dd3caf60fc822c206ee1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*7poGzdSmUt10XKzALAI4Qg.png"/></div><figcaption class="kx ky et er es kz la bd b be z dx mm di mn mo translated">Wordcloud</figcaption></figure></div><p id="8ad2" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">根据这些图片，我们得到了一些信息:</p><ul class=""><li id="0a45" class="lb lc hi jq b jr kn jv ko jz ld kd le kh lf kl lg lh li lj bi translated">许多字母都是大写的</li><li id="cad2" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">在这三种反应中,“疫苗”一词频繁出现</li><li id="730b" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">即使否定回答的样本量极低，其词汇多样性也相对较广。</li></ul><p id="dadf" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">为了减少一些偏见，它必须清理数据，如删除标点符号，名称帐户用户，停用词和数字。URL 需要探索，因为 URL 可能会加强他们的论点。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div class="er es mp"><img src="../Images/7fc6bc3fb66f516ebe723ae255b670cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*1nyhbDRRjprYHvjzrlaYnQ.png"/></div></figure><p id="9d7f" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">根据饼图，附加 URL 的帐户用户的最高百分比是中性响应。根据从数据集中获得的信息，附加 URL 的帐户用户的数量是 3393。因此，其报表中未附加 URL 的百分比为</p><ul class=""><li id="d223" class="lb lc hi jq b jr kn jv ko jz ld kd le kh lf kl lg lh li lj bi translated">否定回答= 5.51 %</li><li id="db9b" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">中性反应= 62.87%</li><li id="748c" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">正面回答= 31.62%</li></ul><p id="c188" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">从这个饼状图来看，还需要进一步探索，他们的每个声明中有多少是基于他们的响应而附加的 URL。这是可视化数据。</p><figure class="kt ku kv kw fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/5297393875254b022de12b8bf0e68853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TTLQvobRvlw-3vgqVaZA8A.png"/></div></div></figure><ul class=""><li id="b596" class="lb lc hi jq b jr kn jv ko jz ld kd le kh lf kl lg lh li lj bi translated">三个响应数据，它们看起来是偏右的。</li><li id="f6d0" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">对于否定响应，只有一个由 5 个 URL 组成的语句。如果它被加到附加了 URL 的语句中，则它的总和高于组 0(它被称为未附加的 URL 语句组)。除此之外，第 0 组的阴性反应最高</li><li id="aa16" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">来自中性响应的组 1(语句具有一个附加的 URL)是两个响应中的最大值。有 2 个声明附有六个网址。</li><li id="550f" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">对于肯定的响应，可以看到一个 URL(组 1)频繁出现在语句中。第 6 组只出现一个语句。这意味着，基于 1540 声明的积极回应，只有一个声明，其中包括六个网址。</li></ul><p id="f85e" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">从现在开始，让我们看看 n-gram。正如我们所见，有 1 克、2 克和 3 克的。这里它获得了数据</p><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="mr ms l"/></div></figure><figure class="kt ku kv kw fd ij"><div class="bz dy l di"><div class="mr ms l"/></div></figure><p id="6158" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">正如已经得到的，1 克是相对足够多样的。同时，如果从<strong class="jq hj"><em class="mt">【ngram _ range】</em></strong><em class="mt"/>增加<em class="mt"> n </em>值，n 元数据的结果将会降低多样性。作为证明，将展示描述性统计。</p><pre class="kt ku kv kw fd lp lq lr ls aw lt bi"><span id="b453" class="lu ir hi lq b fi lv lw l lx ly">print('Descriptive Statistics of 1-gram')<br/>df_1gram['total'].describe()<br/>print('Descriptive Statistics of 2-gram')<br/>df_2gram['total'].describe()<br/>print('Descriptive Statistics of 3-gram')<br/>df_3gram['total'].describe()</span></pre><div class="kt ku kv kw fd ab cb"><figure class="mg ij mu mi mj mk ml paragraph-image"><img src="../Images/9e27758f82ec7f52906907dcccc2b9d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/1*my2b4fQ26U2amNmdgFpvCA.jpeg"/></figure><figure class="mg ij mv mi mj mk ml paragraph-image"><img src="../Images/17486ef9076dacd57aaa35f8a372c4c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*ThaiU6Vq8PCNkvvX_FkUvw.jpeg"/></figure><figure class="mg ij mw mi mj mk ml paragraph-image"><img src="../Images/6c55548e752bce80f7448d3d73282179.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*g344huEUqqEu4rcTagrJow.jpeg"/><figcaption class="kx ky et er es kz la bd b be z dx mm di mn mo translated">n 元语法的描述统计</figcaption></figure></div><p id="de75" class="pw-post-body-paragraph jo jp hi jq b jr kn jt ju jv ko jx jy jz kp kb kc kd kq kf kg kh kr kj kk kl hb bi translated">从描述性统计的结果来看，1 克数据的离差比较大，因为标准差是 39.271989。与此同时，2-gram 和 3-gram 两种描述性统计量的离差也在减小。但是，相应地，n-gram 数据的大小也在增加。因此，这个 n-gram 将被视为构建模型。</p></div><div class="ab cl mx my gp mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="hb hc hd he hf"><h1 id="4044" class="iq ir hi bd is it ne iv iw ix nf iz ja jb ng jd je jf nh jh ji jj ni jl jm jn bi translated">该部分的下一步</h1><p id="5e0f" class="pw-post-body-paragraph jo jp hi jq b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl hb bi translated">根据以上解释，下面是建立模型所需的步骤:</p><ul class=""><li id="f75d" class="lb lc hi jq b jr kn jv ko jz ld kd le kh lf kl lg lh li lj bi translated">班级的比例必须平衡</li><li id="8ab8" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">文本数据需要清理，从删除标点符号，数字，帐户用户名和后缀，并使小写</li><li id="995f" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">它需要提取语句中使用的 URL 的数量</li><li id="8374" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">它需要提取他们的文本表情作为变量</li><li id="0e22" class="lb lc hi jq b jr lk jv ll jz lm kd ln kh lo kl lg lh li lj bi translated">它将通过 LSTM 方法建立模型，并与 1 克、2 克和 3 克进行比较</li></ul></div></div>    
</body>
</html>