<html>
<head>
<title>Lives and Respawning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生命和重生</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/lives-and-respawning-1d639e0c458a?source=collection_archive---------20-----------------------#2021-06-25">https://medium.com/nerd-for-tech/lives-and-respawning-1d639e0c458a?source=collection_archive---------20-----------------------#2021-06-25</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="09ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在今天的班级挑战中，如果玩家从屏幕上掉下来，我们将实施一个生命机制。</p><p id="a6e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有几种方法可以做到这一点，我们可以试着在场景下面放一个空的碰撞盒，然后当玩家触发它时移除一个生命。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/21739ac9b5a0ceb79a7746b1af5f7c73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*cO8dJWoSWef5ulaai_V58A.png"/></div></figure><p id="c7ea" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不过这需要一些额外的步骤，我想我会删除一个生命，当玩家在 y 轴上低于某个数字时让玩家重生。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jl"><img src="../Images/431e57a958649461107dacda255c5d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_V5Zc3nn6XChsNFungurXQ.png"/></div></div></figure><p id="28ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我已经把玩家移动到了我认为是一个好的死亡区域的地方。-12 似乎是 y 轴上的神奇数字，所以这将是我们玩家的死亡点，但首先让我们建立一个生命系统。</p><p id="90e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在玩家脚本中，我们将从变量 _ lives 开始。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jq"><img src="../Images/ed94c7ee4e19e1af3177ba3d64d51c9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wR-YlzfwiIMOLdD3OqBUEg.png"/></div></div></figure><p id="a715" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，让我们创建一个变量来保存我们的玩家将失去一条生命的 y 轴数字。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jr"><img src="../Images/892970a6feb61975eefe7a9d83391fe1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yAYIok987YNzzYHDDVbxFQ.png"/></div></div></figure><p id="a87b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在让我们检查一下玩家何时越过那条线。让我们为 CheckIfDead()创建一个函数，我们也将把它放在我们的更新中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es js"><img src="../Images/00c641a798d1d2bcaffde4a1e0888c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xXZGypcl_9dmJ8GHvbzuFw.png"/></div></div></figure><p id="35b6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我还没有输入任何减去生命的代码，因为我想确定它是否有效，所以让我们检查一下！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/697343a99f515d7f6508c28cbd82628f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*z7mHTMFQCZvFslkV2D1M-w.gif"/></div></div></figure><p id="84d3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好吧！有用！让我们开始减少生命吧！</p><p id="ad84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们应该将它添加到我们的 UI 画布中，所以让我们复制 coinsText，将其重命名为 LivesText，并将其上移一点。当然，我们会将文本改为类似“生命:”的内容。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/b839760b019b925e5c9b263f08d05705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ct2ftkrkn2Lj51KZs4n2PQ.gif"/></div></div></figure><p id="e681" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将在 UIManager 中创建一个它的容器，就像我们在 CoinText 中做的那样。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ju"><img src="../Images/5c743cb8a46ad8508e7cd9a2ccf7d403.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*YNwQtcnObyzn5-2f5h9Kxg.png"/></div></div></figure><p id="b877" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后把它拖进来…</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/42eeb978f53db601a832f29f74b4af5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Dv_uAWd00WM9g_n5AxM57g.gif"/></div></div></figure><p id="0f27" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">更新我们生活的功能是硬币功能的精确重复，所以这将是熟悉的。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jv"><img src="../Images/9d078ccb81afa9656380793d79141a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*usubVYqoC1vFUcc9K4Q8Kg.png"/></div></div></figure><p id="15d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将把代码放入播放器中以减去生命，但首先，我们将在 start 中初始化 UI。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jw"><img src="../Images/873dbcc6f403ec92933315d756a242a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yU7ZNmieocmf6FMFhnWZTA.png"/></div></div></figure><p id="03ad" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看它是否有效:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jx"><img src="../Images/e3c08f3c6286ee67f7c90221c45402c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*d1XWqHZd0yvzsbfg3xKjFA.png"/></div></figure><p id="e5f3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">呜！呜！是时候减去一些生命了！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jy"><img src="../Images/e9191803a43c26b382eef8846dd6cc60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2hDFLUiIPhfmjJXT05W04Q.png"/></div></div></figure><p id="4d17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">每当有变化时，我们都需要更新 UI 管理器，所以我们只需在从 lifes 变量中减去一个生命后添加一行代码就可以了。看看有没有效果！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/93bd4883a73d808ae720bb519330c1c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Tp7Z0dhC8xxEJNAb3AJkdw.gif"/></div></div></figure><p id="53b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">哇哦。失去的生命太多了！如果我们立刻把玩家放回某个地方会怎么样？</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jz"><img src="../Images/74f04ef5c8f4db21337b6d2c2bb449c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5VskjNR6xwmGmi-nRd4YYA.png"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/e4a8691a2653558ed0212c4ba2b1e908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1iDaIQSXMa7vST8I-AnQKg.gif"/></div></div></figure><p id="af26" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">好的，现在可以接受。如果我们想在一个人死亡后保持屏幕不变，我们可能需要创建一个布尔值来表示玩家已经死亡，以防止更多的生命被减去，但这是目前可以接受的修正。</p><p id="7599" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过最后一次检查，我们已经部分解决了 resp Shawn 问题，但是让我们做得稍微好一点。让我们用一个空的作为一个航路点。</p><p id="445c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在屏幕上你希望玩家重生的地方放一个空的地方，叫它“重生点”或类似的名字。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/70c7d668f514163196e3095101e6aadf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eseMPt7keZwY-E4VxIgOKw.gif"/></div></div></figure><p id="5a81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将让 Unity 用 GameObject 来寻找它。找到，然后在繁殖点的位置繁殖玩家！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ka"><img src="../Images/953235b855ea677a97bcf4b4c32e2a12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gDrxyhYDeVKI3IMUxXEDgg.png"/></div></div></figure><p id="ec1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看看它是否有效:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jt"><img src="../Images/1aa3def0d8cbdabece6ff5fde84a9874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PNLWrHkXu8vCjfWCG6Z5Tg.gif"/></div></div></figure><p id="1e25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这似乎很有效，但我认为如果我们确保它只需要一条生命，我会感觉更好，所以让我们采取一些保护措施:</p><p id="0529" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们来做一个名为 _isDead 的布尔型；</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kb"><img src="../Images/3268421fdc9028d816acd842663dc2cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*mpUh9kzC14HyO-KZSbbFpA.png"/></div></figure><p id="6e6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将把 Respawn 代码移到它自己的名为 Respawn()的函数中。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es kc"><img src="../Images/06a2d0e239ad5512c1607e42c74cc632.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XG9MZZz7EjDPrQT9WAl55Q.png"/></div></div></figure><p id="3d80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们将在以前的 CheckIfDead 代码中调用 respawn。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jy"><img src="../Images/7a911d9f9f631737a252b836bfbc3a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FJHuZNm0y1ntptVMKOEvLA.png"/></div></div></figure><p id="e2af" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，我们将放入我们的安全措施，我们将使用我们的 _isDead 布尔值来确保我们只减去一个死亡。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jy"><img src="../Images/9f35eedf7908149d618f8370d9a49104.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gLX3KHPq0cEaEUA-fEsPwQ.png"/></div></div></figure><p id="1b56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于 CheckIfDead 正在更新中，我们将每秒 60 次检查玩家是否死亡。这确保了如果我们删除一个生命，它只会发生一次，直到我们再次将 boolean _isDead 设置为 false。我们什么时候能做那件事？大概是玩家安然无恙的时候，比如..玩家重生的地方！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es kc"><img src="../Images/907fad4532e6481390666f19b47fdeca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*chsUfPZl_JLYxXnq0R2h-w.png"/></div></div></figure><p id="a459" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了确保物理工作正常，让我们将 Update()改为 FixedUpdate()。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es kd"><img src="../Images/4a261467e8e42539c66741c0e435fae9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AcYjSfN2S8-iIb1N7E-Gug.gif"/></div></div></figure><p id="ae9d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">太好了！让我们看看现在事情是否正常:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ke"><img src="../Images/3d6d0e86e6f1a5f89b2a5126ca6c4f9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IchdLpfb-lu1fAw1ulY9bQ.gif"/></div></div></figure><p id="1616" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">厉害！我们现在每次跌倒都只是失去一条生命！然而，我还想分享一个技巧，那就是在重新闪现之前将屏幕冻结一秒钟，明天我会详细介绍，到时见！</p></div></div>    
</body>
</html>