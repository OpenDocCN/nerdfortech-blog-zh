<html>
<head>
<title>SSH: Architecture, Configuration, And Applications (SSH, SCP, SFTP, Tunneling)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SSH:架构、配置和应用程序(SSH、SCP、SFTP、隧道)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/ssh-architecture-and-applications-ssh-scp-sftp-tunneling-or-port-forwarding-bd495fedeff7?source=collection_archive---------0-----------------------#2022-08-21">https://medium.com/nerd-for-tech/ssh-architecture-and-applications-ssh-scp-sftp-tunneling-or-port-forwarding-bd495fedeff7?source=collection_archive---------0-----------------------#2022-08-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="1086" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">甚至 BitBucket 现在也通过启用应用程序密码来使用 SSH 的强大功能</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/b2ffc0dc4a0b2383a801109692fe9858.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ApjL3ek8nGVKHoVHiTXA9g.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">使用我的 mac 电脑登录服务器终端(信用:<a class="jn jo ge" href="https://medium.com/u/c541fb3fb779?source=post_page-----bd495fedeff7--------------------------------" rel="noopener" target="_blank"> Aayush Ostwal </a></figcaption></figure><h1 id="b560" class="jp jq hi bd jr js jt ju jv jw jx jy jz io ka ip kb ir kc is kd iu ke iv kf kg bi translated">内容</h1><p id="b048" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp kq kr ks kt ku kv kw kx ky kz la lb lc hb bi translated">本文将涵盖以下主题。</p><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="e718" class="li jq hi le b fi lj lk l ll lm"><strong class="le hj">- Bitbucket Use Case for SSH<br/>- Why Bitbucket Usecase?<br/>- SSH: Secure Shell Protocol<br/>- SSH: Architecture</strong><br/>     - Terminology<br/>     - Key-pair<br/>     - Architecture<br/><strong class="le hj">- SSH: Applications</strong><br/>     - Login into Terminal<br/>     - File transfer using SCP and SFTP<br/>     - Port Forwarding</span></pre><p id="1ee9" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi ls translated"><span class="l lt lu lv bm lw lx ly lz ma di"> B </span> itbucket，最常用的基于 git 和 CI/CD(持续集成和开发)工具，最近改变了使用其 API 进行认证的方式。以前，我们使用<strong class="kj hj">账户密码</strong>进行认证，而现在，我们需要创建应用程序密码进行认证或设置 SSH 密钥。</p><p id="a6eb" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">Bitbucket 提供了这种架构变化背后的两个主要原因，以及它如何确保更多的安全性。</p><ul class=""><li id="74f0" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated"><strong class="kj hj">访问控制</strong>:bit bucket 中的每个 app 密码都有一个访问控制的核对表。您可以修改与其关联的权限。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es mk"><img src="../Images/bdf679fe92e3ce09ccee73c557c87fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*23z4ZKMuZHaoe7eTZCx1Bg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">位桶中的应用程序密码权限。(信用:<a class="jn jo ge" href="https://medium.com/u/c541fb3fb779?source=post_page-----bd495fedeff7--------------------------------" rel="noopener" target="_blank"> Aayush Ostwal </a>)</figcaption></figure><ul class=""><li id="41b1" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated"><strong class="kj hj">加密</strong> : App 密码以加密形式存储在 Bitbucket 数据库中。即使是直接使用这些数据库的人也不能使用这些密码。</li></ul><h1 id="2986" class="jp jq hi bd jr js jt ju jv jw jx jy jz io ka ip kb ir kc is kd iu ke iv kf kg bi translated">为什么使用 Bitbucket 用例？</h1><p id="ffee" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp kq kr ks kt ku kv kw kx ky kz la lb lc hb bi translated">根据右秤年报上的<a class="ae ml" href="https://resources.flexera.com/web/media/documents/rightscale-2019-state-of-the-cloud-report-from-flexera.pdf" rel="noopener ugc nofollow" target="_blank">云状态</a>:</p><ul class=""><li id="2e77" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated"><strong class="kj hj"> 91% </strong>的组织正在使用公共云</li><li id="445e" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj"> 72% </strong>的组织正在使用私有云</li></ul><p id="e74a" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">随着云计算的普及，数据泄露的风险也在急剧上升。数据泄漏是指服务器上的数据以某种方式被删除、损坏或对任何用户或应用程序不可读的过程。</p><p id="9cac" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">但是为什么我们在 SSH 文章里要说 BitBucket 呢？</p><blockquote class="mr ms mt"><p id="11b5" class="kh ki mu kj b kk ln ij km kn lo im kp mv lp ks kt mw lq kw kx mx lr la lb lc hb bi translated">App passwords 对 bitbucket API 的作用，SSH 对我们使用的服务器的作用。</p></blockquote><p id="9af4" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">通过实现 SSH，您可以在使用服务器的过程中增加另一层安全和身份验证。</p></div><div class="ab cl my mz gp na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="hb hc hd he hf"><h1 id="43d9" class="jp jq hi bd jr js nf ju jv jw ng jy jz io nh ip kb ir ni is kd iu nj iv kf kg bi translated">SSH:安全外壳协议</h1><p id="8970" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp kq kr ks kt ku kv kw kx ky kz la lb lc hb bi translated">SSH 是安全的 Sheel 协议。它是一种网络协议，允许您在不安全的网络(互联网)上更安全地使用网络服务(与服务器交互)(加密和验证)。</p><p id="7fa0" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">SSH 打破了这一技术定义，提供了一种更加加密、无密码和安全的与服务器通信的方式。现在，由于密码是隐藏的，相关的风险也得到抑制。</p></div><div class="ab cl my mz gp na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="hb hc hd he hf"><h1 id="b58c" class="jp jq hi bd jr js nf ju jv jw ng jy jz io nh ip kb ir ni is kd iu nj iv kf kg bi translated">SSH:架构</h1><p id="a751" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp kq kr ks kt ku kv kw kx ky kz la lb lc hb bi translated">SSH 协议包含一对密钥，并且基于<strong class="kj hj">服务器-客户端架构</strong>。</p><h2 id="769e" class="li jq hi bd jr nk nl nm jv nn no np jz kq nq nr kb ku ns nt kd ky nu nv kf nw bi translated">术语:</h2><p id="30bc" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp kq kr ks kt ku kv kw kx ky kz la lb lc hb bi translated">在开始 SSH 的任何技术架构之前，我想指定一些术语:</p><ul class=""><li id="011b" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated"><strong class="kj hj"> SSH-Client </strong>:您当前可以访问的机器或服务器。这可以是你的电脑。</li><li id="df5e" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj"> SSH-Server </strong>:你要连接的服务器。任何 AWS EC2 实例都可以充当 ssh 服务器。</li></ul><h2 id="0a36" class="li jq hi bd jr nk nl nm jv nn no np jz kq nq nr kb ku ns nt kd ky nu nv kf nw bi translated">密钥对</h2><p id="2c12" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp kq kr ks kt ku kv kw kx ky kz la lb lc hb bi translated">第一步是生成密钥对。当您在 ssh-client 的终端中运行<code class="du nx ny nz le b">ssh-keygen</code>时，会生成一个密钥对。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es oa"><img src="../Images/bc80a98ede025c53292171862559fdc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iGJsDUAxOkwXyEeQVLbQiw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">输入密钥对。shh 文件夹(Credit: <a class="jn jo ge" href="https://medium.com/u/c541fb3fb779?source=post_page-----bd495fedeff7--------------------------------" rel="noopener" target="_blank"> Aayush Ostwal </a>)</figcaption></figure><ul class=""><li id="86fa" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated"><strong class="kj hj">公钥(id_rsa.pub) </strong>:可以公开共享的密钥。这个密钥被复制到 ssh-server，当我们使用 ssh 从一个连接请求时，它将用于身份验证。</li><li id="09a0" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">私有密钥(id_rsa) </strong>:驻留在 ssh 客户端上的密钥。这用于认证和解密来自服务器的数据。</li></ul><h2 id="c0bd" class="li jq hi bd jr nk nl nm jv nn no np jz kq nq nr kb ku ns nt kd ky nu nv kf nw bi translated">建筑</h2><p id="3fc2" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp kq kr ks kt ku kv kw kx ky kz la lb lc hb bi translated">当您在 ssh-client 的终端中运行<code class="du nx ny nz le b">ssh username@host</code>时，会发生以下事情</p><ul class=""><li id="9dc5" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated">您运行命令的这个终端充当 SSH 的<strong class="kj hj">应用层</strong>。这可以是你的终端，也可以是任何软件，比如 mobaxtrem(windows)，或者 iTerm (mac)。</li><li id="9720" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">ssh-client 上的传输层</strong>:创建包含用户名、主机、私钥等信息的消息，以加密包的形式发送给 ssh-server。</li><li id="a1b1" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated">ssh-server 上的传输层:接收数据包并恢复消息。一旦获得了私钥，它就会在 ssh-server 上的<code class="du nx ny nz le b">authorized_keys</code>文件中寻找另一对。</li><li id="5480" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated">一旦通过认证，客户端和服务器之间就会建立一个<strong class="kj hj">用户认证层</strong>。</li></ul><p id="76d6" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">用户认证层用于 ssh-server 和 ssh-client 之间的交互。您可以:</p><ul class=""><li id="5ae0" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated">在终端上运行命令</li><li id="8399" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated">发送或接收文件。</li><li id="59d5" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated">隧道或转发端口。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ob"><img src="../Images/497cd0c0a459801dc7b4ea723594ebe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*naXLB36qiCe5fLEmqAc1vw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">SSH 架构的示意图(鸣谢:<a class="jn jo ge" href="https://medium.com/u/c541fb3fb779?source=post_page-----bd495fedeff7--------------------------------" rel="noopener" target="_blank"> Aayush Ostwal </a>)</figcaption></figure><h1 id="3cd2" class="jp jq hi bd jr js jt ju jv jw jx jy jz io ka ip kb ir kc is kd iu ke iv kf kg bi translated">SSH:应用程序</h1><p id="bd2b" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp kq kr ks kt ku kv kw kx ky kz la lb lc hb bi translated">为了设置 SSH，首先，您需要发送您的公钥(<strong class="kj hj">)。ssh/id_rsa.pub </strong>)到您的服务器。为此，有两种方法:</p><ul class=""><li id="8e9a" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated"><strong class="kj hj">手动复制</strong>:使用密码登录您的服务器，将您的公钥复制到<code class="du nx ny nz le b">.ssh/authorized_keys</code>文件中。如果一个<code class="du nx ny nz le b">authorized_keys</code>文件不存在，请随意创建一个。</li></ul><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="d242" class="li jq hi le b fi lj lk l ll lm">cat "ssh-rsa {a encoded key} aayushostwal@Aayush-MacBook-Air.local" &gt;&gt; <!-- -->.ssh/authorized_keys</span></pre><ul class=""><li id="a80d" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated"><strong class="kj hj"> SSH 复制 ID </strong>:有一个命令行包，用于将您的文件发送到服务器。<code class="du nx ny nz le b">ssh-copy-id</code>。这将自动将公钥添加到服务器上的文件<code class="du nx ny nz le b">authorized_keys</code>。</li></ul><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="ccdb" class="li jq hi le b fi lj lk l ll lm">ssh-copy-id -i ~/.ssh/is_rsa.pub username@host</span></pre><p id="94c3" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated"><strong class="kj hj">注意</strong>:使用<code class="du nx ny nz le b">ssh-copy-id</code>时，需要输入服务器密码。</p><p id="ae07" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">现在认证已经建立，我们可以开始探索 SSH 的应用程序了。</p><h2 id="5041" class="li jq hi bd jr nk nl nm jv nn no np jz kq nq nr kb ku ns nt kd ky nu nv kf nw bi translated">登录到终端</h2><ul class=""><li id="4874" class="mb mc hi kj b kk kl kn ko kq oc ku od ky oe lc mg mh mi mj bi translated"><strong class="kj hj">命令</strong> : <code class="du nx ny nz le b">ssh ec2-user@18.208.214.183</code></li><li id="cdb3" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated">该命令将直接将您连接到服务器的终端</li><li id="8c23" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">预期产出</strong>:</li></ul><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="e037" class="li jq hi le b fi lj lk l ll lm"><strong class="le hj">ssh ec2-user@18.208.214.183</strong><br/>ED25519 key fingerprint is SHA256:9QLdfWE/3wtszmctrlM8uoPgyBw1XWYSBDM3gbqsesY.</span><span id="b140" class="li jq hi le b fi of lk l ll lm">This host key is known by the following other names/addresses:<br/>~/.ssh/known_hosts:1: ec2-18-208-214-183.compute-1.amazonaws.com<br/>Are you sure you want to continue connecting (yes/no/[fingerprint])? yes<br/>Warning: Permanently added '18.208.214.183' (ED25519) to the list of known hosts.<br/>Last login: Sun Aug 14 13:14:02 2022 from &lt;your_computer_ip&gt;<br/>__|  __|_  )<br/>_|  (     /   Amazon Linux 2 AMI<br/>___|\___|___|<br/>https://aws.amazon.com/amazon-linux-2/<br/>2 package(s) needed for security, out of 10 available<br/>Run "sudo yum update" to apply all updates.<br/>-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory</span><span id="c30b" class="li jq hi le b fi of lk l ll lm"><strong class="le hj">[ec2-user@ip-172-31-20-80 ~]$</strong></span></pre><h2 id="cb70" class="li jq hi bd jr nk nl nm jv nn no np jz kq nq nr kb ku ns nt kd ky nu nv kf nw bi translated">使用 SCP 的文件传输:安全复制</h2><ul class=""><li id="e21a" class="mb mc hi kj b kk kl kn ko kq oc ku od ky oe lc mg mh mi mj bi translated"><strong class="kj hj">命令</strong>:T6</li><li id="7a27" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated">这个命令将把<code class="du nx ny nz le b">file.txt</code>发送到服务器上的指定位置。还有，会有一个进度条显示上传文件的进度。</li><li id="34e1" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">预期产量:</strong></li></ul><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="7434" class="li jq hi le b fi lj lk l ll lm"><strong class="le hj">scp file.txt ec2-user@18.208.214.183:/home/ec2-user</strong></span><span id="c9e8" class="li jq hi le b fi of lk l ll lm">/etc/profile.d/lang.sh: line 19: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory</span><span id="1497" class="li jq hi le b fi of lk l ll lm">file.txt                                                                                             100% 2321     9.6KB/s   00:00</span></pre><h2 id="d15e" class="li jq hi bd jr nk nl nm jv nn no np jz kq nq nr kb ku ns nt kd ky nu nv kf nw bi translated">使用 SFTP 的文件传输:安全文件传输协议</h2><ul class=""><li id="a7ae" class="mb mc hi kj b kk kl kn ko kq oc ku od ky oe lc mg mh mi mj bi translated">对于使用 SFTP 的文件传输，首先，你需要打开一个 SFTP 终端。</li><li id="f2a9" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">命令</strong>:T8</li><li id="471d" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated">然后，您可以使用 SFTP 命令从服务器发送或接收文件。这里你也会看到进度条。</li><li id="8bc3" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">预期产出:</strong></li></ul><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="09ca" class="li jq hi le b fi lj lk l ll lm"><strong class="le hj">sftp ec2-user@18.208.214.183</strong></span><span id="b610" class="li jq hi le b fi of lk l ll lm">Connected to 18.208.214.183.</span><span id="8d53" class="li jq hi le b fi of lk l ll lm"><strong class="le hj">sftp&gt; put file.txt</strong><br/>Uploading file.txt to /home/ec2-user/file.txt</span><span id="c1d7" class="li jq hi le b fi of lk l ll lm">file.txt                                                                                             100% 2321     9.6KB/s   00:00</span><span id="d3e3" class="li jq hi le b fi of lk l ll lm"><strong class="le hj">sftp&gt; exit</strong></span></pre><blockquote class="mr ms mt"><p id="774c" class="kh ki mu kj b kk ln ij km kn lo im kp mv lp ks kt mw lq kw kx mx lr la lb lc hb bi translated"><strong class="kj hj">SCP 与 SFTP 的区别:<br/> </strong> SCP 仅作为文件传输的工具，而 SFTP 用于文件传输和文件管理。简而言之，SFTP 可以用来删除或创建文件/目录以及文件传输。另外，SFTP 比 SCP 快。</p></blockquote><h2 id="4e7f" class="li jq hi bd jr nk nl nm jv nn no np jz kq nq nr kb ku ns nt kd ky nu nv kf nw bi translated">隧道(端口转发)</h2><ul class=""><li id="16f8" class="mb mc hi kj b kk kl kn ko kq oc ku od ky oe lc mg mh mi mj bi translated">当你在一个端口上的服务器上运行一个应用程序，并且你想让用户访问这个应用程序而不访问服务器本身时，隧道就是解决方案。在本文中，我们将讨论两种类型的隧道。</li><li id="afec" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">远程端口转发:</strong>端口从客户端转发到服务器。如果有任何应用程序正在客户端上运行，您可以在服务器上访问它。</li><li id="36ac" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">本地端口转发:</strong>端口从服务器转发到客户端。如果有任何应用程序正在服务器上运行，您可以在客户端访问它。</li></ul><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es og"><img src="../Images/d1545b0f0ce56d49c7b41b3bc1987770.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PNd1PkhdgTFFlZQ6EpnPmQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">远程和本地港口转运(信用:<a class="jn jo ge" href="https://medium.com/u/c541fb3fb779?source=post_page-----bd495fedeff7--------------------------------" rel="noopener" target="_blank"> Aayush Ostwal </a></figcaption></figure><ul class=""><li id="fdd7" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated"><strong class="kj hj">远程端口转发命令</strong>:<code class="du nx ny nz le b">ssh -R server_ip_address:server_port:client_ip_address:client_port username@server_ip</code></li><li id="2bcb" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">远程端口转发的预期输出</strong><strong class="kj hj"/>:(运行在客户端端口 8888 上的应用程序被转发到服务器端口 8080)</li></ul><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="421e" class="li jq hi le b fi lj lk l ll lm">ssh -R localhost:8888:localhost:8080 ec2-user@18.208.214.183<br/>Last login: Sun Aug 14 13:14:02 2022 from &lt;your_computer_ip&gt;<br/>__|  __|_  )<br/>_|  (     /   Amazon Linux 2 AMI<br/>___|\___|___|<br/>https://aws.amazon.com/amazon-linux-2/<br/>2 package(s) needed for security, out of 10 available<br/>Run "sudo yum update" to apply all updates.<br/>-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory</span><span id="d361" class="li jq hi le b fi of lk l ll lm"><strong class="le hj">[ec2-user@ip-172-31-20-80 ~]$</strong></span></pre><ul class=""><li id="c21f" class="mb mc hi kj b kk ln kn lo kq md ku me ky mf lc mg mh mi mj bi translated"><strong class="kj hj">本地端口转发命令</strong>:<code class="du nx ny nz le b">ssh -L client_ip_address:client_port:server_ip_address:server_port username@server_ip</code></li><li id="d203" class="mb mc hi kj b kk mm kn mn kq mo ku mp ky mq lc mg mh mi mj bi translated"><strong class="kj hj">本地端口转发的预期输出</strong><strong class="kj hj"/>:(运行在服务器端口 8888 上的应用被转发到客户端端口 8080)</li></ul><pre class="iy iz ja jb fd ld le lf lg aw lh bi"><span id="0c0e" class="li jq hi le b fi lj lk l ll lm">ssh -L localhost:8080:localhost:8888 ec2-user@18.208.214.183<br/>Last login: Sun Aug 14 13:17:03 2022 from &lt;your_computer_ip&gt;<br/>__|  __|_  )<br/>_|  (     /   Amazon Linux 2 AMI<br/>___|\___|___|<br/>https://aws.amazon.com/amazon-linux-2/<br/>2 package(s) needed for security, out of 10 available<br/>Run "sudo yum update" to apply all updates.<br/>-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory</span><span id="c18a" class="li jq hi le b fi of lk l ll lm"><strong class="le hj">[ec2-user@ip-172-31-20-80 ~]$</strong></span></pre></div><div class="ab cl my mz gp na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="hb hc hd he hf"><p id="981a" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">在 Youtube 上观看这篇文章:</p><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="oh oi l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">(视频由<a class="jn jo ge" href="https://medium.com/u/c541fb3fb779?source=post_page-----bd495fedeff7--------------------------------" rel="noopener" target="_blank"> Aayush Ostwal </a>拍摄)</figcaption></figure><h1 id="9218" class="jp jq hi bd jr js jt ju jv jw jx jy jz io ka ip kb ir kc is kd iu ke iv kf kg bi translated">就是这样！</h1><p id="d991" class="pw-post-body-paragraph kh ki hi kj b kk kl ij km kn ko im kp kq kr ks kt ku kv kw kx ky kz la lb lc hb bi translated">你需要知道的关于 SSH 的所有事情都完成了。现在，您可以通过更安全的连接接入任何服务器。</p><p id="f783" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">我认为 SSH 的最佳用例是自动化。当您需要在多个服务器之间发送或接收文件时。最关键的部分是您不需要将密码保存在配置文件中。SSH 会跟踪每一次通信。</p><p id="dec7" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">请让我知道你的 SSH 用例，以及你如何使用 SSH 的力量。</p><p id="90dd" class="pw-post-body-paragraph kh ki hi kj b kk ln ij km kn lo im kp kq lp ks kt ku lq kw kx ky lr la lb lc hb bi translated">感谢阅读！！！</p></div></div>    
</body>
</html>