<html>
<head>
<title>Static Generation with getStaticProps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用getStaticProps进行静态生成</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/static-generation-with-getstaticprops-7568de1e91b4?source=collection_archive---------9-----------------------#2021-04-23">https://medium.com/nerd-for-tech/static-generation-with-getstaticprops-7568de1e91b4?source=collection_archive---------9-----------------------#2021-04-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e7eca2a87e43c182c9705bb99eb1e350.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YoSJKkoCmqPMmeNW.png"/></div></div></figure><div class=""/><p id="2c96" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hu">静态生成</strong>意味着我们在构建期间预先生成一个页面。这样，构成内容的所有HTML数据在构建时就已经加载到页面中了。所谓构建，我指的是在应用程序部署期间预渲染应用程序。</p><p id="b82b" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">部署应用程序后，页面会提前准备好。允许它们被服务于应用的服务器/ <strong class="iw hu"> CDN </strong>(内容交付网络)缓存。现在，当一个客户机请求服务器时，如果有任何传入的请求正在被解析，那么页面可以被分离给客户机。</p><p id="e20f" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">只有在pages文件夹中，我们才能使用:</p><blockquote class="js"><p id="3ee5" class="jt ju ht bd jv jw jx jy jz ka kb jr dx translated">可以添加到pages目录下的任何页面文件中</p></blockquote><figure class="kc kd ke kf kg hk"><div class="bz dy l di"><div class="kh ki l"/></div></figure><p id="c97c" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">NextJS会自动预生成。但是我们想告诉NextJS我们希望预渲染哪些文件；我们可以这样做:</p><figure class="kj kk kl km fd hk"><div class="bz dy l di"><div class="kh ki l"/></div></figure><p id="b743" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">NextJS首先执行<code class="du iq ir is it b">getStaticProps</code>，然后渲染<code class="du iq ir is it b">HomePage()</code>组件。</p><p id="7ad0" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du iq ir is it b">getStaticProps</code>不仅允许我们编写服务器端代码，还允许我们导入节点模块，如<code class="du iq ir is it b">fs</code>节点文件系统。</p><figure class="kj kk kl km fd hk"><div class="bz dy l di"><div class="kh ki l"/></div></figure><p id="382c" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可以用NextJS做的其他很酷的事情。</p><figure class="kj kk kl km fd hk"><div class="bz dy l di"><div class="kh ki l"/></div></figure><blockquote class="kn ko kp"><p id="ebe2" class="iu iv kq iw b ix iy iz ja jb jc jd je kr jg jh ji ks jk jl jm kt jo jp jq jr hb bi translated">旁注:记住<code class="du iq ir is it b">JSON</code>，是一个在浏览器端和节点上都有的全局对象。</p></blockquote><p id="cbef" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">我们可以通过运行测试我们的构建</p><p id="c592" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">npm运行构建<br/> npm启动</p><p id="133a" class="pw-post-body-paragraph iu iv ht iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">这将允许我们看到为我们的应用程序构建了什么…</p></div></div>    
</body>
</html>