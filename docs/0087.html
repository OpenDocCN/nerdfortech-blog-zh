<html>
<head>
<title>How to build Slide Out Menu in Swift?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Swift 中构建滑出式菜单？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-build-slide-out-in-swift-7f2ef0188aa?source=collection_archive---------1-----------------------#2020-02-08">https://medium.com/nerd-for-tech/how-to-build-slide-out-in-swift-7f2ef0188aa?source=collection_archive---------1-----------------------#2020-02-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d2d9e38f735212b1afd6e89f44847b80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hmi-ryTe4uB6tWDh3pB5yg.png"/></div></div></figure><p id="dedb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当你被要求构建<strong class="is hj"> Slide Out </strong>时，你想到的第一件事就是在你的项目中桥接<strong class="is hj"> SWRevealViewController </strong>，但是等等。</p><p id="6dc9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你以前有没有想过如何从头开始构建<strong class="is hj">滑动菜单</strong>？</p><p id="c94c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在本文中，我们将学习如何构建滑出式应用程序，所以让我们深入代码。</p><p id="0287" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">首先，确保你像那样从<strong class="is hj">主界面</strong>中移除了<strong class="is hj">主界面</strong>。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jo"><img src="../Images/8511cca3bdf16f3e65653ccd6d11ebbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*dki0I3QIfzcRal7zAeyQoQ.png"/></div></figure><p id="9cd1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后跳转到<strong class="is hj"> AppDelegate </strong>，在<strong class="is hj">difinishlaunchingwithoptions</strong>中，你需要使用<strong class="is hj">窗口</strong>参数来显示我们将在<strong class="is hj"> ViewController </strong>中写入的内容。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="95b9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后进入<strong class="is hj"> ViewController </strong>文件，将<strong class="is hj"> ViewController </strong>超类改为<strong class="is hj">UICollectionViewController</strong>，我们需要将<strong class="is hj">视图</strong>和<strong class="is hj">集合视图</strong>设置为<strong class="is hj">白色</strong>颜色。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="b731" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们创建<strong class="is hj"> imageView </strong>，我们将在点击时使用它来显示<strong class="is hj">滑出</strong>。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="b45b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后创建<strong class="is hj"> handleSlideOut </strong>函数，通过调整<strong class="is hj"> x </strong>框架，当点击<strong class="is hj"> imageView </strong>时，将<strong class="is hj">集合视图</strong>从左向右移动。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="1e07" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然后给<strong class="is hj">的 profilemageView </strong>添加约束。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="b60a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">之后在<strong class="is hj">视图中调用该函数加载</strong></p><p id="8e13" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们需要创建继承自<strong class="is hj">n object</strong>的<strong class="is hj"> SlideOutView </strong>类，并创建名为<strong class="is hj"> showSlideOut </strong>的新函数。</p><p id="20b0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个函数中，我们将把<strong class="is hj">动画</strong>添加到<strong class="is hj">集合视图</strong>中，首先创建一个名为<strong class="is hj"> blackView </strong>的变量，并添加<strong class="is hj"> backgroundColor </strong>和<strong class="is hj"> alpha </strong>以在点击<strong class="is hj"> profileImageView </strong>时出现。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="1c20" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">返回到<strong class="is hj"> ViewController </strong>文件，创建<strong class="is hj"> slideOutView </strong>作为闭包。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="6b04" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通过这个闭包，你可以用它作为引用来调用<strong class="is hj"> showSlideOut </strong>函数，并将其添加到<strong class="is hj"> handleSlideOut </strong>函数中。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="03aa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在点击<strong class="is hj"> profileImageView </strong>可以显示<strong class="is hj"> blackView </strong>动画。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/573ce2f77578ac340c62014c352219f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/1*Sfl8vgTAda3pT4vLN1haiQ.gif"/></div></figure><p id="764b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">所以，是时候创建<strong class="is hj"> slideOutViewer </strong>在左侧显示了。<br/>返回<strong class="is hj"> SlideOutView </strong>类，创建<strong class="is hj"> slideOutViewer </strong>闭包，设置<strong class="is hj"> backgroundColor </strong>为白色。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="45a5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此跳转到<strong class="is hj"> showSlideOut </strong>函数，并添加<strong class="is hj"> slideOutViewer </strong>引用，使用<strong class="is hj">帧</strong>将<strong class="is hj"> slideOutViewer </strong>置于屏幕外，然后使用<strong class="is hj">动画</strong>将<strong class="is hj"> x 帧的原点</strong>设置为<strong class="is hj">零点</strong>以显示之后的<strong class="is hj"> slideOutViewer </strong>。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="3fca" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">当你运行你的应用程序时，你会看到<strong class="is hj">在点击图片时滑出</strong>。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/1f1681f1f1a672c037044b3d56a97b6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/1*imOcNJMArlSjSklwhplsLA.gif"/></div></figure><p id="ed2c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，怎样才能把<strong class="is hj">藏起来滑出</strong>？</p><p id="b6bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">答案是当点击<strong class="is hj">黑屏</strong>时，应该隐藏<strong class="is hj">滑出</strong>。</p><p id="8f0f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">那么，你怎样才能做到呢？</p><p id="89fc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们需要返回到<strong class="is hj"> showSlideOut </strong>函数，并将<strong class="is hj"> UITapGestureRecognizer </strong>添加到<strong class="is hj"> blackView </strong>中。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="a837" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们创建这个函数。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="0c88" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这个函数中，我们将通过将<strong class="is hj"> x 帧的原点</strong>设置为-250 来隐藏<strong class="is hj"> slideOutViewer </strong>，并通过在<strong class="is hj"> animate </strong>函数中将 alpha 设置为零来隐藏<strong class="is hj"> blackView </strong>。</p><p id="d24d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">隐藏了<strong class="is hj"> slideOutViewer </strong>之后，现在是时候通过转到<strong class="is hj"> ViewController </strong>文件，创建<strong class="is hj"> dismissView </strong>函数，并将<strong class="is hj">集合视图</strong>的 x 和 y <strong class="is hj">帧</strong>设置为<strong class="is hj">零</strong>来将<strong class="is hj">集合视图</strong>放回原处。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="709a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在要在两个视图之间建立一个连接，你需要首先在<strong class="is hj"> SlideOutView </strong>类中创建一个<strong class="is hj"> ViewController </strong>的引用，我们把它命名为<strong class="is hj"> homeViewController </strong>。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="a31b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">使用该引用调用我们在<strong class="is hj"> ViewController </strong>文件中创建的<strong class="is hj"> dismissView </strong>函数，并将其添加到<strong class="is hj"> DismissSlideOut </strong>函数中。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="492d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">返回到<strong class="is hj"> ViewController </strong>文件，并在<strong class="is hj"> slideOutView </strong>闭包中添加这一行，以将关于<strong class="is hj"> ViewController </strong>文件<strong class="is hj"> </strong>的所有信息提供给我们之前创建的<strong class="is hj"> homeViewController </strong>引用。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jt ju l"/></div></figure><p id="4ef5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就是这样。</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/60412404a6d733b4e3a116a3e96581c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/1*93bhQlCNt74B_xq0epcwgA.gif"/></div></figure><p id="28e0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在轮到你建立自己的了。</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="jw ju l"/></div></figure><p id="c887" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">看看一个<a class="ae jx" href="https://github.com/ahmedelserafy7/Slide-Out" rel="noopener ugc nofollow" target="_blank">项目</a>。</p></div></div>    
</body>
</html>