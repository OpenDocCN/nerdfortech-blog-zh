<html>
<head>
<title>SAP Tutorial: Complete CAP Java Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SAP教程:完整的CAP Java第2部分</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/sap-tutorial-complete-cap-java-part-2-217bc930857d?source=collection_archive---------2-----------------------#2021-06-10">https://medium.com/nerd-for-tech/sap-tutorial-complete-cap-java-part-2-217bc930857d?source=collection_archive---------2-----------------------#2021-06-10</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="3794" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">添加模拟数据、API设置、提供ui和创建模拟用户</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/e2fb57c47207d05d68d967cc537c839d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TVy-mVteFqlwWRxW"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">约书亚·阿拉贡在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="848c" class="ju jv hi bd jw jx jy jz ka kb kc kd ke iq kf kg kh iu ki kj kk iy kl km kn ko bi translated">内容</h2><ul class=""><li id="c75d" class="kp kq hi ih b ii kr im ks iq kt iu ku iy kv jc kw kx ky kz bi translated"><a class="ae jt" href="https://bnheise.medium.com/sap-tutorial-complete-cap-java-part-1-fc1868c7bbba" rel="noopener">之前:App初始化、模型和API创建、手动API测试</a></li><li id="6811" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><strong class="ih hj">当前:添加模拟数据，API设置，服务ui，创建模拟用户</strong></li><li id="6219" class="kp kq hi ih b ii la im lb iq lc iu ld iy le jc kw kx ky kz bi translated"><a class="ae jt" rel="noopener" href="/nerd-for-tech/sap-tutorial-complete-cap-java-3-adec221180bb">下一步:建立费奥里发射台和费奥里元素列表报告</a></li></ul><p id="bf57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">欢迎完成CAP Java第2部分。在本教程系列中，我将一步步向您展示如何为CAP Java构建SAP的<a class="ae jt" href="https://github.com/SAP-samples/cloud-cap-samples-java" rel="noopener ugc nofollow" target="_blank">书店示例应用程序</a>。本教程系列假设没有任何先验知识，所以任何人都可以跟随。请务必查看第1部分<a class="ae jt" href="https://medium.com/p/fc1868c7bbba/edit" rel="noopener">以了解我们到目前为止所做的工作。</a></p><h1 id="bc04" class="lf jv hi bd jw lg lh li ka lj lk ll ke lm ln lo kh lp lq lr kk ls lt lu kn lv bi translated">步骤1:添加模拟数据</h1><p id="2462" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lw is it iu lx iw ix iy ly ja jb jc hb bi translated">我们通过使用VS代码的<a class="ae jt" href="https://marketplace.visualstudio.com/items?itemName=humao.rest-client" rel="noopener ugc nofollow" target="_blank"> REST客户端插件</a>来测试我们的oData API来结束第一部分，这让我们可以向数据库添加一些数据。但是，随着我们的开发，我们将需要一组一致的模拟数据，并且我们不希望每次都手工提交它。幸运的是，CAP内置了一个数据库播种特性，所以只要我们有一个包含模拟数据的CSV文件，我们就可以在每次启动应用程序时将它自动部署到开发数据库中。让我们为我们的图书模型创建这样一个文件。</p><p id="9dff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">转到数据库文件夹，创建一个名为“data”的子文件夹，并在其中创建一个CSV文件。文件名很重要，因为它是CAP定位文件并将其与正确的数据模型相关联的方式。模式是<em class="lz"> &lt;名称空间&gt; - &lt;型号_名称&gt;。csv </em>。在本系列的第1部分中，我们将命名空间命名为toad lop . bookshop，并将模型命名为Books，因此我们的文件应该被命名为<em class="lz">toad lop . bookshop-Books . CSV</em>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es ma"><img src="../Images/e1ead3a39c66888576fb85d8ff389f60.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*_ob3HLg7m6-teWs4E0AzDw.png"/></div></figure><p id="63ed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">CSV的标题行应该是我们的Books模型中定义的元素的名称，如下所示。你可以随意添加任何你喜欢的数据。或者，如果你只是想复制一些东西，签出这个项目的Git repo并复制它(确保你找到了与第2部分-步骤1相匹配的commit数据模型将在后面的步骤中改变，使得模拟数据文件对于该步骤无效)。</p><pre class="je jf jg jh fd mb mc md me aw mf bi"><span id="944d" class="ju jv hi mc b fi mg mh l mi mj">ID;TITLE;DESCR;AUTHOR;GENRE;</span></pre><p id="4202" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">输入模拟数据后，运行<em class="lz"> mvn spring-boot:run </em>并从我们在第1部分中创建的REST客户机文件中尝试我们的get请求，看看是否能获得数据。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mk"><img src="../Images/acfd6c8bb04696a8bae3ccfeae5a2aec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GedEseGsKCXCYWfwvyQNHw.png"/></div></div></figure><p id="75f4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，如果您的应用程序无法启动，很可能是因为您的csv文件的名称有错误。扫描输出中的以下错误消息:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ml"><img src="../Images/1bb203ae1ad9ff523d169150dc4e5e14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RP1gOQcq5ZtGXPt2nZInJg.png"/></div></div></figure><pre class="je jf jg jh fd mb mc md me aw mf bi"><span id="2bfb" class="ju jv hi mc b fi mg mh l mi mj">Caused by: com.sap.cds.services.utils.ErrorStatusException: Can't find an entity 'toadslop.bookshop.Boks' matching CSV file '../db/data/toadslop.bookshop-Boks.csv'.</span></pre><p id="009d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您的应用程序启动良好，但您没有获得任何数据，这可能是因为您添加的值太长，超出了其字段的字符限制。如果您认为可能发生了这种情况，请扫描您的控制台输出，查看类似以下的消息:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mm"><img src="../Images/3b1f51471e519ecfa4a966566c084be9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rQl_5YFzr8_5wOTxlRXDhQ.png"/></div></div></figure><pre class="je jf jg jh fd mb mc md me aw mf bi"><span id="da95" class="ju jv hi mc b fi mg mh l mi mj">ChangeSet 2 as cancelled: Provided value of element 'descr' exceeds maximum length of 1000 (service 'PersistenceService$Default', event 'CREATE', entity 'toadslop.bookshop.Books')</span></pre><p id="7cfe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果发生这种情况，现在只需改变字符限制或减少您尝试提交的字符。在后面的教程中，我们将学习如何处理验证来防止这种错误。</p><h1 id="14d8" class="lf jv hi bd jw lg lh li ka lj lk ll ke lm ln lo kh lp lq lr kk ls lt lu kn lv bi translated">步骤2: API设置</h1><p id="8baf" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lw is it iu lx iw ix iy ly ja jb jc hb bi translated">如果您启动SAP提供的书店示例，您可能会注意到提供API的URL与我们创建的URL之间存在一些差异。我们来对比一下。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mn"><img src="../Images/80a12abf36b20f446be0fb6d623f19dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:542/format:webp/1*Wk4B6M4MYG7u3wt4ry4tuw.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">api/browse/Books (SAP的CAP Java示例)</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mo"><img src="../Images/d8a4f01428e9789288d5f517bb9d07fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*qXb1oSIqZvsHrgEOqwwSQA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">odata/v4/目录服务/书籍</figcaption></figure><p id="9276" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">请注意，SAP的示例以“api”开始，而不是我们默认的“odata/v4”，并且他们的CatalogService显示为“browse”。这是因为我们的应用程序正在显示CAP的默认设置——默认情况下，所有API都是oData v4 APIs，因此它在该名称空间下标记它们，然后它在CDS文件中使用的相同名称下公开服务。这一切都很好，但有时我们希望使用除这些默认值以外的其他值。让我们学习如何。</p><p id="df56" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，将“odata/v4”改为“api”。这是一个应用程序范围的设置，因此由一个名为<em class="lz"> application.yml </em>的文件控制，你可以在文件夹<em class="lz"> srv/src/main/resources/ </em>中找到这个文件。如果你已经有了Spring-Boot的经验，你应该熟悉这个文件，因为它是Spring-Boot应用程序的标准配置文件(CAP Java构建在Spring-Boot之上)。让我们打开文件，看看里面。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mp"><img src="../Images/ebc3c129f1383798e92e7946bacc5974.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*9tprLSh7ynqxSEPHzqf6Lg.png"/></div></figure><p id="ae4d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">有意思！注意，我们已经有了一个默认的概要文件(对于以前的Node程序员来说，可以把它看作是您的开发环境),并且已经配置了一个数据库——内存中的SQLite数据库。这就是为什么我们能够在前面的步骤中用模拟数据播种数据库，而不必首先配置任何东西。</p><p id="43e1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">无论如何，要将我们的“odata/v4”更改为“api”，只需在文件底部添加以下代码:</p><pre class="je jf jg jh fd mb mc md me aw mf bi"><span id="fbdc" class="ju jv hi mc b fi mg mh l mi mj">cds:<br/>  odata-v4.endpoint.path: "/api"</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mq"><img src="../Images/dc3adb834c67ce97e49362b5e51728ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*2V8AGFOKpuaywF-eG3EwoA.png"/></div></figure><p id="c61d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果您想了解更多关于您可以在这里添加的配置，请查看这个<a class="ae jt" href="https://cap.cloud.sap/docs/java/development/properties" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="ded2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们再次启动应用程序，看看结果！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mr"><img src="../Images/b4536f616ffd46a220f555155eb3fc10.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*KmE2vx9ZXr-DCTuNNf6Z7g.png"/></div></figure><p id="29be" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一半完成了！接下来，我们需要更改CatalogService在URL中的显示方式。打开cat-service.cds，将以下注释添加到我们的服务定义中:</p><pre class="je jf jg jh fd mb mc md me aw mf bi"><span id="5bb3" class="ju jv hi mc b fi mg mh l mi mj">@path : 'browse'<br/>service CatalogService {<br/>  entity Books as projection on bookshop.Books;<br/>}</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ms"><img src="../Images/cad6f6c8f035289dab9980813f5b8428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d6zEp0r3sqgic0D9HT4N5A.png"/></div></div></figure><p id="f397" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就这么简单。让我们来看看结果:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mt"><img src="../Images/33a453189e0f3dc44690c2e39f529ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*ol8O2nrv7NL7gfPNG5aHKg.png"/></div></figure><p id="0e17" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们做到了！</p><h1 id="7c93" class="lf jv hi bd jw lg lh li ka lj lk ll ke lm ln lo kh lp lq lr kk ls lt lu kn lv bi translated">步骤3:准备好服务用户界面</h1><p id="daf9" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lw is it iu lx iw ix iy ly ja jb jc hb bi translated">现在我们有了一些数据，最好在UI中而不是简单的JSON文件中提供。当然，我们可以创建任何UI，并对刚刚创建的端点进行AJAX调用，但在本教程中，我们将使用完整的SAP，并向您展示如何设置<a class="ae jt" href="https://sapui5.hana.ondemand.com/#/topic/03265b0408e2432c9571d6b3feb6b1fd" rel="noopener ugc nofollow" target="_blank">费奥里元素</a>。在此之前，我们需要添加一些额外的设置，以使我们作为开发人员的生活更加轻松——也就是说，当我们处于开发模式时，我们需要配置我们的Spring-Boot后端来服务我们的UI文件。在生产中，我们的UI将被部署为一个单独的应用程序，因此它实际上不会由我们的生产后端服务，但在开发中，每次我们想要测试UI时，都必须启动一个完全不同的服务器，这将是令人烦恼的。不幸的是，这不是预先配置好的，但是设置起来并不难。让我们学习如何。</p><p id="9a94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我们创建一个文件夹来保存我们的UI和一个html文件，以测试我们是否可以访问这个文件夹中的文档。首先，在根目录下创建一个名为<em class="lz"> app </em>的文件夹，按照惯例，这是存储CAP UIs的地方；实际上，你可以随意命名。接下来创建一个名为fiori.html<em class="lz">的文件，并将以下内容放入其中:</em></p><pre class="je jf jg jh fd mb mc md me aw mf bi"><span id="9b58" class="ju jv hi mc b fi mg mh l mi mj">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;title&gt;Bookshop&lt;/title&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;h1&gt;Hello World&lt;/h1&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mu"><img src="../Images/6bcc31d013fffeb9de11d4ee2d43afe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*sBxikCyQhEitV4l2gDIdew.png"/></div></figure><p id="e5c7" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你可能会问为什么我们把html文件<em class="lz">叫做fiori </em>而不是<em class="lz"> index </em>。原因是我们在本系列的第1部分看到的CAP测试我们后端的默认UI被称为<em class="lz">index.html</em>，所以如果我们命名我们的文件，我们将不再能够访问它。</p><p id="60c5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在尝试启动你的应用程序，并在浏览器中打开文件。你会注意到我们打不开它。这是因为我们的Spring-Boot后端不知道<em class="lz"> app </em>文件夹。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es mv"><img src="../Images/5a503042e2bc2748c6ae19535b00e5d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wxq-H23Ns8BWvgn9hWwUbA.png"/></div></div></figure><p id="6696" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开<em class="lz"> application.yml </em>文件并将其添加到顶部，就在<em class="lz"> spring: </em>下面</p><pre class="je jf jg jh fd mb mc md me aw mf bi"><span id="ef4f" class="ju jv hi mc b fi mg mh l mi mj">web.resources.static-locations: "file:./app"</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mw"><img src="../Images/17dbba26c4365eaddd88318e4dab73e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*ras6Gh_8LJFlWOpxDfHpHg.png"/></div></figure><p id="2921" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">毫不奇怪，这一行告诉Spring静态文件在哪里。然而，如果你尝试打开index.html，你仍然不能加载文件。这是因为Spring应用程序位于<em class="lz"> srv </em>文件夹中，所以默认情况下，它假设其根文件夹是<em class="lz"> srv </em>，这意味着它正在那里寻找<em class="lz"> app </em>文件夹，而不是上一级文件夹。我们需要确保应用程序知道它需要在那里寻找。</p><p id="bc14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开<em class="lz"> srv </em>文件夹中的POM.xml文件，找到注释&lt;开头的部分！-弹簧开机插件- &gt;。在其下方，找到&lt;配置&gt;标签，并在其中添加以下代码:</p><pre class="je jf jg jh fd mb mc md me aw mf bi"><span id="cc94" class="ju jv hi mc b fi mg mh l mi mj">&lt;workingDirectory&gt;..&lt;/workingDirectory&gt;</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mx"><img src="../Images/99e01d7f979fe89cfb30d7898beab768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*UhqLy99xssa80bGa2G3kWg.png"/></div></figure><p id="654c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个workingDirectory标签中的两个点只是告诉Spring-Boot应用程序的根目录是从<em class="lz"> srv </em>文件夹向上的一个文件夹。现在应该可以找到我们的<em class="lz"> app </em>文件夹和里面的index.html了。让我们试一试。重新启动您的应用程序，然后单击下面的链接:</p><p id="0ccc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jt" href="http://localhost:8080/index.html" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/index . html</a></p><p id="019e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">哦，看那个！</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es my"><img src="../Images/5a56efedaf45a483bd4272725be2aacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5g2fB8JB-4MHw_GKmT-viw.png"/></div></div></figure><p id="dc1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">队长想让我们登录。默认情况下，它不允许您在没有登录的情况下访问UI。不幸的是，我们还没有设置任何模拟用户，所以我们被困在这里。在下一节中，我将向您展示如何设置您的模拟用户，这样您就可以登录并显示您的fiori.html<em class="lz">文件。</em></p><h1 id="b55b" class="lf jv hi bd jw lg lh li ka lj lk ll ke lm ln lo kh lp lq lr kk ls lt lu kn lv bi translated">步骤4:创建模拟用户</h1><p id="83bf" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lw is it iu lx iw ix iy ly ja jb jc hb bi translated">幸运的是，创建模拟用户非常简单。只需再次打开<em class="lz"> application.yml </em>文件，并在<em class="lz"> cds: </em>标题下添加以下行:</p><pre class="je jf jg jh fd mb mc md me aw mf bi"><span id="d60e" class="ju jv hi mc b fi mg mh l mi mj">security.mock.users:</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es mz"><img src="../Images/ee3025fb20df99b8babce97da1c20366.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*-IJPxKUuey9MW7mrpNqlRw.png"/></div></figure><p id="c8cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在那下面，正如你在上图中看到的，你可以创建一组具有各种属性的用户。出于我们的目的，我们将只创建两个用户，一个管理员和一个普通用户。请注意我们是如何向admin用户提供角色<em class="lz"> admin </em>的。我们不会马上使用它，但请记住，这样的角色允许我们微调不同用户在我们的应用程序中可以看到和做什么。除了这些属性，我们还可以使用很多其他属性来配置我们的用户；点击查看<a class="ae jt" href="https://cap.cloud.sap/docs/java/development/properties" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="b6c4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们再次尝试测试UI。重启你的服务器，再次尝试进入<a class="ae jt" href="http://localhost:8080/fiori.html" rel="noopener ugc nofollow" target="_blank">http://localhost:8080/fiori . html</a>。输入我们两个用户之一的用户名和密码，看看结果——我们可以成功地显示我们的<em class="lz">fiori.html</em>文件。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es na"><img src="../Images/90b7500cd2136a3ad7fe464fd8234d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*rU3iF-Usj6teYQ3foj04jw.png"/></div></figure><h1 id="e681" class="lf jv hi bd jw lg lh li ka lj lk ll ke lm ln lo kh lp lq lr kk ls lt lu kn lv bi translated">结论</h1><p id="cbbf" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lw is it iu lx iw ix iy ly ja jb jc hb bi translated">这就把我们带到了完整的CAP Java教程的第2部分的结尾。概括地说，我们学习了如何设置CSV文件，以便在启动应用程序时将模拟数据植入数据库，如何配置API的URL，以及如何使用CDS为服务分配自定义端点。我们还配置了我们的dev后端来处理特定文件夹中的静态文件，这样我们就不需要两个单独的服务器来处理后端和前端，我们还学习了如何设置模拟用户。</p><p id="0573" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下周的文章中，我们将从头开始深入配置费奥里元素页面。</p></div><div class="ab cl nb nc gp nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="hb hc hd he hf"><p id="67da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">本教程中有什么不清楚的吗？请在下面留下问题，我会尽快回复您。有什么不对吗？请在下面留下评论，让我知道(更正的来源将是最有帮助的)。谢谢大家的评论！</p><h1 id="eadb" class="lf jv hi bd jw lg lh li ka lj lk ll ke lm ln lo kh lp lq lr kk ls lt lu kn lv bi translated">支持</h1><p id="39bb" class="pw-post-body-paragraph if ig hi ih b ii kr ik il im ks io ip iq lw is it iu lx iw ix iy ly ja jb jc hb bi translated">你喜欢这个博客吗？想确保我能继续创作吗？然后考虑在<a class="ae jt" href="https://www.patreon.com/toadhousetutorials" rel="noopener ugc nofollow" target="_blank"> Patreon </a>上订阅！</p></div></div>    
</body>
</html>