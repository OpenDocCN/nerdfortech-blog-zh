<html>
<head>
<title>Create a Elevator in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在统一中创造一部电梯</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/create-a-elevator-in-unity-8bfb6e7d4bb6?source=collection_archive---------19-----------------------#2021-07-13">https://medium.com/nerd-for-tech/create-a-elevator-in-unity-8bfb6e7d4bb6?source=collection_archive---------19-----------------------#2021-07-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="fd76" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.5D 游戏开发</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/12a5faa7c0821b41259e16eb8f4e7fc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TEFBzm_kFtECrvLP.jpg"/></div></div></figure><p id="9f2a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">目标:</strong>创建一个让 gameobject 上下移动的调用系统。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jp"><img src="../Images/3012504bfd805e40cd4a6d6550cf6514.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*Ej_aJjQGdu1QM8-QCQWyYQ.png"/></div></figure><p id="8ca2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是我们的场景，每当玩家收集到所需的数量，并站在电梯呼叫方附近，即看起来像门的游戏对象，当我们按下“E”键时，红色指示器将变成绿色，电梯下降。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jq"><img src="../Images/95d5f69dd1c19a86cd0ec0b80efb994d.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*sqf3M3er8MGlnccvqRDMpw.png"/></div></figure><p id="fb47" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们首先在电梯调用者内部的 ElevatorPanel 脚本中创建一些变量。指示器变量引用红色指示器，bool 变量用于检查电梯是否被调用，required coins int 变量用于检查玩家在调用电梯并进入下一阶段之前是否收集了足够的硬币。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/88f5a4aad60ec794dddbe97d0dfd510c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Mchq2B8W_7oZpdshg6RPQ.png"/></div></div></figure><p id="13e3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在在玩家进入触发器后，检查是否是玩家，然后检查是否按下了“E”键，并且玩家已经收集了所需数量的硬币。现在两者都返回 true，检查电梯是否已经被调用。如果不是，那么将指示器改为绿色表示肯定，并将电梯呼叫设置为真，这样玩家就不能一次又一次地呼叫它。</p><p id="f271" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后找到电梯游戏对象，调用 CallElevator 函数。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es js"><img src="../Images/0a88a9f1b0c2065aa61c2e750f8bc19a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bP3bIop1MXcv4T9lv4sc4Q.png"/></div></div></figure><p id="db3d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在玩家退出电梯呼叫范围后，将一切设置为默认。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jt"><img src="../Images/296e50f1cdf562e7c715ca229b51de1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*fv9o9EOm34tY-qo7oAP3nw.png"/></div></figure><p id="5d65" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在创建另一个脚本电梯，并将其添加到电梯游戏对象。在那里，创建一个 bool 来检查是否调用了电梯，创建 vector3 变量来存储目的地，创建 gameobject 变量来存储玩家，创建 speed 来定义移动速度，创建 Transform 变量来存储起点和目标的位置值。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/0ee542213e00b5172ffc25b67395a1f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rr-HNUjAKRNLoYxd0KCpuw.png"/></div></div></figure><p id="04a5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在每次电梯被呼叫时，检查它的位置。如果电梯在原点，则移动到目标，即 TargetB，如果电梯在目标，则移动到原点，即 TargetA，并将名为 bool 的电梯设置为 true。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jv"><img src="../Images/a2cc8473a66f5883347baca12286d1b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UTNW-EHy5V5_shO_s90HeQ.png"/></div></div></figure><p id="b1fb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，在玩家进入电梯后，移动玩家游戏对象，使电梯成为其父级，这样玩家就可以随着电梯一起移动。然后检查电梯是否接近目的地，以确保目的地不会在中途改变。</p><p id="1279" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后，如果玩家按下“E”键，调用呼叫电梯功能，改变目的地并启动电梯。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jw"><img src="../Images/e2b66b0f1af690a4a062038f4b142e18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*ARIQwK2Vv6GrqBSNeDz7Kw.png"/></div></figure><p id="5af1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">玩家退出电梯后，将其父级设置为 null，这样玩家就不会相对于电梯移动。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/f5227db151ebab9db676d8fbc7f6c94b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s8YtEbEaNzfV3HnLsKDwxg.png"/></div></div></figure><p id="448d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，当电梯被叫向目的地时，移动电梯。电梯到达目的地后，将电梯呼叫设置为假。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jy"><img src="../Images/f35fb0be1f50a2e43eadd1b707b604c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*k1UvCRlbALosiAOVgHsk8w.gif"/></div></div></figure><p id="d2d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这就是结果。</p><p id="2b5f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">检查<a class="ae jz" href="https://github.com/ZeusK10/2.5D-Platformer-puzzle" rel="noopener ugc nofollow" target="_blank">这里</a>的完整脚本。</p></div></div>    
</body>
</html>