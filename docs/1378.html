<html>
<head>
<title>Polyfill for Array methods: map(), filter() and reduce() 💁</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数组方法的poly fill:map()、filter()和reduce()💁</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/polyfill-for-array-map-filter-and-reduce-e3e637e0d73b?source=collection_archive---------1-----------------------#2021-03-16">https://medium.com/nerd-for-tech/polyfill-for-array-map-filter-and-reduce-e3e637e0d73b?source=collection_archive---------1-----------------------#2021-03-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/48d0a3b4697ca58bc35a393b8e8fe2f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_M_usADKAMZST6uHcHYQ4w.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">费德里科·贝卡里在<a class="ae iu" rel="noopener ugc nofollow" target="_blank" href="/s/photos/wallpapers-hd?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"> Unsplash </a>上的照片</figcaption></figure><p id="454e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">嘿！你可能在面试中被问到过这个问题，也可能没有。不管是什么情况，多了解一些也无妨。所以在这里我将分享如何为<strong class="ix hj">贴图</strong>、<strong class="ix hj">滤镜、</strong>和<strong class="ix hj">减少</strong>数组方法创建polyfill。</p><blockquote class="jt ju jv"><p id="2d4c" class="iv iw jw ix b iy iz ja jb jc jd je jf jx jh ji jj jy jl jm jn jz jp jq jr js hb bi translated"><strong class="ix hj">我们来编码吧！</strong></p></blockquote><h2 id="dcd8" class="ka kb hi bd kc kd ke kf kg kh ki kj kk jg kl km kn jk ko kp kq jo kr ks kt ku bi translated">Array.map()的Pollyfill</h2><p id="2445" class="pw-post-body-paragraph iv iw hi ix b iy kv ja jb jc kw je jf jg kx ji jj jk ky jm jn jo kz jq jr js hb bi translated">让我们首先从语法上看一下<strong class="ix hj"> Array.map() </strong>是如何工作的:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="35dc" class="ka kb hi lf b fi lj lk l ll lm">let <strong class="lf hj">newArray </strong>= arr.map(<strong class="lf hj">callback</strong>(<strong class="lf hj">currentValue</strong>[, <strong class="lf hj">index</strong>[, <strong class="lf hj">array</strong>]]) {<br/>  // return element for newArray, after executing something<br/>});</span></pre><p id="3a64" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，原来的<strong class="ix hj"> Array.map </strong>函数将一个<strong class="ix hj">回调</strong>函数作为参数，这个回调函数可以有三个参数传递给它:<br/> a .当前值<br/> b .当前值的索引【可选】<br/> c .数组【可选】</p><p id="951b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基于此，让我们构建自己的地图函数:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="5a54" class="ka kb hi lf b fi lj lk l ll lm">Array.prototype.myMap = function(<strong class="lf hj">callbackFn</strong>) {<br/>  var arr = [];             <em class="jw"> </em><br/>  for (var i = 0; i &lt; this.length; i++) { <br/>    <em class="jw"> /* call the callback function for every value of this array and       push the returned value into our resulting array<br/>     */</em><br/>    arr.push(<strong class="lf hj">callbackFn</strong>(this[i], i, this));<br/>  }<br/>  return arr;<br/>}</span></pre></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><h2 id="4009" class="ka kb hi bd kc kd ke kf kg kh ki kj kk jg kl km kn jk ko kp kq jo kr ks kt ku bi translated">Array.filter()的Pollyfill</h2><p id="aa9e" class="pw-post-body-paragraph iv iw hi ix b iy kv ja jb jc kw je jf jg kx ji jj jk ky jm jn jo kz jq jr js hb bi translated">让我们首先从语法上看Array.filter()是如何工作的:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="4964" class="ka kb hi lf b fi lj lk l ll lm">let newArray = arr.filter(callback(currentValue[, index[, array]]) {<br/>  // return element for newArray, if true<br/>});</span></pre><p id="a203" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">因此，原来的<strong class="ix hj"> Array.filter </strong>函数将一个<strong class="ix hj">回调函数</strong>作为参数，这个回调函数可以有三个参数传递给它:<br/> a .当前值<br/> b .当前值的索引【可选】<br/> c .数组【可选】</p><p id="d237" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基于此，让我们构建自己的过滤函数:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="c591" class="ka kb hi lf b fi lj lk l ll lm">Array.prototype.myFilter = function(<strong class="lf hj">callbackFn</strong>) {<br/>  var arr = [];    <em class="jw"> </em><br/>  for (var i = 0; i &lt; this.length; i++) {<br/>    if (<strong class="lf hj">callbackFn</strong>.<strong class="lf hj">call</strong>(this, this[i], i, this)) {<br/>      arr.push(this[i]);<br/>    }<br/>  }<br/>  return arr;<br/>}</span></pre></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><h2 id="aa91" class="ka kb hi bd kc kd ke kf kg kh ki kj kk jg kl km kn jk ko kp kq jo kr ks kt ku bi translated">Array.reduce()的Pollyfill</h2><p id="75f7" class="pw-post-body-paragraph iv iw hi ix b iy kv ja jb jc kw je jf jg kx ji jj jk ky jm jn jo kz jq jr js hb bi translated">让我们首先从语法上看Array.reduce()是如何工作的:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="6c81" class="ka kb hi lf b fi lj lk l ll lm">arr.reduce(callback( accumulator, currentValue, [, index[, array]] )[, initialValue])</span></pre><p id="10c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以，原来的<strong class="ix hj"> Array.reduce </strong>函数有两个参数:<br/> 1。一个<strong class="ix hj">回调函数</strong>作为一个参数，该回调函数可以有四个参数传递给它:<br/> a .累加器<br/> b .当前值<br/> c .当前值的索引【可选】<br/> d .数组【可选】</p><p id="e1b8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">2.一个<strong class="ix hj">初始值</strong>。</p><p id="d608" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">基于此，让我们构建自己的reduce函数:</p><pre class="la lb lc ld fd le lf lg lh aw li bi"><span id="c1de" class="ka kb hi lf b fi lj lk l ll lm">Array.prototype.myReduce= function(<strong class="lf hj">callbackFn</strong>, <strong class="lf hj">initialValue</strong>) {<br/>  var accumulator = initialValue;</span><span id="30b6" class="ka kb hi lf b fi lu lk l ll lm">for (var i = 0; i &lt; this.length; i++) {<br/>    if (accumulator !== undefined) {<br/>      accumulator = <strong class="lf hj">callbackFn</strong>.call(undefined, accumulator, this[i],   i, this);<br/>    } else {<br/>      accumulator = this[i];<br/>    }<br/>  }<br/>  return accumulator;<br/>}</span></pre></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><p id="d698" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jw">如果你喜欢这个帖子，请点击掌声图标，关注我</em> <a class="ae iu" href="https://tanyas27.medium.com" rel="noopener"> <em class="jw">这里</em> </a> <em class="jw">了解更多！</em></p><p id="9987" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jw">下面跟随</em><strong class="ix hj"><em class="jw">poly fill</em></strong><em class="jw">系列:</em></p><div class="lv lw ez fb lx ly"><a href="https://tanyas27.medium.com/polyfill-for-array-methods-part-2-foreach-81638691efe4" rel="noopener follow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hj fi z dy md ea eb me ed ef hh bi translated">数组方法的聚合填充第2部分🎥:forEach()</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">嘿！所以在之前的博客中，我分享了如何为map、fill和reduce数组方法创建polyfill。以防你…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">tanyas27.medium.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm io ly"/></div></div></a></div></div><div class="ab cl ln lo gp lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="hb hc hd he hf"><div class="la lb lc ld fd ly"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hj fi z dy md ea eb me ed ef hh bi translated">Array.prototype.map()</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">map()方法创建了一个新的数组，该数组填充了对…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">developer.mozilla.org</p></div></div><div class="mh l"><div class="mn l mj mk ml mh mm io ly"/></div></div></a></div><div class="lv lw ez fb lx ly"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hj fi z dy md ea eb me ed ef hh bi translated">Array.prototype.filter()</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">方法创建一个新数组，其中所有元素都通过了由提供的函数实现的测试。函数是一个…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">developer.mozilla.org</p></div></div><div class="mh l"><div class="mo l mj mk ml mh mm io ly"/></div></div></a></div><div class="lv lw ez fb lx ly"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hj fi z dy md ea eb me ed ef hh bi translated">Array.prototype.reduce()</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">reduce()方法在数组的每个元素上执行一个reducer函数(您提供的),产生一个…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">developer.mozilla.org</p></div></div><div class="mh l"><div class="mp l mj mk ml mh mm io ly"/></div></div></a></div></div></div>    
</body>
</html>