<html>
<head>
<title>Tip Of the Day: Input on Mobile Unity2D</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">日积月累:手机输入2D</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/tip-of-the-day-input-on-mobile-unity2d-3b7bf3c2f8cf?source=collection_archive---------10-----------------------#2021-06-18">https://medium.com/nerd-for-tech/tip-of-the-day-input-on-mobile-unity2d-3b7bf3c2f8cf?source=collection_archive---------10-----------------------#2021-06-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9527" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">你已经在你的PC/Mac上完成了你的项目或原型，你想让你的玩家在他的移动设备上移动。你会怎么做？</p><p id="4734" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你仍然没有在Unity中使用新的输入管理器，那么有一个快速简单的方法来做到这一点，这里是你如何使用Unity的跨平台输入。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h2 id="0ad6" class="jk jl hi bd jm jn jo jp jq jr js jt ju iq jv jw jx iu jy jz ka iy kb kc kd ke bi translated">A.下载标准资产</h2><p id="eb15" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">转到<a class="ae kk" href="https://assetstore.unity.com/packages/essentials/asset-packs/standard-assets-for-unity-2018-4-32351" rel="noopener ugc nofollow" target="_blank">标准资产(适用于Unity 2018.4) |资产包| Unity资产商店</a>，并将资产添加到您的资产中。在Unity中，打开你的软件包管理器，切换到“我的资产”,找到标准资产，下载并点击导入。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es kl"><img src="../Images/9296bd8db2fbfabef177ded7b579a1fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bKreur0BsUSY23XNGf6afA.jpeg"/></div></div></figure><p id="9296" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您不需要导入所有内容，如果您愿意，您可以导入与“<em class="kx"> CrossPlatformInput </em>”相关的所有内容。</p><h2 id="33b9" class="jk jl hi bd jm jn jo jp jq jr js jt ju iq jv jw jx iu jy jz ka iy kb kc kd ke bi translated">B.将游戏杆UI添加到您的游戏中</h2><p id="51dc" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">现在你已经在你的资产文件夹中有了标准资产，转到<strong class="ih hj">资产/标准资产/交叉平台输入/预置，并把"<em class="kx">MobileSingleStickControl</em>"</strong>"拖到你的场景中。添加到您的UI中，并确保它是UI中的最后一个项目，这样它就不会被其他UI元素阻止</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es ky"><img src="../Images/9d8a5ce55f2c83bb5e202faf355f40f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Zfarnc5egr1HnAgqAMWkcA.gif"/></div></div></figure><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es kz"><img src="../Images/e130a77f9beac1ef36c45be9ce518c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3Cu6I9OPbkF6_c_ZbV1-Mg.jpeg"/></div></div></figure><p id="25a4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">预设将有一个操纵杆和一个跳跃按钮。现在你可以随意改变游戏杆和按钮精灵，还可以添加更多的按钮。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es la"><img src="../Images/96c8e949e48d17f61c9c01277338f6a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q7siCZogI86vNzsJ4V-UtQ.jpeg"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx translated">它在我的项目中的外观</figcaption></figure><h2 id="e84d" class="jk jl hi bd jm jn jo jp jq jr js jt ju iq jv jw jx iu jy jz ka iy kb kc kd ke bi translated">C.代码实现</h2><p id="da17" class="pw-post-body-paragraph if ig hi ih b ii kf ik il im kg io ip iq kh is it iu ki iw ix iy kj ja jb jc hb bi translated">在处理玩家输入的脚本中，首先也是最重要的是，您需要使用UnityStandardAssets添加名称空间"<em class="kx">。CrossPlatformInput</em>”。这将允许您访问跨平台输入管理器。</p><p id="5d99" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对于操纵杆，就像您从unity的输入管理器中获取轴一样，您也可以对CrossPlatformInput的水平和垂直输入进行同样的操作。</p><pre class="km kn ko kp fd lf lg lh li aw lj bi"><span id="2eec" class="jk jl hi lg b fi lk ll l lm ln">_xHorizontal = CrossPlatformInputManager.GetAxisRaw("Horizontal");</span></pre><p id="afd8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的例子中，我想控制水平移动，所以我从CrossPlatformInputManager访问GetAxis。</p><figure class="km kn ko kp fd kq er es paragraph-image"><div class="er es lo"><img src="../Images/75b7f1912e74c492c95eef2a74b61381.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*7LbZWi2b_xBLJqp9LkydiA.jpeg"/></div></figure><p id="e277" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">至于按钮，MobileSingleStickControl中的每个按钮都有一个ButtonHandler脚本，该脚本带有一个名称变量，您可以更改该变量并将其编程为您的输入。</p><p id="bb10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我的例子中，我将第一个按钮重命名为A_Button。</p><p id="9409" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了使用按钮，我们将使用下面的代码</p><pre class="km kn ko kp fd lf lg lh li aw lj bi"><span id="6c0d" class="jk jl hi lg b fi lk ll l lm ln">CrossPlatformInputManager.GetButtonDown("A_Button")</span></pre><p id="719b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就像你注册键盘上的按钮一样。</p><p id="9873" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这样你就可以在游戏中设置更多的按钮。</p><p id="3e1c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是它在我的项目中的样子:</p><figure class="km kn ko kp fd kq er es paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="er es lp"><img src="../Images/6385f53b9e6197bfd03c07536e7db98f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*npfpTeJHrM6XOfqpV8nytQ.gif"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx translated">跨平台输入管理器</figcaption></figure></div></div>    
</body>
</html>