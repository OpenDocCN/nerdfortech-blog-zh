# 剧作家导论

> 原文：<https://medium.com/nerd-for-tech/introduction-to-playwright-58602b3c14ab?source=collection_archive---------3----------------------->

剧作家是一个开源的，在木偶师之上，网络自动化库。它由《木偶师》的作者创建，由微软维护。

在我们职业生涯的某个阶段，我们大多数人都从事过 web 自动化工作。测试时间、不一致的等待条件、为浏览器设置编写大量的模板代码、同时运行等等是 automatics 的主要问题。我们面临的最常见的问题。剧作家努力解决这些问题，并使其可读、快速和自信地编写测试。让我们在接下来的部分中探索如何做到这一点。

***装置:*** 使用剧作家的一个原因是它容易设置。在您运行下面的代码行之后，剧作家可能会获得所有 3 种支持的浏览器的二进制文件。只需一个简单的命令，配置就可以实现 web 自动化了。

```
npm i playwright
```

***3 原则:*** 剧作家以浏览器、语境、页面这 3 大要素为前提。

*   **浏览器**:要启动浏览器，我们必须先进行测试。剧作家使用 Browser 类对象，它只是一个 Chrome、Firefox 和 Webkit 实例。
*   **上下文**:通过浏览器上下文并行是由剧作家实现的。“浏览器上下文是一个孤立的会话，其身份类似于浏览器”。
*   **页面:**页面是上下文或弹出窗口中的新标签页。这个对象将在测试过程中执行每一个操作。

***跨浏览器支持*** *:* 最广泛使用的 3 个浏览器引擎均由剧作家支持:Chromium、Firefox 和 Webkit。因此，测试可以在所有浏览器上一次性完成，也可以不做，或者做一个小的设置。

***自动等待、可靠执行*** *:* 剧作家的一个好处是，在行动之前，你会自动期待 UI 组件在场。这有助于测试的创建，并防止增加显式的等待阶段。

剧作家进行检查，以确定选择器是否可以接受事件，以及它们是否稳定、可见或与 DOM 有联系。这些测试都通过了，毕竟，只有这样，选择点击行动。如果在 30 秒的默认超时后等待失败，剧作家将丢弃超时错误。如果页面包含动画或动态内容，您可能需要等待一段时间。在这种情况下，可以使用 WaitForTimeout。

***定制等待*** *:* 剧作家提供了定制的等待场景，比如页面加载缓慢，测试可能会等到选择就绪。同样，一些网络环境可以等待。

***认证***:web 框架中的认证是一个流行的特性。剧作家允许 cookies 在上下文中登录一次，并保留会话数据。一旦保存，它可以在所有测试中使用，并避免需要多次登录。

***选择器:*** 此外，除了 Selenium 等其他框架提供的标识、XPath、CSS、类名等常规选择器之外，剧作家还可能依赖更健壮的选择器(如文本内容和可访问性)来定位项目。

# 结论

剧作家是一个很好的探索平台。这是一个 node.js 库，是为一个高度反应的现代在线应用程序开发的，它使得使用这个框架完成的测试更加快速、有效和可靠。探索和学习这个工具是一次美妙的经历！