<html>
<head>
<title>Loot System in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">统一掠夺系统</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/loot-system-in-unity-2aa3d18dfa5e?source=collection_archive---------12-----------------------#2021-07-28">https://medium.com/nerd-for-tech/loot-system-in-unity-2aa3d18dfa5e?source=collection_archive---------12-----------------------#2021-07-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/51e65d90190c1c31581147cea64f345e.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/1*L3XqKeHSPyIaoEWVgiuXgQ.gif"/></div></figure><p id="3688" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我增加了攻击系统，让玩家可以击败敌人。现在是从战败的敌人那里获得战利品的时候了。</p><p id="afb3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，我经历了制作将成为战利品的钻石动画的过程。我给场景添加了第一帧，给钻石添加了一个动画师，并制作了钻石的动画。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/4449ff891bfbb71ef8157a2b1e52b301.png" data-original-src="https://miro.medium.com/v2/resize:fit:234/1*QXlUoczlV0pKw5hMwHCnag.gif"/></div></figure><p id="f282" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在玩家脚本中，创建一个变量来保存玩家拥有的方块数。然后创建一个方法，将收集到的钻石数量添加到diamond变量中。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/4557d47cdd474e2e7c182893ec2966d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*SmGHO31TY-4R1lsYgLD8nA.png"/></div></figure><p id="b28a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">创建一个将出现在钻石上的新脚本。这对玩家会有参考作用。一个分数变量，以及一个接受宝石数量并将其添加到分数变量中的方法。该脚本将使用一个<strong class="io hj"> OnTriggerEnter2D </strong>方法来检测玩家，并使用分数作为数字来更新玩家的钻石数量。然后脚本将删除钻石。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/6b1a0839ff06402f543b4ff8e1c9a8b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZgWKG6U0n9cVXAfcd0qjkA.png"/></div></div></figure><p id="d3bf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">回到unity，给菱形添加一个碰撞器，确保菱形脚本也在菱形上。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/56b26ceb0acf9ca95af65005c1b74e65.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*UiybvqSQaZDsYzRCy_odng.png"/></div></figure><p id="52f1" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在你可以预制钻石了。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/bdbe1bd3994df48f2081bfbdaf1547b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*3Lvp5O_MI0oGY0z4ZAhntw.png"/></div></figure><p id="9df3" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在敌方脚本中，创建一个钻石预设的引用。创建对diamond脚本的引用。现在创建一个方法实例化钻石，设置钻石脚本的引用，使用敌人的宝石值调用钻石脚本中的方法。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jx"><img src="../Images/5edc617bffe7791f89a9214843fb2132.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PuVK72KPHqo5XzPt93tRjA.png"/></div></div></figure><p id="d001" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">进入每个敌人，并在调用敌人死亡的地方添加SpawnDiamond()方法。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/23fd9e967e24019d3cc26a894cacae63.png" data-original-src="https://miro.medium.com/v2/resize:fit:396/format:webp/1*54GmeehrV2o2AAPdnDD3Fg.png"/></div></figure><p id="4296" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">确保将钻石预置添加到你的敌人中，并给他们正确的宝石值。这将产生钻石，并给玩家正确数量的宝石给被击败的敌人。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jz"><img src="../Images/55e188f5b9d25aeb92cfae88d59f0ec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/1*OIG6QVLOzTFkl8eRG69SNQ.gif"/></div></figure></div></div>    
</body>
</html>