# x tags❤️十二因素应用程序

> 原文：<https://medium.com/nerd-for-tech/xtages-%EF%B8%8F-twelve-factor-apps-7cab771da2a6?source=collection_archive---------10----------------------->

[十二要素应用](https://12factor.net/)是构建 SaaS 应用的流行方法，它:

*   *为设置自动化使用声明式格式，以最小化新开发人员加入项目的时间和成本；*
*   与底层操作系统有一个清晰的契约，在执行环境之间提供最大的可移植性；
*   *适合在现代云平台上部署，无需服务器和系统管理；*
*   *最大限度地减少开发和生产之间的差异，支持持续部署以实现最大的敏捷性；*
*   *并且可以在不对工具、架构或开发实践进行重大更改的情况下进行扩展。*

根据马蒂亚斯和我的经验，这种方法可以产生质量更好的应用程序，可以根据组织的需求增长，并且更容易管理和调试。事实上，在构建 Xtages 时，我们遵循了这些建议，因为我们知道它们对于创建一个可靠的 SaaS 应用程序有多重要。

对我们来说，Xtages 不仅仅是提供构建应用的服务，我们还热衷于提供易于遵循的最佳实践，并将其融入到使用我们的服务构建的应用中。

接下来，我们将探讨 Xtages 如何帮助您在构建产品时遵循这十二个因素。

> 一.代码库
> 
> *在版本控制中跟踪一个代码库，多个部署*

当您创建一个新的 Xtages 项目时，它会自动在您的组织下创建一个 GitHub 存储库。它还将创建持续集成和持续部署管道。我们在每个到主分支的合并上运行 CI 管道，以确保最新的头是健康的。我们还支持部署到试运行环境和提升到生产环境。

> 二。属国
> 
> *显式声明并隔离依赖关系*

Xtages 目前支持 Node.js 项目，默认情况下，我们向存储库添加一个`package-lock.json`,以便显式声明依赖关系并锁定它们的版本。

> 三。配置
> 
> *在环境中存储配置*

当在 Xtages Cloud 中部署一个应用程序到 staging 或 production 时，我们将数据库连接配置作为环境变量传递；我们建议用户利用`[dotenv](https://www.npmjs.com/package/dotenv)` [包](https://www.npmjs.com/package/dotenv)来管理他们的本地开发环境变量。

> 四。后勤服务
> 
> *将后台服务视为附属资源*

部署在 Xtages Cloud 中的每个应用程序都可以使用作为环境变量传入的连接配置，通过标准驱动程序访问数据库。我们建议为本地开发建立一个本地数据库。

> 动词 （verb 的缩写）构建、发布、运行
> 
> *严格分离构建和运行阶段*

Xtages 项目自带的 CI 和 CD 管道通过利用 Docker 提供了这种分离。这些管道是完全隔离的，在部署映像之前不会影响暂存或生产环境。

> 不及物动词处理
> 
> *将应用作为一个或多个无状态进程执行*

根据定义，部署在 Xtages 云中的应用程序是无状态的，我们不能保证它们部署在哪里。我们建议使用数据库来满足所有的持久性需求。

> 七。端口绑定
> 
> *通过端口绑定导出服务*

我们不支持需要在托管 web 服务器或应用服务器内运行的应用。每个应用程序必须通过使用适当的嵌入式服务器来公开其 API (HTTP 或其他协议);每个应用程序必须是独立的。

> 八。并发
> 
> *通过流程模型向外扩展*

不适用的

> 九。一次性
> 
> *通过快速启动和平稳关闭最大限度地提高鲁棒性*

当一个应用程序部署到 Xtages Cloud 时，我们的负载平衡器会进行一系列健康检查，如果 30 秒后没有响应，就会宣布应用程序不健康；因此，我们建议应用程序尽快启动。

> X.开发/生产平价
> 
> *保持开发、试运行和生产尽可能相似*

在 Xtages 中，我们为每个 app 提供两个环境，一个用于 staging，一个用于 production 虽然彼此隔离，但它们是相同的。我们强制要求，在升级到生产环境之前，必须将构建部署到试运行环境，这样就可以在不打扰您的生产用户的情况下对其进行现场测试。

> XI。日志
> 
> *将日志视为事件流*

为了正确地收集日志，我们建议所有部署到 Xtages Cloud 的应用程序将它们的日志输出到`stdout`；然后我们将在 Xtages 控制台中展示它们。

> 十二。管理流程
> 
> *将行政/管理任务作为一次性流程运行*

不适用的

正如你在 Xtages 看到的，我们不仅关心提供一个优秀的软件开发生命周期，而且我们希望帮助各种规模的组织，以及各种经验水平的开发人员，在最短的时间内为他们的客户提供最好的服务。如果你想了解更多关于 Xtages 的信息，请查看我们的[页面](https://xtages.com)和[注册我们的邮件列表](https://www.xtages.com/pricing.html#join-titlehttps://www.xtages.com/pricing.html#join-title)以接收更新。

*原载于 2021 年 6 月 2 日*[*【https://www.xtages.com】*](https://www.xtages.com/blog/posts/xtages-and-12-factor-apps/)*。*