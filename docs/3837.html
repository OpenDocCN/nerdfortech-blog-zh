<html>
<head>
<title>A Beginner Tutorial of Great Expectations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">远大前程初学者教程</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/a-beginner-tutorial-of-great-expectations-e43022922aa?source=collection_archive---------6-----------------------#2021-06-26">https://medium.com/nerd-for-tech/a-beginner-tutorial-of-great-expectations-e43022922aa?source=collection_archive---------6-----------------------#2021-06-26</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="dfe9" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">Great Expectation是一个工具，用于在数据工程环境中验证数据、检查数据、文档和数据分析的质量。</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/188e54a69d2943052f459671005b40e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aTwZq7ceSHClNuAconBNig.jpeg"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">米卡·鲍梅斯特在<a class="ae jn" href="https://unsplash.com/collections/8336854/analysis?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="7417" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">数据质量是数据工程师、分析师、机器学习工程师、科学家和所有数据最终用户在数据科学领域面临的一个普遍问题。如果数据质量很差，分析师可能无法创建准确的分析，机器学习模型的行为可能与预期不同。如果管理团队无法获得糟糕的图表/分析，他们可能会做出糟糕的决策。因此，确保我们用于决策、创建分析或开发机器学习模型的数据得到事先验证至关重要。如果数据有冗余，确保事先知道并记录下来。</p><p id="d7e7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在数据工程生态系统中讨论最多的一个新工具是解决所有这些问题的巨大期望。我最近研究了这个工具，并尝试了一下。在这篇文章中，我将通过一些关于远大前程的例子来讲述一些基础知识。</p><p id="c97e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在设计ETL或ELT管道时，我们许多人都面临这个问题，我们总是必须确保从不同来源提取的数据包含准确的数据。一些常见问题可能是，</p><p id="8cec" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">🛑列可能包含意外的空值或某些意外的值</p><p id="cd25" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">🛑表格可能包含一个额外的列或行</p><p id="0d60" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">🛑表中列的顺序可能与预期的不同</p><p id="0519" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">🛑该表可能有多个重复的行或列。</p><p id="1c27" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">我刚刚列出了很少的问题，但是出现了大量的数据质量问题。工具《远大前程》帮助我们进行了验证。该工具还可以记录数据验证和质量测试及其结果，并通过一个精彩的、易于阅读的用户界面呈现出来。《远大前程》中的测试叫做期望测试。下面，我展示了一个简单的测试用例场景，在其上实现了一些期望测试，并展示了生成的文档。</p><h1 id="009f" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated"><strong class="ak">测试用例场景</strong></h1><p id="7ecf" class="pw-post-body-paragraph jo jp hi jq b jr lc ij jt ju ld im jw jx le jz ka kb lf kd ke kf lg kh ki kj hb bi translated">让我们假设公司XYZ.io总共有20名员工。该公司只有3个部门(销售、营销和开发)。这些员工仅来自5个州(阿拉巴马、科罗拉多、特拉华、佛罗里达和华盛顿)，年龄在20至40岁之间。员工工资在8万到13万之间。员工总的先前经验和雇用日期。每个员工当前正在寻找的客户ID。参见下面的数据集。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lh"><img src="../Images/7424fc1ec984924cfbdca8c37dd51483.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BpJRwc15eIgpli6Ysw6f_Q.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">按作者分类的数据</figcaption></figure><h1 id="5f48" class="kk kl hi bd km kn ko kp kq kr ks kt ku io kv ip kw ir kx is ky iu kz iv la lb bi translated">期望测验</h1><figure class="iy iz ja jb fd jc"><div class="bz dy l di"><div class="li lj l"/></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">作者的GistFile</figcaption></figure><ol class=""><li id="261c" class="lk ll hi jq b jr js ju jv jx lm kb ln kf lo kj lp lq lr ls bi translated"><strong class="jq hj">expect _ column _ values _ To _ be _ in _ set</strong>—检查列仅包含预期值。</li></ol><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lt"><img src="../Images/d4728478783333daef99cdd442a284a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jqqo8MRWz3qgKUHQG84Ubw.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">expect _ column _ values _ to _ be _ in _ set由作者测试</figcaption></figure><p id="5aa5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在上面的测试中，我们已经验证了列<strong class="jq hj"> employee_location </strong>只包括<strong class="jq hj">阿拉巴马州、科罗拉多州、特拉华州、佛罗里达州</strong>和<strong class="jq hj">华盛顿州</strong>。因此，<strong class="jq hj">成功</strong>显示<strong class="jq hj">为真。</strong></p><p id="565e" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在下面的例子中，我们将看到一个失败的场景。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lu"><img src="../Images/45a0fc2208357fab17d578f85c839f9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7QJmNEiDPwldmUUfnqtTA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated">expect _ column _ values _ to _ be _ in _ set由作者测试</figcaption></figure><p id="9e8f" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">在上面的例子中，我们试图验证列<strong class="jq hj"> department </strong>只包含值<strong class="jq hj"> sales、marketing </strong>和<strong class="jq hj"> development </strong>。但是期望产生了一个<strong class="jq hj">失败</strong>的结果。看，<strong class="jq hj">成功</strong>就是<strong class="jq hj">假。</strong></p><p id="509b" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">正如您所看到的，期望测试用真和假来验证数据。在本文中，我只展示了一个关于期望测试的例子。然而，有很多<a class="ae jn" href="https://docs.greatexpectations.io/en/latest/autoapi/great_expectations/dataset/dataset/index.html#great_expectations.dataset.dataset.Dataset.expect_column_to_exist" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">期望测试</strong> </a>可以用来验证你的数据和检查数据的质量。在这个<a class="ae jn" href="https://bit.ly/GE_Notebook_Tutorial" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> GitHub资源库</strong> </a>中，你可以看到我对这些数据进行的不同类型的期望测试。</p><p id="c993" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">重要的是要记住，本文只关注远大前程的基础知识。在生产环境中，远大前程的设置是不同的。查看远大期望团队的这篇<a class="ae jn" href="https://docs.greatexpectations.io/en/latest/guides/tutorials.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">文章</strong> </a>，了解如何安装和设置远大期望。</p><p id="eea0" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果你喜欢这篇文章，请关注我的<a class="ae jn" href="https://bit.ly/LinkedInKetan" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> LinkedIn </strong> </a>，<a class="ae jn" href="https://bit.ly/MediumKetan" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> Medium </strong> </a>或<a class="ae jn" href="http://bit.ly/KetanInsta" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> Instagram </strong> </a>。如果你想了解我更多，可以查看我的<a class="ae jn" href="https://bit.ly/websiteKetan" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj">网站</strong> </a>。</p><p id="0de5" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">如果你有一些问题要讨论，你可以给我写一个<a class="ae jn" href="https://bit.ly/LinkedInKetan" rel="noopener ugc nofollow" target="_blank"> <strong class="jq hj"> LinkedIn </strong> </a>的消息。很乐意用我的经验帮助你。</p></div></div>    
</body>
</html>