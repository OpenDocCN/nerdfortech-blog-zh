<html>
<head>
<title>ng-sq-ui tour: the datetime-picker component (+ Brand new Rewards Program)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ng-sq-ui 之旅:日期选择器组件(+全新的奖励计划)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/ng-sq-ui-tour-the-datetime-picker-component-brand-new-rewards-program-5958a68ae2c2?source=collection_archive---------21-----------------------#2021-05-16">https://medium.com/nerd-for-tech/ng-sq-ui-tour-the-datetime-picker-component-brand-new-rewards-program-5958a68ae2c2?source=collection_archive---------21-----------------------#2021-05-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/9d5e8253d4a32077835ac0cab69d3b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*fOouYUWeba3gCdOoOAUc0w.png"/></div></figure><p id="fd00" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">你好！欢迎来到“ng-sq-ui 之旅”系列的另一篇文章 Angular 的简单质量 ui 介绍！这一次，我们的重点将是<a class="ae jk" href="https://www.npmjs.com/package/@sq-ui/ng-datetime-picker" rel="noopener ugc nofollow" target="_blank">@ sq-ui/ng-datetime-picker</a>模块及其导出的组件。</p><h1 id="ef86" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">概观</h1><p id="d77e" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">使用两个独立的组件来实现日期时间选择器功能:<a class="ae jk" href="https://sq-ui.github.io/ng-sq-ui/#/datetime-picker-module?id=sq-datetime-picker" rel="noopener ugc nofollow" target="_blank"><strong class="io hj">sq-日期时间选择器</strong> </a> <strong class="io hj"> </strong>和<a class="ae jk" href="https://sq-ui.github.io/ng-sq-ui/#/datetime-picker-module?id=sq-time-picker" rel="noopener ugc nofollow" target="_blank"><strong class="io hj">sq-时间选择器</strong> </a>。默认情况下，sq-datetime-picker 组件只显示一个日期选择器。它公开了启用/禁用其内置 sq-time-picker 组件的配置属性。这两个组件都由 NgDatetimePickerModule 导出，可以单独使用。该模块可以作为一个独立的包使用，即<a class="ae jk" href="https://www.npmjs.com/package/@sq-ui/ng-datetime-picker" rel="noopener ugc nofollow" target="_blank">@ sq-ui/ng-datetime-picker</a>，也包含在主<a class="ae jk" href="https://www.npmjs.com/package/@sq-ui/ng-sq-ui" rel="noopener ugc nofollow" target="_blank"> ng-sq-ui npm 包</a> e 中。</p><h1 id="8af5" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">装置</h1><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="371a" class="kx jm hi kt b fi ky kz l la lb">npm install @sq-ui/ng-datetime-picker</span></pre><p id="b046" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">或者</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="48d6" class="kx jm hi kt b fi ky kz l la lb">npm install @sq-ui/ng-sq-ui</span></pre><h1 id="eb6f" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">综合</h1><p id="640c" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">与<a class="ae jk" rel="noopener" href="/@rhythmxholic/ng-sq-ui-tour-the-modal-component-f858586b566f"> sq-modal 组件</a>类似，sq-datetime-picker 依赖于<a class="ae jk" href="https://sq-ui.github.io/ng-sq-ui/#/common-module" rel="noopener ugc nofollow" target="_blank"><strong class="io hj">NgSqCommonModule</strong></a>获得附加逻辑。它被列为依赖项，因此应该自动安装。</p><p id="1c3b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果您已经安装了独立软件包，则需要导入这两个模块:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="1815" class="kx jm hi kt b fi ky kz l la lb">import { NgSqCommonModule } from<strong class="kt hj"> '</strong>@sq-ui/ng-sq-common';<br/>import { NgDatetimePickerModule } from '<!-- -->@sq-ui/ng-datetime-picker<!-- -->';</span></pre><p id="d88d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后将它们添加到我们希望它们加入的模块中:</p><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lc ld l"/></div></figure><p id="f5bc" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">或者，如果您选择使用主软件包:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="9078" class="kx jm hi kt b fi ky kz l la lb">import { NgSqUiModule } from '@sq-ui/ng-sq-ui';</span></pre><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lc ld l"/></div></figure><p id="d12d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">日期时间选择器和独立的时间选择器都使用@fortawesome/fontawesome-free 包中的一些图标。通过在 angular.json 的构建样式数组中包含 fontawesome 图标样式表的路径，可以将它添加到您的项目中:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="6b5b" class="kx jm hi kt b fi ky kz l la lb">"styles": [<br/>  "./node_modules/@fortawesome/fontawesome-free/css/fontawesome.min.css",<br/>  "./node_modules/@fortawesome/fontawesome-free/css/solid.min.css",<br/>  "./node_modules/@fortawesome/fontawesome-free/css/regular.min.css",<br/>  "src/styles.css"<br/>],</span></pre><h1 id="1429" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">日期时间选择器:用法</h1><h2 id="4a8d" class="kx jm hi bd jn le lf lg jr lh li lj jv ix lk ll jz jb lm ln kd jf lo lp kh lq bi translated">基本配置</h2><p id="7870" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">组件是为表单设计的，所以它们的底层逻辑基于<a class="ae jk" href="https://angular.io/api/forms/ControlValueAccessor" rel="noopener ugc nofollow" target="_blank"> Angular 的表单 API </a>。这两个组件都可以使用<a class="ae jk" href="https://angular.io/guide/forms" rel="noopener ugc nofollow" target="_blank">模板驱动</a>，以及<a class="ae jk" href="https://angular.io/guide/reactive-forms" rel="noopener ugc nofollow" target="_blank">反应式表单</a>方法:</p><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lr ld l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">角形 API 集成示例</figcaption></figure><blockquote class="lw lx ly"><p id="2213" class="im in lz io b ip iq ir is it iu iv iw ma iy iz ja mb jc jd je mc jg jh ji jj hb bi translated"><strong class="io hj">注意:</strong>上面的例子使用了 sq-ui 主题(参见 angular.json 中的“styles”数组)。简单质量的 UI 组件有它们自己的主题，但是默认情况下<strong class="io hj">是禁用的</strong>。使用它们完全是可选的。从 angular.json 中删除“sq”类和 sq-ui-theme.scss 文件将使它们变得非常简单。</p></blockquote><h2 id="4cdd" class="kx jm hi bd jn le lf lg jr lh li lj jv ix lk ll jz jb lm ln kd jf lo lp kh lq bi translated">集成时间选择器</h2><p id="a919" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">该组件附带了一个集成的时间选择器(它也可以作为一个单独的组件获得，但是我将在本文的后面提到它)。要启用它，我们必须将<strong class="io hj"> isTimepickerEnabled </strong>输入属性设置为 true，并将有效的时间选择器配置传递给<strong class="io hj"> timepickerConfig </strong>输入属性:</p><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lr ld l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">集成时间选择器示例</figcaption></figure><h2 id="ae11" class="kx jm hi bd jn le lf lg jr lh li lj jv ix lk ll jz jb lm ln kd jf lo lp kh lq bi translated">输出类型</h2><p id="cddf" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">在实际开发 datetime-picker 之前，我们仔细考虑了几个日期对象操作库作为选项。我们在 date-fns 和 moment.js 之间左右为难，最后我们决定用 moment.js，因为它广为人知，使用广泛。它还提供了现成的区域设置支持，这是常规日期时间选择器所必需的。</p><p id="fd2b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">默认的输出类型设置为常规的 JavaScript Date 对象。通过将“moment”或“unix”作为值传递给<strong class="io hj"> dateObjectType </strong>输入，可以将日期时间选择器配置为以 moment 对象或 unix 字符串的形式返回选定的日期时间对象:</p><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lr ld l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">不同日期输出示例</figcaption></figure><h2 id="4dd4" class="kx jm hi bd jn le lf lg jr lh li lj jv ix lk ll jz jb lm ln kd jf lo lp kh lq bi translated">自定义输出日期格式</h2><p id="ee14" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">如果作者希望输出是特定的字符串格式，他们可以将一个字符串值传递给<strong class="io hj">格式的</strong>输入。要求该值是<a class="ae jk" href="https://momentjs.com/docs/#/parsing/string-format/" rel="noopener ugc nofollow" target="_blank"> moment.js </a>支持的有效格式字符串。</p><blockquote class="lw lx ly"><p id="66f7" class="im in lz io b ip iq ir is it iu iv iw ma iy iz ja mb jc jd je mc jg jh ji jj hb bi translated"><strong class="io hj">注意:</strong>一旦你将一个格式字符串传递给<strong class="io hj">格式</strong>输入属性，那么<strong class="io hj">日期对象类型</strong>的值将被忽略，日期时间选择器将把输出作为一个字符串返回。</p></blockquote><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lr ld l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">自定义字符串输出格式示例</figcaption></figure><h2 id="ea93" class="kx jm hi bd jn le lf lg jr lh li lj jv ix lk ll jz jb lm ln kd jf lo lp kh lq bi translated">多重日期选择</h2><p id="37c7" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">datetime-picker 组件可以配置为支持多个日期选择。这可以通过将<strong class="io hj"> isMultipleSelect </strong>输入设置为真来实现。在这种模式下，datetime-picker 将以字符串数组的形式返回选定的日期。日期将根据为<strong class="io hj">日期对象类型</strong>或<strong class="io hj">格式输入指定的值进行格式化。</strong></p><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lr ld l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">多重日期选择示例</figcaption></figure><h2 id="a9a7" class="kx jm hi bd jn le lf lg jr lh li lj jv ix lk ll jz jb lm ln kd jf lo lp kh lq bi translated">可选日期范围限制</h2><p id="992d" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我们可以通过设置<strong class="io hj"> minDate </strong>和/或<strong class="io hj"> maxDate </strong>输入属性来限制可供选择的日期:</p><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lr ld l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">日期范围限制示例</figcaption></figure></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><h1 id="1135" class="jl jm hi bd jn jo mk jq jr js ml ju jv jw mm jy jz ka mn kc kd ke mo kg kh ki bi translated">时间选择器:用法</h1><h2 id="5662" class="kx jm hi bd jn le lf lg jr lh li lj jv ix lk ll jz jb lm ln kd jf lo lp kh lq bi translated">基本配置</h2><p id="dd56" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">与 datetime-picker 类似，该组件也是为了与角度表单(反应式和模板驱动式)集成而构建的。其最显著的特点之一是，通过使用<strong class="io hj"> isMeridiem </strong>标志输入，其输入可以无缝地配置为 12 小时或 24 小时:</p><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lr ld l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">基于反应的时间选择器示例</figcaption></figure><p id="5356" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">时间选择器的输出可以是一个字符串或一个 moment 对象——这是通过<strong class="io hj"> timeObjectType </strong>属性配置的，如上例所示。</p><h2 id="d527" class="kx jm hi bd jn le lf lg jr lh li lj jv ix lk ll jz jb lm ln kd jf lo lp kh lq bi translated">附加选项</h2><p id="02ef" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">时间选择器组件提供了几个不同的配置选项，其中包括<strong class="io hj">小时</strong>和<strong class="io hj">分钟</strong>输入属性。作为作者，它们允许您直接通过模板预先填写时间选择器:</p><figure class="ko kp kq kr fd ij"><div class="bz dy l di"><div class="lr ld l"/></div><figcaption class="ls lt et er es lu lv bd b be z dx translated">基于模板的时间选择器示例</figcaption></figure><p id="c4c9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">默认情况下，用户可以通过键盘编辑小时和分钟。这可以通过将<strong class="io hj"> isEditable </strong>属性设置为 false 来防止，这样，小时和分钟将仅通过控件来更改。此外，小时和分钟的变化步长也可以通过给<strong class="io hj">小时步长</strong>和<strong class="io hj">分钟步长</strong>输入属性赋值来配置。每个输入都有自己相应的变化事件，可以单独订阅。</p></div><div class="ab cl md me gp mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="hb hc hd he hf"><h1 id="bd5b" class="jl jm hi bd jn jo mk jq jr js ml ju jv jw mm jy jz ka mn kc kd ke mo kg kh ki bi translated">包扎</h1><p id="0d3d" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">NgDatetimePickerModule 之旅到此结束。请随意使用本文中的 StackBlitz 示例，并尝试使用这些组件。如果你需要快速复习一下这个库的公共 API，你可以随时查看我们的文档。</p><h1 id="e586" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">我们小组正在寻找赏金猎人！</h1><p id="caf5" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我们想奖励那些努力帮助开发这个项目的人进一步开发令牌！根据您的贡献，您可以获得多达 5 个开发令牌的奖励，包括发布功能请求、完成功能或修复 bug。请务必看看我们的<a class="ae jk" href="https://sq-ui.github.io/ng-sq-ui/#/bounty-program" rel="noopener ugc nofollow" target="_blank">奖励计划 T &amp; C </a>。</p><h1 id="2bae" class="jl jm hi bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">最后但同样重要的是…</h1><p id="ebc0" class="pw-post-body-paragraph im in hi io b ip kj ir is it kk iv iw ix kl iz ja jb km jd je jf kn jh ji jj hb bi translated">我们要感谢所有支持我们的人，由<a class="ae jk" href="https://github.com/SQ-UI/ng-sq-ui" rel="noopener ugc nofollow" target="_blank">主演我们的回购</a>或<a class="ae jk" href="https://stakes.social/0x014f98F05c0BeD44B4Cf0532a93312a2135afaB8" rel="noopener ugc nofollow" target="_blank">参与我们的项目</a>！如果你有迫切的问题或者只是想给我们写信，请随时加入我们的<a class="ae jk" href="https://join.slack.com/t/sq-ui-kit/shared_invite/zt-6sfsgfgm-NVIG8lgR~205VjxsuSG8Gg" rel="noopener ugc nofollow" target="_blank">休闲频道</a>！</p></div></div>    
</body>
</html>