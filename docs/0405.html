<html>
<head>
<title>Getting to know Gatsby</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解盖茨比</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/getting-to-know-gatsby-56a979c4386b?source=collection_archive---------0-----------------------#2020-11-27">https://medium.com/nerd-for-tech/getting-to-know-gatsby-56a979c4386b?source=collection_archive---------0-----------------------#2020-11-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ccf0" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">这并非没有障碍</h2></div><p id="fda7" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以，我搬进了纽约一栋神秘豪宅旁边的小屋。我以一个好价格得到它，但是我感觉有人正在从大厦监视我。我相信是盖茨比先生。呃哼..</p><p id="8cae" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">抱歉，那是不同的故事。让我们重新开始。</p><p id="4dbb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">本周，我开始了我的第一个盖茨比项目。Gatsby 是一个基于 react 的框架，用于创建静态生成的网站和应用。它的生态系统包含插件、主题和所谓的配方，可以自动完成某些任务。官网上说:</p><blockquote class="ju jv jw"><p id="2f6e" class="ix iy jx iz b ja jb ij jc jd je im jf jy jh ji jj jz jl jm jn ka jp jq jr js hb bi translated"><em class="hi">在通常制作一个原型所需的时间内制作一个完整的网站</em></p></blockquote><p id="dbfe" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我很兴奋的试了一下，看看上面说的是不是真的。我有一个很好的第一印象，但遇到了一些障碍。然而，并不是所有的人都和盖茨比有关系。让我们看看进展如何。</p><figure class="kc kd ke kf fd kg er es paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="er es kb"><img src="../Images/07f1393056f2ffa145688530ec372335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KoAeJVJ6TjwQZsex"/></div></div><figcaption class="kn ko et er es kp kq bd b be z dx translated">照片由<a class="ae jt" href="https://unsplash.com/@chuttersnap?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> CHUTTERSNAP </a>在<a class="ae jt" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="b915" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">初始设置非常简单。您可以运行以下命令来运行项目:</p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="31f2" class="kw kx hi ks b fi ky kz l la lb">npm install -g gatsby-cli<br/>gatsby new projectname<br/>cd projectname<br/>gatsby develop</span></pre><p id="42d1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下一步是什么？我们可以创建一些 React 组件并显示标题。但是有什么我应该遵循的结构吗？让我们问问 Gatsby.js 先生，原来我们在/ <em class="jx"> src </em>里面有/ <em class="jx"> page </em> s 和/ <em class="jx"> templates </em>文件夹。还有很多配置文件！</p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="173d" class="kw kx hi ks b fi ky kz l la lb">|-- /.cache<br/>|-- /plugins<br/>|-- /public<br/>|-- /src<br/>    |-- /pages<br/>    |-- /templates<br/>    |-- html.js<br/>|-- /static<br/>|-- gatsby-config.js<br/>|-- gatsby-node.js<br/>|-- gatsby-ssr.js<br/>|-- gatsby-browser.js</span></pre><p id="b38b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我不需要创建很多页面，因为我的项目是一个单页页面:-)，所以我将只在那里保存<em class="jx"> index.js </em>文件。其他文件夹呢？</p><ul class=""><li id="0166" class="lc ld hi iz b ja jb jd je jg le jk lf jo lg js lh li lj lk bi translated"><em class="jx"> /plugins </em>文件夹存放任何特定于项目的(“本地”)插件<strong class="iz hj">，这些插件没有作为</strong> <code class="du ll lm ln ks b"><strong class="iz hj">npm</strong></code> <strong class="iz hj">包</strong>发布。</li><li id="02c0" class="lc ld hi iz b ja lo jd lp jg lq jk lr jo ls js lh li lj lk bi translated"><em class="jx"> /public </em>文件夹是我们运行<em class="jx"> gatsby build </em>时自动生成的</li><li id="cdf0" class="lc ld hi iz b ja lo jd lp jg lq jk lr jo ls js lh li lj lk bi translated"><em class="jx"> /static </em> —您可以在这里放置任何您不想被 webpack 处理的文件。它们将原封不动地复制到公共文件夹中。</li></ul><p id="27f9" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">静态文件夹很有意思，因为我假设我可以把图像之类的资产放在那里。你可能想缩小你的图像，所以静态文件夹只对一些不太常见的场景有用。</p><p id="ce61" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">好的，那么我把资产放在哪里呢？我在<em class="jx"> /src 里面创建了<em class="jx"> /images </em>文件夹。</em>我对<strong class="iz hj">组件</strong>做了同样的操作。现在让我们来看看插件。</p><h1 id="2cca" class="lt kx hi bd lu lv lw lx ly lz ma mb mc io md ip me ir mf is mg iu mh iv mi mj bi translated">插件和样式</h1><p id="02d2" class="pw-post-body-paragraph ix iy hi iz b ja mk ij jc jd ml im jf jg mm ji jj jk mn jm jn jo mo jq jr js hb bi translated">插件是 npm 包，你可以使用命令行安装，因为你已经习惯了，如果你从事任何前端项目。你可以找到一个<a class="ae jt" href="https://www.gatsbyjs.com/plugins/gatsby-image/" rel="noopener ugc nofollow" target="_blank">响应图像</a>，搜索引擎优化，<a class="ae jt" href="https://www.gatsbyjs.com/plugins/gatsby-plugin-typescript/" rel="noopener ugc nofollow" target="_blank">打字稿支持</a>和数以千计的插件。</p><p id="c275" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我在想如何设计发型。还有许多选项可供选择:</p><ul class=""><li id="36a5" class="lc ld hi iz b ja jb jd je jg le jk lf jo lg js lh li lj lk bi translated">使用全局 CSS 文件<a class="ae jt" href="https://www.gatsbyjs.com/docs/recipes/styling-css/#using-global-styles-in-a-layout-component" rel="noopener ugc nofollow" target="_blank">带</a>或<a class="ae jt" href="https://www.gatsbyjs.com/docs/recipes/styling-css/#using-global-css-files-without-a-layout-component" rel="noopener ugc nofollow" target="_blank">不带</a> youu..我指的是布局组件</li><li id="6c8e" class="lc ld hi iz b ja lo jd lp jg lq jk lr jo ls js lh li lj lk bi translated">使用样式组件</li><li id="d3d8" class="lc ld hi iz b ja lo jd lp jg lq jk lr jo ls js lh li lj lk bi translated">使用 CSS 模块</li></ul><p id="f4a6" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我还不太熟悉 JS 方法中的 CSS，但是我知道我想使用 Sass。反正我只需要设计一页，所以我不需要任何花哨的东西。原来盖茨比里面还有一个使用 Sass 的插件叫做<a class="ae jt" href="https://www.gatsbyjs.com/plugins/gatsby-plugin-sass" rel="noopener ugc nofollow" target="_blank"> gatsby-plugin-sass </a>。</p><p id="dd6e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我用下面的命令安装了插件(还要注意 node-sass)</p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="120e" class="kw kx hi ks b fi ky kz l la lb">npm install node-sass gatsby-plugin-sass</span></pre><p id="9e22" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">然后我们需要编辑<em class="jx"> gatsby-config.js </em>文件并添加:</p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="60ff" class="kw kx hi ks b fi ky kz l la lb">plugins: [`gatsby-plugin-sass`]</span></pre><p id="41da" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里是第一个<a class="ae jt" href="https://github.com/gatsbyjs/gatsby/issues/27754" rel="noopener ugc nofollow" target="_blank">问题</a>出现的地方。尝试运行我的项目时，我在控制台上看到:</p><p id="3b3a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jx">节点 Sass 版本 5.0.0 与^4.0.0.不兼容</em></p><p id="1778" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">经过一些其他的建议，我发现<a class="ae jt" href="https://sass-lang.com/blog/libsass-is-deprecated" rel="noopener ugc nofollow" target="_blank"> LibSass 和 Node Sass 已经被弃用</a>。什么？谁还记得 Ruby 中的实现？麦当娜的歌曲《挂断》中的歌词“时间过得如此之慢”在网络开发中显然并不适用。然而，有一个新的<a class="ae jt" href="https://sass-lang.com/dart-sass" rel="noopener ugc nofollow" target="_blank"> Dart 实现</a>所以我<a class="ae jt" href="https://www.gatsbyjs.com/plugins/gatsby-plugin-sass#alternative-sass-implementations" rel="noopener ugc nofollow" target="_blank">尝试了那个</a>。</p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="6466" class="kw kx hi ks b fi ky kz l la lb">npm install --save-dev sass</span></pre><p id="a4c1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">而在<em class="jx"> gatsby-config.js </em></p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="ee7d" class="kw kx hi ks b fi ky kz l la lb">plugins: [<br/>  {<br/>    resolve: `gatsby-plugin-sass`,<br/>    options: {<br/>      implementation: require("sass"),<br/>    },<br/>  },<br/>]</span></pre><p id="594a" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">很好，这很好，我可以简单地通过将它导入 index.js 来设计组件的样式:</p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="b9f2" class="kw kx hi ks b fi ky kz l la lb"><em class="jx">import</em> '../styles/styles.scss'</span></pre><p id="2eba" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">他们可以更新插件并将 Dart 实现设置为默认值。</p><h1 id="96ef" class="lt kx hi bd lu lv lw lx ly lz ma mb mc io md ip me ir mf is mg iu mh iv mi mj bi translated">排印</h1><p id="2d9e" class="pw-post-body-paragraph ix iy hi iz b ja mk ij jc jd ml im jf jg mm ji jj jk mn jm jn jo mo jq jr js hb bi translated">任何东西都必须有一个插件，所以我在 Gatsby 知识库中搜索了“字体”。第一个结果是<strong class="iz hj"> gatsby-plugin-webfonts </strong>，所以我安装了它。</p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="a4ed" class="kw kx hi ks b fi ky kz l la lb">// with npm<br/>npm install gatsby-plugin-webfonts</span><span id="dbc6" class="kw kx hi ks b fi mp kz l la lb">// with yarn<br/>yarn add gatsby-plugin-webfonts</span></pre><p id="4bc4" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">哦，又一个错误:</p><p id="7e94" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jx">错误“gatsby-plugin-webfonts”在运行 onPreBootstrap 生命周期时抛出错误:</em></p><p id="a4c5" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我不确定出了什么问题。这个包下载了 34.8k 次。</p><blockquote class="ju jv jw"><p id="ef82" class="ix iy jx iz b ja jb ij jc jd je im jf jy jh ji jj jz jl jm jn ka jp jq jr js hb bi translated"><em class="hi">提示:坚持 1 包管理制度。使用 npm 或纱线</em></p></blockquote><p id="7a56" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我做了另一个搜索，这次选择了<a class="ae jt" href="https://www.gatsbyjs.com/plugins/gatsby-plugin-web-font-loader/?=fonts#gatsby-plugin-web-font-loader" rel="noopener ugc nofollow" target="_blank"><strong class="iz hj">Gatsby-plugin-we B- font-loader</strong></a><strong class="iz hj"/>(106.1k)，运行得很好。</p><h1 id="18dd" class="lt kx hi bd lu lv lw lx ly lz ma mb mc io md ip me ir mf is mg iu mh iv mi mj bi translated">如何评价 JSX</h1><p id="7bf2" class="pw-post-body-paragraph ix iy hi iz b ja mk ij jc jd ml im jf jg mm ji jj jk mn jm jn jo mo jq jr js hb bi translated">最后一件让我有点难以接受的事是 JSX。我像往常一样用快捷方式注释掉了代码，但它看起来像这样:</p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="fdf4" class="kw kx hi ks b fi ky kz l la lb">// &lt;div&gt;<br/>//     &lt;span&gt;some text&lt;/span&gt;<br/>// &lt;/div&gt;</span></pre><p id="2033" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这不是一个正确的语法，所以我不得不再次调查。我检查了我的扩展，发现了问题所在。我必须做以下事情:</p><p id="8047" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">由 dzannotti 卸载<a class="ae jt" href="https://marketplace.visualstudio.com/items?itemName=dzannotti.vscode-babel-coloring" rel="noopener ugc nofollow" target="_blank"> <strong class="iz hj"> Babel ES6/ES7 插件</strong> </a></p><p id="b623" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">安装迈克尔·麦克德莫特的巴贝尔 JavaScript</p><p id="247e" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">正确的语法如下所示:</p><pre class="kc kd ke kf fd kr ks kt ku aw kv bi"><span id="ba0f" class="kw kx hi ks b fi ky kz l la lb">{/*<br/>   &lt;div&gt; <br/>     &lt;span&gt;some text&lt;/span&gt; <br/>   &lt;/div&gt;<br/>*/}</span></pre><h1 id="80b0" class="lt kx hi bd lu lv lw lx ly lz ma mb mc io md ip me ir mf is mg iu mh iv mi mj bi translated">结论</h1><p id="ba0a" class="pw-post-body-paragraph ix iy hi iz b ja mk ij jc jd ml im jf jg mm ji jj jk mn jm jn jo mo jq jr js hb bi translated">有很多东西我没有涉及到，要学习，但是到目前为止我喜欢盖茨比。它发展得非常快，我也对食谱(新功能)感到兴奋。正如他们在最近的新闻发布会上所说</p><blockquote class="ju jv jw"><p id="84a4" class="ix iy jx iz b ja jb ij jc jd je im jf jy jh ji jj jz jl jm jn ka jp jq jr js hb bi translated"><em class="hi">这是一个挑战当用户进入盖茨比生态系统时，他们必须将“我想做 x”翻译成“x”在盖茨比中是如何完成的</em></p></blockquote><p id="f502" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">没错，我发现自己也在这么做。菜谱从 CLI 运行，并自动执行常见任务，如创建页面和布局、安装插件等。我是带着 Angular(使用 Angular CLI)的一些经验来到 React world 的，所以我只能欣赏这一步走向更好的工具，并给开发人员更多自以为是的方法来构建极快的 web 应用程序。我还发现 IntelliSense(代码完成)落后于 Angular，但这可能是由于设计或我缺乏知识/扩展设置，所以我将感谢您对此的想法。</p><p id="cf29" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">你试过《盖茨比》吗？你最喜欢的插件是什么？</p><h2 id="3c56" class="kw kx hi bd lu mq mr ms ly mt mu mv mc jg mw mx me jk my mz mg jo na nb mi nc bi translated">附加功能— VS 代码快捷键:</h2><p id="70dd" class="pw-post-body-paragraph ix iy hi iz b ja mk ij jc jd ml im jf jg mm ji jj jk mn jm jn jo mo jq jr js hb bi translated">文本转换为小写=&gt; CTRL + K &amp; CTRL + L <br/>文本转换为大写= &gt; CTRL + K &amp; CTRL + U</p></div><div class="ab cl nd ne gp nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="hb hc hd he hf"><div class="kc kd ke kf fd nk"><a href="https://miro.substack.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab dw"><div class="nm ab nn cl cj no"><h2 class="bd hj fi z dy np ea eb nq ed ef hh bi translated">是米罗的错！</h2><div class="nr l"><h3 class="bd b fi z dy np ea eb nq ed ef dx translated">关于 web 前端技术的时事通讯</h3></div><div class="ns l"><p class="bd b fp z dy np ea eb nq ed ef dx translated">miro.substack.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kl nk"/></div></div></a></div></div></div>    
</body>
</html>