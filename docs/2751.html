<html>
<head>
<title>Find Duplicate File — Daily Challenge May</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">查找重复文件—每日挑战可能</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/find-duplicate-file-daily-challenge-may-cb726b3a1e53?source=collection_archive---------20-----------------------#2021-05-18">https://medium.com/nerd-for-tech/find-duplicate-file-daily-challenge-may-cb726b3a1e53?source=collection_archive---------20-----------------------#2021-05-18</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/9bb175a1b6987ca9e4e45f4b0079de0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ymzmvaYmL0_IKEkck4Fl3A.jpeg"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx translated">照片由<a class="ae hv" href="https://unsplash.com/@thips?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Thiébaud Faix </a>在<a class="ae hv" href="https://unsplash.com/s/photos/text?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><div class=""/><p id="2554" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">今天的问题来自每日 Leetcode 编码挑战赛——五月版。这是一个中等标签的问题。让我们看看问题陈述。</p><h2 id="602d" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated"><a class="ae hv" href="https://leetcode.com/problems/find-duplicate-file-in-system/" rel="noopener ugc nofollow" target="_blank"> 609。</a>在系统中找到重复文件</h2><p id="dee6" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">给定一个目录信息的列表<code class="du kt ku kv kw b">paths</code>，包括目录路径，以及该目录中包含内容的所有文件，根据路径返回<em class="kx">文件系统中所有重复的文件。你可以按<strong class="ix hz">任何顺序</strong>返回答案。</em></p><p id="f5f7" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">一组重复文件由至少两个内容相同的文件组成。</p><p id="4bb7" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输入列表中的单个目录信息字符串具有以下格式:</p><ul class=""><li id="11cb" class="ky kz hy ix b iy iz jc jd jg la jk lb jo lc js ld le lf lg bi translated"><code class="du kt ku kv kw b">"root/d1/d2/.../dm f1.txt(f1_content) f2.txt(f2_content) ... fn.txt(fn_content)"</code></li></ul><p id="c356" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">表示目录<code class="du kt ku kv kw b">root/d1/d2/.../dm"</code>中分别有内容为<code class="du kt ku kv kw b">(f1_content, f2_content ... fn_content)</code>的<code class="du kt ku kv kw b">n</code>文件<code class="du kt ku kv kw b">(f1.txt, f2.txt ... fn.txt)</code>。注意<code class="du kt ku kv kw b">n &gt;= 1</code>和<code class="du kt ku kv kw b">m &gt;= 0</code>。如果<code class="du kt ku kv kw b">m = 0</code>，则表示该目录只是根目录。</p><p id="f30a" class="pw-post-body-paragraph iv iw hy ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">输出是一组重复文件路径的列表。对于每个组，它包含具有相同内容的文件的所有文件路径。文件路径是具有以下格式的字符串:</p><ul class=""><li id="1a6d" class="ky kz hy ix b iy iz jc jd jg la jk lb jo lc js ld le lf lg bi translated"><code class="du kt ku kv kw b">"directory_path/file_name.txt"</code></li></ul><h2 id="bff1" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">示例:</h2><pre class="lh li lj lk fd ll kw lm ln aw lo bi"><span id="eff5" class="jt ju hy kw b fi lp lq l lr ls"><strong class="kw hz">Input:</strong> paths = ["root/a 1.txt(abcd) 2.txt(efgh)","root/c 3.txt(abcd)","root/c/d 4.txt(efgh)","root 4.txt(efgh)"]<br/><strong class="kw hz">Output:</strong> [["root/a/2.txt","root/c/d/4.txt","root/4.txt"],["root/a/1.txt","root/c/3.txt"]]</span></pre><h2 id="cb80" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">理解问题:</h2><p id="d462" class="pw-post-body-paragraph iv iw hy ix b iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo ks jq jr js hb bi translated">如果文件的内容相同，我们需要对文件的绝对路径进行分组。当我们考虑基于键(这里是文件内容)对项目进行分组时，python 字典是一个不错的选择。我们创建了一个字典，其中键是内容，值是以键为内容的绝对文件路径列表。</p><figure class="lh li lj lk fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es lt"><img src="../Images/d997d78ba63b1f7dbc89757dd175a7b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vtPTFShytc81A3rntpb7wg.png"/></div></div></figure><h2 id="07e1" class="jt ju hy bd jv jw jx jy jz ka kb kc kd jg ke kf kg jk kh ki kj jo kk kl km kn bi translated">代码实现:</h2><pre class="lh li lj lk fd ll kw lm ln aw lo bi"><span id="4693" class="jt ju hy kw b fi lp lq l lr ls">def findDuplicate(paths):<br/>    mapping = defaultdict(list)<br/>    for item in paths:<br/>        details = item.split(" ")<br/>        pref = details[0]+'/'<br/>        for detail in details[1:]:<br/>            l = len(detail)<br/>            idx = detail.find('(')<br/>            if idx&gt;0:<br/>                key = detail[idx+1:l-1]<br/>                mapping[key].append("".join([pref,  detail[:idx]]))<br/>                <br/>    return [value for value in mapping.values() if len(value)&gt;1]</span></pre><h1 id="c9d6" class="lu ju hy bd jv lv lw lx jz ly lz ma kd mb mc md kg me mf mg kj mh mi mj km mk bi translated">复杂性分析</h1><ul class=""><li id="bbef" class="ky kz hy ix b iy ko jc kp jg ml jk mm jo mn js ld le lf lg bi translated">时间复杂度:O(N*W) <em class="kx"> </em>其中<em class="kx"> N </em>是路径的长度，W 是路径中文件的数量</li><li id="f9fb" class="ky kz hy ix b iy mo jc mp jg mq jk mr jo ms js ld le lf lg bi translated">空间复杂度:对于地图为 O(N*W)。</li></ul></div></div>    
</body>
</html>