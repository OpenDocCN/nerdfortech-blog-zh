<html>
<head>
<title>Using the React Children Prop to Create Reusable Layout Components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React子属性创建可重用的布局组件</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-the-react-children-prop-to-create-reusable-layout-components-93667aedc881?source=collection_archive---------5-----------------------#2021-06-07">https://medium.com/nerd-for-tech/using-the-react-children-prop-to-create-reusable-layout-components-93667aedc881?source=collection_archive---------5-----------------------#2021-06-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/7086ceafd0920c8aeded224699f58d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fDlrNJLC1yBY_-iA"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">瑞安·昆塔尔在<a class="ae iu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="7008" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="jt"> TLDR:你可以在React中创建一个可重用的布局组件，而不需要知道它的嵌套组件，通过使用React的“子”属性。通过将子属性传入布局组件，您可以将{ children }的JSX添加到组件中，这将在您调用它时将任何嵌套组件注入布局中。</em></p></div><div class="ab cl ju jv gp jw" role="separator"><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz ka"/><span class="jx bw bk jy jz"/></div><div class="hb hc hd he hf"><p id="e22b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">什么是儿童道具？</strong></p><p id="cbf7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">React很棒，因为它允许开发人员创建可重用的UI组件集。正因为如此，开发人员能够从一组常见的构建块中快速创建一个漂亮的交互式网页。这种灵活性带来了设计挑战，因为您永远无法完全确定较小的组件将如何与布局组件交互。</p><p id="3ab6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了纠正这种不确定性，React添加了children prop，它可以被传递到父组件中，以指定任何嵌套组件应该呈现在哪里。这个特性有助于提高组件的可重用性，并消除了设计约束，比如组件在编写时需要知道它们的所有子组件。</p><p id="9358" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">使用子属性创建布局组件</strong></p><p id="c044" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">布局组件是一个很好的工具，可以为整个页面甚至是页面的一部分添加可重用的结构。作为开发人员，我们并不总是知道在一个布局中是要有1个还是2个文本组件，或者是一个主要的还是部分的标题。为了应对这种不确定性，我们可以使用children属性为要呈现的布局组件的子元素创建一个占位符。</p><p id="6a9e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">为了展示这一点，我将创建一组小组件和一个布局组件来展示如何使用子组件。</p><p id="7464" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">让我们首先从编写布局组件开始。我将使用一个功能组件，因为在本例中我们不担心存储状态:</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kb"><img src="../Images/0ddb234fc0af69161f0c5056d742018c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8b5W8IudqL8AR731OMvhuw.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图一。用props.children创建我们的布局组件</figcaption></figure><p id="f1a5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">这里我们创建并返回一个普通的div，这并不太令人兴奋。有趣的是我们如何将孩子作为道具传递给我们的布局组件。</p><p id="b7de" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们将“{children}”传递给Layout，它只是props.children，但使用析构进行了简化。这样做的目的是允许我们获取嵌套在布局组件中的任何子组件，并将它们作为嵌套组件呈现在该组件中。</p><p id="bbab" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我们有JSX“{ children }”的地方就是我们的嵌套组件将以它们声明的任何顺序呈现的地方。这种简单的方法是严格的，因为我们无法控制组件呈现的顺序，或者应用于它们的其他样式。但是，有一种方法可以绕过子元素的呈现顺序。</p><p id="a0fd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">children prop返回一个对象数组，对象的索引标签允许在特定的地方调用组件。这为创建组件的结构提供了更多的灵活性，因为您可以为标题、文本、图像或任何其他将放置在布局组件中的子元素添加额外的样式。(我建议，如果您走这条路，为其他开发人员提供良好的文档，说明预期的内容和预期的位置)。</p><p id="e2f6" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">随着布局组件的编写，我们现在将在我们的主应用程序组件中调用它:</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kg"><img src="../Images/ff68520177ebdac17bece1fb199e38a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VvrseE2GicDxQadv0j1tBg.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图二。用嵌套组件设置我们的布局组件</figcaption></figure><p id="3051" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我已经创建并导入了另外两个组件，“MainHeader”和“PageText”，这两个组件对于本演示并不重要。只需知道一个返回h1头元素，另一个返回文本div元素。如您所见，我们在布局组件中嵌套了这两个组件。</p><p id="d4ff" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">布局然后呈现这个:</p><figure class="kc kd ke kf fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es kh"><img src="../Images/a6d0e0cdd494918329591f0ee7849d74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7_QCBTVFXmqGExJx"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图3。带有嵌套子组件的渲染布局组件</figcaption></figure><p id="8a0a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">布局组件接受MainHeader和PageText作为嵌套组件，它们存储在props.children中，然后在布局中的div包装器中返回。这个简单的例子表明，我们能够在布局组件上设置样式，并接受任意数量的应用了样式的组件或元素。</p><p id="8ce5" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不管我们传入React组件还是常规HTML元素，我们在Layout中声明的任何东西都将被翻译成props上的子元素，然后可用于我们的div包装器。这非常强大，让我们能够构建真正可重用和灵活的布局组件</p><p id="879a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">最终想法</strong></p><p id="dc6f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">使用props.children是创建可重用布局组件的好方法。请在评论中告诉我你是如何或者打算使用props.children在你的项目中创建更干净、更模块化的组件的！</p><ol class=""><li id="9ea0" class="ki kj hi ix b iy iz jc jd jg kk jk kl jo km js kn ko kp kq bi translated">为什么用合成代替继承</li><li id="85b1" class="ki kj hi ix b iy kr jc ks jg kt jk ku jo kv js kn ko kp kq bi translated">什么是道具.儿童道具是什么</li><li id="3ceb" class="ki kj hi ix b iy kr jc ks jg kt jk ku jo kv js kn ko kp kq bi translated">使用props.children创建可重用的布局组件</li></ol><p id="5df3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">注意事项</strong></p><p id="c519" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">【https://reactjs.org/docs/composition-vs-inheritance.html T4】</p></div></div>    
</body>
</html>