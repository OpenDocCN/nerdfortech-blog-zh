<html>
<head>
<title>RudderStack’s Transformations API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RudderStack 的转换 API</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/rudderstacks-transformations-api-2d30724a3554?source=collection_archive---------26-----------------------#2021-07-08">https://medium.com/nerd-for-tech/rudderstacks-transformations-api-2d30724a3554?source=collection_archive---------26-----------------------#2021-07-08</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/83ee53d5d9b90fe69981851982a86681.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RoaU2S_jVXRs7YFOI_CnHw.png"/></div></div></figure><p id="c143" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj"> RudderStack 转换</strong>让你转换你通过 RudderStack 发送的任何数据。您可以在事件流、仓库操作和云提取管道中使用它们。它们易于构建、调试和管理；它们在数据收集之后、发送到目的地之前实时运行。简单地说，它们是数据转换，像你认为的那样工作。</p><p id="48bf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">尽管 Transformations 是最受欢迎的 RudderStack 特性之一，但它的 API 直到现在才被用户使用。我们很高兴发布<strong class="is hj">方向舵堆栈转换 API </strong>。通过它，您可以以编程方式向平台添加和移除转换，创建一个组织范围的沙箱，在将转换发布到真实环境之前，您的团队可以在其中存储转换，定义库，并对您的转换进行版本控制。</p><h1 id="7b4d" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">什么是 RudderStack 转换 API？</h1><p id="5302" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">转换 API 允许您通过 HTTP API 调用对转换和库执行各种操作。API 与 RudderStack UI 集成在一起，因此您可以轻松地访问和管理您的转换和库。您甚至可以在一个操作中发布多个转换，这是 RudderStack UI 上还没有的功能。</p><p id="0f94" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">转换 API 是一个 RESTful API。它允许您创建和使用转换，并获得一个 JSON 对象作为响应。您可以利用标准的 HTTP 响应代码来确定您的 API 请求是成功还是失败。</p><p id="189a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">转换 API 的一些其他关键特性包括:</p><ul class=""><li id="1b15" class="kr ks hi is b it iu ix iy jb kt jf ku jj kv jn kw kx ky kz bi translated">允许您对所有转换进行版本控制，以便转换中的每次更改都会创建一个新版本。</li><li id="524e" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">允许您在发布转换之前将其存储在组织范围内的沙盒中。</li><li id="59fc" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">使用转换库——您可以在转换中使用的模块化、可重用的 JavaScript 块。</li><li id="0f2b" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">通过<a class="ae lf" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication" rel="noopener ugc nofollow" target="_blank">基本 HTTP 认证</a>机制进行认证。</li><li id="c3cc" class="kr ks hi is b it la ix lb jb lc jf ld jj le jn kw kx ky kz bi translated">检查新转换的编译和执行是否成功。</li></ul><h1 id="c21a" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">转换上的 CRUD 操作</h1><p id="156f" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">转换 API 允许您对转换执行标准的 CRUD(创建、检索、更新、删除)操作。</p><p id="dbcd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">通常，您可以创建一个转换并获得一个 JSON 对象作为响应。用任何变更更新转换会创建一个新的版本或者<strong class="is hj">修订</strong>。API 还为这些操作提供了一个可选的参数(<code class="du lg lh li lj b">publish)</code>),它允许您发布最新版本的转换，并使代码对传入的事件流量有效。</p><p id="3866" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">API 为每个发布的转换分配一个 ID。您可以利用这个 ID 来检索、更新或删除一个转换。此外，您可以获得对该转换所做的所有修改。</p><h1 id="37e4" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">版本控制</h1><p id="a89e" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">API 为每一个变更创建一个新版本的转换或者库，允许您跟踪转换/库的整个血统。</p><p id="5dbb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">转换 API 实现版本控制的方式非常有趣。假设您创建了一个转换。其中的任何更新或变更都会导致 RudderStack 将转换的旧版本保存为修订版。您可以对转换进行多次这样的修改，API 将记录每一次这样的修改，而当前版本总是可供您发布和使用。API 还允许您回滚并使用您想要通过它的 Publish API 发布的转换的任何特定版本。</p><h1 id="c5d6" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">转换库</h1><p id="85b9" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">转换 API 为您的转换提供了更好的开发工作流程库。它们为您提供了重用和维护不同版本的转换代码的灵活性，同时免除了您手动的、重复的编码工作。</p><p id="8722" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如上所述，这些库是 JavaScript 函数，您可以编写、导出和重用。假设您编写了一个函数，您希望在 RudderStack 中为每个目的地配置的多个转换之间重用该函数。您所要做的就是导出它，并在所需的转换中通过库名导入模块。</p><blockquote class="lk ll lm"><p id="7c30" class="iq ir ln is b it iu iv iw ix iy iz ja lo jc jd je lp jg jh ji lq jk jl jm jn hb bi translated"><strong class="is hj"> <em class="hi">注意</em> </strong> <em class="hi">:您也可以将上一节提到的所有 CRUD 操作应用到库中。</em></p></blockquote><p id="203e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">有关使用 RudderStack 转换 API 的更多信息和技术细节，请查看<a class="ae lf" href="https://docs.rudderstack.com/adding-a-new-user-transformation-in-rudderstack" rel="noopener ugc nofollow" target="_blank">文档</a>。我们还构建了一些方便的转换模板，您可以使用它们来创建您的转换。在我们的<a class="ae lf" href="https://github.com/rudderlabs/sample-user-transformers" rel="noopener ugc nofollow" target="_blank"> GitHub 资源库</a>中找到它们。</p><h1 id="2342" class="jo jp hi bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">免费注册并开始发送数据</h1><p id="1923" class="pw-post-body-paragraph iq ir hi is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn hb bi translated">测试我们的事件流、ELT 和反向 ETL 管道。使用我们的 HTTP 源在不到 5 分钟的时间内发送数据，或者在您的网站或应用程序中安装我们 12 个 SDK 中的一个。<a class="ae lf" href="https://app.rudderlabs.com/signup?type=freetrial" rel="noopener ugc nofollow" target="_blank">入门</a>。</p><p id="8ff5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">本博客最初发布于:<br/><a class="ae lf" href="https://rudderstack.com/blog/rudderstacks-transformations-api" rel="noopener ugc nofollow" target="_blank">https://rudder stack . com/blog/rudder stacks-transformations-API</a></p></div></div>    
</body>
</html>