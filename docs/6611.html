<html>
<head>
<title>Slot Rotation Solution:3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">插槽轮换解决方案:3</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/slot-rotation-solution-3-ee09f8429d73?source=collection_archive---------4-----------------------#2022-04-01">https://medium.com/nerd-for-tech/slot-rotation-solution-3-ee09f8429d73?source=collection_archive---------4-----------------------#2022-04-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/1a384a1bc017d92116210144065745b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/0*dBDyzTTeJ-eUZG9A.png"/></div></figure><p id="1af4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">目的:</strong>旋转老虎机</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/26938d6353ade65e6b52a6c9e5f7a1e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/0*0NrFGeQPRgXDikW1.png"/></div></figure><p id="b5d7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，创建一个item类来存储一个项目包含的所有值。这里，它包含一个精灵和一个值。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/6e9f2ea5b01d1ccd7851421606a7e91e.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*iS6ctBdhN34vX67Z0R2SVw.png"/></div></figure><p id="c29b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">创建另一个脚本并定义项目列表。然后在ButtonClick上创建一个动作事件，该事件将向事件的所有订阅者发送一个信号，最后创建一个bool变量，该变量仅在当前旋转停止时允许旋转。然后创建两个浮点变量来比较时间。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jq"><img src="../Images/06d9c33a56a3ccaec5c16f02c54387d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*lzheVGIa2xk41gzFtLnlFw.png"/></div></figure><p id="9c9f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里，当调用spin方法并且Spin为true时，向订阅者发送一个信号。此方法连接到微调按钮。还存储当前时间并创建停止时间值。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jr"><img src="../Images/96783c4631e1d9dd9a145cd8f6190771.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/0*_gnVkFggNlFtT0Kp.png"/></div></figure><p id="95b2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后创建一个公共方法，当int值通过参数传递时，该方法从项目列表中返回一个项目sprite。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es js"><img src="../Images/2129920cf19c19ea24656a9b0c929774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*JjWR0ZC4pUxkdserNNxKYA.png"/></div></figure><p id="20d4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">创建一个当当前时间到达停止时间时返回bool的方法。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jt"><img src="../Images/cb0284226b49bee154ff5d073510c9ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*Ey_EYZfmCoSwGyVJEJliVw.png"/></div></figure><p id="e6f8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为速度创建一个浮点变量，然后转换位置变量，以便在物品到达底部时存储目的地的位置。给这些项目一个Id来定义它们精灵。然后为ItemDatabase脚本创建一个引用变量，并为单个卷轴中的项目的子对象创建一个gameobject变量。最后是一个布尔变量，允许最后的慢速旋转。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/8759611d33897acf01e0d9756a835577.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*8-Wx4IcKG4zAKx6oIYWr5g.png"/></div></figure><p id="460c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后在start内部，将父对象赋给变量，并将它的子对象的所有脚本组件(items)列给数组。</p><p id="771a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在将MoveItem方法作为订阅者添加到OnButtonClick事件中，最后根据条目Id将sprite分配给条目。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/36a514c6e36ceeba70c5ff7f27694c14.png" data-original-src="https://miro.medium.com/v2/resize:fit:586/format:webp/1*Eu-LcD9-9qpHIIqcA1zT7g.png"/></div></figure><p id="1373" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当该方法接收到信号时，将旋转速度设置为随机。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/9722cb2f10d5f3192ee5429716451d45.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*nnoFyWct1kkrbf56kCueaw.png"/></div></figure><p id="ef95" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后将同一父对象中所有项目的速度设置为相同的随机速度。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es jx"><img src="../Images/76725340d8468f166935a2f99acca15e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NyHrk8k8eJq6ehUIoF5oBA.png"/></div></div></figure><p id="9b9a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在创建一个当按钮被按下时卷轴旋转的行为，当项目位置到达底部位置时，将位置更改为顶部。</p><p id="fbb9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">然后当脱水时间结束时，减慢脱水速度，并在速度低于0后停止脱水。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kc"><img src="../Images/17f0bb8d2d66d1f6f14c8fed4bd73c18.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*9CzaGZp8mnhi2hkYiSiiMw.png"/></div></figure><p id="8b2b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是等级制度。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es kd"><img src="../Images/725bf23792b00c3b6ec52c64b4f6b471.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*IEp2S-eAU-3e6ibzxfdy5Q.png"/></div></figure><p id="db24" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是与项目相关的脚本。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es ke"><img src="../Images/0b4265bc11bad1c9ceaacf83c0460093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*UPPW_m61ClkOgAADmwy5KA.gif"/></div></div></figure><p id="c25e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是最终的结果。</p></div></div>    
</body>
</html>