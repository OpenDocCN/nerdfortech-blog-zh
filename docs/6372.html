<html>
<head>
<title>Character Movement with Character Controller</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用角色控制器移动角色</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/character-movement-with-character-controller-6893d6f05337?source=collection_archive---------9-----------------------#2022-02-11">https://medium.com/nerd-for-tech/character-movement-with-character-controller-6893d6f05337?source=collection_archive---------9-----------------------#2022-02-11</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="7a6b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">第三人称僵尸射手</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/f0b98db77d980f04993c47e9d5669d2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*MYsETU6CNu7DFMAm-w7XhQ.png"/></div></figure><p id="0b48" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">目标:</strong>允许玩家使用角色控制器移动</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jl"><img src="../Images/05c2f9093482aa49da1551f7924c373b.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*syGe9rLJCv0Yhy6Wc_HnwQ.png"/></div></figure><p id="6c79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先给玩家添加一个角色控制器组件，并移除它的碰撞器。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jm"><img src="../Images/789131226d8b75e945ff3ecff05228ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*uxqVDkGqNybdhtd7ckbHfQ.png"/></div></figure><p id="aa3f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在为角色控制器创建一个参考变量，为玩家运动的速度、跳跃高度、重力和 yVelocity 创建一个浮动变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jn"><img src="../Images/96f76e2160a5a34c133127fb32cf3a6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*RvKI3u-Y6nyjmvX21w6_CA.png"/></div></figure><p id="cb84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">将引用分配给 start 函数中创建的角色控制器变量。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jo"><img src="../Images/49c42056fe5ffdb7e9e83a49f6988297.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*cmImImL52TlXdmtk2e1lXw.png"/></div></figure><p id="318b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在创建一个新的函数来存储玩家的行为。在它里面创建两个浮点变量，分别存储水平移动和垂直移动值。</p><p id="18dc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后创建一个方向向量，并创建其速度，这是方向乘以速度。</p><p id="f72f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后检查播放器是否接地，然后检查是否按下了空格键。如果为真，则将跳跃高度值存储到 yVelocity，如果玩家没有被固定，则通过用 yVelocity 减去重力值来应用重力。</p><p id="0098" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">用 yVelocity 改变原始速度向量中的 y 轴，以便玩家根据逻辑跳跃、下落。</p><p id="250d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在将速度从局部空间转换到世界空间，并通过角色控制器移动玩家。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jp"><img src="../Images/f9c8697276b42632ef989feeb5c0fc55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6PgZFo-KM9Q-rs--0h4LfA.gif"/></div></div></figure><p id="502c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这是最终的结果。</p></div></div>    
</body>
</html>