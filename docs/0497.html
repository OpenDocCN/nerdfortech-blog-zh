<html>
<head>
<title>Migrate SQL DB to MySQL using a CSV file</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CSV文件将SQL DB迁移到MySQL</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/migrate-sql-db-to-mysql-using-a-csv-file-7cbcaea984cf?source=collection_archive---------3-----------------------#2020-12-31">https://medium.com/nerd-for-tech/migrate-sql-db-to-mysql-using-a-csv-file-7cbcaea984cf?source=collection_archive---------3-----------------------#2020-12-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/b61cb45fe64ca2b736e4d8fb4bdcb5b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gEH-nThJR-CCHsYx"/></div></div></figure><p id="8949" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">MS SQL是微软的专有RDBMS，MySQL是Oracle支持的免费开源RDBMS。随着越来越多的组织从专有软件过渡到开源软件，从MS SQL到MySQL数据库的迁移势头越来越大。</p><p id="7aad" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这不是一个人应该迁移的实际方式，但我只是避免了许多灰色区域，比如—</p><ol class=""><li id="0e3d" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">模式转换</li><li id="c014" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">数据丢失风险</li><li id="fceb" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">时间消耗</li></ol><h2 id="3fb6" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">关于数据库的信息:</h2><ol class=""><li id="37d5" class="jo jp hi is b it kx ix ky jb kz jf la jj lb jn jt ju jv jw bi translated">我试图迁移的表有超过40列。</li><li id="d9e8" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">这个表格有你能想到的所有标准分隔符。</li><li id="4307" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">表中到处都是空值。</li><li id="b869" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">最后，有超过100，000行。</li></ol><h2 id="cd71" class="kc kd hi bd ke kf kg kh ki kj kk kl km jb kn ko kp jf kq kr ks jj kt ku kv kw bi translated">迁移步骤:</h2><ol class=""><li id="8708" class="jo jp hi is b it kx ix ky jb kz jf la jj lb jn jt ju jv jw bi translated">通过转到任务→导出数据…导出MS SQL表</li><li id="fa34" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">选择本机客户端作为源</li><li id="e8fc" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">选择平面文件作为目标。将分隔格式和代码页设置为拉丁文I</li><li id="b3ae" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">在下一步中，保留默认的行分隔符，并将列分隔符更改为一个罕见的ASCII值(<em class="lc">一个逻辑上不会出现在实际数据中的字符</em></li><li id="b5e1" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">接下来，打开MySQL Workbench并连接到数据库。在连接之前，在Advanced选项卡下，将此选项添加到others窗口中的连接器选项中:OPT_LOCAL_INFILE=1</li><li id="b3d2" class="jo jp hi is b it jx ix jy jb jz jf ka jj kb jn jt ju jv jw bi translated">现在执行下面的命令—</li></ol><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="5701" class="kc kd hi li b fi lm ln l lo lp">LOAD DATA LOCAL INFILE 'path\\to\\the\\file' INTO TABLE table_name<br/>FIELDS TERMINATED BY '&lt;rare ASCII Char&gt;' <br/>LINES TERMINATED BY '\r\n';</span></pre><p id="e848" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个SQL语句加载用了4-5秒，执行后显示了一个感叹号。为了验证行数，我必须对表进行count(*)，但是得到了MS SQL表的确切行数。</p><p id="7b4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这个过程为我节省了很多时间。但是，有一些限制，在某些情况下不可能迁移所有的表。</p><p id="ef45" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是如果失败了，请在评论中告诉我，我会和你联系，努力解决这个问题。你也可以在下面的LinkedIn上联系我—</p><div class="lq lr ez fb ls lt"><a href="http://linkedin.com/in/kuharan" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hj fi z dy ly ea eb lz ed ef hh bi translated">库哈兰·博米克</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">数据工程师:Python、Powershell、shell脚本、AWS Lambda、Azure数据工厂、Azure ML、Azure Logic Apps、run books……</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">linkedin.com</p></div></div><div class="mc l"><div class="md l me mf mg mc mh io lt"/></div></div></a></div><p id="684b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">谢谢你撑到了最后。祝大家2021新年快乐。</p></div></div>    
</body>
</html>