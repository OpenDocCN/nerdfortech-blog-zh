<html>
<head>
<title>Shields!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">护盾！</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/shields-8df15247d9e4?source=collection_archive---------22-----------------------#2021-05-06">https://medium.com/nerd-for-tech/shields-8df15247d9e4?source=collection_archive---------22-----------------------#2021-05-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="5769" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">将陈述转换为救援</h1><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/80a2669678354d6f441b7210db1071f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*UWMGSpzo-PiAliu6uibx5A.gif"/></div></figure><p id="6c79" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">在进入<strong class="jn hj">用户界面</strong>之前，我们想要为我们的核心游戏添加的最后一个<strong class="jn hj">能量</strong>是一个盾牌。要为我们的新<strong class="jn hj">加电</strong>创造除功能之外的一切，请看昨天的文章。</p><p id="4f66" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">不过有一个小问题。在我们的<strong class="jn hj">加电脚本</strong>中，我们现在在我们的<strong class="jn hj"> OnTriggerEnter2D 方法中添加多个<strong class="jn hj"> if else 语句</strong>。</strong>做起来还可以，但是占了很多空间，读起来就变得有点乱。这就是<strong class="jn hj"> switch 语句</strong>可以拯救我们的地方。</p><p id="a3bb" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated"><strong class="jn hj"> Switch 语句</strong>允许我们取一个<strong class="jn hj">变量，</strong>并遍历每个值的条件。如果我们的<strong class="jn hj">三连拍</strong>的<strong class="jn hj"> _powerupID </strong>为 0。<strong class="jn hj">情况 0 </strong>将允许我们为<strong class="jn hj">三重拍摄调用一个函数。</strong></p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kj"><img src="../Images/b92306f3ad4aa97de45158bc80c219bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_TS3OMpUy7d0IgL4lkHxGA.png"/></div></div></figure><p id="3676" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">正如你所看到的，事情看起来干净多了，当我们添加更多的<strong class="jn hj">电源时，添加更多的<strong class="jn hj">外壳</strong>会更好。</strong>赢得胜利的模块化系统！<strong class="jn hj">开关语句</strong>也可以有一个<strong class="jn hj">默认情况</strong>用于输入不同的值。</p><p id="b8bd" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在让我们看看如何创建我们的盾牌。</p><p id="9c03" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">首先，在我们的<strong class="jn hj">播放器脚本</strong>中创建一个<strong class="jn hj">公共方法</strong>，以匹配我们在上面的<strong class="jn hj">案例 2 </strong>中调用的方法。然后我们可以创建一个名为<strong class="jn hj"> _isShieldActive </strong>的<strong class="jn hj"> bool </strong>，默认情况下它被设置为 false，但是在我们的新<strong class="jn hj">方法</strong>中我们可以将其设置为 Active。</p><p id="4265" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">当<strong class="jn hj">护盾</strong>激活时，我们希望<strong class="jn hj">玩家</strong>能够受到<strong class="jn hj">敌人</strong>的打击而不损失<strong class="jn hj">一条生命。</strong>为了实现这一点，我们可以在<strong class="jn hj"> TakeDamage 方法</strong>中创建一个<strong class="jn hj"> if 语句</strong>，当其为真时，我们将<strong class="jn hj"> bool </strong>设置回 false，并简单地调用<strong class="jn hj"> return。这阻止我们继续使用<strong class="jn hj">承受伤害法，</strong>因此不会减少我们的生命值。</strong></p><p id="ec64" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们有<strong class="jn hj"> shield </strong>功能，但是我们可能需要一些视觉表现。在<strong class="jn hj">文件库</strong>资源包中，<strong class="jn hj">盾牌</strong>精灵是动画。就像我们的<strong class="jn hj">加电</strong>一样，我们可以创建一个简单的动画循环。如果我们添加<strong class="jn hj">盾</strong>作为我们<strong class="jn hj">玩家</strong>的<strong class="jn hj">子</strong>，我们可以使用脚本来打开和关闭它，同时它会随着<strong class="jn hj">玩家的移动而移动。</strong></p><p id="7262" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">我们需要创建一个<strong class="jn hj">游戏对象变量</strong>来存储我们的<strong class="jn hj">盾牌</strong>，在我们的<strong class="jn hj">启动方法</strong>中，我们应该使用<strong class="jn hj">来确认它是不活动的。set active(false)；</strong></p><p id="8c91" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">现在在我们的<strong class="jn hj"> ShieldActive 方法</strong>中，我们可以将值改为<strong class="jn hj"> true </strong>，打开我们的屏蔽视觉。在我们的<strong class="jn hj"> TakeDamage 方法</strong>中，我们想把它设置回 false。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es kj"><img src="../Images/4a4722e88c02cfefa5d662d2e09f71e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UJjMcYgUcEl_ynnevdN9rw.png"/></div></div></figure><p id="0b66" class="pw-post-body-paragraph jl jm hi jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">这样，我们现在在一个<strong class="jn hj">模块化系统</strong>中有了三个功能<strong class="jn hj">电源</strong>，为进一步添加做好了准备。接下来我们需要添加<strong class="jn hj">用户界面</strong>。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ko"><img src="../Images/79e6ee04eb582133d1cd1c367441be9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*m7pIDZmcgXmaBtG5fwjC4g.gif"/></div></div></figure></div></div>    
</body>
</html>