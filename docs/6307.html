<html>
<head>
<title>JVM Explanation🤔</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JVM解释🤔</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/jvm-explanation-85733bccd8df?source=collection_archive---------1-----------------------#2022-02-01">https://medium.com/nerd-for-tech/jvm-explanation-85733bccd8df?source=collection_archive---------1-----------------------#2022-02-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/45cac0e92b3e51f23c444ca856193728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uGWGYBq4bk0_D9TD1yjYzQ.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated"><a class="ae iu" href="https://d1rytvr7gmk1sx.cloudfront.net/wp-content/uploads/2019/02/istock-954641818.jpg" rel="noopener ugc nofollow" target="_blank">https://D1 ry TVR 7 gmk 1 sx . cloudfront . net/WP-content/uploads/2019/02/istock-954641818 . jpg</a></figcaption></figure><p id="636e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi jt translated"><span class="l ju jv jw bm jx jy jz ka kb di"> J </span> ava是Oracle于1995年创建的一种高级、平台独立和面向对象的编程语言。</p><blockquote class="kc kd ke"><p id="2ca6" class="iv iw kf ix b iy iz ja jb jc jd je jf kg jh ji jj kh jl jm jn ki jp jq jr js hb bi translated">在深入研究Java之前，我们必须了解JDK、JRE和JVM之间的区别。</p></blockquote><p id="5002" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> JDK </strong> :- Java开发套件(JDK)是一个软件开发套件，包括开发工具。它提供了一个开发和执行java代码的环境。</p><p id="980d" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> JRE </strong> :- Java运行时环境是JVM的<strong class="ix hj">实现。它为java程序提供了一个运行时环境。</strong></p><p id="9600" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> JVM </strong> :- Java虚拟机是物理上不存在的抽象机器。因此，它既不能像其他软件一样安装，也不能卸载。JVM是一个<strong class="ix hj">规范</strong>，它规定了事情应该如何完成。</p></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><h1 id="92b6" class="kq kr hi bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated"><strong class="ak">虚拟机的类型</strong></h1><p id="9b41" class="pw-post-body-paragraph iv iw hi ix b iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo ls jq jr js hb bi translated">有两种类型的虚拟机。</p><ol class=""><li id="52bc" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js ly lz ma mb bi translated">基于系统的虚拟机</li><li id="3fcb" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">基于应用的虚拟机(基于流程的虚拟机)</li></ol><figure class="mi mj mk ml fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mh"><img src="../Images/436227476bf1517a571cad01a178a040.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IxPG1Ol1EwBay0XXYq-HsQ.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">虚拟机的类型及其差异</figcaption></figure><p id="8a64" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">此外，执行java程序将在您的计算机上创建一个JVM实例。</p><blockquote class="mm"><p id="5aae" class="mn mo hi bd mp mq mr ms mt mu mv js dx translated">示例:当有两个java程序同时执行时，有两个JVM实例。</p></blockquote><p id="e275" class="pw-post-body-paragraph iv iw hi ix b iy mw ja jb jc mx je jf jg my ji jj jk mz jm jn jo na jq jr js hb bi translated">当有一个JVM实例时，一个<a class="ae iu" href="https://www.geeksforgeeks.org/difference-between-daemon-threads-and-user-threads-in-java/#:~:text=Daemon%20threads%20are%20low%20priority,used%20to%20perform%20supporting%20tasks." rel="noopener ugc nofollow" target="_blank">非守护线程</a>也在那里。JVM实例有两种被销毁的方式。</p><ol class=""><li id="abac" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js ly lz ma mb bi translated">当不存在非守护线程时。</li><li id="ba8a" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">当程序调用system.exit()方法时。</li></ol><blockquote class="mm"><p id="a7ef" class="mn mo hi bd mp mq nb nc nd ne nf js dx translated">因此，只有当应用程序运行或者至少有一个非守护线程存在时，JVM才存在。</p></blockquote><h1 id="de6c" class="kq kr hi bd ks kt ng kv kw kx nh kz la lb ni ld le lf nj lh li lj nk ll lm ln bi translated">JVM组件</h1><p id="27ae" class="pw-post-body-paragraph iv iw hi ix b iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo ls jq jr js hb bi translated">想象一个孩子想把球扔到网里。首先，他需要从很多球中取出一些球，然后把它们存放在一个篮子里，最后，他可以把球扔到网上。当我们将这个场景应用于JVM时，JVM首先将类加载到区域中，然后将它们存储在内存区域中，最后通过执行引擎执行它们。</p><blockquote class="kc kd ke"><p id="50da" class="iv iw kf ix b iy iz ja jb jc jd je jf kg jh ji jj kh jl jm jn ki jp jq jr js hb bi translated">JVM有三个组成部分。那些是，</p></blockquote><ol class=""><li id="01b7" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js ly lz ma mb bi translated">类加载器</li><li id="1811" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">存储区</li><li id="ae10" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">执行引擎</li></ol><blockquote class="kc kd ke"><p id="016f" class="iv iw kf ix b iy iz ja jb jc jd je jf kg jh ji jj kh jl jm jn ki jp jq jr js hb bi translated">现在让我们关注JVM的结构</p></blockquote><figure class="mi mj mk ml fd ij er es paragraph-image"><div class="er es nl"><img src="../Images/43844c5e6d35102d21fb758bc8fd271e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*Rf1noJ7CKxzmPltlpEU71w.png"/></div><figcaption class="iq ir et er es is it bd b be z dx translated">JVM的结构</figcaption></figure><h2 id="db0c" class="nm kr hi bd ks nn no np kw nq nr ns la jg nt nu le jk nv nw li jo nx ny lm nz bi translated">类加载器</h2><p id="afc1" class="pw-post-body-paragraph iv iw hi ix b iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo ls jq jr js hb bi translated">类加载器的主要职责是将类信息加载到内存区域。有两种类型的类装入器。</p><ol class=""><li id="d3ea" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js ly lz ma mb bi translated">引导类装入器</li><li id="21cb" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">自定义类加载器</li></ol><p id="7a92" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">类加载器有三个阶段，即<strong class="ix hj">加载、链接、初始化。</strong></p><ol class=""><li id="1684" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js ly lz ma mb bi translated"><strong class="ix hj">装载</strong></li></ol><p id="99c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在加载类之前，JVM在加载阶段会读取一些东西。</p><ul class=""><li id="5c10" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js oa lz ma mb bi translated">读取完全限定的类名。</li><li id="d073" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">读取直接父信息。</li><li id="33cc" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">读取可变信息。</li><li id="c022" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">读取它是类、接口还是枚举。</li></ul><p id="8e43" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">JVM读取上述事实后，类文件加载到内存区域。此外，当加载一个类时，JVM第一次创建类类型对象并将其存储在堆中。</p><p id="412b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 2。链接</strong></p><p id="4295" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">链接又可以分为三个阶段——<strong class="ix hj">验证、准备、解决。</strong></p><ul class=""><li id="b01e" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js oa lz ma mb bi translated">验证—在这里，一个名为<strong class="ix hj">“字节码验证器”</strong>的子程序检查该类是否来自<strong class="ix hj">有效的编译器</strong>，它是否具有<strong class="ix hj">正确的格式</strong>以及它是否具有<strong class="ix hj">正确的结构</strong>。要成功完成验证阶段，需要满足上述所有条件，否则将抛出“VerifierException”。</li><li id="7e68" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">准备——在这个阶段，如果我们在类中使用任何静态变量或实例变量，它将分配一个默认值。</li><li id="9c88" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">resolution——在java中，它允许我们在程序中使用特定领域的对象(业务对象),但是在进入机器级之前，JVM用直接链接代替了符号链接。</li></ul><p id="d514" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj"> 3。初始化</strong></p><p id="014f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">在这个阶段，它分配实数值，并且执行静态块。<strong class="ix hj">每个类在使用前必须被初始化。</strong></p><p id="1075" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">下面是考虑积极使用类的一些事情。在下面提到的任何活动使用之前，它必须经过初始化。</p><ul class=""><li id="5d25" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js oa lz ma mb bi translated">“新建”关键字。</li><li id="386b" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">静态方法的调用。</li><li id="afb4" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">使用反射API加载类(getInstance)。</li><li id="c8b9" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">给静态字段赋值。</li><li id="bbbc" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">如果类是初始的(main方法)。</li><li id="25dc" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">实例化子类。</li></ul><p id="1d6c" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">有四种方法可以初始化一个类。这些方法是使用“new”关键字、clone()方法、反射API和IO。ObjectInputStram类。</p><h2 id="7fe3" class="nm kr hi bd ks nn no np kw nq nr ns la jg nt nu le jk nv nw li jo nx ny lm nz bi translated">存储区</h2><ol class=""><li id="1585" class="lt lu hi ix b iy lo jc lp jg ob jk oc jo od js ly lz ma mb bi translated">方法区域—保存类信息的区域。</li><li id="d1f6" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">堆—保存对象信息的区域。</li><li id="07e5" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">堆栈—保存局部变量信息的区域。</li><li id="9e78" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">PC寄存器—保存下一次执行信息的区域(如果不是本机方法)</li><li id="34ff" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js ly lz ma mb bi translated">本机方法区域—保存本机方法和方法信息的区域。</li></ol><h2 id="528e" class="nm kr hi bd ks nn no np kw nq nr ns la jg nt nu le jk nv nw li jo nx ny lm nz bi translated">执行引擎</h2><p id="b63e" class="pw-post-body-paragraph iv iw hi ix b iy lo ja jb jc lp je jf jg lq ji jj jk lr jm jn jo ls jq jr js hb bi translated">执行引擎由三个主要组件组成。<strong class="ix hj">解释器，JIT编译器，垃圾收集器</strong>就是他们。执行引擎完成JVM和内存区域之间的通信过程。字节码的执行也发生在这里。</p><ul class=""><li id="11ad" class="lt lu hi ix b iy iz jc jd jg lv jk lw jo lx js oa lz ma mb bi translated">解释器——解释器读取字节码，并将其解释为机器码。</li><li id="fa11" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">JIT编译器——当解释器将字节码解释为机器码时，它每次都解释相同的方法，这提高了系统性能。JIT编译器可以解决这个问题。它在运行时将字节码编译成本机代码。</li><li id="243d" class="lt lu hi ix b iy mc jc md jg me jk mf jo mg js oa lz ma mb bi translated">垃圾收集器——垃圾收集器是一个非常有用的内存管理程序。它销毁堆中不可达的方法，并回收内存区域。</li></ul></div><div class="ab cl kj kk gp kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="hb hc hd he hf"><p id="c7da" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">希望这篇文章能有所帮助，谢谢…:)</p><h2 id="b72e" class="nm kr hi bd ks nn no np kw nq nr ns la jg nt nu le jk nv nw li jo nx ny lm nz bi translated">参考</h2><figure class="mi mj mk ml fd ij"><div class="bz dy l di"><div class="oe of l"/></div></figure><p id="3756" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><a class="ae iu" href="https://youtu.be/GzFdNzLB7iI" rel="noopener ugc nofollow" target="_blank">https://youtu.be/GzFdNzLB7iI</a></p></div></div>    
</body>
</html>