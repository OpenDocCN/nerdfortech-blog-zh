<html>
<head>
<title>Understanding VPC endpoint (AWS)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解 VPC 端点(AWS)</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/understanding-vpc-endpoint-in-aws-b182ff71a46a?source=collection_archive---------5-----------------------#2021-02-02">https://medium.com/nerd-for-tech/understanding-vpc-endpoint-in-aws-b182ff71a46a?source=collection_archive---------5-----------------------#2021-02-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/c3a71e8bd7eabe795b5fa83f5fda9afa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MeGRagFpXgWjVgd0QbiflA.jpeg"/></div></div></figure><p id="e9a4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">大家好，</p><p id="dcfa" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是一个了解 VPC 端点的简单动手任务。</p><p id="ba2d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">因此，让我们从 VPC 终点的必要性以及它到底是什么开始。</p><p id="16b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">VPC 端点是一个 AWS 资源，帮助我们访问公共资源，如 S3，dynamoDB 等。安全地通过 AWS 网络，而不是通过互联网。说到为什么我们会需要它，AWS 中可能有一些资源没有暴露在互联网上；就像私有子网中的 EC2 实例，而无需访问互联网。在这种情况下，获取公共资源是不可能的。就这样诞生了‘VPC 端点’！！！=)</p><p id="2ed0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在我们知道了什么是 VPC 终点，让我们快速开始动手实践活动。</p><p id="3408" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">请设置带有公共和私有子网的 VPC，并在两者中启动 EC2 实例。您可以参考本实验来了解创建 https://amazon.qwiklabs.com/focuses/15788? VPC、子网、互联网网关和路由表的步骤 catalog _ rank = % 7B % 22 rank % 22% 3a 2% 2C % 22 num _ filters % 22% 3a 0% 2C % 22 has _ search % 22% 3a true % 7D&amp;parent = catalog&amp;search _ id = 8612122</p><p id="e26a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我们的设置应该是这样的</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/092e9f14bad9041941f0442845f477f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*CrjgzJQ9Dr1Pvr0eFZhf5A.png"/></div></figure><p id="6867" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，将一个 IAM 角色附加到两个 EC2 实例，该角色授予对 S3 的只读访问权限</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ju"><img src="../Images/7cd4e7b4c360b6eac3a1289ccec4b0b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y7NVy9e3YS5T_tvpnNmytg.png"/></div></div></figure><p id="5142" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">SSH 到公共 EC2，观察我们能够访问 s3:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/cba505208620467d8aa950b801011d22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MYWnjtqnt_i5ZXATHVku4g.png"/></div></div></figure><p id="f743" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">它为公众 EC2 工作。现在，让我们从公共 EC2 ssh 到私有 EC2，并再次尝试访问 S3。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jw"><img src="../Images/3ee3888fce45a067194692bb18e90c51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qwb5bkrpRDamnhq9mr_c5w.png"/></div></div></figure><p id="d8ef" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如上所述，google.com 和 S3(互联网)都无法访问</p><p id="f33f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">让我们创建一个 VPC 端点</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jx"><img src="../Images/8499b588c9f4c3ba2c3e095e83a9069d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NSIVYHHkNUtrNquEMZss4w.png"/></div></div></figure><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jy"><img src="../Images/62884964889bd2aa1454ca91fc33a4a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fR70gymApswf4kQwgERnkA.png"/></div></div></figure><p id="4061" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">选择您的 VPC 和专用子网</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jz"><img src="../Images/beb405205841aca02496434a178aa85f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J_MTLCo8SMthsuwsSFm03w.png"/></div></div></figure><p id="96ba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">现在，让我们尝试从私有子网中的 EC2 实例访问 s3</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ka"><img src="../Images/aa8d7aceede71f6ec90957f523f92c0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c6GeGtmvd1mso48RCjYsYA.png"/></div></div></figure><p id="284a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">注意，我们能够列出 s3 存储桶，但不能 ping 通 google.com</p><p id="1a81" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是因为现在我们可以通过 VPC 端点到达 S3 端点。</p><p id="0019" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">然而我们还没有定义任何到互联网的路由。</p><p id="690c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">就这样伙计们！VPC 端点上的简单练习！:)</p><p id="0890" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望你喜欢。</p></div></div>    
</body>
</html>