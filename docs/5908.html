<html>
<head>
<title>In 6 steps, Add a double jump in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 6 个步骤中，在 Unity 中增加一个双跳</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/in-6-steps-add-a-double-jump-in-unity-f2084b6a8a4d?source=collection_archive---------4-----------------------#2021-12-03">https://medium.com/nerd-for-tech/in-6-steps-add-a-double-jump-in-unity-f2084b6a8a4d?source=collection_archive---------4-----------------------#2021-12-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/2b79e7100fb09d0070edc409897c684e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kqF8C0WcYBNy0Lm2Q8lqVQ.png"/></div></div></figure><p id="743e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里的练习演示了在 Unity 中实现跳跃机制作为定制物理控制器的一部分。</p><p id="2c4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">跳跃任务非常类似于重力在这个项目中的作用。但是，y 方向得到的是正值，而不是负值。</p><p id="5adb" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">按照这些步骤，可以很容易地编写一个跳转。</p><ol class=""><li id="3c5d" class="jo jp hi is b it iu ix iy jb jq jf jr jj js jn jt ju jv jw bi translated">创建一个私有变量来跟踪速度向量的最后一个 y 值。</li></ol><pre class="jx jy jz ka fd kb kc kd ke aw kf bi"><span id="7dd1" class="kg kh hi kc b fi ki kj l kk kl">private float _CacheYVelocity;</span></pre><p id="ae8b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.创建一个私有变量来添加选择的跳跃高度。</p><pre class="jx jy jz ka fd kb kc kd ke aw kf bi"><span id="159a" class="kg kh hi kc b fi ki kj l kk kl">private int _jumpHeight = 50;</span></pre><p id="57d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.在检查玩家对象在地面上的位置的 if 语句中，添加下面的代码来捕获跳跃的空格输入。</p><pre class="jx jy jz ka fd kb kc kd ke aw kf bi"><span id="2f61" class="kg kh hi kc b fi ki kj l kk kl">if (_characterController.isGrounded == true)<br/>       {<br/>           if (Input.GetKeyDown(KeyCode.Space))<br/>           {<br/>               _CacheYVelocity = _jumpHeight;<br/>           }<br/>       }</span></pre><p id="eeb4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">到目前为止，一跳似乎已经到位。</p><blockquote class="km kn ko"><p id="a798" class="iq ir kp is b it iu iv iw ix iy iz ja kq jc jd je kr jg jh ji ks jk jl jm jn hb bi translated">为了实现双跳，需要另一个 bool 变量来知道玩家是否已经跳了一次。</p></blockquote><p id="9c6d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.创建私有变量。</p><pre class="jx jy jz ka fd kb kc kd ke aw kf bi"><span id="b73f" class="kg kh hi kc b fi ki kj l kk kl">private bool _jumped;</span></pre><p id="1ec8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.在上面的 if 语句中，将此标志设为 True。</p><pre class="jx jy jz ka fd kb kc kd ke aw kf bi"><span id="da64" class="kg kh hi kc b fi ki kj l kk kl">if (_characterController.isGrounded == true)<br/>       {<br/>           if (Input.GetKeyDown(KeyCode.Space))<br/>           {<br/>              <strong class="kc hj"> _jumped = true;</strong><br/>               _CacheYVelocity = _jumpHeight;<br/>           }<br/>           <br/>       }</span></pre><p id="8c79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.在 else 部分，玩家被检查是否在空中，重新检查空间输入，并根据选择增加跳跃高度。</p><pre class="jx jy jz ka fd kb kc kd ke aw kf bi"><span id="c093" class="kg kh hi kc b fi ki kj l kk kl">else<br/>       {<br/> <br/>           <strong class="kc hj">if (Input.GetKeyDown(KeyCode.Space))<br/>           {<br/>               if (_jumped == true)<br/>               {<br/>                   _CacheYVelocity += _jumpHeight + 2; //<em class="kp"> MyConfig</em><br/>                   _jumped = false;<br/>               }<br/>           }</strong><br/> <br/>           _CacheYVelocity -= _gravity;<br/>       }</span></pre><p id="bfb3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">应该就是这样了:)</p><p id="7719" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这是最终的结果。</p><div class="kt ku ez fb kv kw"><a href="https://drive.google.com/file/d/12mRJ5KVCCPVswHCixJQAvis_np2VySao/view?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="kx ab dw"><div class="ky ab kz cl cj la"><h2 class="bd hj fi z dy lb ea eb lc ed ef hh bi translated">DoubleJumpPlayerMovement.mp4</h2><div class="ld l"><h3 class="bd b fi z dy lb ea eb lc ed ef dx translated">编辑描述</h3></div><div class="le l"><p class="bd b fp z dy lb ea eb lc ed ef dx translated">drive.google.com</p></div></div><div class="lf l"><div class="lg l lh li lj lf lk io kw"/></div></div></a></div><p id="f9b1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">非常感谢</p></div></div>    
</body>
</html>