<html>
<head>
<title>Implementing space shooter game features - Shield Strength</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现空间射击游戏的功能-盾牌的力量</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-shield-strength-1fd3c5c18ee3?source=collection_archive---------15-----------------------#2021-06-03">https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-shield-strength-1fd3c5c18ee3?source=collection_archive---------15-----------------------#2021-06-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="16b5" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="4c94" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">快速回顾 Unity 中添加到太空射击游戏的新功能</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/9ecac832ebd3212768cb061145ab5927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6ayzaKk90ojRzZXF5CTOKQ.gif"/></div></div></figure><p id="8e83" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:用 Unity 实现一个空间射击游戏中盾牌的力量可视化。</p><p id="e2f0" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在之前的帖子中，我<a class="ae ko" rel="noopener" href="/nerd-for-tech/implementing-space-shooter-game-features-thrusters-67aa02b314b6">用 HUD </a>为我的 Unity 太空射击游戏实现了一个助推行为。现在是时候实现一个显示玩家护盾强度的方法了。</p><h1 id="8930" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">屏蔽强度可视化仪</h1><p id="302b" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">为了创建盾牌的力量可视化，让我们添加一个新的 C#脚本来处理盾牌预置:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lm"><img src="../Images/5cbb27b8646abd632cafb955fcea6288.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/1*gwKsPefKcgL0AT5peIX-3w.gif"/></div></figure><p id="575e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在让我们打开脚本并创建这些变量:</p><ul class=""><li id="08eb" class="ln lo hi ju b jv jw jy jz kb lp kf lq kj lr kn ls lt lu lv bi translated">阻力:</li></ul><p id="f70e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将存储一个盾牌消失或破碎前所能受到的打击次数。它可以在 Unity 编辑器中定制。</p><ul class=""><li id="c041" class="ln lo hi ju b jv jw jy jz kb lp kf lq kj lr kn ls lt lu lv bi translated">最大阻力:</li></ul><p id="c234" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将存储盾牌能抵抗的最大打击次数。这将提供一种方法来恢复护盾的属性，当它恢复或损坏时。</p><ul class=""><li id="a4d2" class="ln lo hi ju b jv jw jy jz kb lp kf lq kj lr kn ls lt lu lv bi translated">盾牌渲染器:</li></ul><p id="6570" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这个变量将存储一个对盾牌的精灵渲染器的引用，这样我们就可以通过改变精灵的颜色来显示它的强度。</p><ul class=""><li id="72ba" class="ln lo hi ju b jv jw jy jz kb lp kf lq kj lr kn ls lt lu lv bi translated">3 种颜色:</li></ul><p id="f755" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这 3 个颜色变量将存储和定义护盾强度的 3 个阶段(正常护盾，第一次伤害和第二次)。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lw"><img src="../Images/579dfb81da228e83dd854e0a46f3a216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*SSrD67wDnHS3w1iFjlXp0A.png"/></div></div></figure><p id="3b83" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在 Start 方法中，让我们从上面初始化变量:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lx"><img src="../Images/57bed6554c8ac9702f3cf66d657a9fbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C87DqjtvvpnYT6QORsqtoA.png"/></div></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">我们使用 Color32 是为了让颜色能够使用字节值作为参数。</figcaption></figure><p id="9bc6" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们创建一个根据屏蔽电阻值处理颜色变化的新方法:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mc"><img src="../Images/15c106f0aace7ee8f95584fcf91bc81b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*AmHmjHWX7Fryxw-_pj4Xpg.png"/></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">如果电阻为 0 或大于 2，屏蔽将被设置为其原始颜色。</figcaption></figure><p id="ce5e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果您想了解更多关于精灵渲染器颜色的信息，您可以访问 Unity 文档:</p><div class="md me ez fb mf mg"><a href="https://docs.unity3d.com/ScriptReference/SpriteRenderer-color.html" rel="noopener  ugc nofollow" target="_blank"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="bd hs fi z dy ml ea eb mm ed ef hr bi translated">SpriteRenderer.color</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">此示例输出控制精灵颜色的红绿蓝元素的滑块//将此附加到…</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">docs.unity3d.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu jq mg"/></div></div></a></div><p id="089b" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们创建一个新的公共 bool 方法来:</p><ul class=""><li id="8a3a" class="ln lo hi ju b jv jw jy jz kb lp kf lq kj lr kn ls lt lu lv bi translated">处理收到的损坏</li><li id="b1c6" class="ln lo hi ju b jv mv jy mw kb mx kf my kj mz kn ls lt lu lv bi translated">通过调用上一个方法来设置新颜色</li><li id="cbd7" class="ln lo hi ju b jv mv jy mw kb mx kf my kj mz kn ls lt lu lv bi translated">返回一个 bool 值，该值指示屏蔽是仍处于活动状态还是已损坏</li></ul><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es na"><img src="../Images/d7cd72f3b39e38b8c18c987b5c807add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*Nf7ItDQ0sx02rFNZ2kozgA.png"/></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">这样，我们可以从玩家脚本中调用伤害方法，并知道盾牌是否仍然有效。</figcaption></figure><p id="3387" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，让我们创建一个新的公共方法来恢复屏蔽，以防它仍然处于活动状态:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nb"><img src="../Images/e899fac7bd82577d245f875c4d988b7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*OKmJKpQvsTTC9peArGjMuw.png"/></div><figcaption class="ly lz et er es ma mb bd b be z dx translated">恢复最大电阻和颜色表示护盾完全恢复。</figcaption></figure><p id="48f0" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们打开播放器脚本并创建一个新变量来存储对 Shield 脚本的引用:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es nc"><img src="../Images/e3717cb48890c67ec96f101bcae1f03b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*QoMoeMBeCiB8HPARddUtgg.png"/></div></figure><p id="84ca" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在 Start 方法中，我们可以从 _shield 变量中存储的 shield prefab 引用中获取 Shield 脚本:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nd"><img src="../Images/2fea602d3a8a8c77fe96a99bf3e84f8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VuJ-YyRb40mOeBB4t12Ntw.png"/></div></div></figure><p id="b7ad" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，在处理玩家伤害的方法中，让我们从盾牌脚本引用中调用<strong class="ju hs"> DamageShield </strong>方法，并存储其值以指示每次击中后是否应该启用盾牌:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ne"><img src="../Images/57ddc689964dc707ad57332a20ef771c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wh0wSppJn1uoa1uqsn6wHw.png"/></div></div></figure><p id="daf2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，在处理加电的方法中，让我们添加一个条件，指示如果屏蔽已经启用，应该做什么:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es nf"><img src="../Images/7ea890acb239cc939e2ccda231a37334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*06tc3IDpTDRVlesw4CqHCw.png"/></div></div></figure><p id="39c4" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们在 Unity 中运行游戏，我们会看到盾牌抵抗 3 次攻击，每次攻击后显示不同的颜色:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/f49dd84766bbcb6d64e8a6356ae79d98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Q8hA68aFsL2n67ypUYUZCg.gif"/></div></div></figure><p id="66e2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们实现了盾牌的力量可视化！:d .我会在下一篇文章中看到你，在那里我会展示更多添加到我的 Unity 太空射击游戏中的功能。</p></div><div class="ab cl ng nh gp ni" role="separator"><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl nm"/><span class="nj bw bk nk nl"/></div><div class="hb hc hd he hf"><blockquote class="nn no np"><p id="17b4" class="js jt nq ju b jv jw is jx jy jz iv ka nr kc kd ke ns kg kh ki nt kk kl km kn hb bi translated"><em class="hi">如果你想更多地了解我，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>