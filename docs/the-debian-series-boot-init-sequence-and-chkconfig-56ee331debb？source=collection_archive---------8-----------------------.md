# Debian 系列:引导、初始化序列和 chkconfig

> 原文：<https://medium.com/nerd-for-tech/the-debian-series-boot-init-sequence-and-chkconfig-56ee331debb?source=collection_archive---------8----------------------->

这个故事将深入到 Debian 引导序列，以及一旦你的设备启动后会发生什么。这不是一个容易理解的概念，而且有很多事情同时发生。我不得不忽略一些以前的概念，因为我们正在关注某些任务和组件。有很多材料和更好的解释，但我会尝试用简短的讲座来总结整个过程，以便更好地理解。

让我们从称为 **BIOS 的关键组件开始，**我们可以将这个元素概念化为我们计算机主板的操作系统，长话短说，这是一个特殊的芯片，它可以识别和定位必要的硬件设备，以将操作系统启动到 RAM 内存中。

这个 **BIOS** 芯片将评估并检查硬件环境是否可以继续。如果一切正常， **BIOS** 会将系统控制权委托给 **MBR** 或**主引导记录。**MBR 是指硬盘的**引导扇区，是存储扇区的前 512 个字节。**

**MBR** 代表了启动过程中几乎所有事情的关键组件。基本上确定了引导操作系统要做什么，有时可能是指用 **GRUB** 引导进程(其他程序适用于不同的操作系统)，或者存储分区表(稍后会谈到)甚至是确定一个单独的存储驱动器。

接下来， **GRUB** 是一个让我们选择从安装在**硬盘上的操作系统启动的程序。GRUB** 以其可能的基本方式加载到 **MBR** 上，它也驻留在存储磁盘上，因为一旦用户决定使用哪个操作系统，它也会启动**操作系统进程**。

让我们在这里暂停一会儿，让我们回顾一下到目前为止我们所拥有的细节。

我们说过 **BIOS** 检查硬件设备。然后， **GRUB** 在 **MBR** 上加载其执行的**第一阶段**并读取 **BIOS 上的内容，**此时， **GRUB** 以其最基本的可能方式加载，之后，**第二阶段**(在 **HDD** 上)加载剩余的 **GRUB** 程序，并显示可能安装的 OS 在用户选择要引导的操作系统后，操作系统将会加载，GRUB 将执行控制权交给**操作系统**本身。

现在我们掌握了操作系统，为了使用我们的硬件和做我们想做的任何事情，大多数服务必须启动。对吗？

让我们来谈谈 Linux 服务的 **INIT** 进程和 **runlevels** 层次结构。

**INIT** (或初始化)是内核加载后执行的一系列进程，这个进程是一个守护进程，一直运行到系统关闭。你可以认为它是所有过程之父。

严格来说，我们有一个叫做**运行级别**的概念，它基本上代表了根据在机器的特定时刻出现的用户类型而停止或启动的服务数量。

## Debian 运行级别

在 Debian 7 机器上，**运行级**程序位于`/etc`目录下，具体来说是在`rc0.d`到`rc6.d`文件夹之间。你可能会想为什么是 0，为什么是 6，对吗？我一会儿就讲。

在每个文件夹中，您会发现`S` x 个文件(大部分按顺序排列),它们包含在每个**运行级别**上运行的流程逻辑。是以一个`K`开头的文件是一个杀的过程。

## 运行级别

现在，我们有多个**运行级别**，每个级别代表当达到某个级别时操作系统(基于 Unix)的类型或操作模式，这里有更多信息，但概括来说，我们有:

`0 — Halt`:基本停止操作系统。

`1 — Single`(或单用户)，启动时没有任何服务，是准备或停止操作系统的简单运行

`2 to the 5`:多用户级别，在这一步你可以使用没有任何 GUI 的 OS，可以用于自定义目的，

`6 — Reboot`:它所说的，只是重启服务器。

我需要澄清一些事情，在`multi-user`级别，每个内部步骤做不同的事情，`3rd`步骤是系统正常启动的地方，通过`4th`步骤，我们拥有了网络接口的能力。在`2nd`上，我们几乎没有网络功能，而在`5th`上，我们启用了 GUI。

所以，在很短的时间内有很多事情在进行。这将给我们一个提示，告诉我们自从机器或笔记本电脑启动以来发生了什么。

有一个名为`chkconfig`的工具，主要帮助启用或禁用系统或服务，基本上，这个实用工具帮助我们**启动/停止**服务，以便优化秒或性能，这主要取决于你的目标是什么

## 怎么用？

简单，举个例子。

`chkconfig -l`,`-l`标志列出了带有附加**运行级别**的程序。

关闭一个服务怎么样？好吧，看看这个。

`chkconfig vsftpd off`

**很简单吧？**

今天到此为止。到处都有更多的相关信息，我试图让每个人都容易理解。请随意投稿。

在下一个故事中，我将讨论磁盘分区和配置。

快乐编码:)