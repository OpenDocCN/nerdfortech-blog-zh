<html>
<head>
<title>Kubernetes Liveness Probe</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kubernetes 活性探针</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/kubernetes-liveness-probe-e4319b8ecee0?source=collection_archive---------5-----------------------#2021-10-01">https://medium.com/nerd-for-tech/kubernetes-liveness-probe-e4319b8ecee0?source=collection_archive---------5-----------------------#2021-10-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/bae15950569966cefc1b15cdafb50c99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*KqAQGVMw13I1-Gpna1Rf6w.png"/></div></figure><h1 id="298b" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">健康检查</h1><p id="9da0" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">使用<a class="ae ki" href="https://www.technologiesinindustry4.com/2020/09/Docker-Engine-What-is-Kubernetes.html" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>的最大好处之一就是让我们的容器在集群中的某个地方运行。<br/>但是如果其中一个集装箱坏了怎么办？如果一个 pod 的所有容器都死了怎么办？<br/>如果应用程序容器因应用程序中的错误而崩溃，<a class="ae ki" href="https://www.technologiesinindustry4.com/2020/09/Docker-Engine-What-is-Kubernetes.html" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>会自动重启你的应用程序容器。但是当你的应用程序因为陷入无限循环或死锁而停止响应时，你会怎么说呢？<br/> <a class="ae ki" href="https://www.technologiesinindustry4.com/2020/09/Docker-Engine-What-is-Kubernetes.html" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>为我们提供了感谢检查您的健康应用程序。<br/>pod 通常被配置为从表面定期检查应用程序的健康状况，而不依赖于应用程序在内部进行检查。<br/>您可以为 pod 规范中的每个容器指定一个活跃度。<br/> <a class="ae ki" href="https://www.technologiesinindustry4.com/2020/09/Docker-Engine-What-is-Kubernetes.html" rel="noopener ugc nofollow" target="_blank"> Kubernetes </a>会定期执行探测，如果探测失败，会重启容器。<br/>要点:“容器被重启”意味着旧的容器被杀死，全新的容器被创建— —这不是一个等价的容器被再次重启。</p><h1 id="ae94" class="im in hi bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">探针类型</h1><p id="97cc" class="pw-post-body-paragraph jk jl hi jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">有三种探针</p><ol class=""><li id="a256" class="kj kk hi jm b jn kl jr km jv kn jz ko kd kp kh kq kr ks kt bi translated"><strong class="jm hj"> HTTP GET </strong><br/>探针被计入<a class="ae ki" href="https://www.technologiesinindustry4.com/2020/09/Docker-Engine-What-is-Kubernetes.html" rel="noopener ugc nofollow" target="_blank">账户故障，如果<br/>探针收到错误响应码<br/>容器 app 没有丝毫响应<br/> <strong class="jm hj"> 2，容器将自动</strong></a>重启。TCP Socket<br/>TCP Socket probe 倾向于打开一个 TCP 连接到容器的所需端口。<br/>如果连接保持成功，则探测成功。<br/>否则，重新启动容器。<br/> <strong class="jm hj"> 3。Exec 探针</strong> <br/>一个 EXEC 探针执行你在容器内部提供的一些命令，并检查命令的退出状态代码。<br/>如果状态代码声明为 0，则探测成功。<br/>所有其他代码都被视为失败。</li></ol><p id="8e2e" class="pw-post-body-paragraph jk jl hi jm b jn kl jp jq jr km jt ju jv ku jx jy jz kv kb kc kd kw kf kg kh hb bi translated">更多详情请访问:<a class="ae ki" href="https://www.technologiesinindustry4.com/2020/10/kubernetes-liveness-probe.html" rel="noopener ugc nofollow" target="_blank">https://www . technologiesinindustry 4 . com/2020/10/kubernetes-liveness-probe . html</a></p></div></div>    
</body>
</html>