<html>
<head>
<title>How to get a React Bootstrap Modal to open and close using a button of your choice in a parent component</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在父组件中使用您选择的按钮打开和关闭React引导模式</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/how-to-get-a-react-bootstrap-modal-to-open-and-close-using-a-button-of-your-choice-in-a-p-cde3ef6c0d4c?source=collection_archive---------0-----------------------#2021-05-04">https://medium.com/nerd-for-tech/how-to-get-a-react-bootstrap-modal-to-open-and-close-using-a-button-of-your-choice-in-a-p-cde3ef6c0d4c?source=collection_archive---------0-----------------------#2021-05-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="82b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上周我和一些朋友在一个网站上工作。我们使用React-Bootstrap作为开箱即用UI组件的解决方案。我们都喜欢在弹出菜单中使用模态的想法，并且我们希望使用侧标签来导航。按照React-Bootstrap模式组件的编写方式，打开模式的按钮包含在组件本身中。如果您试图找出如何放置组件，这会使事情变得混乱。如果你熟悉React-Bootstrap，而你只是在匆忙地寻找解决方案，请跳到停车标志的图片，看看我对这个问题的解决方案。如果你想进一步了解这个问题，请继续阅读。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ji jj l"/></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">迷茫？让我们打开这个！</figcaption></figure><h2 id="7f42" class="jo jp hi bd jq jr js jt ju jv jw jx jy iq jz ka kb iu kc kd ke iy kf kg kh ki bi translated">如果您不了解React-Bootstrap，请从这里开始</h2><p id="55bb" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">React-Bootstrap是React组件的前端框架。如果您使用React并且还没有检查过React-Bootstrap，那么有必要了解一下它。这很容易实现，你可以在<a class="ae ko" href="https://react-bootstrap.github.io/getting-started/introduction" rel="noopener ugc nofollow" target="_blank">他们的网站</a>上浏览。我从来没有遇到任何问题得到反应-引导工作与我的应用程序。</p><p id="b010" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">要安装React-Bootstrap，请使用npm:</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="dd4c" class="jo jp hi kq b fi ku kv l kw kx">npm install react-bootstrap bootstrap</span></pre><p id="679c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae ko" href="https://react-bootstrap.github.io/components/alerts/" rel="noopener ugc nofollow" target="_blank">从他们的网站</a>选择你想要使用的组件，然后在你的代码中，导入你打算单独使用的每个组件。在模态的情况下:</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="e6c7" class="jo jp hi kq b fi ku kv l kw kx">import Modal from 'react-bootstrap/Modal'</span></pre><p id="8263" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">或者</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="23c9" class="jo jp hi kq b fi ku kv l kw kx">import { Modal } from 'react-bootstrap';</span></pre><p id="fd52" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在每个组件的文档中，您将看到组件的示例实现代码。这些工具接受导入库，并构建了许多功能供您使用。我认为这是React-Bootstrap如此流行和强大的原因。选择与您想要的组件功能最接近的代码，并将其用作组件实现的起点。出于本文的目的，让我们使用<em class="ky">现场演示模式的代码:</em></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es kz"><img src="../Images/4de93b6daaa5d349ab554aae05cd9620.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UgAfO5FbDBQQUGuG-i0s8Q.jpeg"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">如图，现场演示模型。“启动演示模态”按钮，也是代码的一部分，打开它</figcaption></figure><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="4121" class="jo jp hi kq b fi ku kv l kw kx">import Modal from 'react-bootstrap/Modal'</span><span id="91ad" class="jo jp hi kq b fi lg kv l kw kx">function Example() {<br/>  const [show, setShow] = useState(false);<br/>  const handleClose = () =&gt; setShow(false);<br/>  const handleShow = () =&gt; setShow(true);</span><span id="26e6" class="jo jp hi kq b fi lg kv l kw kx">return (<br/>    &lt;&gt;<br/>      &lt;Button variant="primary" onClick={handleShow}&gt;<br/>        Launch demo modal<br/>      &lt;/Button&gt;</span><span id="8043" class="jo jp hi kq b fi lg kv l kw kx">&lt;Modal show={show} onHide={handleClose}&gt;<br/>        &lt;Modal.Header closeButton&gt;<br/>          &lt;Modal.Title&gt;Modal heading&lt;/Modal.Title&gt;<br/>        &lt;/Modal.Header&gt;<br/>        &lt;Modal.Body&gt;Woohoo, you're reading this text in a modal!&lt;/Modal.Body&gt;<br/>        &lt;Modal.Footer&gt;<br/>          &lt;Button variant="secondary" onClick={handleClose}&gt;<br/>            Close<br/>          &lt;/Button&gt;<br/>          &lt;Button variant="primary" onClick={handleClose}&gt;<br/>            Save Changes<br/>          &lt;/Button&gt;<br/>        &lt;/Modal.Footer&gt;<br/>      &lt;/Modal&gt;<br/>    &lt;/&gt;<br/>  );<br/>}</span><span id="f182" class="jo jp hi kq b fi lg kv l kw kx">render(&lt;Example /&gt;);</span></pre><p id="b940" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">…现在我们有了一个组件<code class="du lh li lj kq b">Example</code>，它从React Bootstrap导入模态功能，并包含React-Bootstrap网站上提供的该组件的示例代码。打开模态的代码是<code class="du lh li lj kq b">return</code>之后的3行代码:</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="0ce8" class="jo jp hi kq b fi ku kv l kw kx">&lt;Button variant="primary" onClick={handleShow}&gt;<br/>        Launch demo modal<br/>      &lt;/Button&gt;</span></pre><p id="e611" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">…这将在我们应用程序中放置<code class="du lh li lj kq b">Example</code>的地方放置一个按钮，当我们单击它时，我们通过setState钩子将模态状态中的<code class="du lh li lj kq b">show</code>设置为true。示例代码中有几个关闭模态的按钮，它们都有将<code class="du lh li lj kq b">show</code>设置回false的<code class="du lh li lj kq b">onClick={handleClose}</code>。这些行为在模式标签中设置:</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="0793" class="jo jp hi kq b fi ku kv l kw kx">&lt;Modal show={show} onHide={handleClose}&gt;</span></pre><p id="98ae" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这很好，但是它是独立的。按钮是模态代码的一部分。如果我们想从React-Bootstrap的<code class="du lh li lj kq b">Tab</code>组件中打开模态，该怎么办？</p><h2 id="e9d8" class="jo jp hi bd jq jr js jt ju jv jw jx jy iq jz ka kb iu kc kd ke iy kf kg kh ki bi translated">选项卡组件</h2><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es lk"><img src="../Images/fe86d6633d10703fea9b987844c16a8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_41O20SmekLKv-wtSkzX0w.jpeg"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">我们在下面的代码中使用的选项卡类型</figcaption></figure><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="d11e" class="jo jp hi kq b fi ku kv l kw kx">&lt;Tab.Container id="left-tabs-example" defaultActiveKey="first"&gt;<br/>  &lt;Row&gt;<br/>    &lt;Col sm={3}&gt;<br/>      &lt;Nav variant="pills" className="flex-column"&gt;<br/>        &lt;Nav.Item&gt;<br/>          &lt;Nav.Link eventKey="first"&gt;Tab 1&lt;/Nav.Link&gt;<br/>        &lt;/Nav.Item&gt;<br/>        &lt;Nav.Item&gt;<br/>          &lt;Nav.Link eventKey="second"&gt;Tab 2&lt;/Nav.Link&gt;<br/>        &lt;/Nav.Item&gt;<br/>      &lt;/Nav&gt;<br/>    &lt;/Col&gt;<br/>    &lt;Col sm={9}&gt;<br/>      &lt;Tab.Content&gt;<br/>        &lt;Tab.Pane eventKey="first"&gt;<br/>          &lt;Sonnet /&gt;<br/>        &lt;/Tab.Pane&gt;<br/>        &lt;Tab.Pane eventKey="second"&gt;<br/>          &lt;Sonnet /&gt;<br/>        &lt;/Tab.Pane&gt;<br/>      &lt;/Tab.Content&gt;<br/>    &lt;/Col&gt;<br/>  &lt;/Row&gt;<br/>&lt;/Tab.Container&gt;</span></pre><p id="da80" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">就像上面的图片一样，代码设置了导航标签。<code class="du lh li lj kq b">&lt;Nav&gt;</code>部分中的每个<code class="du lh li lj kq b"> &lt;NavItem&gt;</code>对应代码<code class="du lh li lj kq b">&lt;Tab.Content&gt;</code>部分中的一个<code class="du lh li lj kq b">&lt;Tab.Pane&gt;</code>。这里的目标是放置我们的<code class="du lh li lj kq b">&lt;Example&gt;</code>模态，这样我们就可以从标签页打开它。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ll"><img src="../Images/fb57e35c0b07aee9074e25bbbdcb77ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LjUg68JpfcGeak0YbCyPtA.jpeg"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx translated">好了，我们完成了背景介绍，下面是解决方案</figcaption></figure><h2 id="d047" class="jo jp hi bd jq jr js jt ju jv jw jx jy iq jz ka kb iu kc kd ke iy kf kg kh ki bi translated">下面是您需要知道的，以便通过单击选项卡打开模式</h2><p id="5294" class="pw-post-body-paragraph if ig hi ih b ii kj ik il im kk io ip iq kl is it iu km iw ix iy kn ja jb jc hb bi translated">你所要做的就是让模型按照你想要的打开，移动<code class="du lh li lj kq b">show</code>钩子，从模型<code class="du lh li lj kq b">&lt;Example&gt;</code>到<code class="du lh li lj kq b">Tab</code>。一旦<code class="du lh li lj kq b">show</code>和处于<code class="du lh li lj kq b">Tab</code>中，您就可以将它和它的setState钩子作为道具传递给Modal。所以，在<code class="du lh li lj kq b">Tab</code>中:</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="cb6b" class="jo jp hi kq b fi ku kv l kw kx">const [modalShow, setModalShow] = useState(false);</span></pre><p id="bd94" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<code class="du lh li lj kq b">Nav</code>部分:</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="f418" class="jo jp hi kq b fi ku kv l kw kx">&lt;Nav.Link<br/>  className="tab__link"<br/>  eventKey="modal"<br/>  onClick={() =&gt; setModalShow(true)}&gt;<br/>  <br/>  Show the Modal!</span><span id="1843" class="jo jp hi kq b fi lg kv l kw kx">&lt;/Nav.Link&gt;</span></pre><p id="8d9e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并在其对应的<code class="du lh li lj kq b">Tab</code>:</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="78e7" class="jo jp hi kq b fi ku kv l kw kx">&lt;Tab.Pane eventKey="second"&gt;</span><span id="dc67" class="jo jp hi kq b fi lg kv l kw kx">&lt;Example<br/>modalShow={modalShow}<br/>setModalShow={setModalShow}/&gt;</span><span id="5c6c" class="jo jp hi kq b fi lg kv l kw kx">&lt;/Tab.Pane&gt;</span></pre><p id="3013" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意，我们直接使用<code class="du lh li lj kq b">setModalShow</code>并删除了功能<code class="du lh li lj kq b">handleClose</code>和<code class="du lh li lj kq b">handleOpen</code>。</p><p id="00e4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在<code class="du lh li lj kq b">Example</code>模态中，我们需要做一些修改。第一个变化:</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="b878" class="jo jp hi kq b fi ku kv l kw kx">&lt;Modal show={show} onHide={handleClose}&gt;</span></pre><p id="e22d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">收件人:</p><pre class="jd je jf jg fd kp kq kr ks aw kt bi"><span id="f497" class="jo jp hi kq b fi ku kv l kw kx">&lt;Modal show={props.moadalShow}&gt;</span></pre><p id="bb84" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">并将两个<code class="du lh li lj kq b">onClick={handleClose}</code>都换成<code class="du lh li lj kq b">onClick={props.setModalShow(false)}</code>。删除开启按钮的代码，同时删除功能<code class="du lh li lj kq b">handleOpen</code>和<code class="du lh li lj kq b">handleClose</code>，一切就绪。</p><p id="73f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当用户单击标记为<code class="du lh li lj kq b">Show the Modal!</code>的选项卡时，他们将打开模态，当他们单击组件上的x或close按钮时，模态将关闭。很简单。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="lm jj l"/></div></figure><p id="4e73" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">React-Bootstrap是许多免费定制框架中的一个，可以用来满足我们的前端开发需求。这种将数据移动到更高的组件并将其传递给它所控制的组件的策略非常方便，并且和React-Bootstrap框架一样值得熟悉。有一个可怕的一周和快乐的编码！</p></div></div>    
</body>
</html>