<html>
<head>
<title>Type Hinting in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中的类型提示</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/type-hinting-in-python-db042425ba16?source=collection_archive---------17-----------------------#2021-08-04">https://medium.com/nerd-for-tech/type-hinting-in-python-db042425ba16?source=collection_archive---------17-----------------------#2021-08-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/dddfe4c76a686afbd57bec360279f853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MvVWQ2sr7EJviMOFeCEFyQ.jpeg"/></div></div></figure><p id="c2d3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你有没有想过，在 python 中有一个类似的选项会很好？在那里我们能够提供友好的建议，让用户了解什么类型的数据可以作为参数，或者什么应该是函数的返回类型？</p><p id="d11f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在这篇文章中，我们将从视觉上感知我们是如何发明它的。</p><p id="9079" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">类型提示是一种正式的解决方案，用于静态指示 Python 代码中值的类型。在<a class="ae jo" href="https://www.python.org/dev/peps/pep-0484/" rel="noopener ugc nofollow" target="_blank"> PEP 484 </a>中指定，在<a class="ae jo" href="https://docs.python.org/3.5/whatsnew/3.5.html" rel="noopener ugc nofollow" target="_blank"> Python 3.5 </a>中引入。</p><p id="ecfd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">下面是一个将类型信息集成到函数中的例子。您可以注释参数和返回值:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/6d23681e254a479661d8897a43384573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*HJlDhALiN1EnuhOrnbsb-A.png"/></div></figure><p id="ea50" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，我们定义了一个简单的函数，它有两个参数 name 和 num 类型提示为 string 和 integer，后者返回，name 累计 num 次，后者类型提示为 string。在这里，类型提示是输入特定数据类型值的一种建议方式。但是，输入的不是铆接数据类型值。为了清晰的理解，回顾下面的例子。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/9b78c70a15984ba006881a49f842aadd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*qJPiLeG19pA7mYMww4YkEw.png"/></div></figure><p id="601b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这里，我们用变量类型提示定义了与上面相同的函数，结果是一样的。为了按照给定的类型提示评估程序，我们可以使用如下的独特语法。注意，需要安装一个特定的包'<a class="ae jo" href="https://pypi.org/project/mypy-lang/" rel="noopener ugc nofollow" target="_blank"> mypy-lang </a>'来 gizmo 它。</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jv"><img src="../Images/95cf87d500988b55f65081190e403bd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VV5aYkmRqaAQF9aoCWM5IQ.png"/></div></div></figure><p id="cdfe" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">执行文件时，在可执行文件的路径前加上前缀“mypy”。这是在编译代码，该代码评估用静态类型提示给定的值的类型。</p><p id="20de" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">看一下下面的无错误代码:</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jw"><img src="../Images/d03cd3511e001cd4b11933bb773d3261.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gWvZIJ3nJXyaSDVAW5bIOw.png"/></div></div></figure><p id="62d4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在<a class="ae jo" href="https://realpython.com/python-pep8/" rel="noopener ugc nofollow" target="_blank">风格</a>方面，<a class="ae jo" href="https://www.python.org/dev/peps/pep-0008/#other-recommendations" rel="noopener ugc nofollow" target="_blank"> PEP 8 </a>推荐如下:</p><ul class=""><li id="9e8f" class="jx jy hi is b it iu ix iy jb jz jf ka jj kb jn kc kd ke kf bi translated">对冒号使用常规规则，即冒号前没有空格，冒号后有一个空格(<code class="du kg kh ki kj b">text: str</code>)。</li><li id="8a21" class="jx jy hi is b it kk ix kl jb km jf kn jj ko jn kc kd ke kf bi translated">将参数注释与默认值(<code class="du kg kh ki kj b">align: bool = True</code>)组合时，请在<code class="du kg kh ki kj b">=</code>符号周围使用空格。</li><li id="f8dc" class="jx jy hi is b it kk ix kl jb km jf kn jj ko jn kc kd ke kf bi translated">在<code class="du kg kh ki kj b">-&gt;</code>箭头周围使用空格(<code class="du kg kh ki kj b">def headline(...) -&gt; str</code>)。</li></ul><p id="bc98" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">希望你喜欢阅读这篇文章！</p><p id="c331" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果您有任何疑问，请在下面的<strong class="is hj">评论</strong>部分发帖。在<a class="ae jo" href="https://www.linkedin.com/in/harshith-raj-uppula-541196181/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上与我联系。另外，如果你想看看我开发的项目，别忘了查看我的<a class="ae jo" href="https://github.com/harsha954" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。</p><p id="05f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">话虽如此，感谢您阅读我的文章，并<em class="kp">快乐编码！</em></p></div><div class="ab cl kq kr gp ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="hb hc hd he hf"><p id="5c4d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">别忘了<strong class="is hj">关注</strong>和<strong class="is hj">订阅</strong>更多此类文章。</p></div></div>    
</body>
</html>