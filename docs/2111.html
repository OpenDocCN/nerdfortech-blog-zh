<html>
<head>
<title>Rest Parameter and Spread Operator</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">剩余参数和扩散算子</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/rest-parameter-and-spread-operator-67f0ff3e308b?source=collection_archive---------8-----------------------#2021-04-21">https://medium.com/nerd-for-tech/rest-parameter-and-spread-operator-67f0ff3e308b?source=collection_archive---------8-----------------------#2021-04-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="05c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ES6 语法糖“…”中的一个三点</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/3db8be6b46f81b0acdb6e7b7816f6bf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PEnmjGj5gTMySF9QB93oTA.png"/></div></div></figure><p id="2922" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们都知道 JavaScript 的 ES6 更新，它带来了一些很棒的语法糖，作为更好、更容易编写代码的更新，或者帮助我们创建更灵活的功能。其中之一是三点符号“…”，我们可以以两种不同的方式使用它，一种是作为静止参数，另一种是作为扩展运算符。那么它们是什么，当对两个不同的单词使用相同的符号时，它们有什么不同？</p><h1 id="fc5b" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated"><strong class="ak">休息参数</strong></h1><p id="de3c" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">rest 语法收集了许多元素，并将它们转换成单个元素。让我们举一个例子，我们做一个这样的函数(如下所示)</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="17cf" class="kx jq hi kt b fi ky kz l la lb">function add(a, b) {<br/>  return a + b;<br/>}</span><span id="1235" class="kx jq hi kt b fi lc kz l la lb">console.log(add(1, 2, 3, 4, 5)); <!-- -->//returns 3</span></pre><p id="00e5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">上面的函数将返回“3”作为 log 中的输出，这是因为在 JavaScript 中，我们可以传递任意数量的输入或参数，就像我们在“add(1，2，3，4，5)”中传递的一样。在这种情况下，只考虑前两个。为了克服这一点，我们使用了 rest 参数。使用 rest 参数，我们可以收集任意数量的参数或输入，并对它们执行我们想要的任何操作。下面是一个例子</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="0ea8" class="kx jq hi kt b fi ky kz l la lb">function add(...args) {<br/>  let sum = 0;<br/>  for(var i = 0; i&lt; args.length; i++){<br/>     sum=sum+args[i];<br/>  }<br/>  return sum;<br/>}</span><span id="2d8e" class="kx jq hi kt b fi lc kz l la lb">console.log(add(1));        //returns 1<br/>console.log(add(1,2));      //returns 3 <br/>console.log(add(1,2,3));    //returns 6</span></pre><p id="8c32" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:一个函数定义只能有一个“…”rest 参数&amp; rest 参数必须在最后一个参数上。这是因为它将所有剩余/多余的参数收集到一个数组中。</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="425e" class="kx jq hi kt b fi ky kz l la lb">xyz(...arg1, arg2, arg3)       // Wrong Way </span><span id="6099" class="kx jq hi kt b fi lc kz l la lb">xyz(arg1, ...arg2, arg3)       // Wrong Way</span><span id="799d" class="kx jq hi kt b fi lc kz l la lb">xyz(...arg1, ...arg2, arg3)    // Wrong Way</span><span id="8b1c" class="kx jq hi kt b fi lc kz l la lb">xyz(arg1, ...arg2, ...arg3)    //Wrong Way</span><span id="40fc" class="kx jq hi kt b fi lc kz l la lb">xyz(...arg1, ...arg2, ...arg3) //Wrong Way</span></pre><p id="4c69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以上几乎都是声明 rest 参数的错误方式。以下是正确的方法</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="a9b5" class="kx jq hi kt b fi ky kz l la lb">xyz(...arg1)<!-- -->              // Right Way</span><span id="4748" class="kx jq hi kt b fi lc kz l la lb">xyz(arg1, ...arg2)        // Right Way</span><span id="7c2d" class="kx jq hi kt b fi lc kz l la lb">xyz(arg1, arg2, ...arg3)  // Right Way</span></pre><h1 id="1275" class="jp jq hi bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km bi translated">传播算子</h1><p id="9495" class="pw-post-body-paragraph if ig hi ih b ii kn ik il im ko io ip iq kp is it iu kq iw ix iy kr ja jb jc hb bi translated">Spread 语法将数组“扩展”成它的元素，而 rest 语法收集多个元素并将它们“压缩”成一个元素。</p><blockquote class="ld le lf"><p id="8d47" class="if ig lg ih b ii ij ik il im in io ip lh ir is it li iv iw ix lj iz ja jb jc hb bi translated">根据<a class="ae lk" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noopener ugc nofollow" target="_blank">MDN Web Docs</a>Spread 运算符的定义有点像这样:<br/> Spread 语法(…)允许在预期零个或多个参数(对于函数调用)或元素(对于数组文字)的地方扩展可迭代对象，或者在预期零个或多个键值对(对于对象文字)的地方扩展对象表达式。</p></blockquote><p id="13b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">让我们看一些场景，如何以及在哪里使用 spread 运算符:</p><p id="a5d1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">向现有数组添加数组元素</strong></p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="4f15" class="kx jq hi kt b fi ky kz l la lb">var arr = ["A", "B", "C"];<br/>var newArr = ["D", ...arr];</span><span id="60cd" class="kx jq hi kt b fi lc kz l la lb">console.log(newArr); //output will be ["D", "A", "B", "C"]</span></pre><p id="0b79" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">newArr 的值将<code class="du ll lm ln kt b">["D", "A", "B", "C"]</code>。与 rest 参数不同，我们可以使用 spread 操作符作为第一个参数。</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="0562" class="kx jq hi kt b fi ky kz l la lb">var newArr = [...arr, "D"];</span><span id="bec4" class="kx jq hi kt b fi lc kz l la lb">console.log(newArr); //output will be ["A", "B", "C", "D"]</span></pre><p id="f18e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因此，如果我们最后想要添加元素，你可以看到，我们可以在 spread 运算符中完成。上述情况下的输出将是<code class="du ll lm ln kt b">["A", "B", "C", "D"]</code>。</p><p id="7996" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">复制数组</strong></p><p id="eb11" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以使用 spread 操作符来复制数组。</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="e160" class="kx jq hi kt b fi ky kz l la lb">var arr1 = [1, 2, 3, 4, 5];<br/>var arr2 = [...arr];</span></pre><p id="df49" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">通过这样做，<code class="du ll lm ln kt b">arr1</code>可以很容易地复制到<code class="du ll lm ln kt b">arr2</code>。</p><p id="60ff" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">将数组元素作为单独的参数传递给函数</strong></p><p id="ae74" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果我们有一个数组，我们必须把整个数组传递给函数，我们可以这样做</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="195c" class="kx jq hi kt b fi ky kz l la lb">function sum(x, y, z) {<br/>  return x + y + z;<br/>}</span><span id="bf0f" class="kx jq hi kt b fi lc kz l la lb">const numbers = [1, 2, 3];</span><span id="0834" class="kx jq hi kt b fi lc kz l la lb">console.log(sum(...numbers));  // expected output: 6</span></pre><p id="c7d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里的<code class="du ll lm ln kt b">sum</code>函数调用类似于<code class="du ll lm ln kt b">sum(1, 2, 3)</code>。<strong class="ih hj">注意:</strong> Iterable 也在 spread 运算符中起作用。所以如果我们有一个如下所示的字符串</p><pre class="je jf jg jh fd ks kt ku kv aw kw bi"><span id="d260" class="kx jq hi kt b fi ky kz l la lb">const str = "Hello!";</span><span id="d7aa" class="kx jq hi kt b fi lc kz l la lb">console.log([...str]); </span><span id="168b" class="kx jq hi kt b fi lc kz l la lb">//expected output ["H", "e", "l", "l", "o", "!"]</span></pre><p id="13b0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们可以看到这种情况下的输出。</p><p id="d72a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我想这篇文章可能会让这个概念更清晰一些。想要更简单的解释，你可以看看斯蒂芬妮的<a class="ae lk" href="https://twitter.com/stephaniecodes/status/1029453269242990594" rel="noopener ugc nofollow" target="_blank">这幅</a>插图。她做了很好的解释，如果你喜欢她的作品，请关注她的作品。</p><p id="fecb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果你喜欢这篇文章，请在 Twitter 或 LinkedIn 上关注我。</p></div></div>    
</body>
</html>