<html>
<head>
<title>Xtages ❤️ Twelve-Factor Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">x tags❤️十二因素应用程序</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/xtages-%EF%B8%8F-twelve-factor-apps-7cab771da2a6?source=collection_archive---------10-----------------------#2021-06-02">https://medium.com/nerd-for-tech/xtages-%EF%B8%8F-twelve-factor-apps-7cab771da2a6?source=collection_archive---------10-----------------------#2021-06-02</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="e224" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://12factor.net/" rel="noopener ugc nofollow" target="_blank">十二要素应用</a>是构建 SaaS 应用的流行方法，它:</p><ul class=""><li id="7973" class="je jf hi ih b ii ij im in iq jg iu jh iy ji jc jj jk jl jm bi translated"><em class="jn">为设置自动化使用声明式格式，以最小化新开发人员加入项目的时间和成本；</em></li><li id="2d91" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated">与底层操作系统有一个清晰的契约，在执行环境之间提供最大的可移植性；</li><li id="46be" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><em class="jn">适合在现代云平台上部署，无需服务器和系统管理；</em></li><li id="e35a" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><em class="jn">最大限度地减少开发和生产之间的差异，支持持续部署以实现最大的敏捷性；</em></li><li id="fd19" class="je jf hi ih b ii jo im jp iq jq iu jr iy js jc jj jk jl jm bi translated"><em class="jn">并且可以在不对工具、架构或开发实践进行重大更改的情况下进行扩展。</em></li></ul><p id="9ba0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据马蒂亚斯和我的经验，这种方法可以产生质量更好的应用程序，可以根据组织的需求增长，并且更容易管理和调试。事实上，在构建 Xtages 时，我们遵循了这些建议，因为我们知道它们对于创建一个可靠的 SaaS 应用程序有多重要。</p><p id="669d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对我们来说，Xtages 不仅仅是提供构建应用的服务，我们还热衷于提供易于遵循的最佳实践，并将其融入到使用我们的服务构建的应用中。</p><p id="8351" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将探讨 Xtages 如何帮助您在构建产品时遵循这十二个因素。</p><blockquote class="jt ju jv"><p id="f450" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">一.代码库</p><p id="2e27" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">在版本控制中跟踪一个代码库，多个部署</em></p></blockquote><p id="a7e6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您创建一个新的 Xtages 项目时，它会自动在您的组织下创建一个 GitHub 存储库。它还将创建持续集成和持续部署管道。我们在每个到主分支的合并上运行 CI 管道，以确保最新的头是健康的。我们还支持部署到试运行环境和提升到生产环境。</p><blockquote class="jt ju jv"><p id="af13" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">二。属国</p><p id="7c82" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">显式声明并隔离依赖关系</em></p></blockquote><p id="e80c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Xtages 目前支持 Node.js 项目，默认情况下，我们向存储库添加一个<code class="du jz ka kb kc b">package-lock.json</code>,以便显式声明依赖关系并锁定它们的版本。</p><blockquote class="jt ju jv"><p id="2ac8" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">三。配置</p><p id="0612" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">在环境中存储配置</em></p></blockquote><p id="f777" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当在 Xtages Cloud 中部署一个应用程序到 staging 或 production 时，我们将数据库连接配置作为环境变量传递；我们建议用户利用<code class="du jz ka kb kc b"><a class="ae jd" href="https://www.npmjs.com/package/dotenv" rel="noopener ugc nofollow" target="_blank">dotenv</a></code> <a class="ae jd" href="https://www.npmjs.com/package/dotenv" rel="noopener ugc nofollow" target="_blank">包</a>来管理他们的本地开发环境变量。</p><blockquote class="jt ju jv"><p id="6782" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">四。后勤服务</p><p id="f2af" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">将后台服务视为附属资源</em></p></blockquote><p id="5aca" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">部署在 Xtages Cloud 中的每个应用程序都可以使用作为环境变量传入的连接配置，通过标准驱动程序访问数据库。我们建议为本地开发建立一个本地数据库。</p><blockquote class="jt ju jv"><p id="31f5" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">动词 （verb 的缩写）构建、发布、运行</p><p id="708f" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">严格分离构建和运行阶段</em></p></blockquote><p id="dbc2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Xtages 项目自带的 CI 和 CD 管道通过利用 Docker 提供了这种分离。这些管道是完全隔离的，在部署映像之前不会影响暂存或生产环境。</p><blockquote class="jt ju jv"><p id="14ef" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">不及物动词处理</p><p id="69dd" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">将应用作为一个或多个无状态进程执行</em></p></blockquote><p id="1171" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">根据定义，部署在 Xtages 云中的应用程序是无状态的，我们不能保证它们部署在哪里。我们建议使用数据库来满足所有的持久性需求。</p><blockquote class="jt ju jv"><p id="581f" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">七。端口绑定</p><p id="970c" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">通过端口绑定导出服务</em></p></blockquote><p id="d729" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们不支持需要在托管 web 服务器或应用服务器内运行的应用。每个应用程序必须通过使用适当的嵌入式服务器来公开其 API (HTTP 或其他协议);每个应用程序必须是独立的。</p><blockquote class="jt ju jv"><p id="794a" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">八。并发</p><p id="de15" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">通过流程模型向外扩展</em></p></blockquote><p id="2ccc" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不适用的</p><blockquote class="jt ju jv"><p id="3440" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">九。一次性</p><p id="7e85" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">通过快速启动和平稳关闭最大限度地提高鲁棒性</em></p></blockquote><p id="4fba" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当一个应用程序部署到 Xtages Cloud 时，我们的负载平衡器会进行一系列健康检查，如果 30 秒后没有响应，就会宣布应用程序不健康；因此，我们建议应用程序尽快启动。</p><blockquote class="jt ju jv"><p id="b299" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">X.开发/生产平价</p><p id="0459" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">保持开发、试运行和生产尽可能相似</em></p></blockquote><p id="ab59" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在 Xtages 中，我们为每个 app 提供两个环境，一个用于 staging，一个用于 production 虽然彼此隔离，但它们是相同的。我们强制要求，在升级到生产环境之前，必须将构建部署到试运行环境，这样就可以在不打扰您的生产用户的情况下对其进行现场测试。</p><blockquote class="jt ju jv"><p id="dbed" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">XI。日志</p><p id="3b65" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">将日志视为事件流</em></p></blockquote><p id="aca6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为了正确地收集日志，我们建议所有部署到 Xtages Cloud 的应用程序将它们的日志输出到<code class="du jz ka kb kc b">stdout</code>；然后我们将在 Xtages 控制台中展示它们。</p><blockquote class="jt ju jv"><p id="17e6" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated">十二。管理流程</p><p id="e355" class="if ig jn ih b ii ij ik il im in io ip jw ir is it jx iv iw ix jy iz ja jb jc hb bi translated"><em class="hi">将行政/管理任务作为一次性流程运行</em></p></blockquote><p id="7a83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">不适用的</p><p id="dcb3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如你在 Xtages 看到的，我们不仅关心提供一个优秀的软件开发生命周期，而且我们希望帮助各种规模的组织，以及各种经验水平的开发人员，在最短的时间内为他们的客户提供最好的服务。如果你想了解更多关于 Xtages 的信息，请查看我们的<a class="ae jd" href="https://xtages.com" rel="noopener ugc nofollow" target="_blank">页面</a>和<a class="ae jd" href="https://www.xtages.com/pricing.html#join-titlehttps://www.xtages.com/pricing.html#join-title" rel="noopener ugc nofollow" target="_blank">注册我们的邮件列表</a>以接收更新。</p></div><div class="ab cl kd ke gp kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hb hc hd he hf"><p id="29d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="jn">原载于 2021 年 6 月 2 日</em><a class="ae jd" href="https://www.xtages.com/blog/posts/xtages-and-12-factor-apps/" rel="noopener ugc nofollow" target="_blank"><em class="jn">【https://www.xtages.com】</em></a><em class="jn">。</em></p></div></div>    
</body>
</html>