<html>
<head>
<title>Smart Buoy — GPS, Radio (NRF24) and a SD Card Module 📍📡💾</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">智能浮标— GPS、无线电(NRF24)和SD卡模块📍📡💾</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/smart-buoy-gps-radio-nrf24-and-a-sd-card-module-6029af3a69d?source=collection_archive---------9-----------------------#2021-03-13">https://medium.com/nerd-for-tech/smart-buoy-gps-radio-nrf24-and-a-sd-card-module-6029af3a69d?source=collection_archive---------9-----------------------#2021-03-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="55ef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这个智能浮标系列展示了我们(雄心勃勃的)构建科学浮标的尝试，该浮标可以使用现成的产品对海洋进行有意义的测量。这是四个教程中的第二个——确保你是最新的，如果你需要项目的快速介绍，<a class="ae jd" href="https://t3chflicks.medium.com/smart-buoy-summary-602f9db544bb" rel="noopener">查看我们的摘要</a>。<br/> <a class="ae jd" href="https://t3chflicks.medium.com/smart-buoy-making-wave-and-temperature-measurements-%EF%B8%8F-cdda14c52196" rel="noopener"> <strong class="ih hj">第一部分</strong>:造波和温度测量</a></p><p id="ba22" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本教程中，我们将向您展示如何获取GPS数据，将其存储在SD卡上，并使用无线电将其发送到某个地方。</p><p id="ff88" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们这样做是为了跟踪海上浮标的位置。无线电意味着我们可以远程观看它，SD卡意味着万一有什么东西坏了，它出去游荡，我们可以下载它在计划外旅行期间收集的数据——如果我们能够找回它的话！</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/c5b0e97834d359387b084481bf6d03a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lVmQuBGZrS3RJkz1h3Ym0w.png"/></div></div></figure><h1 id="afbc" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">供应</h1><ul class=""><li id="2e9b" class="ko kp hi ih b ii kq im kr iq ks iu kt iy ku jc kv kw kx ky bi translated">GPS模块— <a class="ae jd" href="https://amzn.to/2jHgwJ2" rel="noopener ugc nofollow" target="_blank">亚马逊</a></li><li id="b2db" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">SD卡模块— <a class="ae jd" href="https://amzn.to/2SPbZBK" rel="noopener ugc nofollow" target="_blank">亚马逊</a></li><li id="cdae" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">SD卡— <a class="ae jd" href="https://amzn.to/2SRhyiX" rel="noopener ugc nofollow" target="_blank">亚马逊</a></li><li id="dba3" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">2个无线电模块(NRF24L01+) — <a class="ae jd" href="https://amzn.to/2l6Fq5t" rel="noopener ugc nofollow" target="_blank">亚马逊</a></li><li id="dc6b" class="ko kp hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">2个Arduino — <a class="ae jd" href="https://amzn.to/2jJN7xR" rel="noopener ugc nofollow" target="_blank">亚马逊</a></li></ul><blockquote class="le"><p id="d21a" class="lf lg hi bd lh li lj lk ll lm ln jc dx translated"><a class="ae jd" href="https://github.com/sk-t3ch/smart-buoy" rel="noopener ugc nofollow" target="_blank">🔗在Github上获取智能浮标代码📔</a></p></blockquote><h1 id="e17b" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb lo kd ke kf lp kh ki kj lq kl km kn bi translated">辅导的🤖</h1><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="lr ls l"/></div></figure><h2 id="6cdf" class="lt jr hi bd js lu lv lw jw lx ly lz ka iq ma mb ke iu mc md ki iy me mf km mg bi translated">获取GPS数据</h2><p id="3b08" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq mh is it iu mi iw ix iy mj ja jb jc hb bi translated">智能浮标在海中进行传感器测量，包括GPS位置和日期时间。看看下面的原理图，它显示了我们如何设置电路。GPS模块通过串行连接进行通信，因此我们使用Arduino软件串行库以及微型GPS库与其进行通信。这些库(我们都会很高兴听到)让一切变得超级简单。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mk"><img src="../Images/a9e9f8521c8be19401fdd6f55db9b258.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F0iNCrBtMQhUEmjLVnRZ0g.png"/></div></div></figure><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ml ls l"/></div></figure><h2 id="91ba" class="lt jr hi bd js lu lv lw jw lx ly lz ka iq ma mb ke iu mc md ki iy me mf km mg bi translated">通过无线电发送GPS数据</h2><p id="8a96" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq mh is it iu mi iw ix iy mj ja jb jc hb bi translated">如果浮标在海上进行测量，可能会有这样的情况，我们希望在不弄湿我们的脚或把它带到岸上的情况下访问它的数据。为了进行远程测量，我们在通信双方使用了一个连接到Arduino的无线电模块。将来，我们希望用一个raspberry pi来取代接收端的Arduino。无线电与这两种接口的工作方式相似，因此交换它们非常简单。</p><p id="8586" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">无线电模块使用SPI进行通信，这比I2C需要更多的连接，但由于NRF24库，仍然非常容易使用。使用GPS模块进行传感器测量，我们将其数据从一个Arduino传输到另一个Arduino。我们将GPS和无线电模块连接到Arduino，另一端是带无线电模块的Arduino——请看原理图。</p><h1 id="1635" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">发射器</strong></h1><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mm"><img src="../Images/cc59b92d914e965c2ccf85062f4739a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ExFO_woGroFXUq-WfdbCew.png"/></div></div></figure><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ml ls l"/></div></figure><h1 id="c3b5" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated"><strong class="ak">接收器</strong></h1><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mm"><img src="../Images/f168ed72a934e8b5b81fad7d58566aac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IaexTSfijtXLLRneZoCURA.png"/></div></div></figure><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ml ls l"/></div></figure><h2 id="62ac" class="lt jr hi bd js lu lv lw jw lx ly lz ka iq ma mb ke iu mc md ki iy me mf km mg bi translated">使用SD卡模块存储数据</h2><p id="0bd8" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq mh is it iu mi iw ix iy mj ja jb jc hb bi translated">虽然无线电模块相当可靠，但我们认为最好有一个内置的应急措施，以防接收器端断电或模块移出范围。我们的应急计划是一个SD卡模块，允许我们存储收集的数据。收集的数据量不是很大，所以即使是一个小的SD卡也可以轻松存储一天的数据。</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mn"><img src="../Images/f54d95cb7d215e799b818488eac0662c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N-SxVras9BqQ8A-fUyXwMA.png"/></div></div></figure><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ml ls l"/></div></figure><p id="2a81" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">可悲的是，我们的SD卡有很大的问题。它就是行不通，给我们带来了很多痛苦，最后，我们放弃了它。这意味着我们没有应急计划…啊，最好的计划…</p><h2 id="6396" class="lt jr hi bd js lu lv lw jw lx ly lz ka iq ma mb ke iu mc md ki iy me mf km mg bi translated">发送和存储GPS数据</h2><p id="6c62" class="pw-post-body-paragraph if ig hi ih b ii kq ik il im kr io ip iq mh is it iu mi iw ix iy mj ja jb jc hb bi translated">为了发送和存储数据，我们有多个<a class="ae jd" href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface" rel="noopener ugc nofollow" target="_blank"> SPI </a>设备试图与Arduino通信。SPI协议允许多个器件共享相同的MISO、MOSI和SCK连接，并利用每个器件的ChipSelect (CS)连接选择特定器件。在大多数Arduino库中，这通常对用户是隐藏的。</p><p id="9e14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以下代码和电路允许您进行GPS测量，并将其保存到SD卡，同时通过无线电模块发送到另一个Arudino。</p><p id="b871" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">发射器</strong></p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mo"><img src="../Images/601942d4e61cb0ad28ad877922c099a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y1-Plw0T_0LH1B70Ea37mg.png"/></div></div></figure><figure class="jf jg jh ji fd jj"><div class="bz dy l di"><div class="ml ls l"/></div></figure><h1 id="8b52" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">感谢阅读</h1><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es mp"><img src="../Images/1c2dccf0363fd8309159e99b4c490ff5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQb4cRb49fzHi6Qq2CRobA.png"/></div></div></figure><p id="89bb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">感谢阅读本教程，这是我们的智能浮标建设的第二步。查看我们的下一个教程，看看我们如何使用太阳能电池板、18650电池和RTC模块定时电路为系统安排电源。</p><p id="2e6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://t3chflicks.medium.com/smart-buoy-making-wave-and-temperature-measurements-%EF%B8%8F-cdda14c52196" rel="noopener"> <strong class="ih hj">第一部分</strong>:进行波浪和温度测量</a> <br/> <a class="ae jd" href="https://t3chflicks.medium.com/smart-buoy-gps-radio-nrf24-and-a-sd-card-module-6029af3a69d" rel="noopener"> <strong class="ih hj">第二部分</strong> : GPS、无线电(NRF24)和SD卡模块</a> <br/> <a class="ae jd" href="https://t3chflicks.medium.com/smart-buoy-scheduling-power-to-the-system-81a2675fdac0" rel="noopener"> <strong class="ih hj">第三部分</strong>:调度浮标电源</a> <br/> <a class="ae jd" href="https://t3chflicks.medium.com/smart-buoy-waterproofing-dashboards-and-deploy-15c730bf9a3a" rel="noopener"> <strong class="ih hj">第四部分</strong>:防水、仪表盘和展开！</a></p><p id="c8cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">我们希望你喜欢这篇文章。如果你喜欢这种风格，可以去看看<a class="ae jd" href="https://t3chflicks.org/" rel="noopener ugc nofollow" target="_blank">T3chFlicks.org</a>了解更多以科技为重点的教育内容，以及我们在<a class="ae jd" href="https://www.youtube.com/channel/UC0eSD-tdiJMI5GQTkMmZ-6w" rel="noopener ugc nofollow" target="_blank">YouTube</a>(<a class="ae jd" href="https://www.instagram.com/t3chflicks/" rel="noopener ugc nofollow" target="_blank">insta gram</a>、<a class="ae jd" href="https://www.facebook.com/t3chflicks" rel="noopener ugc nofollow" target="_blank">脸书</a>、<a class="ae jd" href="https://twitter.com/t3chflicks" rel="noopener ugc nofollow" target="_blank"> Twitter </a>)上做的所有有趣的事情。</p></div></div>    
</body>
</html>