<html>
<head>
<title>Tip of the Day: Integrating Static Google Maps into Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每日要闻:将静态谷歌地图集成到 Unity 中</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/tip-of-the-day-integrating-static-google-maps-into-unity-5505957b14f?source=collection_archive---------11-----------------------#2021-07-27">https://medium.com/nerd-for-tech/tip-of-the-day-integrating-static-google-maps-into-unity-5505957b14f?source=collection_archive---------11-----------------------#2021-07-27</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="22f8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如今，许多应用程序和一些游戏都实现了一个静态地图，可以直接从谷歌地图下载地理位置信息。该信息然后显示在一个单一的图像上，因此单词“静态谷歌地图”。在本文中，我们将看到如何让静态谷歌地图应用编程接口工作，并在您的统一项目中实现它。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/8d93da8d14dde31110060929d5b0237e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dg3DF8wNgkx29ZXp1LDY3Q.jpeg"/></div></div></figure><p id="90ee" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">作为一个快速概述，这种方式是通过 unity 发送一个 URL 请求，这是一个 HTTP 请求，将返回我们所在或想要的地图位置的图像。</p><blockquote class="jp jq jr"><p id="e7ae" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">谷歌地图应用编程接口密钥</p></blockquote><p id="4bed" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，您需要获取一个称为谷歌地图应用编程接口密钥的认证密钥。为此，请遵循以下链接<a class="ae jw" href="https://developers.google.com/maps/gmp-get-started" rel="noopener ugc nofollow" target="_blank">中的说明开始使用谷歌地图平台|谷歌开发者</a>。在那里，您将需要创建一个项目，并生成一个“静态谷歌地图应用编程接口密钥”。你需要确保这是一个静态的谷歌地图项目。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/59b6f04052124ad8e25ec768e792b768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EbdcjZDA8aePD7F0OdMaig.jpeg"/></div></div><figcaption class="jy jz et er es ka kb bd b be z dx translated">静态映射应用编程接口密钥</figcaption></figure><p id="db31" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在复制您的 API 并暂时保存在您的机器上。</p><blockquote class="jp jq jr"><p id="a853" class="if ig js ih b ii ij ik il im in io ip jt ir is it ju iv iw ix jv iz ja jb jc hb bi translated">统一设置</p></blockquote><p id="001e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">以我们的示例(<a class="ae jw" href="https://aws.plainenglish.io/mobile-apps-development-in-unity-progression-report-2-1be62611dcaa" rel="noopener ugc nofollow" target="_blank">Unity Progression Report 中的移动应用开发</a>)为例，我们希望允许用户拍摄其位置的快照，以便将其保存在案例数据概览中。</p><p id="725b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们用来抓取地图的 C#脚本中，创建一个变量来存储您可以在检查器中指定的 API。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es kc"><img src="../Images/ad65964c7a454c696990e338097dbdb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*Pw2a49G5kWb7obXKykgQ-A.jpeg"/></div><figcaption class="jy jz et er es ka kb bd b be z dx translated">存储应用编程接口密钥</figcaption></figure><h2 id="d9ab" class="kd ke hi bd kf kg kh ki kj kk kl km kn iq ko kp kq iu kr ks kt iy ku kv kw kx bi translated">有待采取的步骤</h2><p id="e593" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">A.使用 url 请求下载静态地图</p><p id="6937" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">B.将下载的地图应用于项目中的 rawImage UI 元素。(普通图像元素不起作用，原始图像 UI 元素必须用于接受下载的地图纹理)</p><h2 id="330b" class="kd ke hi bd kf kg kh ki kj kk kl km kn iq ko kp kq iu kr ks kt iy ku kv kw kx bi translated">下载地图</h2><p id="0c7a" class="pw-post-body-paragraph if ig hi ih b ii ky ik il im kz io ip iq la is it iu lb iw ix iy lc ja jb jc hb bi translated">如果我们按照使用静态谷歌地图的概述(<a class="ae jw" href="https://developers.google.com/maps/documentation/maps-static/overview" rel="noopener ugc nofollow" target="_blank">概述|地图静态 API </a>)进行操作，您会发现您发送网络请求时将使用的 URL。</p><pre class="je jf jg jh fd ld le lf lg aw lh bi"><span id="058d" class="kd ke hi le b fi li lj l lk ll">URL: https://maps.googleapis.com/maps/api/staticmap?</span></pre><p id="0285" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该网址将采用参数来下载地图。这些参数是位置参数纬度和经度、地图缩放级别和图像大小。我们将使用这 4 个参数，将它们作为字符串附加到上面的链接中。下面是一个例子:</p><pre class="je jf jg jh fd ld le lf lg aw lh bi"><span id="3f7d" class="kd ke hi le b fi li lj l lk ll">https://maps.googleapis.com/maps/api/staticmap?center=Brooklyn+Bridge,New+York,NY&amp;zoom=13&amp;size=600x300<br/>&amp;key=YOUR_API_KEY</span></pre><ol class=""><li id="55f6" class="lm ln hi ih b ii ij im in iq lo iu lp iy lq jc lr ls lt lu bi translated">让我们为参数和 URL 创建变量，以便于构建它。创建一个 xCord(代表纬度)、yCord(代表经度)、zoom、imageSize 和一个静态字符串作为 URL 的基础。在检查器中将缩放设置为 14，将图像大小设置为 400。</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lv"><img src="../Images/bc854ac9f9d2eaaeea31e85fcfb155eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*wybRkudteNPeXzTkh3_4mA.jpeg"/></div><figcaption class="jy jz et er es ka kb bd b be z dx translated">因素</figcaption></figure><p id="b5da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2.在我们将参数添加到 URL 之前，我们需要获取实时地理坐标，并将它们分配给 xCord 和 yCord。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/3e722ac0f010e85a13b056774b50efa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c1eNJl352mCJ37PQalMRIw.png"/></div></div><figcaption class="jy jz et er es ka kb bd b be z dx translated">分配 xCord 和 iCard</figcaption></figure><p id="ed35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">3.现在我们已经获得了坐标，我们可以很容易地用我们将用来下载地图图像的参数构造 URL。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/d15bd4619c68cba3061aba7ae07d7243.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zKQO5_WyYFbXpCZZkZ_27g.png"/></div></div><figcaption class="jy jz et er es ka kb bd b be z dx translated">向 URL 添加坐标、缩放级别、图像大小和 API 键</figcaption></figure><p id="f081" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">4.使用这个 URL，我们将使用一个 Unity Web 请求，它使用该 URL 请求下载该 URL 存储的数据。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lw"><img src="../Images/0a03646a20d52bd099bc57546670eb4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tkE7WQTR18xKOvlVxfxuQw.png"/></div></div><figcaption class="jy jz et er es ka kb bd b be z dx translated">下载地图纹理</figcaption></figure><p id="5b57" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">完成所有这些步骤后，一旦用户到达地图页面，地图将自动下载到原始图像上。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lx"><img src="../Images/13122dc5f63672a48f0001469205b457.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*ss8ON5SyX2iuFiumVJgKvQ.gif"/></div><figcaption class="jy jz et er es ka kb bd b be z dx translated">静态地图</figcaption></figure><p id="3a0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这里是您实验的全部代码的链接:<a class="ae jw" href="https://pastebin.com/SaR2pC8R" rel="noopener ugc nofollow" target="_blank">静态谷歌地图—Pastebin.com</a></p></div></div>    
</body>
</html>