<html>
<head>
<title>Hosting Static Website using AWS S3 and GoDaddy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 AWS S3 和 GoDaddy 托管静态网站</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/hosting-static-website-using-aws-s3-and-godaddy-f8a88bdbd155?source=collection_archive---------1-----------------------#2022-11-13">https://medium.com/nerd-for-tech/hosting-static-website-using-aws-s3-and-godaddy-f8a88bdbd155?source=collection_archive---------1-----------------------#2022-11-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="9cce" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在本文中，您将学习使用 GoDaddy 域在 AWS S3 上托管一个静态网站。此外，本文将介绍如何在网站上支持 HTTPS，以及如何从网站路径中删除文件扩展名。</p><p id="9634" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj"> <em class="jd">注:</em> </strong> <em class="jd">虽然在 S3 上托管静态网站的所有资源都可以在互联网上找到，但本文旨在将所有资源整合在一起，并在一个地方提供常见问题的解决方案。</em></p><h1 id="d55f" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">托管静态网站</h1><p id="d552" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated"><em class="jd"> &lt;参考:</em><a class="ae kh" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/EnableWebsiteHosting.html" rel="noopener ugc nofollow" target="_blank"><em class="jd">https://docs . AWS . Amazon . com/Amazon S3/latest/user guide/enable website hosting . html</em></a><em class="jd">&gt;</em></p><ul class=""><li id="3b62" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated">登录 AWS 控制台<a class="ae kh" href="https://console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank">https://console.aws.amazon.com/</a>。如果您没有 AWS 帐户，请使用相同的链接注册。</li><li id="bcb5" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在搜索栏中搜索<em class="jd">“S3”</em>，打开 S3 控制台。</li><li id="f5d8" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">单击位于右上角的“创建存储桶”按钮。</li><li id="85e3" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“常规配置”下</li><li id="74fb" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">输入“Bucket Name”，最好是域名。例如，如果您想要创建<a class="ae kh" href="http://www.example.com" rel="noopener ugc nofollow" target="_blank">www.example.com</a>，那么就将这个桶命名为“example”</li><li id="1235" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">选择“AWS 区域”，这是最接近您的网站的用户的位置。</li><li id="dab1" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“阻止此桶的公共访问设置”下，取消选中“阻止所有公共访问”复选框，以允许用户访问桶文件。</li><li id="ab33" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">将其他所有内容保留为默认值，并单击页面底部的“创建存储桶”。</li><li id="db2e" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">使用 AWS CLI 或新创建的 bucket 的“Objects”选项卡下的“Upload”选项上传静态网站的文件。</li><li id="b854" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在新创建的存储桶的“属性”选项卡下，滚动到底部，在“静态网站托管”部分下，使用“编辑”按钮启用静态网站托管。在“索引”文本字段下提供所有必需的信息，包括访问您的网站时要打开的默认文件。</li><li id="65a1" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“属性”标签下，你会在页面底部的“静态网站托管”部分找到访问你的网站的 URL。它将类似于<em class="jd">" http://&lt;bucket-name&gt;. S3-website。&lt;AWS-region-of-the-bucket&gt;. Amazon AWS . com/"</em></li></ul><h1 id="104b" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">启用自定义域和 HTTPS</h1><p id="a58d" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">为什么是 HTTPS？有了 HTTPS，数据在双向传输中都是加密的:去往和来自源服务器。该协议保持通信安全，因此恶意方无法观察到正在发送的数据。此外，您的网站用户将看到一个不安全的 HTTPS 连接警告。</p><figure class="kx ky kz la fd lb er es paragraph-image"><div class="er es kw"><img src="../Images/25735a349998ab4935318021ef6f8b84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/0*DEBKyz9N60TbVhgu"/></div><figcaption class="le lf et er es lg lh bd b be z dx translated">浏览器上的不安全消息</figcaption></figure><p id="c4d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">HTTPS 连接通过 SSL(安全套接字层)证书启用。SSL 证书是鉴定网站身份并启用加密连接的数字证书。</p><p id="3e69" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">在 AWS 中创建 SSL 证书</strong></p><ul class=""><li id="4889" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated">通过在搜索栏中搜索“证书”打开 AWS 证书管理器(ACM)控制台。</li><li id="e5c0" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">单击“请求”按钮，并确保在单击“下一步”按钮之前选择“请求公共证书”单选按钮。</li><li id="7be2" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“域名”下，为“完全限定的域名”字段输入两个值</li><li id="5811" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">www。<your-domain-name>。com</your-domain-name></li><li id="c081" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated"><your-domain-name>。com</your-domain-name></li><li id="6a0e" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“验证方法”部分，选择“DNS 验证”，除非您可以访问电子邮件来使用电子邮件执行验证。</li><li id="f190" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">打开新创建的证书，复制两个域名的“CName name”和“CName value”值。</li><li id="e3d5" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">现在，请访问您的域名提供商网站并登录您的帐户。本文分享了通过<a class="ae kh" href="https://www.godaddy.com/en-in" rel="noopener ugc nofollow" target="_blank"> GoDaddy </a>注册域名的步骤。</li><li id="694c" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">打开您想要使用的域的设置。<a class="ae kh" href="https://dcc.godaddy.com/control/" rel="noopener ugc nofollow" target="_blank"><em class="jd"/></a><em class="jd">&lt;域名&gt;/设置</em></li><li id="c4f6" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“附加设置”部分，打开“管理 DNS”链接。</li><li id="1e06" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“DNS 记录”部分，单击“添加”按钮并输入以下内容。对于 ACM 提供的两个值，重复此步骤两次。</li><li id="be23" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">“类型”-&gt;“CNAME”</li><li id="73f6" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">“名称”-&gt;“CName 名称”复制自 ACM 认证屏幕。</li><li id="39f2" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">“值”-&gt;“CName 值”复制自 ACM 认证屏幕。</li><li id="b709" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">“TTL”-&gt;“默认”</li><li id="31fd" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">经过验证的状态通常需要 5-10 分钟才能反映在 ACM 证书上。这是休息的绝佳时机:)</li></ul><p id="705c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><strong class="ih hj">创建 CloudFront 发行版</strong></p><ul class=""><li id="8856" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc kn ko kp kq bi translated">通过在 AWS 控制台的搜索栏中搜索“CloudFront”来打开 CloudFront 控制台。</li><li id="527c" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">点击“创建分销”按钮。<em class="jd">(注意:确保证书是在 us-east-1 区域创建的，而不考虑您的存储桶区域)</em></li><li id="9719" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“原域名”下输入 S3 提供的网址<em class="jd">注意:不要选择自动完成提供的 S3 链接。</em></li><li id="46a4" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“默认缓存行为”部分选择“将 HTTP 重定向到 HTTPS”作为“查看器协议策略”。</li><li id="81e6" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“设置”部分，在“自定义 SSL 证书-可选”字段中选择创建的 SSL 证书。</li><li id="1910" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">在“设置”部分，为“备用域名(CNAME) —可选”字段输入两个值</li><li id="20d3" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">www。<your-domain-name>。com</your-domain-name></li><li id="98b5" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated"><your-domain-name>。com</your-domain-name></li><li id="0a38" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated">保留默认值，点击页面底部的“创建发行版”。</li></ul><p id="da08" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">您的自定义域名 URL 激活需要 5-10 分钟:)</p><h1 id="fecd" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">从网站的 URL 中移除文件扩展名</h1><p id="4467" class="pw-post-body-paragraph if ig hi ih b ii kc ik il im kd io ip iq ke is it iu kf iw ix iy kg ja jb jc hb bi translated">现在，您的网站是活的，并受到 HTTPS 的保护，重要的是不要在网站的 URL 中显示文件扩展名。虽然这不是一个交易破坏者，但它看起来不专业！来修复它</p><ol class=""><li id="b2f3" class="ki kj hi ih b ii ij im in iq kk iu kl iy km jc li ko kp kq bi translated">在 S3 桶下找到你的 HTML(假设你正在为静态网站使用 HTML 文件)文件，在“动作”下拉菜单下，选择“编辑元数据”</li><li id="37ae" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc li ko kp kq bi translated">确保内容类型为“文本/html”；如果不是，就改成“text/html”</li><li id="0484" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc li ko kp kq bi translated">现在返回并再次选择 HTML 文件，使用“操作”-&gt;“重命名对象”按钮重命名该文件。移除。html 扩展名，然后单击“保存”</li></ol><p id="fd3a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">注意:HTML 文件中的所有锚(链接)标签都必须删除。html "从" href。"</p><h1 id="04f7" class="je jf hi bd jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb bi translated">参考</h1><ul class=""><li id="940d" class="ki kj hi ih b ii kc im kd iq lj iu lk iy ll jc kn ko kp kq bi translated"><a class="ae kh" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/EnableWebsiteHosting.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/Amazon S3/latest/user guide/enable website hosting . html</a></li><li id="31f0" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated"><a class="ae kh" rel="noopener" href="/tensult/aws-hosting-static-website-on-s3-using-a-custom-domain-cd2782758b2c">https://medium . com/tensult/AWS-hosting-static-website-on-S3-using-a-custom-domain-CD 2782758 B2C</a></li><li id="4f04" class="ki kj hi ih b ii kr im ks iq kt iu ku iy kv jc kn ko kp kq bi translated"><a class="ae kh" href="https://stackoverflow.com/questions/23463679/s3-static-pages-without-html-extension" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/23463679/S3-static-pages-without-html-extension</a></li></ul></div></div>    
</body>
</html>