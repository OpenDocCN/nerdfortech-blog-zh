<html>
<head>
<title>#01Don’tSkipTheseConcepts | Feature Hashing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">#01Don'tSkipTheseConcepts |功能哈希</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/01dontskiptheseconcepts-feature-hashing-679bd2d1d354?source=collection_archive---------14-----------------------#2021-08-07">https://medium.com/nerd-for-tech/01dontskiptheseconcepts-feature-hashing-679bd2d1d354?source=collection_archive---------14-----------------------#2021-08-07</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><blockquote class="if ig ih"><p id="f3eb" class="ii ij ik il b im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg hb bi translated">“有志者事竟成”——乔治·赫伯特</p></blockquote><p id="59c0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">#DontSkipTheseConcepts系列中讨论的概念，假设你知道机器学习的基础，并且对算法如何工作有相当的理解。这些概念会加强你的理解或者扩大你的知识基础。不管怎样——试一试。因为我打算保持这些简单，简短但有用。</p><p id="0dea" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">当我试图向别人解释<strong class="il hj">哈希</strong>时，我喜欢举文章和词汇的例子。</p><p id="e0ec" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik">我会简单明了，直奔主题。</em></p><p id="8f80" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">假设我们在1000篇文章中发现了10000个单词。比方说，像这样的东西—</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es jk"><img src="../Images/c34fd1f0f9591f6c7700d5ae97917aa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*DgaAl6NMw-Aa9UG0kTaA9g.png"/></div></figure><p id="225c" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">如果我们假设每个矩阵用32位来表示，这将意味着整个矩阵将产生40 GB的矩阵！</strong></p><p id="b77d" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik">注意，这里的大部分元素都是零，因为并非所有文章都有词汇表中的所有单词。</em></p><h2 id="c22f" class="js jt hi bd ju jv jw jx jy jz ka kb kc jh kd ke kf ji kg kh ki jj kj kk kl km bi translated">更有效地表示这些并减小大小的一种方法是使用s <strong class="ak">解析矩阵。</strong></h2><p id="9080" class="pw-post-body-paragraph ii ij hi il b im kn io ip iq ko is it jh kp iw ix ji kq ja jb jj kr je jf jg hb bi translated">举例来说，一个稀疏矩阵所要做的就是，把这些元素组合起来</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es ks"><img src="../Images/ce159a21930eadf3ac9d6ada0445fcb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:238/format:webp/1*pXwmnCaXc-fNOztfTb0FRg.png"/></div></figure><p id="19c3" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">并且，将该组合的条目映射到哈希表。</p><p id="b829" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">所以如果我们取，上面矩阵中i =3，j = 2，那么要映射的值就是3。</p><p id="7315" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik">对于条目为0的组合，例如，i = 1000且j = 1，它如何减少大小，将跳过此组合的映射。</em></p><p id="1ace" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">因此，我们最终得到的是一个更小的矩阵。</p><h2 id="0292" class="js jt hi bd ju jv jw jx jy jz ka kb kc jh kd ke kf ji kg kh ki jj kj kk kl km bi translated">另一种方法，我们可以通过利用<strong class="ak"> n-grams来减小尺寸。</strong></h2><p id="e956" class="pw-post-body-paragraph ii ij hi il b im kn io ip iq ko is it jh kp iw ix ji kq ja jb jj kr je jf jg hb bi translated">如果你仔细看看上面的矩阵，你会发现我们放在矩阵中的词汇是像say，“股票”或“市场”这样的单词。这是<strong class="il hj"> 1克。</strong></p><p id="37a5" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">可能有用的是用像“股票市场”这样的词的组合来代替它。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es kt"><img src="../Images/698e21251c56708ae2f4ceb78cd7c91e.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*trne1AEbNnzt9mABCw-5Aw.png"/></div></figure><p id="c67a" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这是<strong class="il hj">二克</strong>。同样可以扩展到3克等。</p><p id="0e2b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">因此，通过把它提升到更高的克数，你理想地把它的尺寸减小到一个更小的矩阵。</p><h2 id="fa66" class="js jt hi bd ju jv jw jx jy jz ka kb kc jh kd ke kf ji kg kh ki jj kj kk kl km bi translated">还有一种我喜欢的方式——是的，它的“特征散列”！让我们抛开上面的，现在开始研究哈希。</h2><p id="42b9" class="pw-post-body-paragraph ii ij hi il b im kn io ip iq ko is it jh kp iw ix ji kq ja jb jj kr je jf jg hb bi translated">简单地说，特征散列所做的就是，假设我们有单词“stock”。</p><ol class=""><li id="ebf5" class="ku kv hi il b im in iq ir jh kw ji kx jj ky jg kz la lb lc bi translated">我们将单词“stock”通过我们所说的“哈希函数”</li><li id="f7d4" class="ku kv hi il b im ld iq le jh lf ji lg jj lh jg kz la lb lc bi translated">这个散列函数给出一个值作为输出</li><li id="5bf1" class="ku kv hi il b im ld iq le jh lf ji lg jj lh jg kz la lb lc bi translated">我们根据我们想要使用的空间大小来修改它</li><li id="c2c1" class="ku kv hi il b im ld iq le jh lf ji lg jj lh jg kz la lb lc bi translated">这个模值输出给出了索引I</li><li id="78ea" class="ku kv hi il b im ld iq le jh lf ji lg jj lh jg kz la lb lc bi translated">我们将这个索引I映射到一个数组，并简单地递增该元素</li></ol><p id="5cbe" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">迷茫？看下面的图片—</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/76a0a35c1c42e69f06e5b6cbc13d9ba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLjrxBqERL4Xip1kNoqIEA.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">例如，我们希望将大小优化为10，000个元素</figcaption></figure><p id="05de" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">这将变成——</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lr"><img src="../Images/9fbca535661ab4e288933ba83c61c895.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*OB01BVU7AQNdoSXDZB3INQ.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">index = 4893在生成的数组中递增1</figcaption></figure><p id="4d80" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">有意义吗？</p><p id="8882" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">现在我们再举一个例子。</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ls"><img src="../Images/7b1a2984f6d9fdaed0e17809ae8a08a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zee5GNzs71f7OjW7b5Z0LA.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">下一个字得到一个新的索引，该索引再次映射到数组</figcaption></figure><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lt"><img src="../Images/3352243c83b3597a7b02fc22a9225cf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*e8D-NfhT5BYfTLWdC6cmCw.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">相应的索引元素增加1</figcaption></figure><p id="0735" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">有趣的是，如果我们得到一个词，散列到相同的值，比如说—</p><figure class="jl jm jn jo fd jp er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lu"><img src="../Images/742e80048231ccc063e6edb655b24ad5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3i9bWu1TleuRvTeFaQB6-g.png"/></div></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">“update”散列到与“market”相同的值，因此，获得要映射到阵列的相同索引</figcaption></figure><figure class="jl jm jn jo fd jp er es paragraph-image"><div class="er es lv"><img src="../Images/65506cff70be818b70cdf850be0c5024.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*S-EDEEjJd9tCAV7gXEO7YA.png"/></div><figcaption class="ln lo et er es lp lq bd b be z dx translated">索引= 4912处的元素增加1，变成2</figcaption></figure><p id="fbe9" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">因此，当碰撞发生时，我们只是不断更新！</p><h1 id="bd71" class="lw jt hi bd ju lx ly lz jy ma mb mc kc md me mf kf mg mh mi ki mj mk ml kl mm bi translated">关于使用特征散列的事实-</h1><ol class=""><li id="97cc" class="ku kv hi il b im kn iq ko jh mn ji mo jj mp jg kz la lb lc bi translated">我们可以处理任意长度的文件。这是因为只要单词不断出现，我们就可以在给定某个单词的特定索引处增加值。</li><li id="cb09" class="ku kv hi il b im ld iq le jh lf ji lg jj lh jg kz la lb lc bi translated"><strong class="il hj">我们不需要为每一个出现的新单词</strong>频繁地重新训练我们的整个模型，因为每次我们得到一个新单词——我们只是将它散列到一个特定的索引，并在我们的输出数组中增加相应的值。</li><li id="b028" class="ku kv hi il b im ld iq le jh lf ji lg jj lh jg kz la lb lc bi translated">对于像<strong class="il hj">垃圾邮件检测</strong>这样的情况，在正常的文本稀疏矩阵中，对手可以很容易地掌握词汇，使他们的电子邮件看起来“合法”，并干涉我们的隐私。但是使用特征散列，<strong class="il hj">对手没有任何词汇可以获取，因为我们在这里使用的是散列输出！</strong></li></ol><p id="f0d9" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">因此，使用特征哈希的<strong class="il hj">优势在于，你可以<strong class="il hj">将变长的文本文档表示为等长的数字特征向量</strong>，并实现<strong class="il hj">降维</strong>。</strong></p><p id="a6b1" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><em class="ik">相反，如果您试图按原样使用文本列进行训练，它将被视为分类特征列，具有许多许多不同的值。</em></p><p id="189f" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated"><strong class="il hj">将输出作为数字也使得对数据使用许多不同的机器学习方法成为可能</strong>，包括分类、聚类或信息检索。因为查找操作可以使用整数哈希而不是字符串比较，所以获取特征权重也要快得多。</p></div><div class="ab cl mq mr gp ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hb hc hd he hf"><p id="3f02" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">想要更正式的阅读？我找到了一些关于哈希以及如何实现它的文章-</p><ol class=""><li id="d50b" class="ku kv hi il b im in iq ir jh kw ji kx jj ky jg kz la lb lc bi translated"><a class="ae mx" href="http://www.umsl.edu/~siegelj/information_theory/projects/HashingFunctionsInCryptography.html" rel="noopener ugc nofollow" target="_blank">http://www . umsl . edu/~ siegelj/information _ theory/projects/hashingfunctionsincryptography . html</a>(了解哈希)</li><li id="9938" class="ku kv hi il b im ld iq le jh lf ji lg jj lh jg kz la lb lc bi translated"><a class="ae mx" href="http://contrib.scikit-learn.org/category_encoders/hashing.html" rel="noopener ugc nofollow" target="_blank">http://contrib . sci kit-learn . org/category _ encoders/hashing . html</a>(sci kit-learn的类别编码库)</li></ol></div><div class="ab cl mq mr gp ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="hb hc hd he hf"><p id="d6aa" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果你想在<em class="ik"> LinkedIn </em>上与我联系，请随时在这里 给我发短信或请求<a class="ae mx" href="http://www.linkedin.com/in/anaa-vs" rel="noopener ugc nofollow" target="_blank"> <strong class="il hj">。</strong></a></p><p id="91f7" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">如果<em class="ik">推特</em>是你的事，这里 联系我<a class="ae mx" href="https://twitter.com/_anaavs_" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="233b" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">当然，你也可以在这里留下你的评论！我也很乐意回答任何问题。</p><p id="e3e0" class="pw-post-body-paragraph ii ij hi il b im in io ip iq ir is it jh iv iw ix ji iz ja jb jj jd je jf jg hb bi translated">直到下一次，继续唱，唱，唱。最重要的是，<em class="ik">不断学习</em>:)</p></div></div>    
</body>
</html>