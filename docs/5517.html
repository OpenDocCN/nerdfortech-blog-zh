<html>
<head>
<title>Create a Custom Theme Extension for Visual Studio Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为 Visual Studio 代码创建自定义主题扩展</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/create-a-custom-theme-extension-for-vscode-d6418feea917?source=collection_archive---------1-----------------------#2021-10-12">https://medium.com/nerd-for-tech/create-a-custom-theme-extension-for-vscode-d6418feea917?source=collection_archive---------1-----------------------#2021-10-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/193e40ac8dc50fd7b52fec6990a6356a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iE0o7cMmOGxCCuZh02nzog.png"/></div></div></figure><p id="1537" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">我使用 Visual Studio 代码(VSCode)已经有一段时间了，当我编码时，我觉得 VSCode 中的默认主题很无聊。所以我在市场上尝试了一些主题，有些不错，但有些不符合我的风格。因此，我想为 VSCode 创建自己的主题，这篇文章是关于为 VSCode 创建的新主题，我将其命名为<a class="ae jo" href="https://marketplace.visualstudio.com/items?itemName=maneeshaindrachapa.jasmine" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="jp">茉莉</em> </strong> </a>。</p><p id="4abf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">在 VSCode 中创建主题扩展相当容易。为此，首先你需要安装<a class="ae jo" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jp">Node . js</em></strong></a>，<strong class="is hj"> <em class="jp"> npm </em> </strong>(节点包管理器)和<a class="ae jo" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jp">Git</em></strong></a>，以便能够安装必要的包。</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="6b62" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated">创建主题</h2><ol class=""><li id="b9b4" class="ks kt hi is b it ku ix kv jb kw jf kx jj ky jn kz la lb lc bi translated">要在 VSCode 中创建一个扩展，你需要安装一个<em class="jp"> npm </em>包名<a class="ae jo" href="https://github.com/Microsoft/vscode-generator-code" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jp">yo</em></strong></a><strong class="is hj"><em class="jp">。</em> </strong> <em class="jp">(这个其实代表约曼)</em>我们可以使用下面的命令全局安装。</li></ol><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="e735" class="jx jy hi li b fi lm ln l lo lp">npm i -g yo generator-code</span></pre><p id="b6b7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.打开一个终端，引导到您想要创建主题扩展的目录，并运行下面的命令</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="28f6" class="jx jy hi li b fi lm ln l lo lp">yo code</span></pre><p id="7c72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">这将运行<em class="jp"> Visual Studio 代码扩展(vsce)生成器</em>，然后你会在终端上看到如下内容，使用上下箭头键，你需要在那里选择<strong class="is hj"> <em class="jp">【新颜色主题】</em> </strong>选项。</p><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lq"><img src="../Images/a83b1e914b3447528dde888e2f82673b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0QMdaTXl99Xp5VELJg0Uyw.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx translated">在代码生成器中选择颜色主题</figcaption></figure><p id="5f2a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.然后它会问你一些问题，并为你创建一个项目目录。</p><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lv"><img src="../Images/e24abfc229d57da8d55af203a9cb24ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2OSrRwy5NS7-4w6QEBWC-Q.png"/></div></div></figure><ul class=""><li id="035e" class="ks kt hi is b it iu ix iy jb lw jf lx jj ly jn lz la lb lc bi translated">选择<strong class="is hj"> <em class="jp">新建颜色主题</em> </strong></li><li id="72a9" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated">选择<strong class="is hj"> <em class="jp">否，重新开始</em> </strong></li><li id="92ee" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated">输入您的分机名称</li><li id="791b" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated">输入您的分机标识符(例如标识符是什么:{publisher-name}。{标识符} |只需按回车键并使用默认设置)</li><li id="a929" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated">写一篇简短的描述主题代表什么或者主题背后的想法是什么。</li><li id="1671" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated">输入您希望在市场中显示的名称(区分大小写)(这是扩展显示名称)</li><li id="b848" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated">选择一个基本主题作为起点</li><li id="7a62" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated">初始化 git 存储库</li></ul><p id="94bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您已经成功创建了一个主题项目，现在运行下面的命令来打开它并开始工作！</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="d803" class="jx jy hi li b fi lm ln l lo lp">cd {theme-name}<br/>code .</span></pre><p id="7c3b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.对于您的主题扩展文件夹，您的文件夹结构将如下所示</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="88cd" class="jx jy hi li b fi lm ln l lo lp">jasmine/ <br/>├─ .vscode/ <br/>│  ├─ launch.json <br/>├─ themes/ <br/>│  ├─ Jasmine-color-theme.json <br/>├─ .vscodeignore <br/>├─ .gitattributes <br/>├─ .gitignore <br/>├─ CHANGELOG.md <br/>├─ package.json <br/>├─ README.md <br/>├─ vsc-extension-quickstart.md</span></pre><p id="fd2b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您的<strong class="is hj"> <em class="jp"> package.json </em> </strong>文件将如下所示</p><figure class="ld le lf lg fd ij"><div class="bz dy l di"><div class="mf mg l"/></div><figcaption class="lr ls et er es lt lu bd b be z dx translated">香草包</figcaption></figure><p id="bc48" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">您需要添加以下属性以将扩展添加到 VSCode marketplace。</p><ul class=""><li id="3a56" class="ks kt hi is b it iu ix iy jb lw jf lx jj ly jn lz la lb lc bi translated"><strong class="is hj"> <em class="jp">作者</em></strong>——指定了这个扩展的作者是谁</li><li id="7b45" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated"><strong class="is hj"> <em class="jp">资源库</em></strong>——这将显示你的主题的 GitHub 资源库</li><li id="cefb" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated"><strong class="is hj"><em class="jp">bug</em></strong>-如果主题有问题或 bug，这将显示在哪里放置问题。</li><li id="275d" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated"><strong class="is hj"> <em class="jp">主页</em></strong>——每当有人想了解主题的时候，这里就会成为主题的主页。</li><li id="7925" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated"><strong class="is hj"><em class="jp">gallery Banner-</em></strong>这是 VSCode 市场上的横幅</li><li id="4133" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated"><strong class="is hj"> <em class="jp">关键词- </em> </strong>这是用于 SEO 的。</li></ul><p id="22c3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">另外，你需要在根目录下创建一个名为<strong class="is hj"> <em class="jp">图片</em> </strong>的新文件夹，并添加你的主题扩展的<strong class="is hj"><em class="jp"/></strong>。</p><figure class="ld le lf lg fd ij"><div class="bz dy l di"><div class="mf mg l"/></div><figcaption class="lr ls et er es lt lu bd b be z dx translated">更新的 package.json</figcaption></figure><p id="ca3f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">5.<strong class="is hj">里面的<em class="jp">。/themes </em> </strong>文件夹你会发现一个名为<code class="du mh mi mj li b">{extension-name}-color-theme.json</code>的<code class="du mh mi mj li b">json</code>文件，这是你需要更新来定制主题的文件。有关这方面的进一步指导，请参考以下链接</p><ul class=""><li id="a6b7" class="ks kt hi is b it iu ix iy jb lw jf lx jj ly jn lz la lb lc bi translated"><a class="ae jo" href="https://code.visualstudio.com/docs/getstarted/theme-color-reference" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="jp"> VS 代码主题颜色参考</em> </strong> </a></li><li id="d228" class="ks kt hi is b it ma ix mb jb mc jf md jj me jn lz la lb lc bi translated"><a class="ae jo" href="https://code.visualstudio.com/docs/extensions/themes-snippets-colorizers" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj"> <em class="jp"> VS 代码主题文档</em> </strong> </a></li></ul><p id="6990" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">6.你可以通过按下<code class="du mh mi mj li b">f5</code>键在 VSCode 中运行扩展调试器来检查应用到你的主题的颜色。</p></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><h2 id="0858" class="jx jy hi bd jz ka kb kc kd ke kf kg kh jb ki kj kk jf kl km kn jj ko kp kq kr bi translated"><strong class="ak">发布主题</strong></h2><p id="204b" class="pw-post-body-paragraph iq ir hi is b it ku iv iw ix kv iz ja jb mk jd je jf ml jh ji jj mm jl jm jn hb bi translated">一旦你完成并创建了你的主题，是时候发布并将其添加到市场中了。可以用<a class="ae jo" href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jp">vsce</em></strong></a>(<strong class="is hj">V</strong>isual<strong class="is hj">S</strong>tudio<strong class="is hj">C</strong>ode<strong class="is hj">E</strong>xtensions)来做。要安装<em class="jp"> vsce </em>，运行以下命令。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="eefd" class="jx jy hi li b fi lm ln l lo lp">npm i -g vsce</span></pre><p id="d31f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">为您的项目创建一个 git 存储库(为了避免问题，使用<a class="ae jo" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj"><em class="jp">GitHub</em></strong></a>)并连接它。用更新后的<strong class="is hj"> <em class="jp"> package.json </em> </strong>文件推送你的整个主题。</p><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/5862d43fc1403c4dd61632935822b19c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GGC5aRfE3ClD4WvfPnECtA.png"/></div></div><figcaption class="lr ls et er es lt lu bd b be z dx translated">更新的 package.json 文件</figcaption></figure><p id="3ced" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">最后，<strong class="is hj">包装</strong>和<strong class="is hj">发布</strong>主题使用<strong class="is hj"> <em class="jp"> vsce </em> : </strong></p><ol class=""><li id="721d" class="ks kt hi is b it iu ix iy jb lw jf lx jj ly jn kz la lb lc bi translated">前往<strong class="is hj"> <em class="jp"> Azure DevOps </em> </strong>并创建您的组织，您将在该组织下发布您的扩展<a class="ae jo" href="https://dev.azure.com/" rel="noopener ugc nofollow" target="_blank">https://dev.azure.com/</a>。完成后，您需要为该组织创建自己的<em class="jp">个人访问令牌(PAT) </em>。</li></ol><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mo"><img src="../Images/8caa7f6084ef719b2aec7eaeed5f3f87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FJbXPB2yl2FGjYs3qGqbIw.png"/></div></div></figure><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mp"><img src="../Images/bf56cd54cf3aa5f8807e4176f95179a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kiGDFpczlUS_vL9hm3NOrg.png"/></div></div></figure><p id="75e3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">但是，您需要小心生成个人访问令牌，否则，您将最终得到一个 401 未授权错误。(<em class="jp"> vsce 401 错误</em>)。当您创建您的<strong class="is hj"> PAT </strong>时，您<strong class="is hj">必须</strong>选择<strong class="is hj"> <em class="jp">所有可访问的组织</em> </strong>，并确保选择<strong class="is hj"> <em class="jp">“完全访问”。</em> </strong>复制个人访问令牌并将其保存在安全的地方，因为我们在后面的部分会用到它。</p><p id="69cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">2.接下来，转到 VSCode marketplace，并使用您的 outlook 帐户登录 marketplace。然后你需要创建一个发布者。您可以使用下面的链接创建一个发布者，<a class="ae jo" href="https://marketplace.visualstudio.com/manage/createpublisher" rel="noopener ugc nofollow" target="_blank">https://marketplace.visualstudio.com/manage/createpublisher</a></p><p id="eb9e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.转到您的终端，使用下面的命令登录到您新创建的发布者，使用生成的个人访问令牌。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="de4d" class="jx jy hi li b fi lm ln l lo lp">vsce login (publisher name)</span></pre><p id="a528" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">3.使用下面的命令打包你创建的主题，它会生成一个扩展名为<code class="du mh mi mj li b">vsix</code>的文件。</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="dd5d" class="jx jy hi li b fi lm ln l lo lp">vsce package</span></pre><p id="bf4a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">4.要发布主题，您可以使用下面的命令</p><pre class="ld le lf lg fd lh li lj lk aw ll bi"><span id="2de6" class="jx jy hi li b fi lm ln l lo lp">vsce publish</span></pre><p id="6dda" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">或者你可以使用这个<a class="ae jo" href="https://marketplace.visualstudio.com/manage/publishers" rel="noopener ugc nofollow" target="_blank">链接</a>，选择发布者点击<strong class="is hj"> <em class="jp">新建扩展→VSCode </em> </strong>拖拽打包好的<code class="du mh mi mj li b">{extension-name}-{version}.vsix</code>文件。</p><p id="5741" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">就是这样！</strong> <strong class="is hj">你刚刚发布了自己的 VSCode 主题。🚀 🎨</strong>您可以通过搜索在 VSCode 扩展中看到您的扩展。</p><figure class="ld le lf lg fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mq"><img src="../Images/65fb6bef75198e0636b1c2e7bc808362.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sy3dxQYo_QbmUhBU1rcK5w.png"/></div></div></figure></div><div class="ab cl jq jr gp js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hb hc hd he hf"><p id="a1a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">你可以从这里试试主题<strong class="is hj"> <em class="jp">【茉莉】</em> </strong>。</p><div class="mr ms ez fb mt mu"><a href="https://marketplace.visualstudio.com/items?itemName=maneeshaindrachapa.jasmine" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hj fi z dy mz ea eb na ed ef hh bi translated">Jasmine - Visual Studio 市场</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">VS 代码的一个最小的深紫色主题。在 VS 代码中打开扩展侧边栏面板。</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">marketplace.visualstudio.com</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni io mu"/></div></div></a></div><p id="ac3d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">如果有任何问题或需要改进的地方，请在这里创建一个问题。</p><div class="mr ms ez fb mt mu"><a href="https://github.com/maneeshaindrachapa/jasmine-vscode" rel="noopener  ugc nofollow" target="_blank"><div class="mv ab dw"><div class="mw ab mx cl cj my"><h2 class="bd hj fi z dy mz ea eb na ed ef hh bi translated">GitHub-maneeshaindrachapa/jasmine-VS Code:VS 代码的最小深紫色主题，基于…</h2><div class="nb l"><h3 class="bd b fi z dy mz ea eb na ed ef dx translated">VS 代码的一个最小的深紫色主题。在 VS 代码中打开扩展侧边栏面板。</h3></div><div class="nc l"><p class="bd b fp z dy mz ea eb na ed ef dx translated">github.com</p></div></div><div class="nd l"><div class="nj l nf ng nh nd ni io mu"/></div></div></a></div></div></div>    
</body>
</html>