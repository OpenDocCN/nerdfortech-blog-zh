<html>
<head>
<title>Implementing space shooter game features - Attract power-ups</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">实现太空射击游戏功能-吸引电源</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-attract-power-ups-83b3666daffe?source=collection_archive---------23-----------------------#2021-06-22">https://medium.com/nerd-for-tech/implementing-space-shooter-game-features-attract-power-ups-83b3666daffe?source=collection_archive---------23-----------------------#2021-06-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="79d3" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="4c94" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">Unity 空间射击游戏新增功能快速回顾</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/db290064c3b665243fa4f675464b0304.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*tPI8ZWrz2SllYsIO-YQJeg.gif"/></div></div></figure><p id="aefb" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:在 Unity 的太空射击游戏中，为玩家实现一种吸引能量的方法。</p><p id="eb41" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在之前的帖子中，我<a class="ae ko" rel="noopener" href="/nerd-for-tech/implementing-space-shooter-game-features-enemy-view-3095e0679365">在我的 Unity 太空射击游戏中为一些敌人实现了一种检测加电的方法</a>。现在是时候为玩家实现一种方法来吸引操场上的能量，以便更容易地收集它们。</p><h1 id="e4dc" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">通电等级</h1><p id="65ed" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">为了让加电跟随播放器，让我们打开<strong class="ju hs">加电</strong>类，并创建一个新的变量来存储对播放器的变换组件的引用:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lm"><img src="../Images/c0bcd79850758b9500ed410f04bd064d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/1*Mx-1hX_3OVF6aM4kPUcytg.gif"/></div></figure><p id="dbb8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在<strong class="ju hs"> Start </strong>方法中，我们使用<strong class="ju hs"> GameObject。Find </strong>方法找到播放器，然后用<strong class="ju hs"> GetComponent </strong>方法，让我们得到转换组件:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ln"><img src="../Images/11294cd9cfe9e347efef31fb20762453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a53ZztgkOBOmIEBjb5gpLg.png"/></div></div></figure><blockquote class="lo lp lq"><p id="25ac" class="js jt lr ju b jv jw is jx jy jz iv ka ls kc kd ke lt kg kh ki lu kk kl km kn hb bi translated">注意:我们也可以使用<a class="ae ko" href="https://docs.unity3d.com/ScriptReference/GameObject.FindWithTag.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">游戏对象。FindWithTag </em></strong></a></p></blockquote><p id="47a3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">此外，让我们创建一个新的 bool 变量，该变量指示玩家是否对上电感兴趣:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lv"><img src="../Images/4398145b22a76ba1d4f2071981e70efe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xZFOZUJR7uS2BcOROsKOcw.gif"/></div></div></figure><p id="bee2" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们创建一个新的方法，通过计算向玩家移动的距离来开始。这一步将是加电速度每秒加倍的结果:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lw"><img src="../Images/be2ed876a005ce0b69d22d2e897b48d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jTIDz6p19-WUECmJNY--Vw.gif"/></div></div></figure><p id="fca4" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，让我们使用<strong class="ju hs">矢量 3。向</strong>移动，给加电位置一个更接近玩家位置的新值:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lx"><img src="../Images/c8818c01d6c69967574559d79c65049a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*syvuDO6k4AIV-EUMKKkRgQ.gif"/></div></div></figure><p id="6e84" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果你想了解更多关于<strong class="ju hs"> Vector3 的信息。走向</strong>方法你可以访问 Unity 文档:</p><div class="ly lz ez fb ma mb"><a href="https://docs.unity3d.com/ScriptReference/Vector3.MoveTowards.html" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab dw"><div class="md ab me cl cj mf"><h2 class="bd hs fi z dy mg ea eb mh ed ef hr bi translated">向量 3。走向</h2><div class="mi l"><h3 class="bd b fi z dy mg ea eb mh ed ef dx translated">你如何在整个工作流程中使用文档？请参加本次调查，与我们分享您的体验。建议一个…</h3></div><div class="mj l"><p class="bd b fp z dy mg ea eb mh ed ef dx translated">docs.unity3d.com</p></div></div><div class="mk l"><div class="ml l mm mn mo mk mp jq mb"/></div></div></a></div><p id="4ed8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，让我们通过检查加电是否被吸引来确定<strong class="ju hs">更新</strong>方法内部的运动:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mq"><img src="../Images/748e44097698b38f0337b247bf8c0aac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/1*g9aD_PREUS9M_aH3eskhvA.gif"/></div></figure><h1 id="eea8" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">玩家等级</h1><p id="6d6d" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">现在，为了让玩家能够吸引场景中的电源，让我们创建一个公共委托方法及其公共静态事件。这些将有助于改变场景中电源的吸引力布尔值:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mr"><img src="../Images/61ac8e880ca8c86b41121ede4e7770a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JYWUISwW5oMlZ-wdx9AoDw.gif"/></div></div></figure><p id="5125" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">接下来，让我们在<strong class="ju hs"> Update </strong>方法中添加一个条件，检查玩家是否输入了“c”键，在这种情况下，如果静态事件不为空，让我们执行它:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es ms"><img src="../Images/877381eff1d80f847c0cf3a184512273.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*XaPnhctpOcJ0L-8NL-QYkA.gif"/></div></div></figure><p id="f4b1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">此外，为了停止吸引电源，我们可以在玩家停止按“c”键时使用相同的事件:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mt"><img src="../Images/d24871e5ee10b5c278f26c2ebd6e6606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*erk_Dh_pQpFgVfv640tzoQ.gif"/></div></div></figure><p id="55e8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了改变吸引力，让我们在<strong class="ju hs"> Powerup </strong>类中创建一个新方法，该方法给出 bool 的当前相反值。这样，我们可以确保在调用该方法时，值被设置为相反的值:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mu"><img src="../Images/1fa5310d1069a515259ae854feb166c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/1*apoiEcg8ZpAL0QGl3bFC5Q.gif"/></div></figure><p id="9999" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，在<strong class="ju hs"> Powerup </strong>类中，让我们从<strong class="ju hs"> Player </strong>类添加对静态事件的方法调用，以便在事件执行时调用它:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es mv"><img src="../Images/e1d1c657db56719f66240b6a569af886.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/1*0610rOJc1snsg2jmrw8XTg.gif"/></div></figure><p id="f2d3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">最后，让我们确保使用<strong class="ju hs"> OnDestroy </strong>方法从静态事件中移除该方法，该方法在销毁附加了该脚本的 gameobject 之前被调用。通过这样做，我们可以确保静态事件不会试图执行不再存在的游戏对象的方法:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mw"><img src="../Images/de06353c874219d36c7e366bdea8dfa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ZkP-f0KvJMMx3IYyRldmtA.gif"/></div></div></figure><p id="f8af" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，如果我们在 Unity 中运行游戏，我们将能够按下“c”键并将场景中的电源吸引到玩家面前:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/b4279b50cde4b450004408ddd79fffb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*P_FTxto8AxYrfGUYpkqO4g.gif"/></div></div></figure><p id="8c28" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们实现了一种让玩家在场景中吸引能量的方法！:d .我会在下一篇文章中看到你，在那里我会展示更多添加到我的 Unity 太空射击游戏中的功能。</p></div><div class="ab cl mx my gp mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="hb hc hd he hf"><blockquote class="lo lp lq"><p id="17b4" class="js jt lr ju b jv jw is jx jy jz iv ka ls kc kd ke lt kg kh ki lu kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>