<html>
<head>
<title>Deploy Reactjs app to Heroku with Multi-Environment Bitbucket CI/CD pipeline</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用多环境位存储桶CI/CD管道将Reactjs应用程序部署到Heroku</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/deploy-reactjs-app-to-heroku-with-multi-environment-bitbucket-ci-cd-pipeline-98bc4bf0672f?source=collection_archive---------1-----------------------#2021-03-05">https://medium.com/nerd-for-tech/deploy-reactjs-app-to-heroku-with-multi-environment-bitbucket-ci-cd-pipeline-98bc4bf0672f?source=collection_archive---------1-----------------------#2021-03-05</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="6e7c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">自动化reactjs应用程序的部署过程</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><h1 id="cd2b" class="jk jl hi bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">Hallo Welt(不要被德语中的hello world吓到)</h1><p id="a79a" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">几周前，我作为reactjs的开发人员开始在一家新的创业公司工作，我在万维网上搜索(是的，我用了整个短语)如何用bitbucket和heroku为reactjs项目创建管道。我曾期望找到关于如何做到这一点的很好的书面资源，但不能，它们已经过时了(可能是因为bitucket在他们的平台上有许多更新，使其用户友好，易于使用，并增加了新的功能)。当我尝试搜索不同部署阶段(开发、试运行和生产)的资源时，得到的响应是空的。我们将创建一个bitbucket管道，通过暂存和生产部署选项来自动化我们到heroku的部署。</p><h2 id="c319" class="kn jl hi bd jm ko kp kq jq kr ks kt ju iq ku kv jy iu kw kx kc iy ky kz kg la bi translated">先决条件</h2><ul class=""><li id="2104" class="lb lc hi ih b ii ki im kj iq ld iu le iy lf jc lg lh li lj bi translated">安装在您机器上的节点</li><li id="d56b" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated"><a class="ae lk" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> Heroku </a>记述</li><li id="662a" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated"><a class="ae lk" href="https://bitbucket.org/" rel="noopener ugc nofollow" target="_blank"> Bitbucket </a>账号</li><li id="e845" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">你可以使用任何你喜欢的代码编辑器(我的是<a class="ae lk" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> VSCode </a>)</li></ul><h2 id="4e54" class="kn jl hi bd jm ko kp kq jq kr ks kt ju iq ku kv jy iu kw kx kc iy ky kz kg la bi translated">步骤1 —创建React应用程序</h2><p id="404c" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">我可以想象你已经对创建react应用程序很熟悉了，但是对于那些以前没有经验的人来说，下面是我们如何做的。我们将使用create-react-app starter CLI工具。</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="e434" class="kn jl hi lv b fi lz ma l mb mc">npx create-react-app your-app-name /*I named my app bitbucketpipeline*/</span><span id="5826" class="kn jl hi lv b fi md ma l mb mc">npx create-react-app bitbucketpipeline</span></pre><p id="455c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">项目创建过程因您的互联网连接速度而异，成功创建项目后，在您的代码编辑器中打开代码，如果您想要运行app type <strong class="ih hj"> <em class="me"> npm，请在终端上启动</em> </strong>。最后，转到你的浏览器，打开<a class="ae lk" href="http://localhost:3000" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000 </a>(也就是说，这是为了防止应用程序不能在浏览器中自动打开)。</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="f82c" class="kn jl hi lv b fi lz ma l mb mc">cd bitbucketpipeline</span><span id="df3e" class="kn jl hi lv b fi md ma l mb mc">npm start</span></pre><h2 id="062e" class="kn jl hi bd jm ko kp kq jq kr ks kt ju iq ku kv jy iu kw kx kc iy ky kz kg la bi translated">步骤2-创建位存储库</h2><p id="1ef6" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">既然我们已经创建了我们的应用程序，并且它已经启动并运行，我们可以继续在bitbucket上创建一个远程存储库。如果你还没有注册，去https://bitbucket.org注册一个免费账户，我们都喜欢免费的东西，不是吗？</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div class="er es mf"><img src="../Images/d3e10e09ef96bc2707226fe8e2163af9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*p27W02tZmHZQFzvBwt2MVQ.png"/></div><figcaption class="mj mk et er es ml mm bd b be z dx translated">在位桶上创建存储库</figcaption></figure><h2 id="fc01" class="kn jl hi bd jm ko kp kq jq kr ks kt ju iq ku kv jy iu kw kx kc iy ky kz kg la bi translated">步骤3-创建Heroku应用程序</h2><p id="9b67" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">现在，我们已经在bitbucket上创建了我们的应用程序和一个远程存储库，我们非常接近于建立一个管道并部署我们的应用程序。就像我们在bitbucket上做的那样，如果你还没有注册heroku，就去做那个<a class="ae lk" href="https://heroku.com" rel="noopener ugc nofollow" target="_blank">https://heroku.com</a>，同样，这个也是免费的。</p><p id="3293" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，我们将为试运行和生产创建两个不同的应用程序。转到您的heroku仪表板，单击新建并选择创建新应用程序。你的应用名称必须唯一。我将我的应用程序命名为<em class="me">bitbucketpipeline-staging</em>和<em class="me">bitbucketpipeline-production</em>。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div class="er es mn"><img src="../Images/792f2b8afa300f3afb1f040a5ff20475.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*ENc-6TF1cQ_SA773fyECtA.png"/></div><figcaption class="mj mk et er es ml mm bd b be z dx translated">创建新应用程序</figcaption></figure><div class="lq lr ls lt fd ab cb"><figure class="mo mg mp mq mr ms mt paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><img src="../Images/c5016c1d601c3d8c5d9c3a604cadb52d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1026/format:webp/1*FHxhFH79NxBFigTk7eO3QA.png"/></div></figure><figure class="mo mg my mq mr ms mt paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><img src="../Images/c99538c76373f82f88df5051e1c0f5ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*DZMEy8NH8dkIDNOs_dn5wA.png"/></div><figcaption class="mj mk et er es ml mm bd b be z dx mz di na nb translated">在heroku上创建暂存和制作应用程序</figcaption></figure></div><p id="83b9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当你去你的仪表板时，你必须看到你的应用程序列在那里。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div class="er es nc"><img src="../Images/584c193465355fb97aba07b1eb27628c.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*kk1S1DESR3n-Ta7dutkh_Q.png"/></div></figure><p id="1f37" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，在heroku上唯一要做的事情就是获取API密钥，并为我们的应用程序添加一个buildpack。我们需要API密匙，这样当我们设置我们的位桶管道时，我们通过密匙得到认证，以便使用管道配置部署我们的代码。</p><blockquote class="nd ne nf"><p id="05b9" class="if ig me ih b ii ij ik il im in io ip ng ir is it nh iv iw ix ni iz ja jb jc hb bi translated"><strong class="ih hj"> Heroku Buildpacks </strong>是一组开源脚本，用于编译Heroku上的应用。它们使您能够扩展Heroku的构建系统，以支持您的语言或定制，或者使特定的二进制包可用于运行时</p></blockquote><p id="e785" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，让我们将buildpack添加到我们的应用程序中。构建包因我们正在部署的应用程序而异，因为我们将部署reactjs应用程序，所以我们将使用<strong class="ih hj">create-react-app-build pack</strong>构建包。</p><ul class=""><li id="61c4" class="lb lc hi ih b ii ij im in iq nj iu nk iy nl jc lg lh li lj bi translated">转到仪表板并选择应用程序</li><li id="5e5e" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">点击应用程序的设置选项卡</li><li id="1981" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">在构建包部分下的设置选项卡中，添加/选择<a class="ae lk" href="https://github.com/mars/create-react-app-buildpack.git" rel="noopener ugc nofollow" target="_blank">https://github.com/mars/create-react-app-buildpack.git</a>构建包</li></ul><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es nm"><img src="../Images/27799743f7ae772fdae75d1af8f26a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j22I7E8dLbhbFiuSGJRk9Q.png"/></div></div></figure><p id="c4d9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">为staging(<em class="me">bitbucketpipeline-staging</em>)和production(<em class="me">bitbucketpipeline-production</em>)应用程序添加构建包。接下来，我们需要获得heroku帐户的API密钥。</p><ul class=""><li id="bdee" class="lb lc hi ih b ii ij im in iq nj iu nk iy nl jc lg lh li lj bi translated">在您的个人资料中，转到帐户设置</li><li id="cd10" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">在“API键”部分下，单击“显示”</li><li id="277b" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">保存密钥以备后用</li></ul><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es nn"><img src="../Images/f453284f05a96bfdfacce175cfffd7d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W4D6jlzCpzOlrbRAN0x3gg.png"/></div></div></figure><h2 id="4b0f" class="kn jl hi bd jm ko kp kq jq kr ks kt ju iq ku kv jy iu kw kx kc iy ky kz kg la bi translated">步骤4-使用位存储桶管道进行部署</h2><p id="4d4c" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">我们现在处于最有趣的部分。在本节中，我们将为自动化部署设置一个bitbucket管道。我们已经有了开始铺设管道所需的一切；bitbucket存储库、heroku API密钥和heroku应用程序用于暂存和生产。让我们开始吧。</p><h2 id="a275" class="kn jl hi bd jm ko kp kq jq kr ks kt ju iq ku kv jy iu kw kx kc iy ky kz kg la bi translated">步骤4.1 —启用管道</h2><p id="42bc" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">打开存储库，转到“存储库设置”,向下滚动并找到侧面导航栏上的“管道”部分，单击“管道”部分下的设置选项，并通过打开开关控件为存储库启用管道。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es no"><img src="../Images/44a7a01c05c7ae30fa6bdceec8a242cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oIf7Zx1vTQ7oxICxaXwhjA.png"/></div></div></figure><h2 id="17fd" class="kn jl hi bd jm ko kp kq jq kr ks kt ju iq ku kv jy iu kw kx kc iy ky kz kg la bi translated">步骤4.2 —添加存储库变量</h2><p id="a941" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">还记得我们从heroku账户设置复制的API密钥吗？我们现在将使用API密钥。打开您的存储库，转到“存储库设置”,向下滚动并找到侧面导航栏上的“管道”部分，然后单击“管道”部分下的“存储库变量”选项。您可以在那里添加您的键和值对。在我们的例子中，键，值对将是我们的Heroku API键。我将把我的键命名为<strong class="ih hj"> HEROKU_API_KEY </strong>(你可以随意命名)，值将是我们从HEROKU复制的API键。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es no"><img src="../Images/44a7a01c05c7ae30fa6bdceec8a242cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oIf7Zx1vTQ7oxICxaXwhjA.png"/></div></div></figure><h2 id="41e8" class="kn jl hi bd jm ko kp kq jq kr ks kt ju iq ku kv jy iu kw kx kc iy ky kz kg la bi translated">步骤4.3 —添加暂存和生产变量</h2><p id="68c9" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">我们为存储库设置的任何环境都可以访问我们的存储库变量，默认情况下，bitbucket有三个环境，即测试、暂存和生产。但是在这些环境下创建的变量只能在特定的环境中访问。我将创建一个用于暂存的变量和一个用于生产的变量。该变量将保存heroku应用程序名称。我将我的密钥命名为<strong class="ih hj"> HEROKU_APP_NAME </strong>，其值将为heroku app name(即用于暂存<em class="me">bitbucketpipeline-暂存</em>和用于生产<em class="me">bitbucketpipeline-生产</em>)。</p><p id="9769" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">打开您的存储库，转到“存储库设置”,向下滚动并找到侧面导航栏上的“管道”部分，然后单击“管道”部分下的“部署”选项。展开登台环境并添加变量，展开生产环境并添加环境。</p><div class="lq lr ls lt fd ab cb"><figure class="mo mg np mq mr ms mt paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><img src="../Images/085c651b679afb102856c280b3f53186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*h7IFXdVKa81EypyC_A9xIw.png"/></div></figure><figure class="mo mg nq mq mr ms mt paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><img src="../Images/98426303f0ac79e5a1b217c35eaed427.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*bxrib5UQ4EV--aevm9_9pQ.png"/></div></figure></div><h2 id="9b79" class="kn jl hi bd jm ko kp kq jq kr ks kt ju iq ku kv jy iu kw kx kc iy ky kz kg la bi translated">步骤4.4 —配置位桶管道</h2><p id="9a93" class="pw-post-body-paragraph if ig hi ih b ii ki ik il im kj io ip iq kk is it iu kl iw ix iy km ja jb jc hb bi translated">这将是最后一步，我们将编写一些代码。在您喜欢的代码编辑器上打开您的项目，并在项目的根目录下创建一个名为<strong class="ih hj"><em class="me">bit bucket-pipelines . yml</em></strong>的文件。文件名必须完全匹配，这是bitbucket知道它是管道配置文件的方式。这个文件保存了您的存储库的构建配置。您可以用这个文件做很多事情，所以如果您想了解更多，请查看文档。</p><p id="f5fe" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">下面是关于配置<a class="ae lk" href="https://yaml.org/" rel="noopener ugc nofollow" target="_blank"> <em class="me"> YAML </em> </a>文件你需要了解的基本情况:</p><ul class=""><li id="45ef" class="lb lc hi ih b ii ij im in iq nj iu nk iy nl jc lg lh li lj bi translated">映像— bitbucket管道使用docker映像来运行您的构建</li><li id="173d" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">管线-包含所有管线定义</li><li id="5e96" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">分支-为所有特定于分支的构建管线定义一个部分。本节中的名称或表达式与Git存储库中的分支相匹配</li><li id="3147" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">缺省(default )-包含与另一部分中的管线定义不匹配的所有分支的管线定义</li><li id="19c1" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">步骤—定义构建执行单元。步骤按照它们在<strong class="ih hj"> bitbucket-pipeline.yml </strong>文件中出现的顺序执行</li><li id="d7fe" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">名称(name )-为每个步骤定义一个名称，以便在显示中更容易看到每个步骤在做什么</li><li id="e7f4" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">脚本—包含按顺序执行的命令列表。脚本按照它们在步骤中出现的顺序执行</li><li id="d7f0" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">工件-定义由某个步骤生成的文件，例如您希望与后续步骤共享的报告和JAR文件</li><li id="6475" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">部署—为您的部署步骤设置环境类型，并在您的位存储库的部署仪表板中使用</li><li id="11bb" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">pipe——它通过在幕后完成大量工作，使复杂的任务变得更加简单。它就像一个附加产品</li><li id="650d" class="lb lc hi ih b ii ll im lm iq ln iu lo iy lp jc lg lh li lj bi translated">变量-包含启动管道时提供的变量</li></ul><p id="c09e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在我们的例子中，我们将使用nodejs映像，因为我们需要它来构建reactjs应用程序。我们将有两个分支，即试运行和生产，我们还有一个默认分支，以便在推送到其他分支时运行测试步骤。staging and production分支将有三个步骤，第一步运行测试，第二步构建我们代码的归档文件，第三步也是最后一步将归档代码部署到heroku。默认情况下只有一个步骤，该步骤负责运行测试。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es nr"><img src="../Images/2e2e30f435526d73208c273232f2aa16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZOaYGKum9s2UhY0uHm0XOg.png"/></div></div></figure><p id="479d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">最后，让我们将代码提交并推送到远程存储库，但在此之前，将您的bitbucket存储库作为远程存储库添加到reactjs应用程序中。在根目录下打开终端，输入您的代码，不要忘记用您的用户名和存储库名称替换＄{您的用户名}和＄{存储库名称}。之后提交你的代码，并把它推到bitbucket。</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="affc" class="kn jl hi lv b fi lz ma l mb mc">git remote add origin <a class="ae lk" href="https://${your-username}@bitbucket.org/${your-username}/${repository" rel="noopener ugc nofollow" target="_blank">https://${your-username}@bitbucket.org/${your-username}/${repository</a>-name}.git</span><span id="cc30" class="kn jl hi lv b fi md ma l mb mc">git add .</span><span id="691d" class="kn jl hi lv b fi md ma l mb mc">git commit -m 'Bitbucket pipeline configuration'</span><span id="f7f0" class="kn jl hi lv b fi md ma l mb mc">git push -u origin master</span></pre><p id="0a8f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在推送代码之后，转到您的存储库的pipeline选项卡，因为我们第一次推送构建配置文件，并且我们推送的分支是驻留在bitbucket构建配置文件的default部分中的主分支，所以不会执行默认的管道，但是下次您将代码推送至主分支时，管道将自动执行。我们还可以手动执行管道，转到存储库的pipeline选项卡，单击Run pipeline，然后选择主分支和默认管道。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div class="er es ns"><img src="../Images/12a89ccadabc88461471bd9f02a36f69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*SvM1kLtPXnKS2RSJUX00vQ.png"/></div></figure><p id="a649" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">当您单击run时，它将启动管道，如果运行默认管道成功，您应该会得到这个结果。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es nt"><img src="../Images/4bb67d5b4f45689e10e22113878d7d18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vgi2xDrho8xYD7g4nz7-Ww.png"/></div></div></figure><p id="cc2f" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，让我们为暂存管道创建一个暂存分支，转到存储库的“分支”选项卡，单击“创建分支”,并用以下信息填充显示的对话框。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div class="er es nu"><img src="../Images/a6a2e344da8f8c1cdd314e67462fce20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*KrWLBj-2tYRtDUPwPwsNRg.png"/></div></figure><p id="5283" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">一旦登台分支的创建完成，登台管道就开始了，打开存储库的管道部分，并查看正在进行的管道。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es nv"><img src="../Images/0533bb48a955a161dc558af12099b956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cz2jNCdVolQqjBl6TxixHg.png"/></div></div></figure><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es nw"><img src="../Images/44e79215e720ff453a47c8de1086f666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F8UuDXHTJGfJRoYCCj77pA.png"/></div></div></figure><p id="f126" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">接下来，进入Heroku dashboard，点击staging app，你就可以在Heroku上看到你的app的部署过程。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es nx"><img src="../Images/8ccb3e89fcf2c730e6c8b98a6d60499b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*leiOidhCytRDu9Z0RBPJ9g.png"/></div></div></figure><p id="3a23" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">等待heroku完成构建并将您的应用程序部署到他们的服务器，当构建成功完成时，打开您的应用程序并单击打开按钮，它将在一个新的选项卡上打开您的网站。</p><figure class="lq lr ls lt fd mg er es paragraph-image"><div class="er es ny"><img src="../Images/7a1dd36e71b58cbabed19a61a09e619f.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*u7B_1vw-uR_947VGhz_4Cg.png"/></div></figure><figure class="lq lr ls lt fd mg er es paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="er es nz"><img src="../Images/6a09fe4873b86dea3bcd07c91516b125.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SZ5bKWUCqEyGIV7k9jLDeg.png"/></div></div></figure><p id="cc09" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">对生产分支也执行相同的步骤，然后您可以使用生产管道将您的代码部署到生产应用程序中。从现在起，无论何时您将代码推入或者将分支合并到登台分支或者生产分支，相应的管道都将运行。当您将代码推送到其他分支时，将运行默认管道。</p></div><div class="ab cl jd je gp jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="hb hc hd he hf"><p id="e736" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Fireayehu Zekarias</p><p id="8723" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">埃塞俄比亚亚的斯亚贝巴大学软件工程专业毕业生。</p><p id="047e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lk" href="https://www.linkedin.com/in/fireayehu-zekarias-b82576106/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a> <a class="ae lk" href="https://twitter.com/Fireayehu" rel="noopener ugc nofollow" target="_blank"> Twitter </a></p><p id="cd6a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">谢谢你</p></div></div>    
</body>
</html>