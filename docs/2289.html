<html>
<head>
<title>Simple Script Communication In Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Unity中的简单脚本通信</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/simple-script-communication-in-unity-199d25dd64c?source=collection_archive---------23-----------------------#2021-04-29">https://medium.com/nerd-for-tech/simple-script-communication-in-unity-199d25dd64c?source=collection_archive---------23-----------------------#2021-04-29</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/9504b3e95df0f08b25fdbe97ddeab9a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/1*cvYHdxD-iEcjltOBIV6CRQ.gif"/></div></figure><p id="25ad" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated"><strong class="io hj">脚本通信</strong>用于访问多个游戏对象之间的函数。</p><p id="060d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">继续昨天关于物理学的文章，创建我们的激光和敌人碰撞的功能，让我们看看当敌人和玩家碰撞时我们想要发生什么。我们可以在我们的<strong class="io hj">控制输入方法</strong>中添加一个<strong class="io hj"> else if语句</strong>，并检查<strong class="io hj"> other.tag == "Player "。</strong></p><p id="3b81" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">如果敌人击中了玩家。我们要从玩家身上扣除一条命。首先，我们需要创建这个<strong class="io hj">变量</strong>。储存在玩家行为而非敌人内部是有意义的。但是我们的<strong class="io hj">对敌人的</strong>方法是发生在敌人身上的。现在我们可以交换一下，但这是练习<strong class="io hj">脚本交流</strong>的好机会。</p><p id="3e42" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先让我们在玩家脚本中创建一个<strong class="io hj">方法</strong>来扣除一条生命。这就是我们想要使用<strong class="io hj">公共属性</strong>的地方，这样其他的<strong class="io hj">游戏对象</strong>就可以访问这个<strong class="io hj">方法</strong>。在我们的方法中，让我们简单地扣除我们生命的价值。我们也可以检查我们是否没有生命，然后通过函数调用<strong class="io hj">游戏，现在让我们<strong class="io hj">摧毁</strong>玩家。</strong></p><p id="af25" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在在我们的<strong class="io hj">敌方脚本中，我们的<strong class="io hj">内的</strong>检查</strong>中的<strong class="io hj">玩家标签</strong>，让我们访问<strong class="io hj">‘其他’碰撞器</strong>，接下来我们要<strong class="io hj">获得那个对象的一个组件</strong>。我们的脚本名为<strong class="io hj"> Player </strong>，因此我们的代码如下所示:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jk"><img src="../Images/5a960113223d56203f842ba302abde72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fkLKcYLTPqS0g3_8hK27pw.png"/></div></div></figure><p id="cdbf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们需要将它附加到<strong class="io hj">玩家类</strong>的一个变量上。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jt"><img src="../Images/0ecf2c93844c131e4c8218530cf0bcc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mRmH6iHpgvOpFXQ2G_YSfA.png"/></div></div></figure><p id="2b37" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们有了一个对存储在<strong class="io hj">变量播放器中的<strong class="io hj">播放器脚本</strong>的引用。</strong></p><p id="831b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了防止任何错误发生，让我们遵循良好的实践，检查标记为“播放器”的<strong class="io hj">碰撞器上是否存在<strong class="io hj">播放器脚本</strong>。为此，我们使用一个<strong class="io hj"> if语句来进行空检查。</strong>如果脚本不等于<strong class="io hj"> null </strong>并因此存在，我们可以跟踪并访问我们在<strong class="io hj">玩家类中创建的<strong class="io hj">伤害方法</strong>。</strong></strong></p><p id="6bf7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">别忘了还有<strong class="io hj">消灭</strong>敌人！</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ju"><img src="../Images/5ff7881a9f7260b913da04a576519045.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*rW4Bc9euaM7347d5QGzzzQ.png"/></div></figure><p id="7b0d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这就是基本的<strong class="io hj">脚本通信</strong>实现。通过使用标签，我们可以很容易地访问其他游戏对象，我们也可以访问脚本之外的其他组件。请记住，我们要调用的方法需要是公共的，以便跨脚本访问，并且总是用<strong class="io hj">空值检查</strong>来防止错误！</p></div></div>    
</body>
</html>