<html>
<head>
<title>Turning the PowerUp Off</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关闭电源</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/turning-the-powerup-off-cbf89280da1e?source=collection_archive---------22-----------------------#2021-04-13">https://medium.com/nerd-for-tech/turning-the-powerup-off-cbf89280da1e?source=collection_archive---------22-----------------------#2021-04-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="0d0b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">由于在这个游戏中，玩家不应该无限期地启动三重射击，我们将使用一个协程在5秒钟后关闭或关闭三重射击效果。</p><p id="6410" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先，在播放器脚本中，为加电持续时间添加一个值为5的私有float。这将控制通电持续的时间。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/d5d375ee3abc202019f9b79afe69dd07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SRVtRoXWtr-t4LtVWiWgUQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">通电持续时间的浮动</figcaption></figure><p id="18cd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">然后创建一个名为“TripleShotPowerDownRoutine”的新协程，让它为_powerUpDuration生成，并在生成后将_isTripleShotActive设置为false。这将让玩家拥有持续5秒的三连击效果。在将_isTripleShotActive设置为true后，在TripleShotActive中启动协程。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/39792cae6697862eaeb54777e045a010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d0rcd4eHLQQjid9XydJKng.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">掉电程序</figcaption></figure><p id="2c25" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在通电持续5秒钟，然后关闭。唯一的问题是，如果球员拿起另一个三连击，而三连击是活跃的，计时器不会延长，因为你可以从控制台的时间戳看到。它只能持续设定的5秒钟。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/684c8f85eeed1e23f534a3acd86f2cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*rpQQ1iQfp2gEhkjtcAQC-Q.gif"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">三枪断电</figcaption></figure><p id="c489" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">如果玩家在激活状态下捡起另一个三连击，要延长计时器，协程让步的方式需要改变。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jv"><img src="../Images/f180aef5dfa358751c48c5582443771e.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*GGtJ6_oOoA_H5QrEwoT1nA.png"/></div><figcaption class="jp jq et er es jr js bd b be z dx translated">时间戳</figcaption></figure><p id="ff62" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在播放器脚本中，在增加时间的TripleShotPowerDownRoutine中，创建一个while循环，只要_powerUpDuration大于0，该循环就会运行，并让它产生1秒钟，然后将_powerUpDuration减1。在while循环完成后，将_powerUpDuration重置回5。然后，在TripleShotActivate方法中，添加一个else语句，以便在Triple Shot处于活动状态时，将_powerUpDuration增加5。这将延长协程的运行时间。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/ed1191d2f8bab50fced5f4f6eb9f014a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sMBeIu-74Z1K6rBneHAxbg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">扩展协同程序</figcaption></figure><p id="317d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如您在控制台时间戳中看到的那样，延长的时间现在正在起作用。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jw"><img src="../Images/c9371707ac81ce65ffccdda9e8352f73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AZb-nzVkXGfV5tso7HpQbQ.gif"/></div></div></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jx"><img src="../Images/0b062c0c274d22e2e6ae95bf03a217a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*FSqmvM7Z09QiZC5Kdq9I6w.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx translated">时间戳</figcaption></figure><p id="1268" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">既然第一次加电已经开始工作，我们就有了一个基础来完成模块化，我们将在下面的文章中看到这一点。</p></div></div>    
</body>
</html>