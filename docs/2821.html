<html>
<head>
<title>Using Config to Define Absolute Paths in Cypress</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Config在Cypress中定义绝对路径</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-config-to-define-absolute-paths-in-cypress-a6a4f490f6a4?source=collection_archive---------3-----------------------#2021-05-21">https://medium.com/nerd-for-tech/using-config-to-define-absolute-paths-in-cypress-a6a4f490f6a4?source=collection_archive---------3-----------------------#2021-05-21</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="6ac1" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">当然，相对路径和绝对路径(import/require)各有利弊——但就个人而言，我更喜欢使用绝对路径，因为它提供了更多的可读性和可重构性(例如，将文件移动到不同的文件夹结构)</h2></div><p id="59cb" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">就我记忆所及，我从来没有在编码时(特别是在C#中)过多地处理过<code class="du jt ju jv jw b">import</code>或<code class="du jt ju jv jw b">require</code>，因为它肯定使用了名称空间导入。名称空间本身反映了要使用(或在这种情况下导入)的文件的文件夹结构或路径。</p><p id="21f1" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你一直在用<a class="ae jx" href="https://www.cypress.io/" rel="noopener ugc nofollow" target="_blank"> Cypress </a>和TypeScript编写代码来创建自动化测试，那么你就有机会使用设计模式。我使用页面对象模型(POM)设计模式来定义页面中的元素和元素动作(即<code class="du jt ju jv jw b">click()</code>和<code class="du jt ju jv jw b">type()</code>)。随着代码库的增长，我意识到我越来越多地使用相对路径来导入或需要POM或fixture文件。有时，由于连接的测试流和断言，在单个<code class="du jt ju jv jw b">describe</code>中需要几个POM和fixtures。</p><p id="5370" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">不过使用<code class="du jt ju jv jw b">'~/'</code>应该很容易。但是我认为JavaScript/TypeScript不会那样做，因为它会给你一个错误。</p><blockquote class="jy jz ka"><p id="7b11" class="ix iy kb iz b ja jb ij jc jd je im jf kc jh ji jj kd jl jm jn ke jp jq jr js hb bi translated">找不到模块“~/path/to/POM”或其相应的类型声明。</p></blockquote><p id="ed32" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">我在Cypress看过的几篇关于绝对路径的博文确实过时了。最好的有解决方案的在<a class="ae jx" href="https://github.com/cypress-io/cypress/issues/3262" rel="noopener ugc nofollow" target="_blank"> GitHub </a>里。但是，前两个解决方案(使用@cypress/webpack-preprocessor和CypressFileKindPlugin)对我不起作用。即使它能工作，解决方案对我来说也太复杂了，特别是如果使用webpack-preprocessor，因为我必须安装4个额外的依赖项(@babel/core，@babel/preset-env，babel-loader和webpack)，而我可能根本不会使用它们。</p><p id="f797" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">marklawlor 的第三个解决方案不仅有效，而且是最简单的。非常感谢他！😄</p><p id="3a80" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">所以，这里是我结合使用他的解决方案和flybayer的总结</p><ul class=""><li id="c67b" class="kf kg hi iz b ja jb jd je jg kh jk ki jo kj js kk kl km kn bi translated"><code class="du jt ju jv jw b">npm install --save-dev tsconfig-paths</code></li><li id="51f5" class="kf kg hi iz b ja ko jd kp jg kq jk kr jo ks js kk kl km kn bi translated">在项目<code class="du jt ju jv jw b">tsconfig.json</code>的根文件夹中创建一个新文件</li></ul><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="er es kt"><img src="../Images/c44e34c1b9843b1f51d1f7fdf89ea0df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SNY0zqTA2J52BJR2IrZ7zg.png"/></div></div><figcaption class="lf lg et er es lh li bd b be z dx translated">tsconfig.json</figcaption></figure><ul class=""><li id="f439" class="kf kg hi iz b ja jb jd je jg kh jk ki jo kj js kk kl km kn bi translated">通过添加<code class="du jt ju jv jw b">extends</code>和<code class="du jt ju jv jw b">baseUrl</code>更新cypress文件夹中的<code class="du jt ju jv jw b">tsconfig.json</code>文件</li></ul><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lj"><img src="../Images/7e9ad5c45fb92dd33c8ce104e4aa5b9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*_s8PU8D0jkBsKCi3erJRBw.png"/></div><figcaption class="lf lg et er es lh li bd b be z dx translated">cypress/tsconfig.json</figcaption></figure><ul class=""><li id="86d6" class="kf kg hi iz b ja jb jd je jg kh jk ki jo kj js kk kl km kn bi translated">更新插件文件的<code class="du jt ju jv jw b">index.ts</code></li></ul><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lj"><img src="../Images/d8f7c45e5946eb6edd5a6253358e4c63.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*leVPufQzmo000yErMQhniA.png"/></div><figcaption class="lf lg et er es lh li bd b be z dx translated">赛普拉斯/插件/索引. ts</figcaption></figure><p id="4b6b" class="pw-post-body-paragraph ix iy hi iz b ja jb ij jc jd je im jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">和...瞧啊。然后，您可以使用绝对路径导入和要求，使用根tsconfig文件中指定的路径。</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lk"><img src="../Images/b175f163bd2f64f797804d6fd08581c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*vEJQHNZUk1apvORqvcnTNw.png"/></div><figcaption class="lf lg et er es lh li bd b be z dx translated">cyprss/integration/log in . spec . ts</figcaption></figure></div></div>    
</body>
</html>