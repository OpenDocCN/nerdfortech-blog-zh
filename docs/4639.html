<html>
<head>
<title>Setting Up Transitions Between Animations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置动画之间的过渡</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/daily-progression-setting-up-transitions-between-animations-40643426d05?source=collection_archive---------16-----------------------#2021-07-30">https://medium.com/nerd-for-tech/daily-progression-setting-up-transitions-between-animations-40643426d05?source=collection_archive---------16-----------------------#2021-07-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/17c246d29939905e555adb9de16c6646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*GLQajk6u6v52BwOxMqXnog.png"/></div></figure><p id="746c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">目前，我们需要在空闲和运行状态之间创建一个转换，但是什么时候应该这样做呢？显然当玩家按下方向键移动玩家时。我们知道使用GetAxisRaw，按键的结果是-1、0或1，所以我将创建一个Int类型的参数，并将其命名为Move，我将使用它来创建转换规则:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/d1830548b2228f3642202f5957195835.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/1*2YVQwFzkVKx_FQzBBHKNaQ.gif"/></div></figure><p id="8e3f" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">让我们做一个转换:右键单击并拖动一个箭头，从idle变为run。然后点击箭头，你会看到一个条件框。点击加号，我们将看到我们新创建的移动变量或参数。当它大于0时，我们要改为运行。</p><p id="7e47" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">同样，从运行返回到空闲，添加一个新条件，并使其等于0以进入空闲状态。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/13cb21726def01ba2d5f202787a01648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/1*bC6nuF4XNHd5jHrcp3dObA.gif"/></div></figure><p id="970a" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">为了保持美观和面向对象，我们将创建一个名为PlayerAnimation的新脚本来处理所有的过渡。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/8efbe14c952d670b8cb3750b99f8c873.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/1*uYRIXf_TE0gytaOegYc1qw.gif"/></div></figure><p id="d529" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在让我们为动画师创建一个句柄。请记住，实际的动画师是在Sprite中，而不是在容器中，所以我们需要使用GetComponentInChildren。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jp"><img src="../Images/199dcf986df0f43c990df3ba2a6a4901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TSB_oH0hE5pFhzn9FmpOWQ.png"/></div></div></figure><p id="0d79" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">接下来，我将创建一个函数，当玩家移动时，它将被玩家调用，它将包含参数move，该参数将保存_horizontalInput变量。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es ju"><img src="../Images/169adc1444aa64e2505f76ff05453faa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lh5P-H6ffjJAqzULyxa7cw.png"/></div></div></figure><p id="6250" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在move函数中，我们告诉动画师我们设置的“Move”参数是输入变量的绝对值。使用Mathf。Abs本质上只是删除任何负值，并总是返回一个正值。所以我们基本上要么看0要么看1。</p><p id="dacf" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在Unity中使用integer而不是float会导致一些问题，因为在某些情况下它需要float，但是我们马上会解决这个问题:</p><p id="a171" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在播放器脚本中，我们将把_horizontalInput的值从float改为int。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jv"><img src="../Images/33c9ff28842a80995c63946d8c1501eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qWDFQLH91UcVs2eWC8Pysw.png"/></div></div></figure><p id="c5e9" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在CheckMovement函数中，我们将获取_horizontalMovement值并将其传递给动画制作人，但首先，让我们创建一个动画制作人的句柄:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jw"><img src="../Images/d312f7e80978245565c6d792282deb17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4vf6dguBKzywYu2_usbMZQ.png"/></div></div></figure><p id="1717" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这看起来很熟悉，因为我们在动画和刚体上使用它，但是现在我们有了自己的类！整洁！</p><p id="4c41" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在让我们开始行动吧！</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jq jr di js bf jt"><div class="er es jx"><img src="../Images/46ec64d3c862ba55fe9fad1e8eb480b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-oS2vnqrLE7BLDZ9-xuCg.png"/></div></div></figure><p id="ca5c" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这里有一种情况，即使我们将所有的东西都指定为整数，Unity仍然希望来自GetAxis方法的任何东西都是浮点数，所以我们在前面加上一个(int)来告诉Unity，当我们得到一个浮点数时，它会将其转换为整数。这就是所谓的造型，你可以用这种方法动态地转换几乎任何东西。你可以把它想象成施咒把某种东西从一种类型变成另一种类型。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/0ba15444d8eaf9ec829f773857401d2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/1*m0x1jyezjFhG8mNqDL-_UQ.gif"/></div></figure><p id="afb7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">抛开变形咒语的伦理含义，让我们看看它是否有效:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/f104a74685f1fac13c690615f326a9ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/1*jaLcYWsM3c90BgDkgIJRTQ.gif"/></div></figure><p id="54b4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">这是可行的，但是在各州之间有一段难以置信的时间间隔。现在这应该是一个熟悉的问题，它很容易通过点击“有退出时间”并将过渡时间设置为0或像0.1这样极低的值来解决。因为我们正在处理一个有精灵的2D游戏，所以让我们将过渡时间设置为0。较长的过渡对于骨架可以利用插值的3d角色更有用。</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/14f709b3c0eef00e25f7491ed922797a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/1*uAnoe3hEfHc9VRKfJxhCJA.gif"/></div></figure><p id="33ea" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在让我们看看不同之处:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/59ec3be9af9e0b76bb7d240397af1494.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/1*lyJtv7mTV_TgofbneMB0Pg.gif"/></div></figure><p id="b1e6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">看起来不错！但是玩家只面向一个方向！的确，这是我们明天要解决的问题！到时候见！:D</p></div></div>    
</body>
</html>