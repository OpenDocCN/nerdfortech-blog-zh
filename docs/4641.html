<html>
<head>
<title>Let’s Toss in a Distraction Coin</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们扔硬币来分散注意力</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/lets-toss-in-a-distraction-coin-4032fe1cc42c?source=collection_archive---------18-----------------------#2021-07-30">https://medium.com/nerd-for-tech/lets-toss-in-a-distraction-coin-4032fe1cc42c?source=collection_archive---------18-----------------------#2021-07-30</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div class="er es if"><img src="../Images/e6ea9301364c7558aa26fae20608afe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/0*aA-GIV35RSRD0DIX.png"/></div></figure><p id="76b0" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">由于我们的守卫能够探测到玩家，让我们想办法制造一个硬币扔进场景中来暂时分散我们守卫的注意力，这样我们就可以从他们身边走过。首先，我们需要对我们的玩家脚本做一些补充，这样我们就可以有一个方法来触发硬币的使用。由于我们要将它绑定到我们的右键单击，我们可以创建一组新的代码来使用。首先，我们需要处理几个变量:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jk"><img src="../Images/4a98f891f06a977099085b08a0daaa57.png" data-original-src="https://miro.medium.com/v2/resize:fit:542/format:webp/1*fhzC2U-4TDJJ0r4myuOyyQ.png"/></div></figure><p id="74a4" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">从这里，我们可以创建一个新的 if 语句来实例化我们的硬币，并将音频剪辑附加到它:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jp"><img src="../Images/e765608f2f30a19be7b63eba020a761a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*MMYlfelY5u65MIEVykVv8Q.png"/></div></figure><p id="23b2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">当我们使用导航网格代理时，我们将使用光线投射，这样我们的硬币就能正确地粘在地板上。我们使用 RaycastHit hitInfo 来表示鼠标点击时的位置。有了这些代码，我们可以测试硬币是否出现在场景中:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/c18f33a8a822ea0558ff53adc4c4b65f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Q191pq9KHKkeeUyMuKWzw.jpeg"/></div></div></figure><p id="b573" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们可以看到一堆硬币散落在地板上，所以我们知道点击会起作用。然而，拥有无限的硬币供应会使这太容易通过，所以让我们开始限制它，每次游戏只有 1 个硬币。<br/>为了限制使用，我们可以使用几个方法。如果我们想让玩家有多次机会，我们可以将其设置为整数值，并给玩家一定数量的硬币。然而，我们只是将我们的玩家限制为 1 个硬币，所以在这种情况下，我们可以将其设置为 bool。首先，我们需要在脚本中创建新变量:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jv"><img src="../Images/c98f3005f3d6b54f5477f1e14d82c9ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*-2B0bLHouEaY1ysHKjo5LA.png"/></div></figure><p id="c4a2" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">从这里开始，我们可以在脚本的硬币部分添加一些东西:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/d9f84e22b4024c7e53ba2dfc63678a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*a60bArZBsLCXNsHzHIcBmg.png"/></div></figure><p id="9369" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们已经设置好了，我们可以在游戏中进行测试，看看当我们发送垃圾邮件时，单击鼠标右键是否只能得到 1 枚硬币:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/95cf291087ed92a94d77e52572404e3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IpOPPMkvU9AzjUor3wYU_Q.gif"/></div></div></figure><p id="0b97" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">既然我们对硬币设置了一个限制，是时候让硬币分散守卫的注意力了。<br/>要设置这个，我们需要玩家脚本的一部分，这是硬币的一部分，与我们的 GuardAI 脚本进行交互。首先，我们将创建一个新的空白，并附加我们需要与之交互的防护部件:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jw"><img src="../Images/2b9556f11723f400b7f544e54e71dbb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*xgKjHUnQbzbhcEYfcuXjCQ.png"/></div></figure><p id="e51b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">首先，我们需要通过他们的标签链接到我们所有的警卫。从这里，我们需要创建一个 foreach 语句，并连接到警卫 NavMesh、脚本和动画。这允许我们告诉我们的守卫移动到硬币的位置，并覆盖守卫当前的移动轨迹，同时让他们走向目标。接下来，我们将检查需要添加到 GuardAI 脚本中的更改:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jx"><img src="../Images/3a4f08d9ba61e3c89039695dffb43e01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pL2eb4lEDQxKPmhAcOUQzA.png"/></div></div></figure><p id="a00d" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">在我们的警卫脚本中，我们需要添加一个 bool 来阻止我们的警卫协程将他们从每个路点移走。然后，我们将创建一个很长的距离，让警卫变得无所事事，这样我们的警卫就不会只是为了一个小点而打架。同样，为了防止这个问题发生，我们需要对我们的防护网做一些调整:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es jy"><img src="../Images/4de7c33fbebe003c93497922170d15ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*fC8ZW-D7gt9lIfB87ulTmw.png"/></div></figure><p id="046e" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们要做的是关闭自动刹车，这样警卫就不会为了一个小点而打架。如果我们觉得需要对距离进行一些调整，我们也可以在这里调整停车距离:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jz"><img src="../Images/a0dc9b4a0cb1d8f4e31ec883fa56c8a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*H5MhCDAxH027Zfs6WKZ3Mw.gif"/></div></div></figure><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jz"><img src="../Images/c2b94f61fe6e97242c08caf66e81f3e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*3U8Z8M20mVI95vYukRpK_A.gif"/></div></div></figure><p id="68f7" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">现在我们有了一个分散注意力的方法来吸引守卫的注意力，让我们快速添加一个玩家投掷硬币的动画。为此，我们需要为播放器调整控制器:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jz"><img src="../Images/17540816230cd4058020b203b83b737e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hlkkMuSmmfTIX-qOVLQGaA.png"/></div></div></figure><p id="347b" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">我们能够做的是将 throw 连接到任何状态，然后通过适当的转换参数将其连接到 walk 和 idle。接下来，我们只需在脚本的掷硬币部分添加一行代码:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div class="er es ka"><img src="../Images/1d3b6fd518fc802b7185864ada031d7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*f1tVdwTDKu7A9kWvtoOqlQ.png"/></div></figure><p id="96e8" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">准备就绪后，让我们在游戏中测试一下:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jz"><img src="../Images/346fcad93062686fb72ea9917e80e540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*av1AyKjI-ZIEy_OJu6npUA.gif"/></div></div></figure><p id="4039" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">最后，我们将学习如何添加一个一旦触发就会激活的语音剪辑。这是一个类似于摄像机更换的过程，但使用音频代替。首先，我们需要创建一个新脚本，并让它从音频源中提取剪辑:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es jq"><img src="../Images/00f2d7f838e06910d27b48c39bb9d95b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jPnYxZrRghBH7dO1XUKp8A.png"/></div></div></figure><p id="fbb6" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">一旦我们设置好了，我们就可以返回到我们的触发器，并将脚本和音频源都连接到它们。从这里开始，我们将把每个触发器所需的音频剪辑附加到它们各自的音频源:</p><figure class="jl jm jn jo fd ij er es paragraph-image"><div role="button" tabindex="0" class="jr js di jt bf ju"><div class="er es kb"><img src="../Images/ab9dca9b4dbdac3eb0833c4897b7e11e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/1*DhT8i_TarSy-EnphAh1Blw.png"/></div></div></figure><p id="9edb" class="pw-post-body-paragraph im in hi io b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj hb bi translated">既然我们已经设置好了分散注意力的硬币，我们就可以在游戏中制造更多的障碍了。</p></div></div>    
</body>
</html>