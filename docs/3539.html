<html>
<head>
<title>Are Microservices Right for You?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微服务适合你吗？</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/are-microservices-right-for-you-8fd0a6cb3183?source=collection_archive---------7-----------------------#2021-06-13">https://medium.com/nerd-for-tech/are-microservices-right-for-you-8fd0a6cb3183?source=collection_archive---------7-----------------------#2021-06-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="2f27" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">答案是……视情况而定</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/f8a5b2fa42df195abc63beef29294e9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mp1CpQtgj7THRSg4xm6WyQ.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd jn">图片由</strong> <a class="ae jo" href="https://www.contentstack.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="bd jn">内容堆栈</strong> </a>提供</figcaption></figure><p id="8ebb" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated"><strong class="jr hj"> <em class="kl">您如何知道微服务对您的组织是否有意义？如果你想弄清楚，请继续读下去。</em>T9】</strong></p><h2 id="8340" class="km kn hi bd jn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">什么是微服务？</h2><p id="4275" class="pw-post-body-paragraph jp jq hi jr b js lg ij ju jv lh im jx jy li ka kb kc lj ke kf kg lk ki kj kk hb bi translated">微服务不是魔术，但它们是一种将应用程序分解成可用组件的方法，这些组件可以连接在一起形成系统。之所以称之为微服务，是因为它们的组件往往比流行了十多年的传统<a class="ae jo" href="https://en.wikipedia.org/wiki/Service-oriented_architecture" rel="noopener ugc nofollow" target="_blank"> <em class="kl">面向服务架构</em> </a> (SOA)服务更小。单个微服务:</p><ul class=""><li id="8f35" class="ll lm hi jr b js jt jv jw jy ln kc lo kg lp kk lq lr ls lt bi translated">在域<strong class="jr hj">有界上下文</strong>内实现<strong class="jr hj">单任务</strong>。这是微服务的一个基本特征，它促进了高层次的<em class="kl">粒度</em>和<em class="kl">关注点分离</em>，从而保留了微服务的<em class="kl">自主性</em>和<em class="kl">独立可部署性</em>。</li><li id="0b16" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">是松耦合的，并且很少或根本不使用其他微服务的定义——强制关注点分离。</li><li id="2207" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">是<strong class="jr hj">自主的</strong>，并且可以在不同开发团队之间较少协调的情况下进行开发和修改——促进<em class="kl">敏捷开发实践</em>。</li><li id="61db" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated"><strong class="jr hj">可独立部署</strong>，并且可以单独测试、部署和回滚，而不会影响其他微服务——支持<strong class="jr hj">基于云的</strong> <em class="kl">自动化部署、扩展、可靠性和故障转移</em>。</li></ul><p id="89a0" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">如果应用程序组件不满足这四个基本目标，它就不是微服务——它不能提供微服务架构风格的所有优势。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lz"><img src="../Images/8eeb031f85afd934046af8d1b8352260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3WmPwaAUfIhpP-cutL05DA.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><a class="ae jo" href="https://drive.google.com/file/d/10KLDVswfBmWy9nfgtFtRqx7SsJmRKKRU/view?usp=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="bd jn">点击查看详情</strong> </a></figcaption></figure><h2 id="8b97" class="km kn hi bd jn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">什么是独石？</h2><p id="927e" class="pw-post-body-paragraph jp jq hi jr b js lg ij ju jv lh im jx jy li ka kb kc lj ke kf kg lk ki kj kk hb bi translated">在软件工程中，<em class="kl">单片应用程序</em>描述了一个设计和/或部署时没有明显模块化的软件应用程序。实际上，大型的完全单一的应用程序已经很久没有被实现了——尽管有一些可能仍然存在。如今，当与微服务相比使用术语monolith时，它通常意味着当今最常用的架构模式之一，即<em class="kl">分层架构</em>，也称为<em class="kl"> n层架构</em>模式。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ma"><img src="../Images/12f32b0b256d802242faba8c18c57740.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-kDJEsIIFtdKq6CWLCy-Kg.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx translated"><strong class="bd jn">分层架构，版权2015–2021</strong><a class="ae jo" href="https://www.oreilly.com/" rel="noopener ugc nofollow" target="_blank"><strong class="bd jn">奥莱利媒体</strong> </a> <strong class="bd jn">，Inc .保留所有权利。</strong></figcaption></figure><p id="38f0" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">分层架构很受欢迎，因为它相当容易理解和使用。它将应用组件分解成整齐的层或层，每个层都有自己的职责范围。它还将用户表示与应用程序的其余部分分离开来，便于为同一个应用程序实现Web、移动和/或桌面GUI。有了设计良好的持久层，甚至可以保持高度的DBMS独立性。</p><p id="30cc" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">今天最流行的SOA框架，<a class="ae jo" href="https://en.wikipedia.org/wiki/Spring_Framework" rel="noopener ugc nofollow" target="_blank"> <em class="kl"> Spring Boot </em> </a>和<a class="ae jo" href="https://en.wikipedia.org/wiki/Jakarta_RESTful_Web_Services" rel="noopener ugc nofollow" target="_blank"><em class="kl">Jakarta RESTful Web Services</em></a>(JAX-RS)是分层架构，可以很好地工作。它们是SOA模式的强大、可靠和可管理的实现。在云计算出现之前，很容易认为SOA是非常广泛的业务应用程序和服务的最佳架构。然而，对于云计算来说，它有一些固有的缺点:</p><ul class=""><li id="058a" class="ll lm hi jr b js jt jv jw jy ln kc lo kg lp kk lq lr ls lt bi translated">至少，它的业务层和持久层必须作为一个单一的、可执行的整体部署在一起——尽管它的表示层和数据库层可以通过网络连接到整体的其余部分。</li><li id="a8a2" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">它的许多大型支持软件<strong class="jr hj">框架必须和它一起部署</strong>。</li><li id="9709" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated"><strong class="jr hj">控制流必须从上到下穿过每一层</strong>(表示层- &gt;业务层- &gt;持久性层- &gt;数据库层)，然后向上穿过相同的层。</li><li id="45e4" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">其<strong class="jr hj">固有的紧密组件耦合</strong>会对开发速度和敏捷性产生负面影响。</li></ul><h2 id="b439" class="km kn hi bd jn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">微服务解决什么问题？</h2><p id="b242" class="pw-post-body-paragraph jp jq hi jr b js lg ij ju jv lh im jx jy li ka kb kc lj ke kf kg lk ki kj kk hb bi translated">微服务架构通过以下方式帮助解决一些基本的软件开发、部署和运行时问题:</p><ul class=""><li id="5985" class="ll lm hi jr b js jt jv jw jy ln kc lo kg lp kk lq lr ls lt bi translated">缩短软件开发周期，优化敏捷软件开发和维护实践。</li><li id="38e9" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">促进快速的应用程序特性迭代，并简化软件测试、持续集成和持续交付。</li><li id="3fa4" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">利用云容器和容器编排提供的自动化部署、扩展、可靠性和故障转移功能。</li></ul><p id="ff10" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">最终的想法是，通过增加软件组件之间的隔离，微服务可以快速和独立地交付系统的小型离散部分，通过利用<a class="ae jo" href="https://cloud.google.com/containers/" rel="noopener ugc nofollow" target="_blank">容器和容器编排</a>可以跨云集群提供高度的水平可伸缩性和容错能力。</p><h2 id="4f96" class="km kn hi bd jn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">微服务的利与弊是什么？</h2><p id="2749" class="pw-post-body-paragraph jp jq hi jr b js lg ij ju jv lh im jx jy li ka kb kc lj ke kf kg lk ki kj kk hb bi translated"><em class="kl">天下没有免费的午餐！</em> <strong class="jr hj"> <em class="kl"> </em> </strong> <em class="kl">对于软件设计来说尤其如此——几乎每一个重要的选择都代表着成本与收益之间的妥协。</em></p><p id="5cdb" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">如果做得好，微服务架构真的可以带来它承诺的好处。它实际上可以:</p><ul class=""><li id="247b" class="ll lm hi jr b js jt jv jw jy ln kc lo kg lp kk lq lr ls lt bi translated">实现更快、更敏捷的软件开发。</li><li id="d572" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">帮助您更快地迭代应用程序功能，减少麻烦。</li><li id="854e" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">为您的应用程序和用户开放云的真正力量和功能。</li></ul><p id="f9e6" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">但是，所有这些都是有代价的。使用微服务架构需要更多的软件工程纪律和严谨性——用更少的代码进行更多的思考。</p><blockquote class="mb mc md"><p id="c1c5" class="jp jq kl jr b js jt ij ju jv jw im jx me jz ka kb mf kd ke kf mg kh ki kj kk hb bi translated">因为微服务需要软件架构和设计的有效应用，所以消除一些关于敏捷软件开发的错误假设很重要。敏捷并不禁止软件架构和设计。<a class="ae jo" href="https://agilemanifesto.org/principles.html" rel="noopener ugc nofollow" target="_blank">敏捷宣言</a>说，<strong class="jr hj">“最好的架构、需求和设计来自自组织团队”</strong>，这是一种非常有用和实用的方法。</p></blockquote><p id="c439" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">微服务架构的一个缺点是它倾向于创建比SOA更多但更小的组件。这可能会增加复杂性，复杂性会随着组件数量的增加而呈指数级增长。量化复杂度的一个相当好的公式是<strong class="jr hj"> c = n(n-1)/2 </strong>，其中<strong class="jr hj"> n </strong>是组件的数量。这意味着传统的分层、自上而下的配置和控制机制对于微服务来说不是特别有效。大型微服务部署需要更多的<a class="ae jo" href="https://drive.google.com/file/d/10Xftbv0OH4m_laJgnbosf9OSZ4VncILo/view?usp=sharing" rel="noopener ugc nofollow" target="_blank"> <em class="kl">动态和自组织</em> </a>配置和控制技术，幸运的是，这也可以在云中带来更好的水平可伸缩性和故障转移能力。</p><p id="5757" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">微服务和云计算对大多数组织来说都是新事物。直接跳进游泳池的深水区可能会有风险。通常最好是从浅的一端开始，一步一步来，从小的项目开始——当你进入一种实现软件的新方法时，强调学习和交流。像亚马逊和网飞这样的公司使用微服务方法取得了巨大的成功，但他们不是一夜之间就成功的。</p><h2 id="c01a" class="km kn hi bd jn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">我如何决定？</h2><p id="b711" class="pw-post-body-paragraph jp jq hi jr b js lg ij ju jv lh im jx jy li ka kb kc lj ke kf kg lk ki kj kk hb bi translated">如果贵公司对以下任何陈述的回答为“正确”,那么您可以从微服务中获益:</p><ul class=""><li id="ab17" class="ll lm hi jr b js jt jv jw jy ln kc lo kg lp kk lq lr ls lt bi translated"><em class="kl">数字化转型</em>确实是我们业务战略的重要组成部分。</li><li id="4ffb" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">我们确实需要利用<em class="kl">自动化</em> <em class="kl">部署</em>、<em class="kl">扩展</em>、<em class="kl">可靠性</em>和<em class="kl">故障转移</em>功能，这些功能可用于<em class="kl">云计算</em>。</li><li id="0109" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">在软件开发<em class="kl">和应用<em class="kl">特性迭代</em>方面，我们确实需要<em class="kl">更快</em>和<em class="kl">更敏捷</em>。</em></li><li id="9821" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">我们真的愿意创新，改变我们做事的方式。</li><li id="cc4d" class="ll lm hi jr b js lu jv lv jy lw kc lx kg ly kk lq lr ls lt bi translated">我们真的不能继续维持现状。</li></ul><p id="30fb" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">如果你不能对这些陈述中的一些做出“正确”的回答，那么你最好尽你所能使用SOA和一个主要的SOA框架。在他们的能力范围内，他们真的可以做得很好。</p></div><div class="ab cl mh mi gp mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hb hc hd he hf"><h2 id="c7b7" class="km kn hi bd jn ko kp kq kr ks kt ku kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">附加阅读</h2><p id="ec0e" class="pw-post-body-paragraph jp jq hi jr b js lg ij ju jv lh im jx jy li ka kb kc lj ke kf kg lk ki kj kk hb bi translated">如果您想更深入地了解微服务，我们建议您阅读用于云的<a class="ae jo" rel="noopener" href="/nerd-for-tech/software-architecture-for-the-cloud-c9226150c1f3"> <strong class="jr hj"> <em class="kl">软件架构</em> </strong> </a>和<a class="ae jo" rel="noopener" href="/nerd-for-tech/designing-microservices-4130bc41c046"> <strong class="jr hj"> <em class="kl">设计微服务</em> </strong> </a>。</p><p id="b590" class="pw-post-body-paragraph jp jq hi jr b js jt ij ju jv jw im jx jy jz ka kb kc kd ke kf kg kh ki kj kk hb bi translated">如果你想了解更多关于敏捷开发的原则，我们建议看看敏捷宣言  背后的<a class="ae jo" href="https://agilemanifesto.org/principles.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jr hj"> <em class="kl">原则。</em></strong></a></p></div></div>    
</body>
</html>