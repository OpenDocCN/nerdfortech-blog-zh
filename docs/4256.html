<html>
<head>
<title>Using a Dolly Track | Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用移动轨道| Unity</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/using-a-dolly-track-unity-eb503cb4cd08?source=collection_archive---------2-----------------------#2021-07-13">https://medium.com/nerd-for-tech/using-a-dolly-track-unity-eb503cb4cd08?source=collection_archive---------2-----------------------#2021-07-13</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="1478" class="hg hh hi bd b fp hj hk hl hm hn ho dx hp translated" aria-label="kicker paragraph">统一指南</h2><div class=""/><div class=""><h2 id="e124" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dx translated">关于如何在 Unity 中使用推车轨道的快速指南</h2></div><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/3571ccdd4a3931c7b1660fdfa11fb6f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*L-NsKAAgb_EdWjYGl-RScw.gif"/></div></div></figure><p id="21ff" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><strong class="ju hs">目标</strong>:实现一个 dolly 轨道，在 Unity 中构建一个过场动画。</p><p id="d7cf" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在上一篇文章中，我介绍了 Unity 中的时间线<a class="ae ko" rel="noopener" href="/nerd-for-tech/introduction-to-timeline-in-unity-cf9aba6d777e">。现在，是时候实现一个小车轨道来处理一个虚拟摄像机并在 Unity 中构建一个过场动画了。</a></p><h1 id="dece" class="kp kq hi bd kr ks kt ku kv kw kx ky kz ix la iy lb ja lc jb ld jd le je lf lg bi translated">新过场动画</h1><p id="7d50" class="pw-post-body-paragraph js jt hi ju b jv lh is jx jy li iv ka kb lj kd ke kf lk kh ki kj ll kl km kn hb bi translated">首先，让我们来看看过场动画，我们将建立使用小车轨道。我们有一个空的游戏对象，包含过场动画的演员和虚拟摄像机:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lm"><img src="../Images/5753cd373a6620089a62db972305eac3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*1LWA5hZ93iPx9W0E1_O44Q.png"/></div></figure><p id="d19d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">正如<a class="ae ko" rel="noopener" href="/nerd-for-tech/introduction-to-timeline-in-unity-cf9aba6d777e">在上一篇文章</a>中，我们将虚拟摄像机放置在由<a class="ae ko" rel="noopener" href="/nerd-for-tech/working-with-previs-elements-unity-89aa8103007c">预览元素</a>定义的位置。这个过场动画的目的是展示小偷(玩家)何时被守卫(NPC)发现，游戏何时结束。第一个镜头显示了从地板附近的角度辨认小偷，而第二个镜头显示了同一场景，但是是从上面的角度:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl lo lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/819a13f902359095283226174f100307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*xYw-kbDFyg19i7bkUVlQvA.jpeg"/></div></figure><figure class="ln jl lo lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/dbcafab54981c8070860250caa29817a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*OwtZc37o-NDVXZtXQeQnzg.jpeg"/></div></figure></div><div class="ab cb"><figure class="ln jl lo lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/dad6255f43cd9c347298117e94133bff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ig5iwKD_uJRQeTY7gd_rXg.png"/></div></figure><figure class="ln jl lo lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/31154f082d048f0b0368134025ac308e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*QLDl9nCk-w28tsi4mZ7m6A.png"/></div></figure></div><p id="ae10" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">两个虚拟摄像机(来自<a class="ae ko" href="https://unity.com/es/unity/features/editor/art-and-design/cinemachine" rel="noopener ugc nofollow" target="_blank"> Cinemachine </a>)和模型的动画使用时间轴窗口处理。过场动画预计持续 10 秒钟，一旦小偷碰到它的头，我们需要从第一台摄像机切换到第二台摄像机:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lt"><img src="../Images/00a89755a0440fe7baaa09454098d726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*LMO_TagQEWH51cpTFVK1Ow.gif"/></div></div></figure><p id="ab0d" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">在 previs 元素中定义的需求之一是让第一个摄像机能够在安全警卫周围移动时跟踪 Darren(小偷)。因此，为了满足要求，让我们通过点击<em class="lu">cinema Chine&gt;Create Dolly Camera With Track</em>来创建一个新的小车轨迹。</p><p id="6be5" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这将创建一个小车轨道和一个新的虚拟摄像机，但我们只需要小车轨道，因为我们已经有了各自的摄像机用于过场动画拍摄。让我们删除新的虚拟相机，并保留推车轨迹:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl lv lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c1e244f2f2c340c4fc4e40beb5cf9af4.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/1*evtF6Xn_mBwCHBAsDa2hUw.gif"/></div></figure><figure class="ln jl lw lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/69765e0cc463277e7e216867cd614c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*8IvcqZpYz6qc7Uqop6rn_A.png"/></div></figure><figure class="ln jl lw lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/5992a7b723924465306e4ed74bb486ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/1*P844JBLSstu26NAmQHLK1w.gif"/></div></figure></div><p id="c8ba" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated"><em class="lu">移动小车轨迹</em>或<em class="lu">移动小车路径</em>是一组路点，允许我们指定动画路线并改变虚拟摄像机的位置。</p><p id="acc8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，如果在场景视图中查看小车轨迹，我们将能够看到轨迹中只有 2 个路点。第一个航路点显示为 0，下一个航路点将显示下一个数字:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/e112b40f406a8bf14e63156456fb7ff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Thl29NX3GFK1Ux0NKYdYKA.png"/></div></div></figure><p id="4ef8" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们在层级中选择移动轨道，我们将能够通过检查器增加路径点:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl lx lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/b3131958653c2fcdfbec1ee3f09e5eb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/1*lKokuOXqHieypV6wO8G2mQ.gif"/></div></figure><figure class="ln jl ly lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/77c029daa0c1eeb6430ebc47f9c59cd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1470/1*xlKueJ6zz20ZzKRuJlIWrQ.gif"/></div></figure></div><p id="dafe" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，让我们将移动小车轨道移动到开始跟踪小偷的位置附近(小偷已经由我们的第一个虚拟摄像机定义):</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/50e8f395d94f869daa7c470f65710de3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g4-mOuUddHNGKXM1f8oYFw.png"/></div></div></figure><p id="faaa" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">因为我们在赛道上只有 2 个航路点，所以我们只能用它来定义一条直线。因此，为了从四周掩护保安，让我们添加更多的路点，形成一条圆形的路径:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl lz lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/40def068e786d3ad6d4277ab2609d05e.png" data-original-src="https://miro.medium.com/v2/resize:fit:734/1*V842CFgzwkVw7u6Ix5OSeg.gif"/></div></figure><figure class="ln jl ma lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c8f44f5fd62733bb51a683d6a0f75d42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/1*f8N9ixf7xf9j4xFa2tZAyg.gif"/></div></figure></div><p id="5c01" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">为了覆盖镜头中的三名警卫，我决定在赛道上使用 4 个航路点，如下所示:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/8feff4bd8ff6bdb1481ee911811231df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IQOl9zSGJEaSXcmZQCMiRg.png"/></div></div></figure><p id="e6f3" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，为了实现推车轨迹，让我们从层次结构中为地面镜头选择虚拟摄像机。然后，在检查器中，让我们点击<em class="lu">身体</em>属性，并选择<em class="lu">被跟踪的小车</em>而不是<em class="lu">移位器</em>，这样我们就可以将小车轨道拖动到<em class="lu">路径</em>槽中，并在摄像机中实现它:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl mb lp lq lr ls paragraph-image"><img src="../Images/2ab1a405c4fe98751578aa073c538e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/1*0d1XSRGRG6UJdY_s7N4ehQ.gif"/></figure><figure class="ln jl mc lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/11fb4eecb6574aa1f14996631572da72.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/1*3-PAZKdCpfq2VBEDzaO-8w.gif"/></div></figure></div><p id="4ab0" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">如果我们设置虚拟摄像机来显示游戏视图，并修改<em class="lu">路径位置</em>属性，我们将能够看到摄像机沿着小车轨道移动。<em class="lu">路径位置</em>基本上是根据小车轨迹的航点索引选择摄像机的位置；</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl md lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/132460438304794e331a18551801386e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/1*IqMOgPxIdLcirheeI87LZQ.gif"/></div></figure><figure class="ln jl me lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/9450d14c338b0d41807dbc75070fde8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:644/1*9XTiFxHfn9Puge7PI2ga9g.gif"/></div></figure></div><p id="06a4" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">现在，为了给过场动画制作摄像机动画，让我们打开时间轴窗口并拖动虚拟摄像机来创建一个新的动画轨迹:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mf"><img src="../Images/9bf56e202b0889967198d022977b6cf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CQ6jqRJha52qEw7S2eMiqg.gif"/></div></div></figure><p id="f05e" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">然后，要使用移动小车轨道上的航路点来记录摄像机的位置，让我们单击记录按钮，并移动箭头(以秒为单位),我们希望摄像机位于每个航路点。一旦我们选择了第二帧或第三帧，让我们通过检查器修改虚拟摄像机中的<em class="lu">路径位置</em>，我们将看到在时间轴中创建了一个关键帧:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl mg lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/77eb5c8cd2f815a3533e0aab437749fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1504/1*CytktyI7A1PWu8B-5ZKIOw.gif"/></div></figure><figure class="ln jl mh lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/101bce8af6dd8b020c70d4b2be66c5f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/1*RbfFygLGKffY0FFsQOCGGQ.gif"/></div></figure></div><p id="7dc1" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">这样，我们可以确保摄像机在过场动画期间移动到移动小车轨迹中的不同路点:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es mi"><img src="../Images/87b922d7ede7d853d2d81e1e3415ca1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_5te8r9AlFDh6M8rdTM9Wg.gif"/></div></div></figure><p id="4be7" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">您会注意到摄像机只是在移动，并不看着我们的目标，因此，为了看着小偷，我们可以利用虚拟摄像机内的<em class="lu">看着</em>属性。为此，让我们将小偷游戏对象拖动到相应的插槽中，如果我们在时间轴窗口中播放过场动画，我们将会看到不同之处:</p><div class="jh ji jj jk fd ab cb"><figure class="ln jl mj lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/40aed260f5658472f02c8f890adc4b9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/1*6ApDxel8w5T6TGOjo9tYrQ.gif"/></div></figure><figure class="ln jl mk lp lq lr ls paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><img src="../Images/c9cf147d0c8b983916702bd5e6a8072e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/1*7LV1tT3GQDPZqv_qiRbiAw.gif"/></div></figure></div><p id="b25a" class="pw-post-body-paragraph js jt hi ju b jv jw is jx jy jz iv ka kb kc kd ke kf kg kh ki kj kk kl km kn hb bi translated">就这样，我们在 Unity 中实现了一个移动轨道！:d .我将在下一篇文章中看到你，在那里我将展示如何使用时间轴和 Unity 来处理动画。</p></div><div class="ab cl ml mm gp mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="hb hc hd he hf"><blockquote class="ms mt mu"><p id="81b0" class="js jt lu ju b jv jw is jx jy jz iv ka mv kc kd ke mw kg kh ki mx kk kl km kn hb bi translated"><em class="hi">如果你想了解我更多，欢迎登陆</em><a class="ae ko" href="https://www.linkedin.com/in/fas444/" rel="noopener ugc nofollow" target="_blank"><strong class="ju hs"><em class="hi">LinkedIn</em></strong></a><strong class="ju hs"><em class="hi"/></strong><em class="hi">或访问我的</em> <a class="ae ko" href="http://fernandoalcasan.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ju hs"> <em class="hi">网站</em> </strong> </a> <em class="hi"> :D </em></p></blockquote></div></div>    
</body>
</html>