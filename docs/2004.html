<html>
<head>
<title>The Many Effects of useEffect</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用的多种效果</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/the-many-effects-of-useeffect-acf5013b5e14?source=collection_archive---------13-----------------------#2021-04-16">https://medium.com/nerd-for-tech/the-many-effects-of-useeffect-acf5013b5e14?source=collection_archive---------13-----------------------#2021-04-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/64685df24c8b9a89f118e68bb7fe184e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LY_PWN87s5nTNLPz.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图片来源于<a class="ae iu" href="https://levelup.gitconnected.com/handling-complex-form-state-using-react-hooks-76ee7bc937" rel="noopener ugc nofollow" target="_blank"> Aditya Loshali </a>和 freeCodeCamp</figcaption></figure><p id="81cb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">除了<a class="ae iu" href="https://javascript.plainenglish.io/putting-context-into-usecontext-5dbe77c276d1" rel="noopener ugc nofollow" target="_blank"> useContext </a>，另一个我喜欢学习和使用的 React Hook 是 useEffect。</p><p id="1da1" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">useEffect 是一个 React 挂钩，它模拟组件的生命周期，并将其提供给功能组件。在类组件中，有 componentDidMount()或 componentDidUpdate()这样的生命周期。生命周期用于根据组件更新呈现和重新呈现 DOM。</p><p id="7852" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">与 useContext 类似，随着行业标准从类组件转移到功能组件，我们仍然需要一个钩子来解决这个问题。useEffect 就是为此而构建的。事实上，React 官方文档说 useEffect 钩子就像“<a class="ae iu" href="https://reactjs.org/docs/hooks-effect.html" rel="noopener ugc nofollow" target="_blank"> componentDidMount，componentDidUpdate，componentWillUnmount 组合</a>”。</p><figure class="ju jv jw jx fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jt"><img src="../Images/4597a38c822f854147d4e08261d5a537.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pmkcIJdTIbpHrrFa.png"/></div></div><figcaption class="iq ir et er es is it bd b be z dx translated">图像归功于<a class="ae iu" href="https://blog.logrocket.com/guide-to-react-useeffect-hook/" rel="noopener ugc nofollow" target="_blank"> LogRocket </a></figcaption></figure></div><div class="ab cl jy jz gp ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hb hc hd he hf"><h2 id="be2e" class="kf kg hi bd kh ki kj kk kl km kn ko kp jg kq kr ks jk kt ku kv jo kw kx ky kz bi translated">你如何使用它？</h2><p id="6ca3" class="pw-post-body-paragraph iv iw hi ix b iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo le jq jr js hb bi translated">像 useContext 一样，useEffect 必须从 React 导入到组件中。在这种情况下，应该在声明函数组件之后、return 语句之前调用 useEffect。</p><p id="95b0" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">钩子本身“可以接受两个参数，它们是回调函数…和依赖数组”(<a class="ae iu" href="https://dev.to/olenadrugalya/basic-hooks-in-react-useeffect-4719" rel="noopener ugc nofollow" target="_blank"> Olena Drygalya </a>)。</p><pre class="ju jv jw jx fd lf lg lh li aw lj bi"><span id="71c2" class="kf kg hi lg b fi lk ll l lm ln">import {useEffect} from 'react'</span><span id="7e14" class="kf kg hi lg b fi lo ll l lm ln">export default function TestCase(){<br/>   useEffect(() =&gt; {<br/>     /* your callback function goes here()*/<br/>   }, [/* your dependency array goes here */])<br/>}</span></pre><p id="26f2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">第一个参数，回调函数，也称为副作用。这是因为“我们通常希望在特定条件下执行副作用，例如，数据已经改变，道具已经改变，或者用户第一次看到我们的组件”(<a class="ae iu" href="https://blog.logrocket.com/guide-to-react-useeffect-hook/" rel="noopener ugc nofollow" target="_blank"> Sebastian Weber </a>)。</p><p id="ee25" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">依赖关系数组的第二个参数确保 useEffect 仅在依赖关系数组发生变化或突变时运行或重新呈现。更有可能的是，您可能已经看到依赖数组被分配给一个空数组的值。这确保了 useEffect 被调用一次。</p></div><div class="ab cl jy jz gp ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hb hc hd he hf"><p id="aedd" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">React 钩子和功能组件没有任何进展——如果有的话，似乎开发人员自从引入钩子以来就非常热衷于使用钩子。React Hooks 在效率和可读性方面与类组件做得一样好，甚至更好，用更少的代码做同样的工作和逻辑。</p><p id="ac91" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">如果你以前没有使用过 React Hooks 或 useEffect，是 React 新手，或者想学习更多关于前端开发的知识，我鼓励你阅读下面的参考资料。</p></div><div class="ab cl jy jz gp ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hb hc hd he hf"><h2 id="328c" class="kf kg hi bd kh ki kj kk kl km kn ko kp jg kq kr ks jk kt ku kv jo kw kx ky kz bi translated">资源</h2><div class="lp lq ez fb lr ls"><a href="https://dev.to/nibble/what-is-useeffect-hook-and-how-do-you-use-it-1p9c" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab dw"><div class="lu ab lv cl cj lw"><h2 class="bd hj fi z dy lx ea eb ly ed ef hh bi translated">什么是 useEffect 钩子，你如何使用它？</h2><div class="lz l"><h3 class="bd b fi z dy lx ea eb ly ed ef dx translated">介绍使用效果钩子传递什么参数？使用 Effect 的第一个参数返回 effect 的第二个值…</h3></div><div class="ma l"><p class="bd b fp z dy lx ea eb ly ed ef dx translated">开发到</p></div></div><div class="mb l"><div class="mc l md me mf mb mg io ls"/></div></div></a></div><div class="lp lq ez fb lr ls"><a href="https://dev.to/olenadrugalya/basic-hooks-in-react-useeffect-4719" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab dw"><div class="lu ab lv cl cj lw"><h2 class="bd hj fi z dy lx ea eb ly ed ef hh bi translated">React - useEffect()中的基本挂钩</h2><div class="lz l"><h3 class="bd b fi z dy lx ea eb ly ed ef dx translated">这篇博文延续了 React Hooks 系列。在这里，我们正在探索一个基本且非常重要的挂钩…</h3></div><div class="ma l"><p class="bd b fp z dy lx ea eb ly ed ef dx translated">开发到</p></div></div><div class="mb l"><div class="mh l md me mf mb mg io ls"/></div></div></a></div><div class="lp lq ez fb lr ls"><a href="https://blog.logrocket.com/guide-to-react-useeffect-hook/" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab dw"><div class="lu ab lv cl cj lw"><h2 class="bd hj fi z dy lx ea eb ly ed ef hh bi translated">你需要的使用效果钩子的最后一个指南</h2><div class="lz l"><h3 class="bd b fi z dy lx ea eb ly ed ef dx translated">理解 useEffect 钩子如何工作是今天掌握 React 最重要的概念之一。如果你有…</h3></div><div class="ma l"><p class="bd b fp z dy lx ea eb ly ed ef dx translated">blog.logrocket.com</p></div></div><div class="mb l"><div class="mi l md me mf mb mg io ls"/></div></div></a></div><div class="lp lq ez fb lr ls"><a href="https://blog.webdevsimplified.com/2020-04/use-effect/" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab dw"><div class="lu ab lv cl cj lw"><h2 class="bd hj fi z dy lx ea eb ly ed ef hh bi translated">关于 useEffect 你需要知道的一切</h2><div class="lz l"><h3 class="bd b fi z dy lx ea eb ly ed ef dx translated">在我的上一篇博文中，我谈到了 React 中的 useState 钩子。在这篇文章中，我想谈谈…</h3></div><div class="ma l"><p class="bd b fp z dy lx ea eb ly ed ef dx translated">blog.webdevsimplified.com</p></div></div><div class="mb l"><div class="mj l md me mf mb mg io ls"/></div></div></a></div><div class="lp lq ez fb lr ls"><a href="https://reactjs.org/docs/hooks-reference.html#useeffect" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab dw"><div class="lu ab lv cl cj lw"><h2 class="bd hj fi z dy lx ea eb ly ed ef hh bi translated">钩子 API 参考-反应</h2><div class="lz l"><h3 class="bd b fi z dy lx ea eb ly ed ef dx translated">钩子是 React 16.8 中的新增功能。它们允许您使用状态和其他 React 特性，而无需编写类。这个…</h3></div><div class="ma l"><p class="bd b fp z dy lx ea eb ly ed ef dx translated">reactjs.org</p></div></div><div class="mb l"><div class="mk l md me mf mb mg io ls"/></div></div></a></div><div class="lp lq ez fb lr ls"><a href="https://overreacted.io/a-complete-guide-to-useeffect/" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab dw"><div class="lu ab lv cl cj lw"><h2 class="bd hj fi z dy lx ea eb ly ed ef hh bi translated">使用效果完全指南</h2><div class="lz l"><h3 class="bd b fi z dy lx ea eb ly ed ef dx translated">你用钩子写了几个组件。甚至可能是一个小 app。你基本上满意了。你对 API 很满意…</h3></div><div class="ma l"><p class="bd b fp z dy lx ea eb ly ed ef dx translated">反应过度了</p></div></div><div class="mb l"><div class="ml l md me mf mb mg io ls"/></div></div></a></div><div class="lp lq ez fb lr ls"><a href="https://dmitripavlutin.com/react-useeffect-explanation/" rel="noopener  ugc nofollow" target="_blank"><div class="lt ab dw"><div class="lu ab lv cl cj lw"><h2 class="bd hj fi z dy lx ea eb ly ed ef hh bi translated">React.useEffect()的简单说明</h2><div class="lz l"><h3 class="bd b fi z dy lx ea eb ly ed ef dx translated">React hooks 的表现力让我印象深刻。你可以写这么少却做这么多。但是钩子的简洁性…</h3></div><div class="ma l"><p class="bd b fp z dy lx ea eb ly ed ef dx translated">dmitripavlutin.com</p></div></div><div class="mb l"><div class="mm l md me mf mb mg io ls"/></div></div></a></div></div></div>    
</body>
</html>