<html>
<head>
<title>PhaserJS Tutorial for Canvas Graphics with Code Examples and Demonstration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有代码示例和演示的画布图形PhaserJS教程</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/phaserjs-tutorial-for-canvas-graphics-with-code-examples-and-demonstration-38d0cae6df07?source=collection_archive---------19-----------------------#2021-06-22">https://medium.com/nerd-for-tech/phaserjs-tutorial-for-canvas-graphics-with-code-examples-and-demonstration-38d0cae6df07?source=collection_archive---------19-----------------------#2021-06-22</a></blockquote><div><div class="dt gx gy gz ha hb"/><div class="hc hd he hf hg"><figure class="hi hj fa fc hk hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et hh"><img src="../Images/cbb8b1563d6bfb8afadf165c27ad7d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0QBl_3BBrFrUTtgC0b6OSg.gif"/></div></div></figure><div class=""/><div class=""><h2 id="27c4" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji dy translated">PhaserJS教程，包含代码示例和演示</h2></div><p id="c9b9" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hc bi translated"><a class="ae kf" href="https://phaser.io" rel="noopener ugc nofollow" target="_blank"><em class="kg">phase rjs</em></a><em class="kg">是一款面向web的游戏引擎。在网络和移动平台上开发游戏很容易。</em></p><h1 id="56df" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky bi translated">游戏初始化</h1><p id="2d4b" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hc bi translated">每次<a class="ae kf" href="https://phaserjs.com/" rel="noopener ugc nofollow" target="_blank"> PhaserJS游戏</a>开始都有<code class="dv le lf lg lh b"><strong class="jl hv">init</strong></code>、<code class="dv le lf lg lh b"><strong class="jl hv">preload</strong></code>、<code class="dv le lf lg lh b"><strong class="jl hv">create</strong></code>、<strong class="jl hv">、<code class="dv le lf lg lh b"><strong class="jl hv">update</strong></code>、<strong class="jl hv">、</strong>的方法。更新方法是一个事件循环，用于重新启动游戏初始化。这些方法可以附加到游戏或场景中，我们将在本文稍后描述。</strong></p><h1 id="d875" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky bi translated"><strong class="ak">游戏或场景重启</strong></h1><p id="4227" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hc bi translated">在游戏中，通常会重置游戏拥有的资产。这可以基于<code class="dv le lf lg lh b"><strong class="jl hv">game</strong></code> <strong class="jl hv"> </strong>或<code class="dv le lf lg lh b"><strong class="jl hv">scene</strong></code> <strong class="jl hv"> </strong>持有的底层数据。在游戏重启时，<code class="dv le lf lg lh b"><strong class="jl hv">preload</strong></code> <strong class="jl hv"> </strong>方法用于加载图像或精灵，<code class="dv le lf lg lh b"><strong class="jl hv">create</strong></code> <strong class="jl hv"> </strong>方法用于将图像加载到画布上。<code class="dv le lf lg lh b"><strong class="jl hv">init</strong></code> <strong class="jl hv"> </strong>方法是游戏或场景的构造器，通过它数据注入是可行的。依赖注入发生在使用<code class="dv le lf lg lh b"><strong class="jl hv">.setData</strong></code>方法的<code class="dv le lf lg lh b"><strong class="jl hv">init</strong></code> <strong class="jl hv"> </strong>或<code class="dv le lf lg lh b"><strong class="jl hv">create</strong></code> <strong class="jl hv"> </strong>阶段。</p><blockquote class="li lj lk"><p id="52bc" class="jj jk kg jl b jm jn iv jo jp jq iy jr ll jt ju jv lm jx jy jz ln kb kc kd ke hc bi translated">游戏状态也有同样的方法:<code class="dv le lf lg lh b"><strong class="jl hv">preload</strong></code><strong class="jl hv"/><code class="dv le lf lg lh b"><strong class="jl hv">create</strong></code><strong class="jl hv"/><code class="dv le lf lg lh b"><strong class="jl hv">update</strong></code><strong class="jl hv"/>。游戏状态可以像游戏场景一样操作，但它是一个权重较小的Phaser实体。游戏以默认状态开始，这意味着PhaserJS库允许您将游戏状态添加到注册了这些方法的游戏中。</p></blockquote><figure class="lo lp lq lr fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et hh"><img src="../Images/0d0cc70737366d86d80a4d7e6421ec43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*g2rAlpvMLCF7X8-UTRbbGw.gif"/></div></div><figcaption class="ls lt eu es et lu lv bd b be z dy translated"><strong class="bd kj">显示游戏重启的示例</strong></figcaption></figure><h2 id="27dd" class="lw ki hu bd kj lx ly lz kn ma mb mc kr js md me kt jw mf mg kv ka mh mi kx mj bi translated"><a class="ae kf" href="https://phaser.io/examples" rel="noopener ugc nofollow" target="_blank">代码</a></h2><figure class="lo lp lq lr fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et mk"><img src="../Images/c620f03c0dada286788729dbcbe4f197.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tNdBqb6OdNGib3CLrENNqw.png"/></div></div><figcaption class="ls lt eu es et lu lv bd b be z dy translated"><strong class="bd kj">显示游戏状态重启的PhaserJS代码示例</strong></figcaption></figure><h1 id="3fbe" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky bi translated">游戏物理重力</h1><p id="c951" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hc bi translated">物理可以在系统上启用。新版本的PhaserJS为图像<code class="dv le lf lg lh b">game.load.image</code>提供了物理实体，而旧版本的PhaserJS只为精灵和其他对象提供物理实体。</p><blockquote class="li lj lk"><p id="3938" class="jj jk kg jl b jm jn iv jo jp jq iy jr ll jt ju jv lm jx jy jz ln kb kc kd ke hc bi translated">游戏物理是初始化游戏的一部分。游戏对象<code class="dv le lf lg lh b">gameObject</code>的身体属性具有允许重力的属性。这里的代码和演示解释了这一点。</p></blockquote><pre class="lo lp lq lr fe ml lh mm mn aw mo bi"><span id="bdb7" class="lw ki hu lh b fj mp mq l mr ms">/**</span><span id="92f7" class="lw ki hu lh b fj mt mq l mr ms">* Add physics</span><span id="8103" class="lw ki hu lh b fj mt mq l mr ms">*/</span><span id="b7f4" class="lw ki hu lh b fj mt mq l mr ms">game.physics.startSystem(Phaser.Physics.ARCADE);</span><span id="e7e6" class="lw ki hu lh b fj mt mq l mr ms">......</span><span id="96ee" class="lw ki hu lh b fj mt mq l mr ms">/**</span><span id="1443" class="lw ki hu lh b fj mt mq l mr ms">* Enable physics</span><span id="28dd" class="lw ki hu lh b fj mt mq l mr ms">*/</span><span id="bb16" class="lw ki hu lh b fj mt mq l mr ms">game.physics.enable(icon1, Phaser.Physics.ARCADE);</span><span id="0267" class="lw ki hu lh b fj mt mq l mr ms">......</span><span id="f9c7" class="lw ki hu lh b fj mt mq l mr ms">/**</span><span id="7962" class="lw ki hu lh b fj mt mq l mr ms">* Gravity Allow and Configure</span><span id="b74d" class="lw ki hu lh b fj mt mq l mr ms">*/</span><span id="aea7" class="lw ki hu lh b fj mt mq l mr ms">icon1.body.allowGravity = true;</span><span id="24aa" class="lw ki hu lh b fj mt mq l mr ms">icon1.body.gravity.y = 50;</span></pre><figure class="lo lp lq lr fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et hh"><img src="../Images/1ef6cfa6b0214ec46494163d856c5ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_6whs3BIDyTLib815P7koQ.gif"/></div></div><figcaption class="ls lt eu es et lu lv bd b be z dy translated"><strong class="bd kj"> PhaserJS游戏对象显示重力启用</strong></figcaption></figure><h2 id="b67a" class="lw ki hu bd kj lx ly lz kn ma mb mc kr js md me kt jw mf mg kv ka mh mi kx mj bi translated"><a class="ae kf" href="https://phaser.io/examples" rel="noopener ugc nofollow" target="_blank">代码</a></h2><figure class="lo lp lq lr fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et mu"><img src="../Images/b64a37950e04552cbab49c7132c8c1c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WksWHdC03ImrYFYWSr6lMg.png"/></div></div><figcaption class="ls lt eu es et lu lv bd b be z dy translated"><strong class="bd kj">显示重力启用的PhaserJS代码示例</strong></figcaption></figure><h1 id="c5d9" class="kh ki hu bd kj kk kl km kn ko kp kq kr ja ks jb kt jd ku je kv jg kw jh kx ky bi translated">游戏输入指针向下</h1><p id="2172" class="pw-post-body-paragraph jj jk hu jl b jm kz iv jo jp la iy jr js lb ju jv jw lc jy jz ka ld kc kd ke hc bi translated">在更新方法中，如果你添加了一个指定<code class="dv le lf lg lh b">activePointer</code> <code class="dv le lf lg lh b">isDown</code>的代码块，那么循环将检查指针事件或者鼠标点击。您还可以通过以下方式指定pointerDown:</p><p id="5a51" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hc bi translated"><code class="dv le lf lg lh b">game.input.on(PointerDown , method)</code>在更新的版本中。</p><pre class="lo lp lq lr fe ml lh mm mn aw mo bi"><span id="57e5" class="lw ki hu lh b fj mp mq l mr ms">if(game.input.activePointer.isDown &amp;&amp; game.time.now &gt; jumpTimer) {</span><span id="fc0e" class="lw ki hu lh b fj mt mq l mr ms">    icon1.body.velocity.y += -175;</span><span id="2e03" class="lw ki hu lh b fj mt mq l mr ms">    jumpTimer = game.time.now + 750;</span><span id="b798" class="lw ki hu lh b fj mt mq l mr ms">}</span></pre><figure class="lo lp lq lr fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et hh"><img src="../Images/cbb8b1563d6bfb8afadf165c27ad7d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0QBl_3BBrFrUTtgC0b6OSg.gif"/></div></div><figcaption class="ls lt eu es et lu lv bd b be z dy translated"><strong class="bd kj"> PhaserJS玩起来像直升机游戏</strong></figcaption></figure><h2 id="cad1" class="lw ki hu bd kj lx ly lz kn ma mb mc kr js md me kt jw mf mg kv ka mh mi kx mj bi translated">密码</h2><figure class="lo lp lq lr fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et mv"><img src="../Images/71218364eca1f8f9cacb54ef47060d65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ca5S5n9W0lYo7ylEVry2uA.png"/></div></div><figcaption class="ls lt eu es et lu lv bd b be z dy translated"><strong class="bd kj"> PhaserJS游戏的更新方法</strong></figcaption></figure></div><div class="ab cl mw mx gq my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="hc hd he hf hg"><p id="0745" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hc bi translated"><strong class="jl hv"> <em class="kg">在这个例子中使用光标键检查游戏屏幕移动是如何完成的。</em> </strong></p><pre class="lo lp lq lr fe ml lh mm mn aw mo bi"><span id="e1ed" class="lw ki hu lh b fj mp mq l mr ms"><strong class="lh hv">cursors = game.input.keyboard.createCursorKeys();</strong></span><span id="6b18" class="lw ki hu lh b fj mt mq l mr ms"><strong class="lh hv">game.input.onDown.add(resize, this);</strong></span></pre><h2 id="5b82" class="lw ki hu bd kj lx ly lz kn ma mb mc kr js md me kt jw mf mg kv ka mh mi kx mj bi translated"><a class="ae kf" href="https://phaser.io/examples" rel="noopener ugc nofollow" target="_blank">代码</a></h2><figure class="lo lp lq lr fe hl es et paragraph-image"><div role="button" tabindex="0" class="hm hn di ho bf hp"><div class="es et nd"><img src="../Images/72c357fe00c24be1cb7d85eb7b8f7fb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mCMSIz-R2LwKeGVDZVkMBw.png"/></div></div><figcaption class="ls lt eu es et lu lv bd b be z dy translated"><strong class="bd kj"> PhaserJS屏幕移动</strong></figcaption></figure></div></div>    
</body>
</html>