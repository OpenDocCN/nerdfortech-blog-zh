<html>
<head>
<title>Ten Pin Bowling Challenge II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">十瓶保龄球挑战2</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/ten-pin-bowling-challenge-ii-6b082796f07d?source=collection_archive---------9-----------------------#2021-07-31">https://medium.com/nerd-for-tech/ten-pin-bowling-challenge-ii-6b082796f07d?source=collection_archive---------9-----------------------#2021-07-31</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="ef66" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">JavaScript挑战仍在继续</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/182cc0f022ff3a87edb55060a3ed0563.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kP5b5cDAMZbeK-OS8Wqm6Q.jpeg"/></div></div></figure><p id="7a10" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">欢迎大家回来参加十瓶保龄球挑战赛的第二部分。如果你还记得在第一部分中，我们创建了一个不错的保龄球评分函数的基础版本。然而，它仍然缺少一些东西，实际上是一些东西，但我们会谈到这一点。虽然它当时能够通过所有提供的测试，但在目前的状态下，它无法处理每一个分数。除了一点例外，我将从与第一部分相同的代码开始。我已经创建了一个全新的测试列表，在这种情况下，如果我们当前执行该函数，所有测试都将失败。如果你想复制新的启动回购协议，你可以在这里找到<a class="ae kf" href="https://github.com/TheRealKevBot/TenPinStarter2" rel="noopener ugc nofollow" target="_blank"/>。让我们直接跳进来吧！</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="0672" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">问题</strong></p><p id="15a1" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们目前的问题是，我们的保龄球评分功能只完成了一半。但是我们又错过了什么？哦，是的，我们要解决的第一个主要问题是能够连续获得多个好球和/或空球。其次，与第一项并列的是能够在第九场比赛中获得全中或全中。虽然看起来不多，我们仍然需要考虑罢工和备件仍然有他们的奖金适用于这一框架。虽然这看起来有点像一个简短的列表，但我们将对我们的代码进行一些修改和添加。这也是我们将在备件前面引入数字的地方，因为这是应用我们奖金时不可或缺的一部分。所以，事不宜迟，让我们进入我们的代码。</p></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="2f9b" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated"><strong class="jl hj">解决方案</strong></p><p id="da69" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你看看我们目前使用的三元条件语句，它们只会在下一帧是一个数字的情况下执行。这是伟大的，但真的限制了我们，如果我们的球员很好，我们也看起来很糟糕，因为我们在我们的条件下留下了一个相当大的漏洞。因此，让我们使这些条件变得强大，能够处理所有的帧。在我们开始之前，我要对我当前的代码做一个小小的改动，把框架从包含X改为严格等同于X，也就是三个等于。此外，我们将要做的所有事情，大部分都在我们内部的most else语句中，也就是在我们的frames循环中。</p><p id="4016" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">有了当前的条件，我们就能够像前面的一些逻辑一样，连续处理两个备盘。通过使用我们当前的备用条件，我们可以添加或如果下一帧也是备用帧，仍然做同样的事情。我们将只使用一个单杠，这意味着一个备盘后面是一个数字，或者一个备盘后面是另一个备盘。看看我们的小加法。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kn"><img src="../Images/3ddb3a22611b29633bef20a403145264.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SMOCe_9YhG3nqBSwaG_BNA.png"/></div></div></figure><p id="1b1f" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">到</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ko"><img src="../Images/556b5d97e9c5b9dbca1fb7d7647bbd0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ffR-MaK8dGes4vD9bD72kA.png"/></div></div></figure><p id="bda9" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">虽然我们对现有的条件语句进行了简单的添加，但我们的功能现在在很大程度上能够处理连续多个备选项的评分。很酷，对吧？嗯，如果我们必须先打一个好球再打一个替补，或者先打一个替补再打一个好球呢？这里我们将创建一个新的条件语句来实现这一点，因为它们共享相似的逻辑，所以我们将再次使用or，但是逻辑or。这是一个双杆或。看看下面添加的语句。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kp"><img src="../Images/f2e6d8e08864deb0ff26022f54fafa1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z6TQv2tgjRCKNfD8s-_7cg.png"/></div></div></figure><p id="54fd" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我们的条件简单地说，如果我们目前有一个罢工，我们的下一个框架是一个备用的，然后增加20到我们的分数。或者，如果我们的当前帧是备用帧，而我们的下一帧是全中帧，那么我们将在我们的分数上加20。因为在这两种情况下我们的分数都需要增加20，所以我们可以通过使用JavaScript的逻辑or来节省编写附加条件的时间。请记住，一击，10，将寻找接下来的两个分数。如果是备用的，两者都等于十。另一方面，一个备用等于10但只寻找下一个单一的分数，是一个罢工等于10。</p><p id="90de" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这给我们带来了一个很好的观点，因为罢工正在寻找接下来的两个分数来评估自己的分数，当连续出现多个罢工时，我们该怎么办。因为我们知道每一个都值10分，我们需要接下来的两个分数，每个都是10分，我们最终得到30分。所以，让我们写一个条件来实现它。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kq"><img src="../Images/880347c06b2b70e7a4e2d8b075ce22a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mYOj2PtlwJFAI6k_F7qIJg.png"/></div></div></figure><p id="0c47" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">简单又非常中肯。当前帧应该是一个罢工，以及接下来的两个罢工。我们只需要在现有分数上加30分。但是如果有两个好球后面跟着一个备用球或一个号码呢？既然我们知道两击等于20，我们可以自动将其添加到当前存储中。因为我们仍然需要获取一个额外的分数，因为它要么是一个数，要么是一个备选项，所以我们只需要获取该分数的第一个索引。这就是在你的备件中包含一个数字的重要性，因为罢工和备件将需要读取这个数字。让我们看看如何把它写出来。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kr"><img src="../Images/1e59140d295879a6f831d1c5ae0f292f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tfSFb_P2rf-lkHtXqTSFCQ.png"/></div></div></figure><p id="fac5" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如你所见，我们开始检查当前帧和下一帧是否都是罢工。然后我们还要检查下一帧是备用帧还是数字帧。无论是哪种情况，我们都需要从中抽取第一个数字，并将其添加到我们当前的得分以及我们的两次击球，20。</p><p id="7b93" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">信不信由你，我们刚刚完成了第一项任务。我们的功能现在能够连续处理多次击球和/或失误的得分。虽然我们已经取得了这一重大突破，但我们的道路上还有一个障碍，那就是如何处理最后一帧中的全中或空。如果倒数第二帧是备用的呢？因为除了一种情况之外，我们在每种情况下都有备用牌，所以我们只需要在最后一局的第一次掷出全中时做一个准备。因此，让我们在下面创建一个案例。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ks"><img src="../Images/8d172bc46e9efcad38daa06e20708f41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*glbkarxW44tExIPvi92gFA.png"/></div></div></figure><p id="df65" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">正如你马上可以看到的，我们已经把它加在了任何其他条件之前。这是因为如果它满足我们的条件，我们希望它首先执行。如果我们在倒数第二帧投了一个备用球，在最后一帧的第一个球投了一个好球，我们只需在当前得分上加20。但是最后一帧的一击呢？</p><p id="7cff" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">这实际上暴露了我们代码的另一个问题，在我们开始这项工作之前没有发现这个问题。一击不知道如何在倒数第三帧正确得分，如果一击是最后一帧的第一次掷骰。这是因为，如你现在所知，罢工寻找下两个价值来评估自己。当一个好球在倒数第三帧中得分时，它将在可能的三分球帧中寻找它的第二个值。同样，如果倒数第二帧以同样的方式滚动，它将不知道如何解释最后一帧。下面让我们来看看如何才能再次知道一石二鸟在同一条线上。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kt"><img src="../Images/8a1582ff49ac894323f3a673ccd6e0b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TRQ9NIzvDhWu6kEIgvc6KA.png"/></div></div></figure><p id="2ecf" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如你所见，如果最后一帧的第8、第9和第1卷都是好球，或者如果最后一帧的第9、第1和第2卷都是好球。我们只需要在现有分数上加30分。我们就要到了，只需要再考虑一件事就可以完成我们的功能了。如果我们在倒数第二个画面投全中，然后在第一个画面投全中，但在最后两个画面中又投了一个全中，那会怎么样？我们只需要考虑这个占位符中的数字，我们会这么做的。看看下面代码的附加部分。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ku"><img src="../Images/9d1f57d280e95d19dce59c870b7c64cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XKwzhLWNewU1DEtotwtmWw.png"/></div></div></figure><p id="a4d4" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">通过检查第9卷和第10帧的第一卷，我们还检查了第10帧的第二卷是一个数字。如果我们的玩家在他们剩下的两个角色中掷出一个备用或更差的，我们将得到一个需要添加到我们当前得分以及两个好球的数字。</p><p id="8181" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果您一直密切关注我们的进展并运行测试，您将会看到我们现在已经完成了我们的功能！因为我们用所有的条件语句使我们的函数变得如此强大，我们实际上可以去掉最外层的if语句，这样就不需要else语句了。一定要把我们写的所有东西都放在else语句中，因为这是我们所有的逻辑。您的最终函数应该是这样的。</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es kv"><img src="../Images/7d82d17736b9cd4ffd91831be9b07bcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hxaoz_FXVCUimmCv4VkPgQ.png"/></div></div></figure></div><div class="ab cl kg kh gp ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="hb hc hd he hf"><p id="b287" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">我要感谢你的阅读，并希望你学到了新的东西！请关注未来的更多文章！</p><p id="6580" class="pw-post-body-paragraph jj jk hi jl b jm jn ij jo jp jq im jr js jt ju jv jw jx jy jz ka kb kc kd ke hb bi translated">如果你想查看这些例子的副本，或者只是作为参考，你可以在这里找到GitHub Repo <a class="ae kf" href="https://github.com/TheRealKevBot/TenPinBuild2" rel="noopener ugc nofollow" target="_blank">的链接。</a></p></div></div>    
</body>
</html>