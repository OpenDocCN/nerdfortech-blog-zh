<html>
<head>
<title>Ledge Grabbing in Unity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">统一中的壁架抓取</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/ledge-grabbing-in-unity-e1edee3a924?source=collection_archive---------4-----------------------#2021-07-01">https://medium.com/nerd-for-tech/ledge-grabbing-in-unity-e1edee3a924?source=collection_archive---------4-----------------------#2021-07-01</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="878e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">这篇文章将展示如何为玩家创建一个平台抓取机制。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/5c9d5bc1a350d9401b93cfeab517c96e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*6weP3ZZocY8iJ7efLfcrTA.gif"/></div></div></figure><p id="9366" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在播放器的动画中，我们添加了悬空和攀爬的动画，然后我们创建参数来触发动画的过渡，并进行过渡。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/c65f879038b347122cb22fb7874bbea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*PNL6-9dTzvydKU10FaelTw.gif"/></div></div></figure><p id="b261" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在玩家游戏对象上，我们添加了一个盒子碰撞器，作为刚体的触发器。这个触发器将检测何时改变为抓住一个壁架。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/b2913b5f5cbd7846440c06fa5ce5e63c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1RZt5AY_jmG3ygznR08k3g.gif"/></div></div></figure><p id="cbc4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在玩家脚本中，我们需要添加一个变量来停止计算在壁架上的移动，然后检查“E”键是否被按下，然后在动画上设置 ClimbUp 触发器。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jq"><img src="../Images/f9406abb361a4119eeb3dab612b655c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7v7W50iis4esgP6g_TiO2A.png"/></div></div></figure><p id="1c14" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">该方法将被触发器碰撞的壁架调用，以将玩家的位置更改为抓取位置，通过将抓取壁架 bool 设置为 true 并禁用角色控制器来停止计算移动。然后在动画师上我们设置参数来改变悬挂空闲动画。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jr"><img src="../Images/ad78779a1d84014254160c59abe98d84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wKYL5hnXvc6XxwX6-lZ2CA.png"/></div></div></figure><p id="d2fd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在来创建一个可供抓取的壁架。壁架脚本将保存玩家在抓取壁架时将移动到的位置的参考。当玩家的触发器进入壁架的碰撞器时，我们从父组件获取 PlayerController 脚本组件，并在获取位置调用 GrabLedge 方法。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es js"><img src="../Images/7eae9dda616251b3eb63fa8b41253a34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HDt0GLKhgyN8St-IeYCUyA.png"/></div></div></figure><p id="9cf0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">壁架是由一个盒子碰撞器构成的，它被设置为一个触发器，带有一个空的游戏对象，作为玩家抓取位置的子对象。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/840f5032dcea8a7c8ace5794c3feb730.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AG-Ap-dgCXfDRz18aN1Azw.gif"/></div></div></figure><p id="d8dd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在，当玩家跳进壁架碰撞器时，它将启动悬挂动画并移动到抓取位置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jt"><img src="../Images/6cf0121c06185157a08f12b5206204e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ViIElB-7SGrjHE6O3fxr1g.gif"/></div></div></figure><p id="cec3" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">但是，如果我们按下“E”键，攀爬动画将会播放，但之后玩家模型会向后移动，并在先前的位置闲置。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es ju"><img src="../Images/477c6459073130f3296375c9493d58f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4gTKH5izNyqHtVhWLf5f-w.gif"/></div></div></figure><p id="da96" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">在下面的文章中，我们将使用 Animator 事件将玩家移动到平台顶部的位置。</p></div></div>    
</body>
</html>