<html>
<head>
<title>Interesting Kill Signal’s in UNIX</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">UNIX 中有趣的终止信号</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/interesting-kill-signals-in-unix-e61eee100bc0?source=collection_archive---------7-----------------------#2021-04-09">https://medium.com/nerd-for-tech/interesting-kill-signals-in-unix-e61eee100bc0?source=collection_archive---------7-----------------------#2021-04-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><h1 id="7a9a" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">SIGTERM、SIGKILL、SIGSTOP 和 SIGCONT</h1><h1 id="d104" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">什么是 SIGTERM？</h1><p id="0345" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">SIGTERM 的意思是信号和终止，在类 UNIX 系统中，SIGTERM 信号用于终止程序。</p><p id="5174" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">SIGTERM 也可以被称为软删除，因为接收 SIGTERM 信号的进程可以选择忽略它。</p><p id="b9f2" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">换句话说，这是杀死一个进程的礼貌和安全的方式。</p><p id="6a24" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">默认情况下，kill command 发送 SIGTERM 信号。你可以用-15 明确地提到它。</p><p id="fa1b" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">如何使用 SIGTERM 命令</p><pre class="kg kh ki kj fd kk kl km kn aw ko bi"><span id="c4c7" class="kp ig hi kl b fi kq kr l ks kt">kill &lt;process_id&gt;</span></pre><p id="5878" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">或者</p><pre class="kg kh ki kj fd kk kl km kn aw ko bi"><span id="2a06" class="kp ig hi kl b fi kq kr l ks kt">kill -15 &lt;process_id&gt;</span></pre><p id="d58e" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">或者</p><pre class="kg kh ki kj fd kk kl km kn aw ko bi"><span id="8c52" class="kp ig hi kl b fi kq kr l ks kt">kill -<!-- -->SIGTERM <!-- -->&lt;process_id&gt;</span></pre><h1 id="6bb2" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">什么是 SIGKILL？</h1><p id="2764" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">SIGKILL 用于立即终止进程。该信号不能被忽略/阻止。该进程将与其线程一起终止。</p><p id="6eb9" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">这是扼杀一个进程的残酷方式，只应作为最后手段使用。假设您想要关闭一个没有响应的进程。在这种情况下可以使用 SIGKILL。</p><p id="7f73" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">您可以使用选项-9 发送带有 KILL 命令的 SIGKILL 信号来立即终止进程</p><h1 id="0cb2" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">SIGTERM vs SIGKILL:</h1><ul class=""><li id="9acc" class="ku kv hi jf b jg jh jk jl jo kw js kx jw ky ka kz la lb lc bi translated">SIGTERM 优雅地终止进程，而 SIGKILL 立即终止进程。</li><li id="235e" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">SIGTERM 信号可以被处理、忽略和阻塞，但 SIGKILL 不能被处理或阻塞。</li><li id="87f2" class="ku kv hi jf b jg ld jk le jo lf js lg jw lh ka kz la lb lc bi translated">SIGTERM 不杀死子进程。SIGKILL 也会杀死子进程。</li></ul><p id="04d5" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">有了 SIGTERM，进程就有时间将信息发送给它的父进程和子进程。它的子进程由 init 处理。</p><p id="de4f" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">使用 SIGKILL 可能会导致创建一个僵尸进程，因为被杀死的进程没有机会告诉它的父进程它已经收到了一个杀死信号。</p><figure class="kg kh ki kj fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es li"><img src="../Images/76eab33ee1570d23a8ad2eca646f6758.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-6nPuq06rjGYR_Pupgg8dA.jpeg"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">信用:<a class="ae lu" href="https://turnoff.us/geek/dont-sigkill/" rel="noopener ugc nofollow" target="_blank"> <em class="lv">关闭.美国</em> </a></figcaption></figure><h1 id="7e1a" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated">什么是 SIGSTOP？</h1><p id="710e" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">维基百科对<a class="ae lu" href="http://en.wikipedia.org/wiki/SIGSTOP" rel="noopener ugc nofollow" target="_blank">信号停止</a>有很好的定义:</p><blockquote class="lw lx ly"><p id="242a" class="jd je lz jf b jg kb ji jj jk kc jm jn ma kd jq jr mb ke ju jv mc kf jy jz ka hb bi translated">当 SIGSTOP 被发送到一个进程时，通常的行为是在当前状态下暂停该进程。只有向该进程发送 SIGCONT 信号，该进程才会恢复执行。SIGSTOP 和 SIGCONT 用于 Unix shell 中的作业控制，以及其他用途。SIGSTOP 不能被捕获或忽略。</p></blockquote><h1 id="cc47" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated"><strong class="ak">和信号控制:</strong></h1><figure class="kg kh ki kj fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es md"><img src="../Images/bc4cb1fe3a7728eefbf4299c692156e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gYS6m3uk13bWTB-L4ZMWMQ.png"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx translated">贷方:<a class="ae lu" href="https://turnoff.us/geek/dont-sigkill/" rel="noopener ugc nofollow" target="_blank"> <em class="lv">关闭. us </em> </a></figcaption></figure><blockquote class="lw lx ly"><p id="1341" class="jd je lz jf b jg kb ji jj jk kc jm jn ma kd jq jr mb ke ju jv mc kf jy jz ka hb bi translated"><em class="hi">当 SIGSTOP 或 SIGTSTP 被发送到一个进程时，通常的行为是将该进程暂停在其当前状态。</em></p><p id="2868" class="jd je lz jf b jg kb ji jj jk kc jm jn ma kd jq jr mb ke ju jv mc kf jy jz ka hb bi translated"><em class="hi">只有向进程发送 SIGCONT 信号，进程才会恢复执行。</em></p><p id="39fd" class="jd je lz jf b jg kb ji jj jk kc jm jn ma kd jq jr mb ke ju jv mc kf jy jz ka hb bi translated"><em class="hi"> SIGSTOP 和 SIGCONT 用于 Unix shell 中的作业控制，以及其他用途。</em></p></blockquote><p id="1eab" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">简而言之，SIGSTOP 告诉一个进程“坚持住”，SIGCONT 告诉一个进程“从你停止的地方继续”。这对于 rsync 作业非常有用，因为您可以暂停作业，在目标设备上清理一些空间，然后恢复作业。源 rsync 进程认为目标 rsync 进程花费了很长时间</p><p id="59d3" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated">回复。</p><p id="add3" class="pw-post-body-paragraph jd je hi jf b jg kb ji jj jk kc jm jn jo kd jq jr js ke ju jv jw kf jy jz ka hb bi translated"><strong class="jf hj">如何使用它们</strong></p><pre class="kg kh ki kj fd kk kl km kn aw ko bi"><span id="a753" class="kp ig hi kl b fi kq kr l ks kt">kill -SIGSTOP &lt;process_id&gt;<br/>kill -SIGCONT &lt;process_id&gt;</span></pre><h1 id="8d08" class="if ig hi bd ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc bi translated"><span class="l me mf mg bm mh mi mj mk ml di"> T </span> <strong class="ak">帽子所有乡亲… </strong></h1><p id="a226" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">如果你已经读到这里，那么…</p><figure class="kg kh ki kj fd lj er es paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="er es mm"><img src="../Images/dcf21bddde5fc157c9aac93e9c15ed20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Jf6hf9EonuGzdIN5JeZObQ.gif"/></div></div></figure></div></div>    
</body>
</html>