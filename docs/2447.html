<html>
<head>
<title>Cooldowns and cleanup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">冷却和清理</h1>
<blockquote>原文：<a href="https://medium.com/nerd-for-tech/cooldowns-and-cleanup-2d51b4df45ea?source=collection_archive---------21-----------------------#2021-05-06">https://medium.com/nerd-for-tech/cooldowns-and-cleanup-2d51b4df45ea?source=collection_archive---------21-----------------------#2021-05-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="ae54" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们将试着找出如何在我们的射速中实现一个冷却系统。这将使我们能够在我们的游戏中加入某种平衡控制，因为它可以防止人们尽可能多地撞击太空，以获得几乎直线的激光。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/9b7d301fa364c88e205cbefc08a31820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*35YOaesud9MiXuX3iQuyyQ.gif"/></div></div></figure><p id="3df8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从上面我们可以看到，以这样的速度拍摄看起来有点不现实。因此，我们必须想出一个办法，让冷却系统到位。我们将不得不查找一行代码。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/491d66ba04505f04801ee1c5c71223ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e9rPLghyQrvbPZju8zRE7g.png"/></div></div></figure><p id="8356" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">time.time 所做的是记录游戏已经运行了多长时间。如果它只运行了 30 秒，它会将其设置为 30，如果它已经运行了 10 分钟，它会将其设置为 600。现在，我们可以做的是回到我们的玩家脚本，并添加一些东西到我们的代码中，这样我们就可以检查以确保我们能够再次开火，因为足够的时间已经过去了。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jp"><img src="../Images/bd0ebffa310f61755db38bf6b6ad1adf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*4-JaBYNbSoFkUBnr2aRCBw.gif"/></div></div></figure><p id="4a51" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">正如我们从上面看到的，无论我多快地发射火钥匙，我们的激光只有在适当的时间过去后才会射出。至于我们需要使用的代码行，我们只需要创建几个私有的浮动来设置开火速度和开火次数。这些是我们希望能够发射的速度，我们可以调整到我们想要的速度，对于可以发射，我们设置了最低标准，这样当我们决定要发射时，我们就可以从时间中扣除时间段，以确定陈述是否正确。</p><h1 id="c3b1" class="jq jr hi bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">清理时间</h1><p id="b636" class="pw-post-body-paragraph if ig hi ih b ii ko ik il im kp io ip iq kq is it iu kr iw ix iy ks ja jb jc hb bi translated">既然我们已经完成了激光器的工作，我们应该着手清理我们的脚本了。</p><p id="74c0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">首先让我们看看我们的激光脚本:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kt"><img src="../Images/f41e94e812326bd94e05e8bac74d1369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Duk3UFu8Kzskkx36owDCbQ.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">清理前</figcaption></figure><p id="0d5e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">因为我们不需要激光破坏点的伪代码，或者我们脚本的 void start 部分，我们可以删除它:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kt"><img src="../Images/918024ac7016c09ebbe9198dd6cf1b28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kq4r6TzSTQ2YAX1jmX9bGw.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">清理后</figcaption></figure><p id="10f5" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在来看看我们的玩家脚本，在这里我们设置了激光发射机制:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kt"><img src="../Images/3dafc04ca32f3b4f04e6bc468946a7a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dA9H2xwcUmye5TiD3-fn8g.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">清理前</figcaption></figure><p id="a895" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">从这里我们可以看到，我们只需要删除一点点伪代码。同样，我们可以把我们的射击指令移到一个新的空区，就像我们对移动所做的那样，并且让我们的空区更新部分看起来更干净。至于我们如何让它看起来，有几个方法。我们可以在更新中保留 if 语句，并在它为真时调用我们的 FireLaser void。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kt"><img src="../Images/5e9dadc227f4e4abec1280bf499dd552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0czZOfau8oSLzYNvzS_xUw.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">选项 1</figcaption></figure><p id="1007" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">2)我们可以将整个语句移到下面，这样 FireLaser 就是 void update 部分中的唯一一行代码。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es kt"><img src="../Images/5fe91f3a403d52f2a7f548759528af28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qgJjvskJitWE262HSZnEvg.png"/></div></div><figcaption class="ku kv et er es kw kx bd b be z dx translated">选项 2</figcaption></figure><p id="d7b1" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">现在我们已经把这些都清理干净了，我们现在可以看看创造一些敌人让我们射击，以及如何把一些物理知识引入我们的游戏世界。</p></div></div>    
</body>
</html>